import{V as Qs,D as No,l as eu,y as tu,g as nu,_ as Cl,d as Ol,e as Sl,h as El,i as Al,c as wa,b as Pl,n as Tl,a as qr,w as jl,v as Dl,F as Rl,f as Ml,j as Xs,T as Ll,r as Bl,o as _a}from"./index.01706a06.js";var Fl=Object.getOwnPropertyNames,ru=(er,hr)=>function(){return hr||(0,er[Fl(er)[0]])((hr={exports:{}}).exports,hr),hr.exports};var Ca=ru({"node_modules/grapesjs/dist/grapes.min.js"(er,hr){(function(Cr,Ye){typeof er=="object"&&typeof hr=="object"?hr.exports=Ye():typeof define=="function"&&define.amd?define([],Ye):typeof er=="object"?er.grapesjs=Ye():Cr.grapesjs=Ye()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:er,()=>(()=>{var Cr={7757:(ge,ie,s)=>{ge.exports=s(5666)},3410:(ge,ie,s)=>{var O,H,A;H=[s(9050),s(2316)],O=function(p,k){var d=Array.prototype.slice;function S(D,L,I){return I.length<=4?D.call(L,I[0],I[1],I[2],I[3]):D.apply(L,I)}function x(D,L){return d.call(D,L)}function f(D,L){return D!=null&&(p.isArray(L)||(L=x(arguments,1)),p.all(L,function(I){return I in D}))}var l=function(){var D=!1,L=-1;function I(){L++,D=!0,p.defer(function(){D=!1})}return function(){return D||I(),L}}();function v(){this.registeredObjects=[],this.cidIndexes=[]}function w(D,L,I,re){for(var ne,z=0,Y=L.length;z<Y;z++)if(ne=L[z]){if(D==="on"){if(!re.objectRegistry.register(ne))continue}else if(!re.objectRegistry.unregister(ne))continue;p.isFunction(ne[D])&&ne[D]("all",I,re)}}function j(D,L){var I=L.type,re=L.undoTypes,ne=!re[I]||re[I][D];p.isFunction(ne)&&ne(L.object,L.before,L.after,L.options)}function B(D,L,I,re,ne){if(!(I.isCurrentlyUndoRedoing||D==="undo"&&I.pointer===-1||D==="redo"&&I.pointer===I.length-1)){I.isCurrentlyUndoRedoing=!0;var z,Y,u=D==="undo";for(ne?Y=u&&I.pointer===I.length-1||!u&&I.pointer===-1?p.clone(I.models):d.apply(I.models,u?[0,I.pointer]:[I.pointer,I.length-1]):(z=I.at(u?I.pointer:I.pointer+1),Y=re?I.where({magicFusionIndex:z.get("magicFusionIndex")}):[z]),I.pointer+=(u?-1:1)*Y.length;z=u?Y.pop():Y.shift();)z[D]();I.isCurrentlyUndoRedoing=!1,L.trigger(D,L)}}function Q(D,L){var I=D.condition,re=typeof I;return re==="function"?!!S(I,D,L):re!=="boolean"||I}function X(D,L,I,re){if(D.track&&!D.isCurrentlyUndoRedoing&&L in re&&Q(re[L],I)){var ne=S(re[L].on,re[L],I);if(f(ne,"object","before","after")){if(ne.type=L,ne.magicFusionIndex=l(),ne.undoTypes=re,D.pointer<D.length-1)for(var z=D.length-D.pointer-1;z--;)D.pop();D.pointer=D.length,D.add(ne),D.length>D.maximumStackLength&&(D.shift(),D.pointer--)}}}v.prototype={isRegistered:function(D){return D&&D.cid?this.registeredObjects[D.cid]:p.contains(this.registeredObjects,D)},register:function(D){return!this.isRegistered(D)&&(D&&D.cid?(this.registeredObjects[D.cid]=D,this.cidIndexes.push(D.cid)):this.registeredObjects.push(D),!0)},unregister:function(D){if(this.isRegistered(D)){if(D&&D.cid)delete this.registeredObjects[D.cid],this.cidIndexes.splice(p.indexOf(this.cidIndexes,D.cid),1);else{var L=p.indexOf(this.registeredObjects,D);this.registeredObjects.splice(L,1)}return!0}return!1},get:function(){return p.map(this.cidIndexes,function(D){return this.registeredObjects[D]},this).concat(this.registeredObjects)}};var te={add:{undo:function(D,L,I,re){D.remove(I,re)},redo:function(D,L,I,re){re.index&&(re.at=re.index),D.add(I,re)},on:function(D,L,I){return{object:L,before:void 0,after:D,options:p.clone(I)}}},remove:{undo:function(D,L,I,re){"index"in re&&(re.at=re.index),D.add(L,re)},redo:function(D,L,I,re){D.remove(L,re)},on:function(D,L,I){return{object:L,before:D,after:void 0,options:p.clone(I)}}},change:{undo:function(D,L,I,re){p.isEmpty(L)?p.each(p.keys(I),D.unset,D):(D.set(L),re&&re.unsetData&&re.unsetData.before&&re.unsetData.before.length&&p.each(re.unsetData.before,D.unset,D))},redo:function(D,L,I,re){p.isEmpty(I)?p.each(p.keys(L),D.unset,D):(D.set(I),re&&re.unsetData&&re.unsetData.after&&re.unsetData.after.length&&p.each(re.unsetData.after,D.unset,D))},on:function(D,L){var I=D.changedAttributes(),re=p.keys(I),ne=p.pick(D.previousAttributes(),re),z=p.keys(ne),Y=(L||(L={})).unsetData={after:[],before:[]};return re.length!=z.length&&(re.length>z.length?p.each(re,function(u){u in ne||Y.before.push(u)},this):p.each(z,function(u){u in I||Y.after.push(u)})),{object:D,before:ne,after:I,options:p.clone(L)}}},reset:{undo:function(D,L,I){D.reset(L)},redo:function(D,L,I){D.reset(I)},on:function(D,L){return{object:D,before:L.previousModels,after:p.clone(D.models)}}}};function J(){}function U(D,L,I,re){if(typeof L=="object")return p.each(L,function(ne,z){D===2?U(D,ne,I,re):U(D,z,ne,I)});switch(D){case 0:f(I,"undo","redo","on")&&p.all(p.pick(I,"undo","redo","on"),p.isFunction)&&(re[L]=I);break;case 1:re[L]&&p.isObject(I)&&(re[L]=p.extend({},re[L],I));break;case 2:delete re[L]}return this}J.prototype=te;var se=k.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(D){j("undo",this.attributes)},redo:function(D){j("redo",this.attributes)}}),me=k.Collection.extend({model:se,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(D){this.maximumStackLength=D}}),ce=k.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(D){this.stack=new me,this.objectRegistry=new v,this.undoTypes=new J,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(L,I){this.stack.setMaxLength(I)},this),D&&D.track&&this.startTracking(),D&&D.register&&(p.isArray(D.register)||p.isArguments(D.register)?S(this.register,this,D.register):this.register(D.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(D){X(this.stack,D,x(arguments,1),this.undoTypes)},register:function(){w("on",arguments,this._addToStack,this)},unregister:function(){w("off",arguments,this._addToStack,this)},unregisterAll:function(){S(this.unregister,this,this.objectRegistry.get())},undo:function(D){B("undo",this,this.stack,D)},undoAll:function(){B("undo",this,this.stack,!1,!0)},redo:function(D){B("redo",this,this.stack,D)},redoAll:function(){B("redo",this,this.stack,!1,!0)},isAvailable:function(D){var L=this.stack,I=L.length;switch(D){case"undo":return I>0&&L.pointer>-1;case"redo":return I>0&&L.pointer<I-1;default:return!1}},merge:function(D){for(var L,I=p.isArray(D)?D:x(arguments);L=I.pop();)L instanceof ce&&L.stack instanceof me&&(L.stack=this.stack)},addUndoType:function(D,L){U(0,D,L,this.undoTypes)},changeUndoType:function(D,L){U(1,D,L,this.undoTypes)},removeUndoType:function(D){U(2,D,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return p.extend(ce,{defaults:function(D){p.extend(ce.prototype.defaults,D)},addUndoType:function(D,L){U(0,D,L,te)},changeUndoType:function(D,L){U(1,D,L,te)},removeUndoType:function(D){U(2,D,void 0,te)}}),k.UndoManager=ce},(A=typeof O=="function"?O.apply(ie,H):O)===void 0||(ge.exports=A)},2316:(ge,ie,s)=>{var O,H,A;A=typeof self=="object"&&self.self===self&&self||typeof s.g=="object"&&s.g.global===s.g&&s.g,O=[s(9050),s(2579),ie],H=function(p,k,d){A.Backbone=function(S,x,f,l){var v=S.Backbone,w=Array.prototype.slice;x.VERSION="1.3.3",x.$=l,x.noConflict=function(){return S.Backbone=v,this},x.emulateHTTP=!1,x.emulateJSON=!1;var j=function(E,R,ue){switch(E){case 1:return function(){return f[R](this[ue])};case 2:return function(be){return f[R](this[ue],be)};case 3:return function(be,N){return f[R](this[ue],Q(be,this),N)};case 4:return function(be,N,oe){return f[R](this[ue],Q(be,this),N,oe)};default:return function(){var be=w.call(arguments);return be.unshift(this[ue]),f[R].apply(f,be)}}},B=function(E,R,ue){f.each(R,function(be,N){f[N]&&(E.prototype[N]=j(be,N,ue))})},Q=function(E,R){return f.isFunction(E)?E:f.isObject(E)&&!R._isModel(E)?X(E):f.isString(E)?function(ue){return ue.get(E)}:E},X=function(E){var R=f.matches(E);return function(ue){return R(ue.attributes)}},te=x.Events={},J=/\s+/,U=function(E,R,ue,be,N){var oe,de=0;if(ue&&typeof ue=="object")for(be!==void 0&&("context"in N)&&N.context===void 0&&(N.context=be),oe=f.keys(ue);de<oe.length;de++)R=U(E,R,oe[de],ue[oe[de]],N);else if(ue&&J.test(ue))for(oe=ue.split(J);de<oe.length;de++)R=E(R,oe[de],be,N);else R=E(R,ue,be,N);return R};te.on=function(E,R,ue){return se(this,E,R,ue)};var se=function(E,R,ue,be,N){return E._events=U(me,E._events||{},R,ue,{context:be,ctx:E,listening:N}),N&&((E._listeners||(E._listeners={}))[N.id]=N),E};te.listenTo=function(E,R,ue){if(!E)return this;var be=E._listenId||(E._listenId=f.uniqueId("l")),N=this._listeningTo||(this._listeningTo={}),oe=N[be];if(!oe){var de=this._listenId||(this._listenId=f.uniqueId("l"));oe=N[be]={obj:E,objId:be,id:de,listeningTo:N,count:0}}return se(E,R,ue,this,oe),this};var me=function(E,R,ue,be){if(ue){var N=E[R]||(E[R]=[]),oe=be.context,de=be.ctx,Ce=be.listening;Ce&&Ce.count++,N.push({callback:ue,context:oe,ctx:oe||de,listening:Ce})}return E};te.off=function(E,R,ue){return this._events?(this._events=U(ce,this._events,E,R,{context:ue,listeners:this._listeners}),this):this},te.stopListening=function(E,R,ue){var be=this._listeningTo;if(!be)return this;for(var N=E?[E._listenId]:f.keys(be),oe=0;oe<N.length;oe++){var de=be[N[oe]];if(!de)break;de.obj.off(R,ue,this)}return this};var ce=function(E,R,ue,be){if(E){var N,oe=0,de=be.context,Ce=be.listeners;if(R||ue||de){for(var we=R?[R]:f.keys(E);oe<we.length;oe++){var Ae=E[R=we[oe]];if(!Ae)break;for(var _e=[],Ne=0;Ne<Ae.length;Ne++){var Je=Ae[Ne];ue&&ue!==Je.callback&&ue!==Je.callback._callback||de&&de!==Je.context?_e.push(Je):(N=Je.listening)&&--N.count==0&&(delete Ce[N.id],delete N.listeningTo[N.objId])}_e.length?E[R]=_e:delete E[R]}return E}for(var tt=f.keys(Ce);oe<tt.length;oe++)delete Ce[(N=Ce[tt[oe]]).id],delete N.listeningTo[N.objId]}};te.once=function(E,R,ue){var be=U(D,{},E,R,f.bind(this.off,this));return typeof E=="string"&&ue==null&&(R=void 0),this.on(be,R,ue)},te.listenToOnce=function(E,R,ue){var be=U(D,{},R,ue,f.bind(this.stopListening,this,E));return this.listenTo(E,be)};var D=function(E,R,ue,be){if(ue){var N=E[R]=f.once(function(){be(R,N),ue.apply(this,arguments)});N._callback=ue}return E};te.trigger=function(E){if(!this._events)return this;for(var R=Math.max(0,arguments.length-1),ue=Array(R),be=0;be<R;be++)ue[be]=arguments[be+1];return U(L,this._events,E,void 0,ue),this};var L=function(E,R,ue,be){if(E){var N=E[R],oe=E.all;N&&oe&&(oe=oe.slice()),N&&I(N,be),oe&&I(oe,[R].concat(be))}return E},I=function(E,R){var ue,be=-1,N=E.length,oe=R[0],de=R[1],Ce=R[2];switch(R.length){case 0:for(;++be<N;)(ue=E[be]).callback.call(ue.ctx);return;case 1:for(;++be<N;)(ue=E[be]).callback.call(ue.ctx,oe);return;case 2:for(;++be<N;)(ue=E[be]).callback.call(ue.ctx,oe,de);return;case 3:for(;++be<N;)(ue=E[be]).callback.call(ue.ctx,oe,de,Ce);return;default:for(;++be<N;)(ue=E[be]).callback.apply(ue.ctx,R);return}};te.bind=te.on,te.unbind=te.off,f.extend(x,te);var re=x.Model=function(E,R){var ue=E||{};R||(R={}),this.cid=f.uniqueId(this.cidPrefix),this.attributes={},R.collection&&(this.collection=R.collection),R.parse&&(ue=this.parse(ue,R)||{});var be=f.result(this,"defaults");ue=f.defaults(f.extend({},be,ue),be),this.set(ue,R),this.changed={},this.initialize.apply(this,arguments)};f.extend(re.prototype,te,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(E){return f.clone(this.attributes)},sync:function(){return x.sync.apply(this,arguments)},get:function(E){return this.attributes[E]},escape:function(E){return f.escape(this.get(E))},has:function(E){return this.get(E)!=null},matches:function(E){return!!f.iteratee(E,this)(this.attributes)},set:function(E,R,ue){if(E==null)return this;var be;if(typeof E=="object"?(be=E,ue=R):(be={})[E]=R,ue||(ue={}),!this._validate(be,ue))return!1;var N=ue.unset,oe=ue.silent,de=[],Ce=this._changing;this._changing=!0,Ce||(this._previousAttributes=f.clone(this.attributes),this.changed={});var we=this.attributes,Ae=this.changed,_e=this._previousAttributes;for(var Ne in be)R=be[Ne],f.isEqual(we[Ne],R)||de.push(Ne),f.isEqual(_e[Ne],R)?delete Ae[Ne]:Ae[Ne]=R,N?delete we[Ne]:we[Ne]=R;if(this.idAttribute in be&&(this.id=this.get(this.idAttribute)),!oe){de.length&&(this._pending=ue);for(var Je=0;Je<de.length;Je++)this.trigger("change:"+de[Je],this,we[de[Je]],ue)}if(Ce)return this;if(!oe)for(;this._pending;)ue=this._pending,this._pending=!1,this.trigger("change",this,ue);return this._pending=!1,this._changing=!1,this},unset:function(E,R){return this.set(E,void 0,f.extend({},R,{unset:!0}))},clear:function(E){var R={};for(var ue in this.attributes)R[ue]=void 0;return this.set(R,f.extend({},E,{unset:!0}))},hasChanged:function(E){return E==null?!f.isEmpty(this.changed):f.has(this.changed,E)},changedAttributes:function(E){if(!E)return!!this.hasChanged()&&f.clone(this.changed);var R=this._changing?this._previousAttributes:this.attributes,ue={};for(var be in E){var N=E[be];f.isEqual(R[be],N)||(ue[be]=N)}return!!f.size(ue)&&ue},previous:function(E){return E!=null&&this._previousAttributes?this._previousAttributes[E]:null},previousAttributes:function(){return f.clone(this._previousAttributes)},fetch:function(E){E=f.extend({parse:!0},E);var R=this,ue=E.success;return E.success=function(be){var N=E.parse?R.parse(be,E):be;if(!R.set(N,E))return!1;ue&&ue.call(E.context,R,be,E),R.trigger("sync",R,be,E)},q(this,E),this.sync("read",this,E)},save:function(E,R,ue){var be;E==null||typeof E=="object"?(be=E,ue=R):(be={})[E]=R;var N=(ue=f.extend({validate:!0,parse:!0},ue)).wait;if(be&&!N){if(!this.set(be,ue))return!1}else if(!this._validate(be,ue))return!1;var oe=this,de=ue.success,Ce=this.attributes;ue.success=function(_e){oe.attributes=Ce;var Ne=ue.parse?oe.parse(_e,ue):_e;if(N&&(Ne=f.extend({},be,Ne)),Ne&&!oe.set(Ne,ue))return!1;de&&de.call(ue.context,oe,_e,ue),oe.trigger("sync",oe,_e,ue)},q(this,ue),be&&N&&(this.attributes=f.extend({},Ce,be));var we=this.isNew()?"create":ue.patch?"patch":"update";we!=="patch"||ue.attrs||(ue.attrs=be);var Ae=this.sync(we,this,ue);return this.attributes=Ce,Ae},destroy:function(E){E=E?f.clone(E):{};var R=this,ue=E.success,be=E.wait,N=function(){R.stopListening(),R.trigger("destroy",R,R.collection,E)};E.success=function(de){be&&N(),ue&&ue.call(E.context,R,de,E),R.isNew()||R.trigger("sync",R,de,E)};var oe=!1;return this.isNew()?f.defer(E.success):(q(this,E),oe=this.sync("delete",this,E)),be||N(),oe},url:function(){var E=f.result(this,"urlRoot")||f.result(this.collection,"url")||ee();if(this.isNew())return E;var R=this.get(this.idAttribute);return E.replace(/[^\/]$/,"$&/")+encodeURIComponent(R)},parse:function(E,R){return E},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(E){return this._validate({},f.extend({},E,{validate:!0}))},_validate:function(E,R){if(!R.validate||!this.validate)return!0;E=f.extend({},this.attributes,E);var ue=this.validationError=this.validate(E,R)||null;return!ue||(this.trigger("invalid",this,ue,f.extend(R,{validationError:ue})),!1)}}),B(re,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var ne=x.Collection=function(E,R){R||(R={}),R.model&&(this.model=R.model),R.comparator!==void 0&&(this.comparator=R.comparator),this._reset(),this.initialize.apply(this,arguments),E&&this.reset(E,f.extend({silent:!0},R))},z={add:!0,remove:!0,merge:!0},Y={add:!0,remove:!1},u=function(E,R,ue){ue=Math.min(Math.max(ue,0),E.length);var be,N=Array(E.length-ue),oe=R.length;for(be=0;be<N.length;be++)N[be]=E[be+ue];for(be=0;be<oe;be++)E[be+ue]=R[be];for(be=0;be<N.length;be++)E[be+oe+ue]=N[be]};f.extend(ne.prototype,te,{model:re,initialize:function(){},toJSON:function(E){return this.map(function(R){return R.toJSON(E)})},sync:function(){return x.sync.apply(this,arguments)},add:function(E,R){return this.set(E,f.extend({merge:!1},R,Y))},remove:function(E,R){R=f.extend({},R);var ue=!f.isArray(E);E=ue?[E]:E.slice();var be=this._removeModels(E,R);return!R.silent&&be.length&&(R.changes={added:[],merged:[],removed:be},this.trigger("update",this,R)),ue?be[0]:be},set:function(E,R){if(E!=null){(R=f.extend({},z,R)).parse&&!this._isModel(E)&&(E=this.parse(E,R)||[]);var ue=!f.isArray(E);E=ue?[E]:E.slice();var be=R.at;be!=null&&(be=+be),be>this.length&&(be=this.length),be<0&&(be+=this.length+1);var N,oe,de=[],Ce=[],we=[],Ae=[],_e={},Ne=R.add,Je=R.merge,tt=R.remove,gt=!1,lt=this.comparator&&be==null&&R.sort!==!1,Zt=f.isString(this.comparator)?this.comparator:null;for(oe=0;oe<E.length;oe++){N=E[oe];var Lt=this.get(N);if(Lt){if(Je&&N!==Lt){var It=this._isModel(N)?N.attributes:N;R.parse&&(It=Lt.parse(It,R)),Lt.set(It,R),we.push(Lt),lt&&!gt&&(gt=Lt.hasChanged(Zt))}_e[Lt.cid]||(_e[Lt.cid]=!0,de.push(Lt)),E[oe]=Lt}else Ne&&(N=E[oe]=this._prepareModel(N,R))&&(Ce.push(N),this._addReference(N,R),_e[N.cid]=!0,de.push(N))}if(tt){for(oe=0;oe<this.length;oe++)_e[(N=this.models[oe]).cid]||Ae.push(N);Ae.length&&this._removeModels(Ae,R)}var Ve=!1,je=!lt&&Ne&&tt;if(de.length&&je?(Ve=this.length!==de.length||f.some(this.models,function(Fe,We){return Fe!==de[We]}),this.models.length=0,u(this.models,de,0),this.length=this.models.length):Ce.length&&(lt&&(gt=!0),u(this.models,Ce,be==null?this.length:be),this.length=this.models.length),gt&&this.sort({silent:!0}),!R.silent){for(oe=0;oe<Ce.length;oe++)be!=null&&(R.index=be+oe),(N=Ce[oe]).trigger("add",N,this,R);(gt||Ve)&&this.trigger("sort",this,R),(Ce.length||Ae.length||we.length)&&(R.changes={added:Ce,removed:Ae,merged:we},this.trigger("update",this,R))}return ue?E[0]:E}},reset:function(E,R){R=R?f.clone(R):{};for(var ue=0;ue<this.models.length;ue++)this._removeReference(this.models[ue],R);return R.previousModels=this.models,this._reset(),E=this.add(E,f.extend({silent:!0},R)),R.silent||this.trigger("reset",this,R),E},push:function(E,R){return this.add(E,f.extend({at:this.length},R))},pop:function(E){var R=this.at(this.length-1);return this.remove(R,E)},unshift:function(E,R){return this.add(E,f.extend({at:0},R))},shift:function(E){var R=this.at(0);return this.remove(R,E)},slice:function(){return w.apply(this.models,arguments)},get:function(E){if(E!=null)return this._byId[E]||this._byId[this.modelId(E.attributes||E)]||E.cid&&this._byId[E.cid]},has:function(E){return this.get(E)!=null},at:function(E){return E<0&&(E+=this.length),this.models[E]},where:function(E,R){return this[R?"find":"filter"](E)},findWhere:function(E){return this.where(E,!0)},sort:function(E){var R=this.comparator;if(!R)throw new Error("Cannot sort a set without a comparator");E||(E={});var ue=R.length;return f.isFunction(R)&&(R=f.bind(R,this)),ue===1||f.isString(R)?this.models=this.sortBy(R):this.models.sort(R),E.silent||this.trigger("sort",this,E),this},pluck:function(E){return this.map(E+"")},fetch:function(E){var R=(E=f.extend({parse:!0},E)).success,ue=this;return E.success=function(be){var N=E.reset?"reset":"set";ue[N](be,E),R&&R.call(E.context,ue,be,E),ue.trigger("sync",ue,be,E)},q(this,E),this.sync("read",this,E)},create:function(E,R){var ue=(R=R?f.clone(R):{}).wait;if(!(E=this._prepareModel(E,R)))return!1;ue||this.add(E,R);var be=this,N=R.success;return R.success=function(oe,de,Ce){ue&&be.add(oe,Ce),N&&N.call(Ce.context,oe,de,Ce)},E.save(null,R),E},parse:function(E,R){return E},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(E){return E[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(E,R){if(this._isModel(E))return E.collection||(E.collection=this),E;(R=R?f.clone(R):{}).collection=this;var ue=new this.model(E,R);return ue.validationError?(this.trigger("invalid",this,ue.validationError,R),!1):ue},_removeModels:function(E,R){for(var ue=[],be=0;be<E.length;be++){var N=this.get(E[be]);if(N){var oe=this.indexOf(N);this.models.splice(oe,1),this.length--,delete this._byId[N.cid];var de=this.modelId(N.attributes);de!=null&&delete this._byId[de],R.silent||(R.index=oe,N.trigger("remove",N,this,R)),ue.push(N),this._removeReference(N,R)}}return ue},_isModel:function(E){return E instanceof re},_addReference:function(E,R){this._byId[E.cid]=E;var ue=this.modelId(E.attributes);ue!=null&&(this._byId[ue]=E),E.on("all",this._onModelEvent,this)},_removeReference:function(E,R){delete this._byId[E.cid];var ue=this.modelId(E.attributes);ue!=null&&delete this._byId[ue],this===E.collection&&delete E.collection,E.off("all",this._onModelEvent,this)},_onModelEvent:function(E,R,ue,be){if(R){if((E==="add"||E==="remove")&&ue!==this)return;if(E==="destroy"&&this.remove(R,be),E==="change"){var N=this.modelId(R.previousAttributes()),oe=this.modelId(R.attributes);N!==oe&&(N!=null&&delete this._byId[N],oe!=null&&(this._byId[oe]=R))}}this.trigger.apply(this,arguments)}}),B(ne,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var y=x.View=function(E){this.cid=f.uniqueId("view"),f.extend(this,f.pick(E,m)),this._ensureElement(),this.initialize.apply(this,arguments)},g=/^(\S+)\s*(.*)$/,m=["model","collection","el","id","attributes","className","tagName","events"];f.extend(y.prototype,te,{tagName:"div",$:function(E){return this.$el.find(E)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(E){return this.undelegateEvents(),this._setElement(E),this.delegateEvents(),this},_setElement:function(E){this.$el=E instanceof x.$?E:x.$(E),this.el=this.$el[0]},delegateEvents:function(E){if(E||(E=f.result(this,"events")),!E)return this;for(var R in this.undelegateEvents(),E){var ue=E[R];if(f.isFunction(ue)||(ue=this[ue]),ue){var be=R.match(g);this.delegate(be[1],be[2],f.bind(ue,this))}}return this},delegate:function(E,R,ue){return this.$el.on(E+".delegateEvents"+this.cid,R,ue),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(E,R,ue){return this.$el.off(E+".delegateEvents"+this.cid,R,ue),this},_createElement:function(E){return document.createElement(E)},_ensureElement:function(){if(this.el)this.setElement(f.result(this,"el"));else{var E=f.extend({},f.result(this,"attributes"));this.id&&(E.id=f.result(this,"id")),this.className&&(E.class=f.result(this,"className")),this.setElement(this._createElement(f.result(this,"tagName"))),this._setAttributes(E)}},_setAttributes:function(E){this.$el.attr(E)}}),x.sync=function(E,R,ue){var be=$[E];f.defaults(ue||(ue={}),{emulateHTTP:x.emulateHTTP,emulateJSON:x.emulateJSON});var N={type:be,dataType:"json"};if(ue.url||(N.url=f.result(R,"url")||ee()),ue.data!=null||!R||E!=="create"&&E!=="update"&&E!=="patch"||(N.contentType="application/json",N.data=JSON.stringify(ue.attrs||R.toJSON(ue))),ue.emulateJSON&&(N.contentType="application/x-www-form-urlencoded",N.data=N.data?{model:N.data}:{}),ue.emulateHTTP&&(be==="PUT"||be==="DELETE"||be==="PATCH")){N.type="POST",ue.emulateJSON&&(N.data._method=be);var oe=ue.beforeSend;ue.beforeSend=function(we){if(we.setRequestHeader("X-HTTP-Method-Override",be),oe)return oe.apply(this,arguments)}}N.type==="GET"||ue.emulateJSON||(N.processData=!1);var de=ue.error;ue.error=function(we,Ae,_e){ue.textStatus=Ae,ue.errorThrown=_e,de&&de.call(ue.context,we,Ae,_e)};var Ce=ue.xhr=x.ajax(f.extend(N,ue));return R.trigger("request",R,Ce,ue),Ce};var $={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};x.ajax=function(){return x.$.ajax.apply(x.$,arguments)};var ae=x.Router=function(E){E||(E={}),E.routes&&(this.routes=E.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},K=/\((.*?)\)/g,F=/(\(\?)?:\w+/g,b=/\*\w+/g,h=/[\-{}\[\]+?.,\\\^$|#\s]/g;f.extend(ae.prototype,te,{initialize:function(){},route:function(E,R,ue){f.isRegExp(E)||(E=this._routeToRegExp(E)),f.isFunction(R)&&(ue=R,R=""),ue||(ue=this[R]);var be=this;return x.history.route(E,function(N){var oe=be._extractParameters(E,N);be.execute(ue,oe,R)!==!1&&(be.trigger.apply(be,["route:"+R].concat(oe)),be.trigger("route",R,oe),x.history.trigger("route",be,R,oe))}),this},execute:function(E,R,ue){E&&E.apply(this,R)},navigate:function(E,R){return x.history.navigate(E,R),this},_bindRoutes:function(){if(this.routes){this.routes=f.result(this,"routes");for(var E,R=f.keys(this.routes);(E=R.pop())!=null;)this.route(E,this.routes[E])}},_routeToRegExp:function(E){return E=E.replace(h,"\\$&").replace(K,"(?:$1)?").replace(F,function(R,ue){return ue?R:"([^/?]+)"}).replace(b,"([^?]*?)"),new RegExp("^"+E+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(E,R){var ue=E.exec(R).slice(1);return f.map(ue,function(be,N){return N===ue.length-1?be||null:be?decodeURIComponent(be):null})}});var V=x.History=function(){this.handlers=[],this.checkUrl=f.bind(this.checkUrl,this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},M=/^[#\/]|\s+$/g,T=/^\/+|\/+$/g,P=/#.*$/;V.started=!1,f.extend(V.prototype,te,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(E){return decodeURI(E.replace(/%25/g,"%2525"))},getSearch:function(){var E=this.location.href.replace(/#.*/,"").match(/\?.+/);return E?E[0]:""},getHash:function(E){var R=(E||this).location.href.match(/#(.*)$/);return R?R[1]:""},getPath:function(){var E=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return E.charAt(0)==="/"?E.slice(1):E},getFragment:function(E){return E==null&&(E=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),E.replace(M,"")},start:function(E){if(V.started)throw new Error("Backbone.history has already been started");if(V.started=!0,this.options=f.extend({root:"/"},this.options,E),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(T,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var R=this.root.slice(0,-1)||"/";return this.location.replace(R+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var ue=document.body,be=ue.insertBefore(this.iframe,ue.firstChild).contentWindow;be.document.open(),be.document.close(),be.location.hash="#"+this.fragment}var N=window.addEventListener||function(oe,de){return attachEvent("on"+oe,de)};if(this._usePushState?N("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?N("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var E=window.removeEventListener||function(R,ue){return detachEvent("on"+R,ue)};this._usePushState?E("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&E("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),V.started=!1},route:function(E,R){this.handlers.unshift({route:E,callback:R})},checkUrl:function(E){var R=this.getFragment();if(R===this.fragment&&this.iframe&&(R=this.getHash(this.iframe.contentWindow)),R===this.fragment)return!1;this.iframe&&this.navigate(R),this.loadUrl()},loadUrl:function(E){return!!this.matchRoot()&&(E=this.fragment=this.getFragment(E),f.some(this.handlers,function(R){if(R.route.test(E))return R.callback(E),!0}))},navigate:function(E,R){if(!V.started)return!1;R&&R!==!0||(R={trigger:!!R}),E=this.getFragment(E||"");var ue=this.root;E!==""&&E.charAt(0)!=="?"||(ue=ue.slice(0,-1)||"/");var be=ue+E;if(E=this.decodeFragment(E.replace(P,"")),this.fragment!==E){if(this.fragment=E,this._usePushState)this.history[R.replace?"replaceState":"pushState"]({},document.title,be);else{if(!this._wantsHashChange)return this.location.assign(be);if(this._updateHash(this.location,E,R.replace),this.iframe&&E!==this.getHash(this.iframe.contentWindow)){var N=this.iframe.contentWindow;R.replace||(N.document.open(),N.document.close()),this._updateHash(N.location,E,R.replace)}}return R.trigger?this.loadUrl(E):void 0}},_updateHash:function(E,R,ue){if(ue){var be=E.href.replace(/(javascript:|#).*$/,"");E.replace(be+"#"+R)}else E.hash="#"+R}}),x.history=new V;var c=function(E,R){var ue,be=this;return ue=E&&f.has(E,"constructor")?E.constructor:function(){return be.apply(this,arguments)},f.extend(ue,be,R),ue.prototype=f.create(be.prototype,E),ue.prototype.constructor=ue,ue.__super__=be.prototype,ue};re.extend=ne.extend=ae.extend=y.extend=V.extend=c;var ee=function(){throw new Error('A "url" property or function must be specified')},q=function(E,R){var ue=R.error;R.error=function(be){ue&&ue.call(R.context,E,be,R),E.trigger("error",E,be,R)}};return x}(A,d,p,k)}.apply(ie,O),H===void 0||(ge.exports=H)},9210:(ge,ie,s)=>{(function(O){O.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(A,p){return/^[;{}]$/.test(p)}}),O.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(A,p,k,d){return this.jsonMode?/^[\[,{]$/.test(p)||/^}/.test(k):(p!=";"||!d.lexical||d.lexical.type!=")")&&/^[;{}]$/.test(p)&&!/^;/.test(k)}});var H=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;O.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(A,p,k,d){var S=!1;return this.configuration=="html"&&(S=!!d.context&&H.test(d.context.tagName)),!S&&(A=="tag"&&/>$/.test(p)&&d.context||/^</.test(k))}}),O.defineExtension("commentRange",function(A,p,k){var d=this,S=O.innerMode(d.getMode(),d.getTokenAt(p).state).mode;d.operation(function(){if(A)d.replaceRange(S.commentEnd,k),d.replaceRange(S.commentStart,p),p.line==k.line&&p.ch==k.ch&&d.setCursor(p.line,p.ch+S.commentStart.length);else{var x=d.getRange(p,k),f=x.indexOf(S.commentStart),l=x.lastIndexOf(S.commentEnd);f>-1&&l>-1&&l>f&&(x=x.substr(0,f)+x.substring(f+S.commentStart.length,l)+x.substr(l+S.commentEnd.length)),d.replaceRange(x,p,k)}})}),O.defineExtension("autoIndentRange",function(A,p){var k=this;this.operation(function(){for(var d=A.line;d<=p.line;d++)k.indentLine(d,"smart")})}),O.defineExtension("autoFormatRange",function(A,p){var k=this,d=k.getMode(),S=k.getRange(A,p).split(`
`),x=O.copyState(d,k.getTokenAt(A).state),f=k.getOption("tabSize"),l="",v=0,w=A.ch===0;function j(){l+=`
`,w=!0,++v}for(var B=0;B<S.length;++B){for(var Q=new O.StringStream(S[B],f);!Q.eol();){var X=O.innerMode(d,x),te=d.token(Q,x),J=Q.current();Q.start=Q.pos,w&&!/\S/.test(J)||(l+=J,w=!1),!w&&X.mode.newlineAfterToken&&X.mode.newlineAfterToken(te,J,Q.string.slice(Q.pos)||S[B+1]||"",X.state)&&j()}!Q.pos&&d.blankLine&&d.blankLine(x),!w&&B<S.length-1&&j()}k.operation(function(){k.replaceRange(l,A,p);for(var U=A.line+1,se=A.line+v;U<=se;++U)k.indentLine(U,"smart");k.setSelection(A,k.getCursor(!1))})})})(s(4631))},4631:function(ge){ge.exports=function(){var ie=navigator.userAgent,s=navigator.platform,O=/gecko\/\d/i.test(ie),H=/MSIE \d/.test(ie),A=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ie),p=/Edge\/(\d+)/.exec(ie),k=H||A||p,d=k&&(H?document.documentMode||6:+(p||A)[1]),S=!p&&/WebKit\//.test(ie),x=S&&/Qt\/\d+\.\d+/.test(ie),f=!p&&/Chrome\//.test(ie),l=/Opera\//.test(ie),v=/Apple Computer/.test(navigator.vendor),w=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ie),j=/PhantomJS/.test(ie),B=v&&(/Mobile\/\w+/.test(ie)||navigator.maxTouchPoints>2),Q=/Android/.test(ie),X=B||Q||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ie),te=B||/Mac/.test(s),J=/\bCrOS\b/.test(ie),U=/win/i.test(s),se=l&&ie.match(/Version\/(\d*\.\d*)/);se&&(se=Number(se[1])),se&&se>=15&&(l=!1,S=!0);var me=te&&(x||l&&(se==null||se<12.11)),ce=O||k&&d>=9;function D(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var L,I=function(e,t){var r=e.className,n=D(t).exec(r);if(n){var a=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(a?n[1]+a:"")}};function re(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function ne(e,t){return re(e).appendChild(t)}function z(e,t,r,n){var a=document.createElement(e);if(r&&(a.className=r),n&&(a.style.cssText=n),typeof t=="string")a.appendChild(document.createTextNode(t));else if(t)for(var Z=0;Z<t.length;++Z)a.appendChild(t[Z]);return a}function Y(e,t,r,n){var a=z(e,t,r,n);return a.setAttribute("role","presentation"),a}function u(e,t){if(t.nodeType==3&&(t=t.parentNode),e.contains)return e.contains(t);do if(t.nodeType==11&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function y(){var e;try{e=document.activeElement}catch{e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function g(e,t){var r=e.className;D(t).test(r)||(e.className+=(r?" ":"")+t)}function m(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!D(r[n]).test(t)&&(t+=" "+r[n]);return t}L=document.createRange?function(e,t,r,n){var a=document.createRange();return a.setEnd(n||e,r),a.setStart(e,t),a}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch{return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var $=function(e){e.select()};function ae(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function K(e,t,r){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||r===!1&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function F(e,t,r,n,a){t==null&&(t=e.search(/[^\s\u00a0]/))==-1&&(t=e.length);for(var Z=n||0,pe=a||0;;){var ve=e.indexOf("	",Z);if(ve<0||ve>=t)return pe+(t-Z);pe+=ve-Z,pe+=r-pe%r,Z=ve+1}}B?$=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:k&&($=function(e){try{e.select()}catch{}});var b=function(){this.id=null,this.f=null,this.time=0,this.handler=ae(this.onTimeout,this)};function h(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}b.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},b.prototype.set=function(e,t){this.f=t;var r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)};var V=50,M={toString:function(){return"CodeMirror.Pass"}},T={scroll:!1},P={origin:"*mouse"},c={origin:"+move"};function ee(e,t,r){for(var n=0,a=0;;){var Z=e.indexOf("	",n);Z==-1&&(Z=e.length);var pe=Z-n;if(Z==e.length||a+pe>=t)return n+Math.min(pe,t-a);if(a+=Z-n,n=Z+1,(a+=r-a%r)>=t)return n}}var q=[""];function E(e){for(;q.length<=e;)q.push(R(q)+" ");return q[e]}function R(e){return e[e.length-1]}function ue(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function be(e,t,r){for(var n=0,a=r(t);n<e.length&&r(e[n])<=a;)n++;e.splice(n,0,t)}function N(){}function oe(e,t){var r;return Object.create?r=Object.create(e):(N.prototype=e,r=new N),t&&K(t,r),r}var de=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Ce(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||de.test(e))}function we(e,t){return t?!!(t.source.indexOf("\\w")>-1&&Ce(e))||t.test(e):Ce(e)}function Ae(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var _e=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Ne(e){return e.charCodeAt(0)>=768&&_e.test(e)}function Je(e,t,r){for(;(r<0?t>0:t<e.length)&&Ne(e.charAt(t));)t+=r;return t}function tt(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var a=(t+r)/2,Z=n<0?Math.ceil(a):Math.floor(a);if(Z==t)return e(Z)?t:r;e(Z)?r=Z:t=Z+n}}function gt(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var a=!1,Z=0;Z<e.length;++Z){var pe=e[Z];(pe.from<r&&pe.to>t||t==r&&pe.to==t)&&(n(Math.max(pe.from,t),Math.min(pe.to,r),pe.level==1?"rtl":"ltr",Z),a=!0)}a||n(t,r,"ltr")}var lt=null;function Zt(e,t,r){var n;lt=null;for(var a=0;a<e.length;++a){var Z=e[a];if(Z.from<t&&Z.to>t)return a;Z.to==t&&(Z.from!=Z.to&&r=="before"?n=a:lt=a),Z.from==t&&(Z.from!=Z.to&&r!="before"?n=a:lt=a)}return n!=null?n:lt}var Lt=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function r(Pe){return Pe<=247?e.charAt(Pe):1424<=Pe&&Pe<=1524?"R":1536<=Pe&&Pe<=1785?t.charAt(Pe-1536):1774<=Pe&&Pe<=2220?"r":8192<=Pe&&Pe<=8203?"w":Pe==8204?"b":"L"}var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,a=/[stwN]/,Z=/[LRr]/,pe=/[Lb1n]/,ve=/[1n]/;function Ee(Pe,He,ze){this.level=Pe,this.from=He,this.to=ze}return function(Pe,He){var ze=He=="ltr"?"L":"R";if(Pe.length==0||He=="ltr"&&!n.test(Pe))return!1;for(var st=Pe.length,ut=[],wt=0;wt<st;++wt)ut.push(r(Pe.charCodeAt(wt)));for(var jt=0,Vt=ze;jt<st;++jt){var rn=ut[jt];rn=="m"?ut[jt]=Vt:Vt=rn}for(var pn=0,qt=ze;pn<st;++pn){var yn=ut[pn];yn=="1"&&qt=="r"?ut[pn]="n":Z.test(yn)&&(qt=yn,yn=="r"&&(ut[pn]="R"))}for(var mn=1,xn=ut[0];mn<st-1;++mn){var or=ut[mn];or=="+"&&xn=="1"&&ut[mn+1]=="1"?ut[mn]="1":or!=","||xn!=ut[mn+1]||xn!="1"&&xn!="n"||(ut[mn]=xn),xn=or}for(var ar=0;ar<st;++ar){var Mr=ut[ar];if(Mr==",")ut[ar]="N";else if(Mr=="%"){var lr=void 0;for(lr=ar+1;lr<st&&ut[lr]=="%";++lr);for(var Zr=ar&&ut[ar-1]=="!"||lr<st&&ut[lr]=="1"?"1":"N",Lr=ar;Lr<lr;++Lr)ut[Lr]=Zr;ar=lr-1}}for(var pr=0,Tr=ze;pr<st;++pr){var Sr=ut[pr];Tr=="L"&&Sr=="1"?ut[pr]="L":Z.test(Sr)&&(Tr=Sr)}for(var mr=0;mr<st;++mr)if(a.test(ut[mr])){var vr=void 0;for(vr=mr+1;vr<st&&a.test(ut[vr]);++vr);for(var yr=(mr?ut[mr-1]:ze)=="L",jr=yr==((vr<st?ut[vr]:ze)=="L")?yr?"L":"R":ze,ai=mr;ai<vr;++ai)ut[ai]=jr;mr=vr-1}for(var zr,kr=[],br=0;br<st;)if(pe.test(ut[br])){var ya=br;for(++br;br<st&&pe.test(ut[br]);++br);kr.push(new Ee(0,ya,br))}else{var Xr=br,vi=kr.length,mi=He=="rtl"?1:0;for(++br;br<st&&ut[br]!="L";++br);for(var Er=Xr;Er<br;)if(ve.test(ut[Er])){Xr<Er&&(kr.splice(vi,0,new Ee(1,Xr,Er)),vi+=mi);var Bi=Er;for(++Er;Er<br&&ve.test(ut[Er]);++Er);kr.splice(vi,0,new Ee(2,Bi,Er)),vi+=mi,Xr=Er}else++Er;Xr<br&&kr.splice(vi,0,new Ee(1,Xr,br))}return He=="ltr"&&(kr[0].level==1&&(zr=Pe.match(/^\s+/))&&(kr[0].from=zr[0].length,kr.unshift(new Ee(0,0,zr[0].length))),R(kr).level==1&&(zr=Pe.match(/\s+$/))&&(R(kr).to-=zr[0].length,kr.push(new Ee(0,st-zr[0].length,st)))),He=="rtl"?kr.reverse():kr}}();function It(e,t){var r=e.order;return r==null&&(r=e.order=Lt(e.text,t)),r}var Ve=[],je=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||Ve).concat(r)}};function Fe(e,t){return e._handlers&&e._handlers[t]||Ve}function We(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,a=n&&n[t];if(a){var Z=h(a,r);Z>-1&&(n[t]=a.slice(0,Z).concat(a.slice(Z+1)))}}}function it(e,t){var r=Fe(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),a=0;a<r.length;++a)r[a].apply(null,n)}function mt(e,t,r){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),it(e,r||t.type,e,t),Ot(t)||t.codemirrorIgnore}function St(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)h(r,t[n])==-1&&r.push(t[n])}function tn(e,t){return Fe(e,t).length>0}function Ue(e){e.prototype.on=function(t,r){je(this,t,r)},e.prototype.off=function(t,r){We(this,t,r)}}function et(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function ct(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ot(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==0}function yt(e){et(e),ct(e)}function ht(e){return e.target||e.srcElement}function Ht(e){var t=e.which;return t==null&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),te&&e.ctrlKey&&t==1&&(t=3),t}var $t,cn,kn=function(){if(k&&d<9)return!1;var e=z("div");return"draggable"in e||"dragDrop"in e}();function en(e){if($t==null){var t=z("span","\u200B");ne(e,z("span",[t,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&($t=t.offsetWidth<=1&&t.offsetHeight>2&&!(k&&d<8))}var r=$t?z("span","\u200B"):z("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Bn(e){if(cn!=null)return cn;var t=ne(e,document.createTextNode("A\u062EA")),r=L(t,0,1).getBoundingClientRect(),n=L(t,1,2).getBoundingClientRect();return re(e),!(!r||r.left==r.right)&&(cn=n.right-r.right<3)}var qe,$e=`

b`.split(/\n/).length!=3?function(e){for(var t=0,r=[],n=e.length;t<=n;){var a=e.indexOf(`
`,t);a==-1&&(a=e.length);var Z=e.slice(t,e.charAt(a-1)=="\r"?a-1:a),pe=Z.indexOf("\r");pe!=-1?(r.push(Z.slice(0,pe)),t+=pe+1):(r.push(Z),t=a+1)}return r}:function(e){return e.split(/\r\n?|\n/)},ft=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch{return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch{}return!(!t||t.parentElement()!=e)&&t.compareEndPoints("StartToEnd",t)!=0},Et="oncopy"in(qe=z("div"))||(qe.setAttribute("oncopy","return;"),typeof qe.oncopy=="function"),Bt=null;function Dt(e){if(Bt!=null)return Bt;var t=ne(e,z("span","x")),r=t.getBoundingClientRect(),n=L(t,0,1).getBoundingClientRect();return Bt=Math.abs(r.left-n.left)>1}var zt={},Gt={};function nn(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),zt[e]=t}function dn(e,t){Gt[e]=t}function un(e){if(typeof e=="string"&&Gt.hasOwnProperty(e))e=Gt[e];else if(e&&typeof e.name=="string"&&Gt.hasOwnProperty(e.name)){var t=Gt[e.name];typeof t=="string"&&(t={name:t}),(e=oe(t,e)).name=t.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return un("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return un("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function bn(e,t){t=un(t);var r=zt[t.name];if(!r)return bn(e,"text/plain");var n=r(e,t);if(wn.hasOwnProperty(t.name)){var a=wn[t.name];for(var Z in a)a.hasOwnProperty(Z)&&(n.hasOwnProperty(Z)&&(n["_"+Z]=n[Z]),n[Z]=a[Z])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var pe in t.modeProps)n[pe]=t.modeProps[pe];return n}var wn={};function En(e,t){K(t,wn.hasOwnProperty(e)?wn[e]:wn[e]={})}function An(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var a=t[n];a instanceof Array&&(a=a.concat([])),r[n]=a}return r}function Tn(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function qn(e,t,r){return!e.startState||e.startState(t,r)}var Ft=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};function Mt(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var a=r.children[n],Z=a.chunkSize();if(t<Z){r=a;break}t-=Z}return r.lines[t]}function Rn(e,t,r){var n=[],a=t.line;return e.iter(t.line,r.line+1,function(Z){var pe=Z.text;a==r.line&&(pe=pe.slice(0,r.ch)),a==t.line&&(pe=pe.slice(t.ch)),n.push(pe),++a}),n}function Zn(e,t,r){var n=[];return e.iter(t,r,function(a){n.push(a.text)}),n}function Fn(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function Wt(e){if(e.parent==null)return null;for(var t=e.parent,r=h(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var a=0;n.children[a]!=t;++a)r+=n.children[a].chunkSize();return r+t.first}function hn(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var a=e.children[n],Z=a.height;if(t<Z){e=a;continue e}t-=Z,r+=a.chunkSize()}return r}while(!e.lines);for(var pe=0;pe<e.lines.length;++pe){var ve=e.lines[pe].height;if(t<ve)break;t-=ve}return r+pe}function on(e,t){return t>=e.first&&t<e.first+e.size}function sr(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function Ct(e,t,r){if(r===void 0&&(r=null),!(this instanceof Ct))return new Ct(e,t,r);this.line=e,this.ch=t,this.sticky=r}function ln(e,t){return e.line-t.line||e.ch-t.ch}function De(e,t){return e.sticky==t.sticky&&ln(e,t)==0}function Ie(e){return Ct(e.line,e.ch)}function vt(e,t){return ln(e,t)<0?t:e}function Nt(e,t){return ln(e,t)<0?e:t}function rt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function xt(e,t){if(t.line<e.first)return Ct(e.first,0);var r=e.first+e.size-1;return t.line>r?Ct(r,Mt(e,r).text.length):Sn(t,Mt(e,t.line).text.length)}function Sn(e,t){var r=e.ch;return r==null||r>t?Ct(e.line,t):r<0?Ct(e.line,0):e}function fn(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=xt(e,t[n]);return r}Ft.prototype.eol=function(){return this.pos>=this.string.length},Ft.prototype.sol=function(){return this.pos==this.lineStart},Ft.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ft.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ft.prototype.eat=function(e){var t=this.string.charAt(this.pos);if(typeof e=="string"?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Ft.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ft.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ft.prototype.skipToEnd=function(){this.pos=this.string.length},Ft.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ft.prototype.backUp=function(e){this.pos-=e},Ft.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=F(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Ft.prototype.indentation=function(){return F(this.string,null,this.tabSize)-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Ft.prototype.match=function(e,t,r){if(typeof e!="string"){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var a=function(Z){return r?Z.toLowerCase():Z};if(a(this.string.substr(this.pos,e.length))==a(e))return t!==!1&&(this.pos+=e.length),!0},Ft.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ft.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ft.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ft.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var jn=function(e,t){this.state=e,this.lookAhead=t},$n=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function rr(e,t,r,n){var a=[e.state.modeGen],Z={};ye(e,t.text,e.doc.mode,r,function(Pe,He){return a.push(Pe,He)},Z,n);for(var pe=r.state,ve=function(Pe){r.baseTokens=a;var He=e.state.overlays[Pe],ze=1,st=0;r.state=!0,ye(e,t.text,He.mode,r,function(ut,wt){for(var jt=ze;st<ut;){var Vt=a[ze];Vt>ut&&a.splice(ze,1,ut,a[ze+1],Vt),ze+=2,st=Math.min(ut,Vt)}if(wt)if(He.opaque)a.splice(jt,ze-jt,ut,"overlay "+wt),ze=jt+2;else for(;jt<ze;jt+=2){var rn=a[jt+1];a[jt+1]=(rn?rn+" ":"")+"overlay "+wt}},Z),r.state=pe,r.baseTokens=null,r.baseTokenPos=1},Ee=0;Ee<e.state.overlays.length;++Ee)ve(Ee);return{styles:a,classes:Z.bgClass||Z.textClass?Z:null}}function tr(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Kn(e,Wt(t)),a=t.text.length>e.options.maxHighlightLength&&An(e.doc.mode,n.state),Z=rr(e,t,n);a&&(n.state=a),t.stateAfter=n.save(!a),t.styles=Z.styles,Z.classes?t.styleClasses=Z.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Kn(e,t,r){var n=e.doc,a=e.display;if(!n.mode.startState)return new $n(n,!0,t);var Z=C(e,t,r),pe=Z>n.first&&Mt(n,Z-1).stateAfter,ve=pe?$n.fromSaved(n,pe,Z):new $n(n,qn(n.mode),Z);return n.iter(Z,t,function(Ee){Jn(e,Ee.text,ve);var Pe=ve.line;Ee.stateAfter=Pe==t-1||Pe%5==0||Pe>=a.viewFrom&&Pe<a.viewTo?ve.save():null,ve.nextLine()}),r&&(n.modeFrontier=ve.line),ve}function Jn(e,t,r,n){var a=e.doc.mode,Z=new Ft(t,e.options.tabSize,r);for(Z.start=Z.pos=n||0,t==""&&Wn(a,r.state);!Z.eol();)Vn(a,Z,r.state),Z.start=Z.pos}function Wn(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=Tn(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Vn(e,t,r,n){for(var a=0;a<10;a++){n&&(n[0]=Tn(e,r).mode);var Z=e.token(t,r);if(t.pos>t.start)return Z}throw new Error("Mode "+e.name+" failed to advance stream.")}$n.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return t!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},$n.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},$n.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},$n.fromSaved=function(e,t,r){return t instanceof jn?new $n(e,An(e.mode,t.state),r,t.lookAhead):new $n(e,An(e.mode,t),r)},$n.prototype.save=function(e){var t=e!==!1?An(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new jn(t,this.maxLookAhead):t};var Nn=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function Gn(e,t,r,n){var a,Z,pe=e.doc,ve=pe.mode,Ee=Mt(pe,(t=xt(pe,t)).line),Pe=Kn(e,t.line,r),He=new Ft(Ee.text,e.options.tabSize,Pe);for(n&&(Z=[]);(n||He.pos<t.ch)&&!He.eol();)He.start=He.pos,a=Vn(ve,He,Pe.state),n&&Z.push(new Nn(He,a,An(pe.mode,Pe.state)));return n?Z:new Nn(He,a,Pe.state)}function he(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";t[n]==null?t[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+r[2])}return e}function ye(e,t,r,n,a,Z,pe){var ve=r.flattenSpans;ve==null&&(ve=e.options.flattenSpans);var Ee,Pe=0,He=null,ze=new Ft(t,e.options.tabSize,n),st=e.options.addModeClass&&[null];for(t==""&&he(Wn(r,n.state),Z);!ze.eol();){if(ze.pos>e.options.maxHighlightLength?(ve=!1,pe&&Jn(e,t,n,ze.pos),ze.pos=t.length,Ee=null):Ee=he(Vn(r,ze,n.state,st),Z),st){var ut=st[0].name;ut&&(Ee="m-"+(Ee?ut+" "+Ee:ut))}if(!ve||He!=Ee){for(;Pe<ze.start;)a(Pe=Math.min(ze.start,Pe+5e3),He);He=Ee}ze.start=ze.pos}for(;Pe<ze.pos;){var wt=Math.min(ze.pos,Pe+5e3);a(wt,He),Pe=wt}}function C(e,t,r){for(var n,a,Z=e.doc,pe=r?-1:t-(e.doc.mode.innerMode?1e3:100),ve=t;ve>pe;--ve){if(ve<=Z.first)return Z.first;var Ee=Mt(Z,ve-1),Pe=Ee.stateAfter;if(Pe&&(!r||ve+(Pe instanceof jn?Pe.lookAhead:0)<=Z.modeFrontier))return ve;var He=F(Ee.text,null,e.options.tabSize);(a==null||n>He)&&(a=ve-1,n=He)}return a}function W(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var a=Mt(e,n).stateAfter;if(a&&(!(a instanceof jn)||n+a.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}var le=!1,_=!1;function fe(){le=!0}function ke(){_=!0}function Re(e,t,r){this.marker=e,this.from=t,this.to=r}function Ze(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function Ke(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function at(e,t,r){var n=r&&window.WeakSet&&(r.markedSpans||(r.markedSpans=new WeakSet));n&&n.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],n&&n.add(e.markedSpans)),t.marker.attachLine(e)}function ot(e,t,r){var n;if(e)for(var a=0;a<e.length;++a){var Z=e[a],pe=Z.marker;if(Z.from==null||(pe.inclusiveLeft?Z.from<=t:Z.from<t)||Z.from==t&&pe.type=="bookmark"&&(!r||!Z.marker.insertLeft)){var ve=Z.to==null||(pe.inclusiveRight?Z.to>=t:Z.to>t);(n||(n=[])).push(new Re(pe,Z.from,ve?null:Z.to))}}return n}function bt(e,t,r){var n;if(e)for(var a=0;a<e.length;++a){var Z=e[a],pe=Z.marker;if(Z.to==null||(pe.inclusiveRight?Z.to>=t:Z.to>t)||Z.from==t&&pe.type=="bookmark"&&(!r||Z.marker.insertLeft)){var ve=Z.from==null||(pe.inclusiveLeft?Z.from<=t:Z.from<t);(n||(n=[])).push(new Re(pe,ve?null:Z.from-t,Z.to==null?null:Z.to-t))}}return n}function _t(e,t){if(t.full)return null;var r=on(e,t.from.line)&&Mt(e,t.from.line).markedSpans,n=on(e,t.to.line)&&Mt(e,t.to.line).markedSpans;if(!r&&!n)return null;var a=t.from.ch,Z=t.to.ch,pe=ln(t.from,t.to)==0,ve=ot(r,a,pe),Ee=bt(n,Z,pe),Pe=t.text.length==1,He=R(t.text).length+(Pe?a:0);if(ve)for(var ze=0;ze<ve.length;++ze){var st=ve[ze];if(st.to==null){var ut=Ze(Ee,st.marker);ut?Pe&&(st.to=ut.to==null?null:ut.to+He):st.to=a}}if(Ee)for(var wt=0;wt<Ee.length;++wt){var jt=Ee[wt];jt.to!=null&&(jt.to+=He),jt.from==null?Ze(ve,jt.marker)||(jt.from=He,Pe&&(ve||(ve=[])).push(jt)):(jt.from+=He,Pe&&(ve||(ve=[])).push(jt))}ve&&(ve=Rt(ve)),Ee&&Ee!=ve&&(Ee=Rt(Ee));var Vt=[ve];if(!Pe){var rn,pn=t.text.length-2;if(pn>0&&ve)for(var qt=0;qt<ve.length;++qt)ve[qt].to==null&&(rn||(rn=[])).push(new Re(ve[qt].marker,null,null));for(var yn=0;yn<pn;++yn)Vt.push(rn);Vt.push(Ee)}return Vt}function Rt(e){for(var t=0;t<e.length;++t){var r=e[t];r.from!=null&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function Qt(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(ut){if(ut.markedSpans)for(var wt=0;wt<ut.markedSpans.length;++wt){var jt=ut.markedSpans[wt].marker;!jt.readOnly||n&&h(n,jt)!=-1||(n||(n=[])).push(jt)}}),!n)return null;for(var a=[{from:t,to:r}],Z=0;Z<n.length;++Z)for(var pe=n[Z],ve=pe.find(0),Ee=0;Ee<a.length;++Ee){var Pe=a[Ee];if(!(ln(Pe.to,ve.from)<0||ln(Pe.from,ve.to)>0)){var He=[Ee,1],ze=ln(Pe.from,ve.from),st=ln(Pe.to,ve.to);(ze<0||!pe.inclusiveLeft&&!ze)&&He.push({from:Pe.from,to:ve.from}),(st>0||!pe.inclusiveRight&&!st)&&He.push({from:ve.to,to:Pe.to}),a.splice.apply(a,He),Ee+=He.length-3}}return a}function an(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function gn(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function Dn(e){return e.inclusiveLeft?-1:0}function Mn(e){return e.inclusiveRight?1:0}function sn(e,t){var r=e.lines.length-t.lines.length;if(r!=0)return r;var n=e.find(),a=t.find(),Z=ln(n.from,a.from)||Dn(e)-Dn(t);if(Z)return-Z;var pe=ln(n.to,a.to)||Mn(e)-Mn(t);return pe||t.id-e.id}function Cn(e,t){var r,n=_&&e.markedSpans;if(n)for(var a=void 0,Z=0;Z<n.length;++Z)(a=n[Z]).marker.collapsed&&(t?a.from:a.to)==null&&(!r||sn(r,a.marker)<0)&&(r=a.marker);return r}function Hn(e){return Cn(e,!0)}function Xn(e){return Cn(e,!1)}function ur(e,t){var r,n=_&&e.markedSpans;if(n)for(var a=0;a<n.length;++a){var Z=n[a];Z.marker.collapsed&&(Z.from==null||Z.from<t)&&(Z.to==null||Z.to>t)&&(!r||sn(r,Z.marker)<0)&&(r=Z.marker)}return r}function On(e,t,r,n,a){var Z=Mt(e,t),pe=_&&Z.markedSpans;if(pe)for(var ve=0;ve<pe.length;++ve){var Ee=pe[ve];if(Ee.marker.collapsed){var Pe=Ee.marker.find(0),He=ln(Pe.from,r)||Dn(Ee.marker)-Dn(a),ze=ln(Pe.to,n)||Mn(Ee.marker)-Mn(a);if(!(He>=0&&ze<=0||He<=0&&ze>=0)&&(He<=0&&(Ee.marker.inclusiveRight&&a.inclusiveLeft?ln(Pe.to,r)>=0:ln(Pe.to,r)>0)||He>=0&&(Ee.marker.inclusiveRight&&a.inclusiveLeft?ln(Pe.from,n)<=0:ln(Pe.from,n)<0)))return!0}}}function Yn(e){for(var t;t=Hn(e);)e=t.find(-1,!0).line;return e}function _n(e){for(var t;t=Xn(e);)e=t.find(1,!0).line;return e}function Yt(e){for(var t,r;t=Xn(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function i(e,t){var r=Mt(e,t),n=Yn(r);return r==n?t:Wt(n)}function o(e,t){if(t>e.lastLine())return t;var r,n=Mt(e,t);if(!G(e,n))return t;for(;r=Xn(n);)n=r.find(1,!0).line;return Wt(n)+1}function G(e,t){var r=_&&t.markedSpans;if(r){for(var n=void 0,a=0;a<r.length;++a)if((n=r[a]).marker.collapsed&&(n.from==null||!n.marker.widgetNode&&n.from==0&&n.marker.inclusiveLeft&&xe(e,t,n)))return!0}}function xe(e,t,r){if(r.to==null){var n=r.marker.find(1,!0);return xe(e,n.line,Ze(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var a=void 0,Z=0;Z<t.markedSpans.length;++Z)if((a=t.markedSpans[Z]).marker.collapsed&&!a.marker.widgetNode&&a.from==r.to&&(a.to==null||a.to!=r.from)&&(a.marker.inclusiveLeft||r.marker.inclusiveRight)&&xe(e,t,a))return!0}function Be(e){for(var t=0,r=(e=Yn(e)).parent,n=0;n<r.lines.length;++n){var a=r.lines[n];if(a==e)break;t+=a.height}for(var Z=r.parent;Z;Z=(r=Z).parent)for(var pe=0;pe<Z.children.length;++pe){var ve=Z.children[pe];if(ve==r)break;t+=ve.height}return t}function Le(e){if(e.height==0)return 0;for(var t,r=e.text.length,n=e;t=Hn(n);){var a=t.find(0,!0);n=a.from.line,r+=a.from.ch-a.to.ch}for(n=e;t=Xn(n);){var Z=t.find(0,!0);r-=n.text.length-Z.from.ch,r+=(n=Z.to.line).text.length-Z.to.ch}return r}function Qe(e){var t=e.display,r=e.doc;t.maxLine=Mt(r,r.first),t.maxLineLength=Le(t.maxLine),t.maxLineChanged=!0,r.iter(function(n){var a=Le(n);a>t.maxLineLength&&(t.maxLineLength=a,t.maxLine=n)})}var dt=function(e,t,r){this.text=e,gn(this,t),this.height=r?r(this):1};function kt(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),an(e),gn(e,r);var a=n?n(e):1;a!=e.height&&Fn(e,a)}function Pt(e){e.parent=null,an(e)}dt.prototype.lineNo=function(){return Wt(this)},Ue(dt);var Tt={},Xt={};function Jt(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?Xt:Tt;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function Kt(e,t){var r=Y("span",null,null,S?"padding-right: .1px":null),n={pre:Y("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var a=0;a<=(t.rest?t.rest.length:0);a++){var Z=a?t.rest[a-1]:t.line,pe=void 0;n.pos=0,n.addToken=Pn,Bn(e.display.measure)&&(pe=It(Z,e.doc.direction))&&(n.addToken=zn(n.addToken,pe)),n.map=[],$r(Z,n,tr(e,Z,t!=e.display.externalMeasured&&Wt(Z))),Z.styleClasses&&(Z.styleClasses.bgClass&&(n.bgClass=m(Z.styleClasses.bgClass,n.bgClass||"")),Z.styleClasses.textClass&&(n.textClass=m(Z.styleClasses.textClass,n.textClass||""))),n.map.length==0&&n.map.push(0,0,n.content.appendChild(en(e.display.measure))),a==0?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(S){var ve=n.content.lastChild;(/\bcm-tab\b/.test(ve.className)||ve.querySelector&&ve.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return it(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=m(n.pre.className,n.textClass||"")),n}function vn(e){var t=z("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Pn(e,t,r,n,a,Z,pe){if(t){var ve,Ee=e.splitSpaces?In(t,e.trailingSpace):t,Pe=e.cm.state.specialChars,He=!1;if(Pe.test(t)){ve=document.createDocumentFragment();for(var ze=0;;){Pe.lastIndex=ze;var st=Pe.exec(t),ut=st?st.index-ze:t.length-ze;if(ut){var wt=document.createTextNode(Ee.slice(ze,ze+ut));k&&d<9?ve.appendChild(z("span",[wt])):ve.appendChild(wt),e.map.push(e.pos,e.pos+ut,wt),e.col+=ut,e.pos+=ut}if(!st)break;ze+=ut+1;var jt=void 0;if(st[0]=="	"){var Vt=e.cm.options.tabSize,rn=Vt-e.col%Vt;(jt=ve.appendChild(z("span",E(rn),"cm-tab"))).setAttribute("role","presentation"),jt.setAttribute("cm-text","	"),e.col+=rn}else st[0]=="\r"||st[0]==`
`?((jt=ve.appendChild(z("span",st[0]=="\r"?"\u240D":"\u2424","cm-invalidchar"))).setAttribute("cm-text",st[0]),e.col+=1):((jt=e.cm.options.specialCharPlaceholder(st[0])).setAttribute("cm-text",st[0]),k&&d<9?ve.appendChild(z("span",[jt])):ve.appendChild(jt),e.col+=1);e.map.push(e.pos,e.pos+1,jt),e.pos++}}else e.col+=t.length,ve=document.createTextNode(Ee),e.map.push(e.pos,e.pos+t.length,ve),k&&d<9&&(He=!0),e.pos+=t.length;if(e.trailingSpace=Ee.charCodeAt(t.length-1)==32,r||n||a||He||Z||pe){var pn=r||"";n&&(pn+=n),a&&(pn+=a);var qt=z("span",[ve],pn,Z);if(pe)for(var yn in pe)pe.hasOwnProperty(yn)&&yn!="style"&&yn!="class"&&qt.setAttribute(yn,pe[yn]);return e.content.appendChild(qt)}e.content.appendChild(ve)}}function In(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",a=0;a<e.length;a++){var Z=e.charAt(a);Z!=" "||!r||a!=e.length-1&&e.charCodeAt(a+1)!=32||(Z="\xA0"),n+=Z,r=Z==" "}return n}function zn(e,t){return function(r,n,a,Z,pe,ve,Ee){a=a?a+" cm-force-border":"cm-force-border";for(var Pe=r.pos,He=Pe+n.length;;){for(var ze=void 0,st=0;st<t.length&&!((ze=t[st]).to>Pe&&ze.from<=Pe);st++);if(ze.to>=He)return e(r,n,a,Z,pe,ve,Ee);e(r,n.slice(0,ze.to-Pe),a,Z,null,ve,Ee),Z=null,n=n.slice(ze.to-Pe),Pe=ze.to}}}function Qn(e,t,r,n){var a=!n&&r.widgetNode;a&&e.map.push(e.pos,e.pos+t,a),!n&&e.cm.display.input.needsContentAttribute&&(a||(a=e.content.appendChild(document.createElement("span"))),a.setAttribute("cm-marker",r.id)),a&&(e.cm.display.input.setUneditable(a),e.content.appendChild(a)),e.pos+=t,e.trailingSpace=!1}function $r(e,t,r){var n=e.markedSpans,a=e.text,Z=0;if(n)for(var pe,ve,Ee,Pe,He,ze,st,ut=a.length,wt=0,jt=1,Vt="",rn=0;;){if(rn==wt){Ee=Pe=He=ve="",st=null,ze=null,rn=1/0;for(var pn=[],qt=void 0,yn=0;yn<n.length;++yn){var mn=n[yn],xn=mn.marker;if(xn.type=="bookmark"&&mn.from==wt&&xn.widgetNode)pn.push(xn);else if(mn.from<=wt&&(mn.to==null||mn.to>wt||xn.collapsed&&mn.to==wt&&mn.from==wt)){if(mn.to!=null&&mn.to!=wt&&rn>mn.to&&(rn=mn.to,Pe=""),xn.className&&(Ee+=" "+xn.className),xn.css&&(ve=(ve?ve+";":"")+xn.css),xn.startStyle&&mn.from==wt&&(He+=" "+xn.startStyle),xn.endStyle&&mn.to==rn&&(qt||(qt=[])).push(xn.endStyle,mn.to),xn.title&&((st||(st={})).title=xn.title),xn.attributes)for(var or in xn.attributes)(st||(st={}))[or]=xn.attributes[or];xn.collapsed&&(!ze||sn(ze.marker,xn)<0)&&(ze=mn)}else mn.from>wt&&rn>mn.from&&(rn=mn.from)}if(qt)for(var ar=0;ar<qt.length;ar+=2)qt[ar+1]==rn&&(Pe+=" "+qt[ar]);if(!ze||ze.from==wt)for(var Mr=0;Mr<pn.length;++Mr)Qn(t,0,pn[Mr]);if(ze&&(ze.from||0)==wt){if(Qn(t,(ze.to==null?ut+1:ze.to)-wt,ze.marker,ze.from==null),ze.to==null)return;ze.to==wt&&(ze=!1)}}if(wt>=ut)break;for(var lr=Math.min(ut,rn);;){if(Vt){var Zr=wt+Vt.length;if(!ze){var Lr=Zr>lr?Vt.slice(0,lr-wt):Vt;t.addToken(t,Lr,pe?pe+Ee:Ee,He,wt+Lr.length==rn?Pe:"",ve,st)}if(Zr>=lr){Vt=Vt.slice(lr-wt),wt=lr;break}wt=Zr,He=""}Vt=a.slice(Z,Z=r[jt++]),pe=Jt(r[jt++],t.cm.options)}}else for(var pr=1;pr<r.length;pr+=2)t.addToken(t,a.slice(Z,Z=r[pr]),Jt(r[pr+1],t.cm.options))}function yi(e,t,r){this.line=t,this.rest=Yt(t),this.size=this.rest?Wt(R(this.rest))-r+1:1,this.node=this.text=null,this.hidden=G(e,t)}function Ir(e,t,r){for(var n,a=[],Z=t;Z<r;Z=n){var pe=new yi(e.doc,Mt(e.doc,Z),Z);n=Z+pe.size,a.push(pe)}return a}var Dr=null;function co(e){Dr?Dr.ops.push(e):e.ownsGroup=Dr={ops:[e],delayedCallbacks:[]}}function fo(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var a=e.ops[n];if(a.cursorActivityHandlers)for(;a.cursorActivityCalled<a.cursorActivityHandlers.length;)a.cursorActivityHandlers[a.cursorActivityCalled++].call(null,a.cm)}}while(r<t.length)}function ho(e,t){var r=e.ownsGroup;if(r)try{fo(r)}finally{Dr=null,t(r)}}var Gr=null;function dr(e,t){var r=Fe(e,t);if(r.length){var n,a=Array.prototype.slice.call(arguments,2);Dr?n=Dr.delayedCallbacks:Gr?n=Gr:(n=Gr=[],setTimeout(si,0));for(var Z=function(ve){n.push(function(){return r[ve].apply(null,a)})},pe=0;pe<r.length;++pe)Z(pe)}}function si(){var e=Gr;Gr=null;for(var t=0;t<e.length;++t)e[t]()}function Fi(e,t,r,n){for(var a=0;a<t.changes.length;a++){var Z=t.changes[a];Z=="text"?po(e,t):Z=="gutter"?Zi(e,t,r,n):Z=="class"?bi(e,t):Z=="widget"&&Ii(e,t,n)}t.changes=null}function Jr(e){return e.node==e.text&&(e.node=z("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),k&&d<8&&(e.node.style.zIndex=2)),e.node}function ui(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var n=Jr(t);t.background=n.insertBefore(z("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}}function Ni(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):Kt(e,t)}function po(e,t){var r=t.text.className,n=Ni(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,bi(e,t)):r&&(t.text.className=r)}function bi(e,t){ui(e,t),t.line.wrapClass?Jr(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function Zi(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var a=Jr(t);t.gutterBackground=z("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),a.insertBefore(t.gutterBackground,t.text)}var Z=t.line.gutterMarkers;if(e.options.lineNumbers||Z){var pe=Jr(t),ve=t.gutter=z("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(ve.setAttribute("aria-hidden","true"),e.display.input.setUneditable(ve),pe.insertBefore(ve,t.text),t.line.gutterClass&&(ve.className+=" "+t.line.gutterClass),!e.options.lineNumbers||Z&&Z["CodeMirror-linenumbers"]||(t.lineNumber=ve.appendChild(z("div",sr(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),Z)for(var Ee=0;Ee<e.display.gutterSpecs.length;++Ee){var Pe=e.display.gutterSpecs[Ee].className,He=Z.hasOwnProperty(Pe)&&Z[Pe];He&&ve.appendChild(z("div",[He],"CodeMirror-gutter-elt","left: "+n.gutterLeft[Pe]+"px; width: "+n.gutterWidth[Pe]+"px"))}}}function Ii(e,t,r){t.alignable&&(t.alignable=null);for(var n=D("CodeMirror-linewidget"),a=t.node.firstChild,Z=void 0;a;a=Z)Z=a.nextSibling,n.test(a.className)&&t.node.removeChild(a);go(e,t,r)}function Vi(e,t,r,n){var a=Ni(e,t);return t.text=t.node=a.pre,a.bgClass&&(t.bgClass=a.bgClass),a.textClass&&(t.textClass=a.textClass),bi(e,t),Zi(e,t,r,n),go(e,t,n),t.node}function go(e,t,r){if(wi(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)wi(e,t.rest[n],t,r,!1)}function wi(e,t,r,n,a){if(t.widgets)for(var Z=Jr(r),pe=0,ve=t.widgets;pe<ve.length;++pe){var Ee=ve[pe],Pe=z("div",[Ee.node],"CodeMirror-linewidget"+(Ee.className?" "+Ee.className:""));Ee.handleMouseEvents||Pe.setAttribute("cm-ignore-events","true"),Zo(Ee,Pe,r,n),e.display.input.setUneditable(Pe),a&&Ee.above?Z.insertBefore(Pe,r.gutter||r.text):Z.appendChild(Pe),dr(Ee,"redraw")}}function Zo(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var a=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(a-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=a+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Oe(e){if(e.height!=null)return e.height;var t=e.doc.cm;if(!t)return 0;if(!u(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),ne(t.display.measure,z("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function Me(e,t){for(var r=ht(t);r!=e.wrapper;r=r.parentNode)if(!r||r.nodeType==1&&r.getAttribute("cm-ignore-events")=="true"||r.parentNode==e.sizer&&r!=e.mover)return!0}function Ge(e){return e.lineSpace.offsetTop}function Xe(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function pt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=ne(e.measure,z("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function nt(e){return V-e.display.nativeBarWidth}function At(e){return e.display.scroller.clientWidth-nt(e)-e.display.barWidth}function Ut(e){return e.display.scroller.clientHeight-nt(e)-e.display.barHeight}function Ln(e,t,r){var n=e.options.lineWrapping,a=n&&At(e);if(!t.measure.heights||n&&t.measure.width!=a){var Z=t.measure.heights=[];if(n){t.measure.width=a;for(var pe=t.text.firstChild.getClientRects(),ve=0;ve<pe.length-1;ve++){var Ee=pe[ve],Pe=pe[ve+1];Math.abs(Ee.bottom-Pe.bottom)>2&&Z.push((Ee.bottom+Pe.top)/2-r.top)}}Z.push(r.bottom-r.top)}}function Un(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var a=0;a<e.rest.length;a++)if(Wt(e.rest[a])>r)return{map:e.measure.maps[a],cache:e.measure.caches[a],before:!0}}function cr(e,t){var r=Wt(t=Yn(t)),n=e.display.externalMeasured=new yi(e.doc,t,r);n.lineN=r;var a=n.built=Kt(e,n);return n.text=a.pre,ne(e.display.lineMeasure,a.pre),n}function Br(e,t,r,n){return Wr(e,Yr(e,t),r,n)}function _i(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[fi(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Yr(e,t){var r=Wt(t),n=_i(e,r);n&&!n.text?n=null:n&&n.changes&&(Fi(e,n,r,zo(e)),e.curOp.forceUpdate=!0),n||(n=cr(e,t));var a=Un(n,t,r);return{line:t,view:n,rect:null,map:a.map,cache:a.cache,before:a.before,hasHeights:!1}}function Wr(e,t,r,n,a){t.before&&(r=-1);var Z,pe=r+(n||"");return t.cache.hasOwnProperty(pe)?Z=t.cache[pe]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ln(e,t.view,t.rect),t.hasHeights=!0),(Z=ou(e,t,r,n)).bogus||(t.cache[pe]=Z)),{left:Z.left,right:Z.right,top:a?Z.rtop:Z.top,bottom:a?Z.rbottom:Z.bottom}}var li,Oa={left:0,right:0,top:0,bottom:0};function Sa(e,t,r){for(var n,a,Z,pe,ve,Ee,Pe=0;Pe<e.length;Pe+=3)if(ve=e[Pe],Ee=e[Pe+1],t<ve?(a=0,Z=1,pe="left"):t<Ee?Z=1+(a=t-ve):(Pe==e.length-3||t==Ee&&e[Pe+3]>t)&&(a=(Z=Ee-ve)-1,t>=Ee&&(pe="right")),a!=null){if(n=e[Pe+2],ve==Ee&&r==(n.insertLeft?"left":"right")&&(pe=r),r=="left"&&a==0)for(;Pe&&e[Pe-2]==e[Pe-3]&&e[Pe-1].insertLeft;)n=e[2+(Pe-=3)],pe="left";if(r=="right"&&a==Ee-ve)for(;Pe<e.length-3&&e[Pe+3]==e[Pe+4]&&!e[Pe+5].insertLeft;)n=e[(Pe+=3)+2],pe="right";break}return{node:n,start:a,end:Z,collapse:pe,coverStart:ve,coverEnd:Ee}}function iu(e,t){var r=Oa;if(t=="left")for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var a=e.length-1;a>=0&&(r=e[a]).left==r.right;a--);return r}function ou(e,t,r,n){var a,Z=Sa(t.map,r,n),pe=Z.node,ve=Z.start,Ee=Z.end,Pe=Z.collapse;if(pe.nodeType==3){for(var He=0;He<4;He++){for(;ve&&Ne(t.line.text.charAt(Z.coverStart+ve));)--ve;for(;Z.coverStart+Ee<Z.coverEnd&&Ne(t.line.text.charAt(Z.coverStart+Ee));)++Ee;if((a=k&&d<9&&ve==0&&Ee==Z.coverEnd-Z.coverStart?pe.parentNode.getBoundingClientRect():iu(L(pe,ve,Ee).getClientRects(),n)).left||a.right||ve==0)break;Ee=ve,ve-=1,Pe="right"}k&&d<11&&(a=au(e.display.measure,a))}else{var ze;ve>0&&(Pe=n="right"),a=e.options.lineWrapping&&(ze=pe.getClientRects()).length>1?ze[n=="right"?ze.length-1:0]:pe.getBoundingClientRect()}if(k&&d<9&&!ve&&(!a||!a.left&&!a.right)){var st=pe.parentNode.getClientRects()[0];a=st?{left:st.left,right:st.left+ki(e.display),top:st.top,bottom:st.bottom}:Oa}for(var ut=a.top-t.rect.top,wt=a.bottom-t.rect.top,jt=(ut+wt)/2,Vt=t.view.measure.heights,rn=0;rn<Vt.length-1&&!(jt<Vt[rn]);rn++);var pn=rn?Vt[rn-1]:0,qt=Vt[rn],yn={left:(Pe=="right"?a.right:a.left)-t.rect.left,right:(Pe=="left"?a.left:a.right)-t.rect.left,top:pn,bottom:qt};return a.left||a.right||(yn.bogus=!0),e.options.singleCursorHeightPerLine||(yn.rtop=ut,yn.rbottom=wt),yn}function au(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Dt(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function Ea(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Aa(e){e.display.externalMeasure=null,re(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Ea(e.display.view[t])}function Ui(e){Aa(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Pa(){return f&&Q?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Ta(){return f&&Q?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Io(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=Oe(e.widgets[r]));return t}function vo(e,t,r,n,a){if(!a){var Z=Io(t);r.top+=Z,r.bottom+=Z}if(n=="line")return r;n||(n="local");var pe=Be(t);if(n=="local"?pe+=Ge(e.display):pe-=e.display.viewOffset,n=="page"||n=="window"){var ve=e.display.lineSpace.getBoundingClientRect();pe+=ve.top+(n=="window"?0:Ta());var Ee=ve.left+(n=="window"?0:Pa());r.left+=Ee,r.right+=Ee}return r.top+=pe,r.bottom+=pe,r}function ja(e,t,r){if(r=="div")return t;var n=t.left,a=t.top;if(r=="page")n-=Pa(),a-=Ta();else if(r=="local"||!r){var Z=e.display.sizer.getBoundingClientRect();n+=Z.left,a+=Z.top}var pe=e.display.lineSpace.getBoundingClientRect();return{left:n-pe.left,top:a-pe.top}}function mo(e,t,r,n,a){return n||(n=Mt(e.doc,t.line)),vo(e,n,Br(e,n,t.ch,a),r)}function Vr(e,t,r,n,a,Z){function pe(wt,jt){var Vt=Wr(e,a,wt,jt?"right":"left",Z);return jt?Vt.left=Vt.right:Vt.right=Vt.left,vo(e,n,Vt,r)}n=n||Mt(e.doc,t.line),a||(a=Yr(e,n));var ve=It(n,e.doc.direction),Ee=t.ch,Pe=t.sticky;if(Ee>=n.text.length?(Ee=n.text.length,Pe="before"):Ee<=0&&(Ee=0,Pe="after"),!ve)return pe(Pe=="before"?Ee-1:Ee,Pe=="before");function He(wt,jt,Vt){return pe(Vt?wt-1:wt,ve[jt].level==1!=Vt)}var ze=Zt(ve,Ee,Pe),st=lt,ut=He(Ee,ze,Pe=="before");return st!=null&&(ut.other=He(Ee,st,Pe!="before")),ut}function Da(e,t){var r=0;t=xt(e.doc,t),e.options.lineWrapping||(r=ki(e.display)*t.ch);var n=Mt(e.doc,t.line),a=Be(n)+Ge(e.display);return{left:r,right:r,top:a,bottom:a+n.height}}function Vo(e,t,r,n,a){var Z=Ct(e,t,r);return Z.xRel=a,n&&(Z.outside=n),Z}function Uo(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return Vo(n.first,0,null,-1,-1);var a=hn(n,r),Z=n.first+n.size-1;if(a>Z)return Vo(n.first+n.size-1,Mt(n,Z).text.length,null,1,1);t<0&&(t=0);for(var pe=Mt(n,a);;){var ve=su(e,pe,a,t,r),Ee=ur(pe,ve.ch+(ve.xRel>0||ve.outside>0?1:0));if(!Ee)return ve;var Pe=Ee.find(1);if(Pe.line==a)return Pe;pe=Mt(n,a=Pe.line)}}function Ra(e,t,r,n){n-=Io(t);var a=t.text.length,Z=tt(function(pe){return Wr(e,r,pe-1).bottom<=n},a,0);return{begin:Z,end:a=tt(function(pe){return Wr(e,r,pe).top>n},Z,a)}}function Ma(e,t,r,n){return r||(r=Yr(e,t)),Ra(e,t,r,vo(e,t,Wr(e,r,n),"line").top)}function Ho(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function su(e,t,r,n,a){a-=Be(t);var Z=Yr(e,t),pe=Io(t),ve=0,Ee=t.text.length,Pe=!0,He=It(t,e.doc.direction);if(He){var ze=(e.options.lineWrapping?lu:uu)(e,t,r,Z,He,n,a);ve=(Pe=ze.level!=1)?ze.from:ze.to-1,Ee=Pe?ze.to:ze.from-1}var st,ut,wt=null,jt=null,Vt=tt(function(mn){var xn=Wr(e,Z,mn);return xn.top+=pe,xn.bottom+=pe,!!Ho(xn,n,a,!1)&&(xn.top<=a&&xn.left<=n&&(wt=mn,jt=xn),!0)},ve,Ee),rn=!1;if(jt){var pn=n-jt.left<jt.right-n,qt=pn==Pe;Vt=wt+(qt?0:1),ut=qt?"after":"before",st=pn?jt.left:jt.right}else{Pe||Vt!=Ee&&Vt!=ve||Vt++,ut=Vt==0?"after":Vt==t.text.length?"before":Wr(e,Z,Vt-(Pe?1:0)).bottom+pe<=a==Pe?"after":"before";var yn=Vr(e,Ct(r,Vt,ut),"line",t,Z);st=yn.left,rn=a<yn.top?-1:a>=yn.bottom?1:0}return Vo(r,Vt=Je(t.text,Vt,1),ut,rn,n-st)}function uu(e,t,r,n,a,Z,pe){var ve=tt(function(ze){var st=a[ze],ut=st.level!=1;return Ho(Vr(e,Ct(r,ut?st.to:st.from,ut?"before":"after"),"line",t,n),Z,pe,!0)},0,a.length-1),Ee=a[ve];if(ve>0){var Pe=Ee.level!=1,He=Vr(e,Ct(r,Pe?Ee.from:Ee.to,Pe?"after":"before"),"line",t,n);Ho(He,Z,pe,!0)&&He.top>pe&&(Ee=a[ve-1])}return Ee}function lu(e,t,r,n,a,Z,pe){var ve=Ra(e,t,n,pe),Ee=ve.begin,Pe=ve.end;/\s/.test(t.text.charAt(Pe-1))&&Pe--;for(var He=null,ze=null,st=0;st<a.length;st++){var ut=a[st];if(!(ut.from>=Pe||ut.to<=Ee)){var wt=Wr(e,n,ut.level!=1?Math.min(Pe,ut.to)-1:Math.max(Ee,ut.from)).right,jt=wt<Z?Z-wt+1e9:wt-Z;(!He||ze>jt)&&(He=ut,ze=jt)}}return He||(He=a[a.length-1]),He.from<Ee&&(He={from:Ee,to:He.to,level:He.level}),He.to>Pe&&(He={from:He.from,to:Pe,level:He.level}),He}function xi(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(li==null){li=z("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)li.appendChild(document.createTextNode("x")),li.appendChild(z("br"));li.appendChild(document.createTextNode("x"))}ne(e.measure,li);var r=li.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),re(e.measure),r||1}function ki(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=z("span","xxxxxxxxxx"),r=z("pre",[t],"CodeMirror-line-like");ne(e.measure,r);var n=t.getBoundingClientRect(),a=(n.right-n.left)/10;return a>2&&(e.cachedCharWidth=a),a||10}function zo(e){for(var t=e.display,r={},n={},a=t.gutters.clientLeft,Z=t.gutters.firstChild,pe=0;Z;Z=Z.nextSibling,++pe){var ve=e.display.gutterSpecs[pe].className;r[ve]=Z.offsetLeft+Z.clientLeft+a,n[ve]=Z.clientWidth}return{fixedPos:qo(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function qo(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function La(e){var t=xi(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/ki(e.display)-3);return function(a){if(G(e.doc,a))return 0;var Z=0;if(a.widgets)for(var pe=0;pe<a.widgets.length;pe++)a.widgets[pe].height&&(Z+=a.widgets[pe].height);return r?Z+(Math.ceil(a.text.length/n)||1)*t:Z+t}}function Wo(e){var t=e.doc,r=La(e);t.iter(function(n){var a=r(n);a!=n.height&&Fn(n,a)})}function ci(e,t,r,n){var a=e.display;if(!r&&ht(t).getAttribute("cm-not-content")=="true")return null;var Z,pe,ve=a.lineSpace.getBoundingClientRect();try{Z=t.clientX-ve.left,pe=t.clientY-ve.top}catch{return null}var Ee,Pe=Uo(e,Z,pe);if(n&&Pe.xRel>0&&(Ee=Mt(e.doc,Pe.line).text).length==Pe.ch){var He=F(Ee,Ee.length,e.options.tabSize)-Ee.length;Pe=Ct(Pe.line,Math.max(0,Math.round((Z-pt(e.display).left)/ki(e.display))-He))}return Pe}function fi(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function Ar(e,t,r,n){t==null&&(t=e.doc.first),r==null&&(r=e.doc.first+e.doc.size),n||(n=0);var a=e.display;if(n&&r<a.viewTo&&(a.updateLineNumbers==null||a.updateLineNumbers>t)&&(a.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=a.viewTo)_&&i(e.doc,t)<a.viewTo&&ei(e);else if(r<=a.viewFrom)_&&o(e.doc,r+n)>a.viewFrom?ei(e):(a.viewFrom+=n,a.viewTo+=n);else if(t<=a.viewFrom&&r>=a.viewTo)ei(e);else if(t<=a.viewFrom){var Z=yo(e,r,r+n,1);Z?(a.view=a.view.slice(Z.index),a.viewFrom=Z.lineN,a.viewTo+=n):ei(e)}else if(r>=a.viewTo){var pe=yo(e,t,t,-1);pe?(a.view=a.view.slice(0,pe.index),a.viewTo=pe.lineN):ei(e)}else{var ve=yo(e,t,t,-1),Ee=yo(e,r,r+n,1);ve&&Ee?(a.view=a.view.slice(0,ve.index).concat(Ir(e,ve.lineN,Ee.lineN)).concat(a.view.slice(Ee.index)),a.viewTo+=n):ei(e)}var Pe=a.externalMeasured;Pe&&(r<Pe.lineN?Pe.lineN+=n:t<Pe.lineN+Pe.size&&(a.externalMeasured=null))}function Qr(e,t,r){e.curOp.viewChanged=!0;var n=e.display,a=e.display.externalMeasured;if(a&&t>=a.lineN&&t<a.lineN+a.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var Z=n.view[fi(e,t)];if(Z.node!=null){var pe=Z.changes||(Z.changes=[]);h(pe,r)==-1&&pe.push(r)}}}function ei(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function yo(e,t,r,n){var a,Z=fi(e,t),pe=e.display.view;if(!_||r==e.doc.first+e.doc.size)return{index:Z,lineN:r};for(var ve=e.display.viewFrom,Ee=0;Ee<Z;Ee++)ve+=pe[Ee].size;if(ve!=t){if(n>0){if(Z==pe.length-1)return null;a=ve+pe[Z].size-t,Z++}else a=ve-t;t+=a,r+=a}for(;i(e.doc,r)!=r;){if(Z==(n<0?0:pe.length-1))return null;r+=n*pe[Z-(n<0?1:0)].size,Z+=n}return{index:Z,lineN:r}}function cu(e,t,r){var n=e.display;n.view.length==0||t>=n.viewTo||r<=n.viewFrom?(n.view=Ir(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=Ir(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(fi(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(Ir(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,fi(e,r)))),n.viewTo=r}function Ba(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var a=t[n];a.hidden||a.node&&!a.changes||++r}return r}function Hi(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Fa(e,t){t===void 0&&(t=!0);for(var r=e.doc,n={},a=n.cursors=document.createDocumentFragment(),Z=n.selection=document.createDocumentFragment(),pe=0;pe<r.sel.ranges.length;pe++)if(t||pe!=r.sel.primIndex){var ve=r.sel.ranges[pe];if(!(ve.from().line>=e.display.viewTo||ve.to().line<e.display.viewFrom)){var Ee=ve.empty();(Ee||e.options.showCursorWhenSelecting)&&Na(e,ve.head,a),Ee||fu(e,ve,Z)}}return n}function Na(e,t,r){var n=Vr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),a=r.appendChild(z("div","\xA0","CodeMirror-cursor"));if(a.style.left=n.left+"px",a.style.top=n.top+"px",a.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var Z=mo(e,t,"div",null,null);Z.right-Z.left>0&&(a.style.width=Z.right-Z.left+"px")}if(n.other){var pe=r.appendChild(z("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));pe.style.display="",pe.style.left=n.other.left+"px",pe.style.top=n.other.top+"px",pe.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function bo(e,t){return e.top-t.top||e.left-t.left}function fu(e,t,r){var n=e.display,a=e.doc,Z=document.createDocumentFragment(),pe=pt(e.display),ve=pe.left,Ee=Math.max(n.sizerWidth,At(e)-n.sizer.offsetLeft)-pe.right,Pe=a.direction=="ltr";function He(qt,yn,mn,xn){yn<0&&(yn=0),yn=Math.round(yn),xn=Math.round(xn),Z.appendChild(z("div",null,"CodeMirror-selected","position: absolute; left: "+qt+`px;
                             top: `+yn+"px; width: "+(mn==null?Ee-qt:mn)+`px;
                             height: `+(xn-yn)+"px"))}function ze(qt,yn,mn){var xn,or,ar=Mt(a,qt),Mr=ar.text.length;function lr(pr,Tr){return mo(e,Ct(qt,pr),"div",ar,Tr)}function Zr(pr,Tr,Sr){var mr=Ma(e,ar,null,pr),vr=Tr=="ltr"==(Sr=="after")?"left":"right";return lr(Sr=="after"?mr.begin:mr.end-(/\s/.test(ar.text.charAt(mr.end-1))?2:1),vr)[vr]}var Lr=It(ar,a.direction);return gt(Lr,yn||0,mn==null?Mr:mn,function(pr,Tr,Sr,mr){var vr=Sr=="ltr",yr=lr(pr,vr?"left":"right"),jr=lr(Tr-1,vr?"right":"left"),ai=yn==null&&pr==0,zr=mn==null&&Tr==Mr,kr=mr==0,br=!Lr||mr==Lr.length-1;if(jr.top-yr.top<=3){var ya=(Pe?zr:ai)&&br,Xr=(Pe?ai:zr)&&kr?ve:(vr?yr:jr).left,vi=ya?Ee:(vr?jr:yr).right;He(Xr,yr.top,vi-Xr,yr.bottom)}else{var mi,Er,Bi,ba;vr?(mi=Pe&&ai&&kr?ve:yr.left,Er=Pe?Ee:Zr(pr,Sr,"before"),Bi=Pe?ve:Zr(Tr,Sr,"after"),ba=Pe&&zr&&br?Ee:jr.right):(mi=Pe?Zr(pr,Sr,"before"):ve,Er=!Pe&&ai&&kr?Ee:yr.right,Bi=!Pe&&zr&&br?ve:jr.left,ba=Pe?Zr(Tr,Sr,"after"):Ee),He(mi,yr.top,Er-mi,yr.bottom),yr.bottom<jr.top&&He(ve,yr.bottom,null,jr.top),He(Bi,jr.top,ba-Bi,jr.bottom)}(!xn||bo(yr,xn)<0)&&(xn=yr),bo(jr,xn)<0&&(xn=jr),(!or||bo(yr,or)<0)&&(or=yr),bo(jr,or)<0&&(or=jr)}),{start:xn,end:or}}var st=t.from(),ut=t.to();if(st.line==ut.line)ze(st.line,st.ch,ut.ch);else{var wt=Mt(a,st.line),jt=Mt(a,ut.line),Vt=Yn(wt)==Yn(jt),rn=ze(st.line,st.ch,Vt?wt.text.length+1:null).end,pn=ze(ut.line,Vt?0:null,ut.ch).start;Vt&&(rn.top<pn.top-2?(He(rn.right,rn.top,null,rn.bottom),He(ve,pn.top,pn.left,pn.bottom)):He(rn.right,rn.top,pn.left-rn.right,rn.bottom)),rn.bottom<pn.top&&He(ve,rn.bottom,null,pn.top)}r.appendChild(Z)}function $o(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||Ci(e),t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Za(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Yo(e))}function Go(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Ci(e))},100)}function Yo(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(it(e,"focus",e,t),e.state.focused=!0,g(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),S&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),$o(e))}function Ci(e,t){e.state.delayingBlurEvent||(e.state.focused&&(it(e,"blur",e,t),e.state.focused=!1,I(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function wo(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=Math.max(0,t.scroller.getBoundingClientRect().top),a=t.lineDiv.getBoundingClientRect().top,Z=0,pe=0;pe<t.view.length;pe++){var ve=t.view[pe],Ee=e.options.lineWrapping,Pe=void 0,He=0;if(!ve.hidden){if(a+=ve.line.height,k&&d<8){var ze=ve.node.offsetTop+ve.node.offsetHeight;Pe=ze-r,r=ze}else{var st=ve.node.getBoundingClientRect();Pe=st.bottom-st.top,!Ee&&ve.text.firstChild&&(He=ve.text.firstChild.getBoundingClientRect().right-st.left-1)}var ut=ve.line.height-Pe;if((ut>.005||ut<-.005)&&(a<n&&(Z-=ut),Fn(ve.line,Pe),Ia(ve.line),ve.rest))for(var wt=0;wt<ve.rest.length;wt++)Ia(ve.rest[wt]);if(He>e.display.sizerWidth){var jt=Math.ceil(He/ki(e.display));jt>e.display.maxLineLength&&(e.display.maxLineLength=jt,e.display.maxLine=ve.line,e.display.maxLineChanged=!0)}}}Math.abs(Z)>2&&(t.scroller.scrollTop+=Z)}function Ia(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function _o(e,t,r){var n=r&&r.top!=null?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Ge(e));var a=r&&r.bottom!=null?r.bottom:n+e.wrapper.clientHeight,Z=hn(t,n),pe=hn(t,a);if(r&&r.ensure){var ve=r.ensure.from.line,Ee=r.ensure.to.line;ve<Z?(Z=ve,pe=hn(t,Be(Mt(t,ve))+e.wrapper.clientHeight)):Math.min(Ee,t.lastLine())>=pe&&(Z=hn(t,Be(Mt(t,Ee))-e.wrapper.clientHeight),pe=Ee)}return{from:Z,to:Math.max(pe,Z+1)}}function hu(e,t){if(!mt(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),a=null;if(t.top+n.top<0?a=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(a=!1),a!=null&&!j){var Z=z("div","\u200B",null,`position: absolute;
                         top: `+(t.top-r.viewOffset-Ge(e.display))+`px;
                         height: `+(t.bottom-t.top+nt(e)+r.barHeight)+`px;
                         left: `+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(Z),Z.scrollIntoView(a),e.display.lineSpace.removeChild(Z)}}}function pu(e,t,r,n){var a;n==null&&(n=0),e.options.lineWrapping||t!=r||(r=t.sticky=="before"?Ct(t.line,t.ch+1,"before"):t,t=t.ch?Ct(t.line,t.sticky=="before"?t.ch-1:t.ch,"after"):t);for(var Z=0;Z<5;Z++){var pe=!1,ve=Vr(e,t),Ee=r&&r!=t?Vr(e,r):ve,Pe=Ko(e,a={left:Math.min(ve.left,Ee.left),top:Math.min(ve.top,Ee.top)-n,right:Math.max(ve.left,Ee.left),bottom:Math.max(ve.bottom,Ee.bottom)+n}),He=e.doc.scrollTop,ze=e.doc.scrollLeft;if(Pe.scrollTop!=null&&(qi(e,Pe.scrollTop),Math.abs(e.doc.scrollTop-He)>1&&(pe=!0)),Pe.scrollLeft!=null&&(hi(e,Pe.scrollLeft),Math.abs(e.doc.scrollLeft-ze)>1&&(pe=!0)),!pe)break}return a}function du(e,t){var r=Ko(e,t);r.scrollTop!=null&&qi(e,r.scrollTop),r.scrollLeft!=null&&hi(e,r.scrollLeft)}function Ko(e,t){var r=e.display,n=xi(e.display);t.top<0&&(t.top=0);var a=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:r.scroller.scrollTop,Z=Ut(e),pe={};t.bottom-t.top>Z&&(t.bottom=t.top+Z);var ve=e.doc.height+Xe(r),Ee=t.top<n,Pe=t.bottom>ve-n;if(t.top<a)pe.scrollTop=Ee?0:t.top;else if(t.bottom>a+Z){var He=Math.min(t.top,(Pe?ve:t.bottom)-Z);He!=a&&(pe.scrollTop=He)}var ze=e.options.fixedGutter?0:r.gutters.offsetWidth,st=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:r.scroller.scrollLeft-ze,ut=At(e)-r.gutters.offsetWidth,wt=t.right-t.left>ut;return wt&&(t.right=t.left+ut),t.left<10?pe.scrollLeft=0:t.left<st?pe.scrollLeft=Math.max(0,t.left+ze-(wt?0:10)):t.right>ut+st-3&&(pe.scrollLeft=t.right+(wt?0:10)-ut),pe}function Xo(e,t){t!=null&&(xo(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Oi(e){xo(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function zi(e,t,r){t==null&&r==null||xo(e),t!=null&&(e.curOp.scrollLeft=t),r!=null&&(e.curOp.scrollTop=r)}function gu(e,t){xo(e),e.curOp.scrollToPos=t}function xo(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Va(e,Da(e,t.from),Da(e,t.to),t.margin))}function Va(e,t,r,n){var a=Ko(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});zi(e,a.scrollLeft,a.scrollTop)}function qi(e,t){Math.abs(e.doc.scrollTop-t)<2||(O||Qo(e,{top:t}),Ua(e,t,!0),O&&Qo(e),Gi(e,100))}function Ua(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function hi(e,t,r,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,$a(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Wi(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+Xe(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+nt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var pi=function(e,t,r){this.cm=r;var n=this.vert=z("div",[z("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),a=this.horiz=z("div",[z("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=a.tabIndex=-1,e(n),e(a),je(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),je(a,"scroll",function(){a.clientWidth&&t(a.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,k&&d<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};pi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var a=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+a)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var Z=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+Z)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(n==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},pi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},pi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},pi.prototype.zeroWidthHack=function(){var e=te&&!w?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new b,this.disableVert=new b},pi.prototype.enableZeroWidthBar=function(e,t,r){function n(){var a=e.getBoundingClientRect();(r=="vert"?document.elementFromPoint(a.right-1,(a.top+a.bottom)/2):document.elementFromPoint((a.right+a.left)/2,a.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},pi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var $i=function(){};function Si(e,t){t||(t=Wi(e));var r=e.display.barWidth,n=e.display.barHeight;Ha(e,t);for(var a=0;a<4&&r!=e.display.barWidth||n!=e.display.barHeight;a++)r!=e.display.barWidth&&e.options.lineWrapping&&wo(e),Ha(e,Wi(e)),r=e.display.barWidth,n=e.display.barHeight}function Ha(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}$i.prototype.update=function(){return{bottom:0,right:0}},$i.prototype.setScrollLeft=function(){},$i.prototype.setScrollTop=function(){},$i.prototype.clear=function(){};var za={native:pi,null:$i};function qa(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&I(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new za[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),je(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){r=="horizontal"?hi(e,t):qi(e,t)},e),e.display.scrollbars.addClass&&g(e.display.wrapper,e.display.scrollbars.addClass)}var vu=0;function di(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++vu,markArrays:null},co(e.curOp)}function gi(e){var t=e.curOp;t&&ho(t,function(r){for(var n=0;n<r.ops.length;n++)r.ops[n].cm.curOp=null;mu(r)})}function mu(e){for(var t=e.ops,r=0;r<t.length;r++)yu(t[r]);for(var n=0;n<t.length;n++)bu(t[n]);for(var a=0;a<t.length;a++)wu(t[a]);for(var Z=0;Z<t.length;Z++)_u(t[Z]);for(var pe=0;pe<t.length;pe++)xu(t[pe])}function yu(e){var t=e.cm,r=t.display;Cu(t),e.updateMaxLine&&Qe(t),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ko(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function bu(e){e.updatedDisplay=e.mustUpdate&&Jo(e.cm,e.update)}function wu(e){var t=e.cm,r=t.display;e.updatedDisplay&&wo(t),e.barMeasure=Wi(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Br(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+nt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-At(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function _u(e){var t=e.cm;e.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&hi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==y();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Si(t,e.barMeasure),e.updatedDisplay&&ta(t,e.barMeasure),e.selectionChanged&&$o(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&Za(e.cm)}function xu(e){var t=e.cm,r=t.display,n=t.doc;e.updatedDisplay&&Wa(t,e.update),r.wheelStartX==null||e.scrollTop==null&&e.scrollLeft==null&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),e.scrollTop!=null&&Ua(t,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&hi(t,e.scrollLeft,!0,!0),e.scrollToPos&&hu(t,pu(t,xt(n,e.scrollToPos.from),xt(n,e.scrollToPos.to),e.scrollToPos.margin));var a=e.maybeHiddenMarkers,Z=e.maybeUnhiddenMarkers;if(a)for(var pe=0;pe<a.length;++pe)a[pe].lines.length||it(a[pe],"hide");if(Z)for(var ve=0;ve<Z.length;++ve)Z[ve].lines.length&&it(Z[ve],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&it(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Rr(e,t){if(e.curOp)return t();di(e);try{return t()}finally{gi(e)}}function wr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);di(e);try{return t.apply(e,arguments)}finally{gi(e)}}}function Or(e){return function(){if(this.curOp)return e.apply(this,arguments);di(this);try{return e.apply(this,arguments)}finally{gi(this)}}}function _r(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);di(t);try{return e.apply(this,arguments)}finally{gi(t)}}}function Gi(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,ae(ku,e))}function ku(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=Kn(e,t.highlightFrontier),a=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(Z){if(n.line>=e.display.viewFrom){var pe=Z.styles,ve=Z.text.length>e.options.maxHighlightLength?An(t.mode,n.state):null,Ee=rr(e,Z,n,!0);ve&&(n.state=ve),Z.styles=Ee.styles;var Pe=Z.styleClasses,He=Ee.classes;He?Z.styleClasses=He:Pe&&(Z.styleClasses=null);for(var ze=!pe||pe.length!=Z.styles.length||Pe!=He&&(!Pe||!He||Pe.bgClass!=He.bgClass||Pe.textClass!=He.textClass),st=0;!ze&&st<pe.length;++st)ze=pe[st]!=Z.styles[st];ze&&a.push(n.line),Z.stateAfter=n.save(),n.nextLine()}else Z.text.length<=e.options.maxHighlightLength&&Jn(e,Z.text,n),Z.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return Gi(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),a.length&&Rr(e,function(){for(var Z=0;Z<a.length;Z++)Qr(e,a[Z],"text")})}}var ko=function(e,t,r){var n=e.display;this.viewport=t,this.visible=_o(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=At(e),this.force=r,this.dims=zo(e),this.events=[]};function Cu(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=nt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=nt(e)+"px",t.scrollbarsClipped=!0)}function Ou(e){if(e.hasFocus())return null;var t=y();if(!t||!u(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&u(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}function Su(e){if(e&&e.activeElt&&e.activeElt!=y()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&u(document.body,e.anchorNode)&&u(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}function Jo(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return ei(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&Ba(e)==0)return!1;Ga(e)&&(ei(e),t.dims=zo(e));var a=n.first+n.size,Z=Math.max(t.visible.from-e.options.viewportMargin,n.first),pe=Math.min(a,t.visible.to+e.options.viewportMargin);r.viewFrom<Z&&Z-r.viewFrom<20&&(Z=Math.max(n.first,r.viewFrom)),r.viewTo>pe&&r.viewTo-pe<20&&(pe=Math.min(a,r.viewTo)),_&&(Z=i(e.doc,Z),pe=o(e.doc,pe));var ve=Z!=r.viewFrom||pe!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;cu(e,Z,pe),r.viewOffset=Be(Mt(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var Ee=Ba(e);if(!ve&&Ee==0&&!t.force&&r.renderedView==r.view&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo))return!1;var Pe=Ou(e);return Ee>4&&(r.lineDiv.style.display="none"),Eu(e,r.updateLineNumbers,t.dims),Ee>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,Su(Pe),re(r.cursorDiv),re(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,ve&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,Gi(e,400)),r.updateLineNumbers=null,!0}function Wa(e,t){for(var r=t.viewport,n=!0;;n=!1){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=At(e))n&&(t.visible=_o(e.display,e.doc,r));else if(r&&r.top!=null&&(r={top:Math.min(e.doc.height+Xe(e.display)-Ut(e),r.top)}),t.visible=_o(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Jo(e,t))break;wo(e);var a=Wi(e);Hi(e),Si(e,a),ta(e,a),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Qo(e,t){var r=new ko(e,t);if(Jo(e,r)){wo(e),Wa(e,r);var n=Wi(e);Hi(e),Si(e,n),ta(e,n),r.finish()}}function Eu(e,t,r){var n=e.display,a=e.options.lineNumbers,Z=n.lineDiv,pe=Z.firstChild;function ve(wt){var jt=wt.nextSibling;return S&&te&&e.display.currentWheelTarget==wt?wt.style.display="none":wt.parentNode.removeChild(wt),jt}for(var Ee=n.view,Pe=n.viewFrom,He=0;He<Ee.length;He++){var ze=Ee[He];if(!ze.hidden)if(ze.node&&ze.node.parentNode==Z){for(;pe!=ze.node;)pe=ve(pe);var st=a&&t!=null&&t<=Pe&&ze.lineNumber;ze.changes&&(h(ze.changes,"gutter")>-1&&(st=!1),Fi(e,ze,Pe,r)),st&&(re(ze.lineNumber),ze.lineNumber.appendChild(document.createTextNode(sr(e.options,Pe)))),pe=ze.node.nextSibling}else{var ut=Vi(e,ze,Pe,r);Z.insertBefore(ut,pe)}Pe+=ze.size}for(;pe;)pe=ve(pe)}function ea(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",dr(e,"gutterChanged",e)}function ta(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+nt(e)+"px"}function $a(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=qo(t)-t.scroller.scrollLeft+e.doc.scrollLeft,a=t.gutters.offsetWidth,Z=n+"px",pe=0;pe<r.length;pe++)if(!r[pe].hidden){e.options.fixedGutter&&(r[pe].gutter&&(r[pe].gutter.style.left=Z),r[pe].gutterBackground&&(r[pe].gutterBackground.style.left=Z));var ve=r[pe].alignable;if(ve)for(var Ee=0;Ee<ve.length;Ee++)ve[Ee].style.left=Z}e.options.fixedGutter&&(t.gutters.style.left=n+a+"px")}}function Ga(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=sr(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var a=n.measure.appendChild(z("div",[z("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),Z=a.firstChild.offsetWidth,pe=a.offsetWidth-Z;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(Z,n.lineGutter.offsetWidth-pe)+1,n.lineNumWidth=n.lineNumInnerWidth+pe,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",ea(e.display),!0}return!1}function na(e,t){for(var r=[],n=!1,a=0;a<e.length;a++){var Z=e[a],pe=null;if(typeof Z!="string"&&(pe=Z.style,Z=Z.className),Z=="CodeMirror-linenumbers"){if(!t)continue;n=!0}r.push({className:Z,style:pe})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function Ya(e){var t=e.gutters,r=e.gutterSpecs;re(t),e.lineGutter=null;for(var n=0;n<r.length;++n){var a=r[n],Z=a.className,pe=a.style,ve=t.appendChild(z("div",null,"CodeMirror-gutter "+Z));pe&&(ve.style.cssText=pe),Z=="CodeMirror-linenumbers"&&(e.lineGutter=ve,ve.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",ea(e)}function Yi(e){Ya(e.display),Ar(e),$a(e)}function Au(e,t,r,n){var a=this;this.input=r,a.scrollbarFiller=z("div",null,"CodeMirror-scrollbar-filler"),a.scrollbarFiller.setAttribute("cm-not-content","true"),a.gutterFiller=z("div",null,"CodeMirror-gutter-filler"),a.gutterFiller.setAttribute("cm-not-content","true"),a.lineDiv=Y("div",null,"CodeMirror-code"),a.selectionDiv=z("div",null,null,"position: relative; z-index: 1"),a.cursorDiv=z("div",null,"CodeMirror-cursors"),a.measure=z("div",null,"CodeMirror-measure"),a.lineMeasure=z("div",null,"CodeMirror-measure"),a.lineSpace=Y("div",[a.measure,a.lineMeasure,a.selectionDiv,a.cursorDiv,a.lineDiv],null,"position: relative; outline: none");var Z=Y("div",[a.lineSpace],"CodeMirror-lines");a.mover=z("div",[Z],null,"position: relative"),a.sizer=z("div",[a.mover],"CodeMirror-sizer"),a.sizerWidth=null,a.heightForcer=z("div",null,null,"position: absolute; height: "+V+"px; width: 1px;"),a.gutters=z("div",null,"CodeMirror-gutters"),a.lineGutter=null,a.scroller=z("div",[a.sizer,a.heightForcer,a.gutters],"CodeMirror-scroll"),a.scroller.setAttribute("tabIndex","-1"),a.wrapper=z("div",[a.scrollbarFiller,a.gutterFiller,a.scroller],"CodeMirror"),a.wrapper.setAttribute("translate","no"),k&&d<8&&(a.gutters.style.zIndex=-1,a.scroller.style.paddingRight=0),S||O&&X||(a.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(a.wrapper):e(a.wrapper)),a.viewFrom=a.viewTo=t.first,a.reportedViewFrom=a.reportedViewTo=t.first,a.view=[],a.renderedView=null,a.externalMeasured=null,a.viewOffset=0,a.lastWrapHeight=a.lastWrapWidth=0,a.updateLineNumbers=null,a.nativeBarWidth=a.barHeight=a.barWidth=0,a.scrollbarsClipped=!1,a.lineNumWidth=a.lineNumInnerWidth=a.lineNumChars=null,a.alignWidgets=!1,a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.maxLine=null,a.maxLineLength=0,a.maxLineChanged=!1,a.wheelDX=a.wheelDY=a.wheelStartX=a.wheelStartY=null,a.shift=!1,a.selForContextMenu=null,a.activeTouch=null,a.gutterSpecs=na(n.gutters,n.lineNumbers),Ya(a),r.init(a)}ko.prototype.signal=function(e,t){tn(e,t)&&this.events.push(arguments)},ko.prototype.finish=function(){for(var e=0;e<this.events.length;e++)it.apply(null,this.events[e])};var Co=0,Fr=null;function Ka(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),r==null&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:r==null&&(r=e.wheelDelta),{x:t,y:r}}function Pu(e){var t=Ka(e);return t.x*=Fr,t.y*=Fr,t}function Xa(e,t){var r=Ka(t),n=r.x,a=r.y,Z=e.display,pe=Z.scroller,ve=pe.scrollWidth>pe.clientWidth,Ee=pe.scrollHeight>pe.clientHeight;if(n&&ve||a&&Ee){if(a&&te&&S){e:for(var Pe=t.target,He=Z.view;Pe!=pe;Pe=Pe.parentNode)for(var ze=0;ze<He.length;ze++)if(He[ze].node==Pe){e.display.currentWheelTarget=Pe;break e}}if(n&&!O&&!l&&Fr!=null)return a&&Ee&&qi(e,Math.max(0,pe.scrollTop+a*Fr)),hi(e,Math.max(0,pe.scrollLeft+n*Fr)),(!a||a&&Ee)&&et(t),void(Z.wheelStartX=null);if(a&&Fr!=null){var st=a*Fr,ut=e.doc.scrollTop,wt=ut+Z.wrapper.clientHeight;st<0?ut=Math.max(0,ut+st-50):wt=Math.min(e.doc.height,wt+st+50),Qo(e,{top:ut,bottom:wt})}Co<20&&(Z.wheelStartX==null?(Z.wheelStartX=pe.scrollLeft,Z.wheelStartY=pe.scrollTop,Z.wheelDX=n,Z.wheelDY=a,setTimeout(function(){if(Z.wheelStartX!=null){var jt=pe.scrollLeft-Z.wheelStartX,Vt=pe.scrollTop-Z.wheelStartY,rn=Vt&&Z.wheelDY&&Vt/Z.wheelDY||jt&&Z.wheelDX&&jt/Z.wheelDX;Z.wheelStartX=Z.wheelStartY=null,rn&&(Fr=(Fr*Co+rn)/(Co+1),++Co)}},200)):(Z.wheelDX+=n,Z.wheelDY+=a))}}k?Fr=-.53:O?Fr=15:f?Fr=-.7:v&&(Fr=-.3333333333333333);var Nr=function(e,t){this.ranges=e,this.primIndex=t};Nr.prototype.primary=function(){return this.ranges[this.primIndex]},Nr.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!De(r.anchor,n.anchor)||!De(r.head,n.head))return!1}return!0},Nr.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new nr(Ie(this.ranges[t].anchor),Ie(this.ranges[t].head));return new Nr(e,this.primIndex)},Nr.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},Nr.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(ln(t,n.from())>=0&&ln(e,n.to())<=0)return r}return-1};var nr=function(e,t){this.anchor=e,this.head=t};function Ur(e,t,r){var n=e&&e.options.selectionsMayTouch,a=t[r];t.sort(function(st,ut){return ln(st.from(),ut.from())}),r=h(t,a);for(var Z=1;Z<t.length;Z++){var pe=t[Z],ve=t[Z-1],Ee=ln(ve.to(),pe.from());if(n&&!pe.empty()?Ee>0:Ee>=0){var Pe=Nt(ve.from(),pe.from()),He=vt(ve.to(),pe.to()),ze=ve.empty()?pe.from()==pe.head:ve.from()==ve.head;Z<=r&&--r,t.splice(--Z,2,new nr(ze?He:Pe,ze?Pe:He))}}return new Nr(t,r)}function ti(e,t){return new Nr([new nr(e,t||e)],0)}function ni(e){return e.text?Ct(e.from.line+e.text.length-1,R(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function Ja(e,t){if(ln(e,t.from)<0)return e;if(ln(e,t.to)<=0)return ni(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=ni(t).ch-t.to.ch),Ct(r,n)}function ra(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var a=e.sel.ranges[n];r.push(new nr(Ja(a.anchor,t),Ja(a.head,t)))}return Ur(e.cm,r,e.sel.primIndex)}function Qa(e,t,r){return e.line==t.line?Ct(r.line,e.ch-t.ch+r.ch):Ct(r.line+(e.line-t.line),e.ch)}function Tu(e,t,r){for(var n=[],a=Ct(e.first,0),Z=a,pe=0;pe<t.length;pe++){var ve=t[pe],Ee=Qa(ve.from,a,Z),Pe=Qa(ni(ve),a,Z);if(a=ve.to,Z=Pe,r=="around"){var He=e.sel.ranges[pe],ze=ln(He.head,He.anchor)<0;n[pe]=new nr(ze?Pe:Ee,ze?Ee:Pe)}else n[pe]=new nr(Ee,Ee)}return new Nr(n,e.sel.primIndex)}function ia(e){e.doc.mode=bn(e.options,e.doc.modeOption),Ki(e)}function Ki(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Gi(e,100),e.state.modeGen++,e.curOp&&Ar(e)}function es(e,t){return t.from.ch==0&&t.to.ch==0&&R(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function oa(e,t,r,n){function a(pn){return r?r[pn]:null}function Z(pn,qt,yn){kt(pn,qt,yn,n),dr(pn,"change",pn,t)}function pe(pn,qt){for(var yn=[],mn=pn;mn<qt;++mn)yn.push(new dt(Pe[mn],a(mn),n));return yn}var ve=t.from,Ee=t.to,Pe=t.text,He=Mt(e,ve.line),ze=Mt(e,Ee.line),st=R(Pe),ut=a(Pe.length-1),wt=Ee.line-ve.line;if(t.full)e.insert(0,pe(0,Pe.length)),e.remove(Pe.length,e.size-Pe.length);else if(es(e,t)){var jt=pe(0,Pe.length-1);Z(ze,ze.text,ut),wt&&e.remove(ve.line,wt),jt.length&&e.insert(ve.line,jt)}else if(He==ze)if(Pe.length==1)Z(He,He.text.slice(0,ve.ch)+st+He.text.slice(Ee.ch),ut);else{var Vt=pe(1,Pe.length-1);Vt.push(new dt(st+He.text.slice(Ee.ch),ut,n)),Z(He,He.text.slice(0,ve.ch)+Pe[0],a(0)),e.insert(ve.line+1,Vt)}else if(Pe.length==1)Z(He,He.text.slice(0,ve.ch)+Pe[0]+ze.text.slice(Ee.ch),a(0)),e.remove(ve.line+1,wt);else{Z(He,He.text.slice(0,ve.ch)+Pe[0],a(0)),Z(ze,st+ze.text.slice(Ee.ch),ut);var rn=pe(1,Pe.length-1);wt>1&&e.remove(ve.line+1,wt-1),e.insert(ve.line+1,rn)}dr(e,"change",e,t)}function ri(e,t,r){function n(a,Z,pe){if(a.linked)for(var ve=0;ve<a.linked.length;++ve){var Ee=a.linked[ve];if(Ee.doc!=Z){var Pe=pe&&Ee.sharedHist;r&&!Pe||(t(Ee.doc,Pe),n(Ee.doc,a,Pe))}}}n(e,null,!0)}function ts(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Wo(e),ia(e),ns(e),e.options.direction=t.direction,e.options.lineWrapping||Qe(e),e.options.mode=t.modeOption,Ar(e)}function ns(e){(e.doc.direction=="rtl"?g:I)(e.display.lineDiv,"CodeMirror-rtl")}function ju(e){Rr(e,function(){ns(e),Ar(e)})}function Oo(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function aa(e,t){var r={from:Ie(t.from),to:ni(t),text:Rn(e,t.from,t.to)};return os(e,r,t.from.line,t.to.line+1),ri(e,function(n){return os(n,r,t.from.line,t.to.line+1)},!0),r}function rs(e){for(;e.length&&R(e).ranges;)e.pop()}function Du(e,t){return t?(rs(e.done),R(e.done)):e.done.length&&!R(e.done).ranges?R(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),R(e.done)):void 0}function is(e,t,r,n){var a=e.history;a.undone.length=0;var Z,pe,ve=+new Date;if((a.lastOp==n||a.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&a.lastModTime>ve-(e.cm?e.cm.options.historyEventDelay:500)||t.origin.charAt(0)=="*"))&&(Z=Du(a,a.lastOp==n)))pe=R(Z.changes),ln(t.from,t.to)==0&&ln(t.from,pe.to)==0?pe.to=ni(t):Z.changes.push(aa(e,t));else{var Ee=R(a.done);for(Ee&&Ee.ranges||So(e.sel,a.done),Z={changes:[aa(e,t)],generation:a.generation},a.done.push(Z);a.done.length>a.undoDepth;)a.done.shift(),a.done[0].ranges||a.done.shift()}a.done.push(r),a.generation=++a.maxGeneration,a.lastModTime=a.lastSelTime=ve,a.lastOp=a.lastSelOp=n,a.lastOrigin=a.lastSelOrigin=t.origin,pe||it(e,"historyAdded")}function Ru(e,t,r,n){var a=t.charAt(0);return a=="*"||a=="+"&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Mu(e,t,r,n){var a=e.history,Z=n&&n.origin;r==a.lastSelOp||Z&&a.lastSelOrigin==Z&&(a.lastModTime==a.lastSelTime&&a.lastOrigin==Z||Ru(e,Z,R(a.done),t))?a.done[a.done.length-1]=t:So(t,a.done),a.lastSelTime=+new Date,a.lastSelOrigin=Z,a.lastSelOp=r,n&&n.clearRedo!==!1&&rs(a.undone)}function So(e,t){var r=R(t);r&&r.ranges&&r.equals(e)||t.push(e)}function os(e,t,r,n){var a=t["spans_"+e.id],Z=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(pe){pe.markedSpans&&((a||(a=t["spans_"+e.id]={}))[Z]=pe.markedSpans),++Z})}function Lu(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function Bu(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],a=0;a<t.text.length;++a)n.push(Lu(r[a]));return n}function as(e,t){var r=Bu(e,t),n=_t(e,t);if(!r)return n;if(!n)return r;for(var a=0;a<r.length;++a){var Z=r[a],pe=n[a];if(Z&&pe)e:for(var ve=0;ve<pe.length;++ve){for(var Ee=pe[ve],Pe=0;Pe<Z.length;++Pe)if(Z[Pe].marker==Ee.marker)continue e;Z.push(Ee)}else pe&&(r[a]=pe)}return r}function Ei(e,t,r){for(var n=[],a=0;a<e.length;++a){var Z=e[a];if(Z.ranges)n.push(r?Nr.prototype.deepCopy.call(Z):Z);else{var pe=Z.changes,ve=[];n.push({changes:ve});for(var Ee=0;Ee<pe.length;++Ee){var Pe=pe[Ee],He=void 0;if(ve.push({from:Pe.from,to:Pe.to,text:Pe.text}),t)for(var ze in Pe)(He=ze.match(/^spans_(\d+)$/))&&h(t,Number(He[1]))>-1&&(R(ve)[ze]=Pe[ze],delete Pe[ze])}}}return n}function sa(e,t,r,n){if(n){var a=e.anchor;if(r){var Z=ln(t,a)<0;Z!=ln(r,a)<0?(a=t,t=r):Z!=ln(t,r)<0&&(t=r)}return new nr(a,t)}return new nr(r||t,t)}function Eo(e,t,r,n,a){a==null&&(a=e.cm&&(e.cm.display.shift||e.extend)),xr(e,new Nr([sa(e.sel.primary(),t,r,a)],0),n)}function ss(e,t,r){for(var n=[],a=e.cm&&(e.cm.display.shift||e.extend),Z=0;Z<e.sel.ranges.length;Z++)n[Z]=sa(e.sel.ranges[Z],t[Z],null,a);xr(e,Ur(e.cm,n,e.sel.primIndex),r)}function ua(e,t,r,n){var a=e.sel.ranges.slice(0);a[t]=r,xr(e,Ur(e.cm,a,e.sel.primIndex),n)}function us(e,t,r,n){xr(e,ti(t,r),n)}function Fu(e,t,r){var n={ranges:t.ranges,update:function(a){this.ranges=[];for(var Z=0;Z<a.length;Z++)this.ranges[Z]=new nr(xt(e,a[Z].anchor),xt(e,a[Z].head))},origin:r&&r.origin};return it(e,"beforeSelectionChange",e,n),e.cm&&it(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?Ur(e.cm,n.ranges,n.ranges.length-1):t}function ls(e,t,r){var n=e.history.done,a=R(n);a&&a.ranges?(n[n.length-1]=t,Ao(e,t,r)):xr(e,t,r)}function xr(e,t,r){Ao(e,t,r),Mu(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Ao(e,t,r){(tn(e,"beforeSelectionChange")||e.cm&&tn(e.cm,"beforeSelectionChange"))&&(t=Fu(e,t,r));var n=r&&r.bias||(ln(t.primary().head,e.sel.primary().head)<0?-1:1);cs(e,hs(e,t,n,!0)),r&&r.scroll===!1||!e.cm||e.cm.getOption("readOnly")=="nocursor"||Oi(e.cm)}function cs(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,St(e.cm)),dr(e,"cursorActivity",e))}function fs(e){cs(e,hs(e,e.sel,null,!1))}function hs(e,t,r,n){for(var a,Z=0;Z<t.ranges.length;Z++){var pe=t.ranges[Z],ve=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[Z],Ee=Po(e,pe.anchor,ve&&ve.anchor,r,n),Pe=Po(e,pe.head,ve&&ve.head,r,n);(a||Ee!=pe.anchor||Pe!=pe.head)&&(a||(a=t.ranges.slice(0,Z)),a[Z]=new nr(Ee,Pe))}return a?Ur(e.cm,a,t.primIndex):t}function Ai(e,t,r,n,a){var Z=Mt(e,t.line);if(Z.markedSpans)for(var pe=0;pe<Z.markedSpans.length;++pe){var ve=Z.markedSpans[pe],Ee=ve.marker,Pe="selectLeft"in Ee?!Ee.selectLeft:Ee.inclusiveLeft,He="selectRight"in Ee?!Ee.selectRight:Ee.inclusiveRight;if((ve.from==null||(Pe?ve.from<=t.ch:ve.from<t.ch))&&(ve.to==null||(He?ve.to>=t.ch:ve.to>t.ch))){if(a&&(it(Ee,"beforeCursorEnter"),Ee.explicitlyCleared)){if(Z.markedSpans){--pe;continue}break}if(!Ee.atomic)continue;if(r){var ze=Ee.find(n<0?1:-1),st=void 0;if((n<0?He:Pe)&&(ze=ps(e,ze,-n,ze&&ze.line==t.line?Z:null)),ze&&ze.line==t.line&&(st=ln(ze,r))&&(n<0?st<0:st>0))return Ai(e,ze,t,n,a)}var ut=Ee.find(n<0?-1:1);return(n<0?Pe:He)&&(ut=ps(e,ut,n,ut.line==t.line?Z:null)),ut?Ai(e,ut,t,n,a):null}}return t}function Po(e,t,r,n,a){var Z=n||1,pe=Ai(e,t,r,Z,a)||!a&&Ai(e,t,r,Z,!0)||Ai(e,t,r,-Z,a)||!a&&Ai(e,t,r,-Z,!0);return pe||(e.cantEdit=!0,Ct(e.first,0))}function ps(e,t,r,n){return r<0&&t.ch==0?t.line>e.first?xt(e,Ct(t.line-1)):null:r>0&&t.ch==(n||Mt(e,t.line)).text.length?t.line<e.first+e.size-1?Ct(t.line+1,0):null:new Ct(t.line,t.ch+r)}function ds(e){e.setSelection(Ct(e.firstLine(),0),Ct(e.lastLine()),T)}function gs(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(a,Z,pe,ve){a&&(n.from=xt(e,a)),Z&&(n.to=xt(e,Z)),pe&&(n.text=pe),ve!==void 0&&(n.origin=ve)}),it(e,"beforeChange",e,n),e.cm&&it(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Pi(e,t,r){if(e.cm){if(!e.cm.curOp)return wr(e.cm,Pi)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(tn(e,"beforeChange")||e.cm&&tn(e.cm,"beforeChange"))||(t=gs(e,t,!0))){var n=le&&!r&&Qt(e,t.from,t.to);if(n)for(var a=n.length-1;a>=0;--a)vs(e,{from:n[a].from,to:n[a].to,text:a?[""]:t.text,origin:t.origin});else vs(e,t)}}function vs(e,t){if(t.text.length!=1||t.text[0]!=""||ln(t.from,t.to)!=0){var r=ra(e,t);is(e,t,r,e.cm?e.cm.curOp.id:NaN),Xi(e,t,r,_t(e,t));var n=[];ri(e,function(a,Z){Z||h(n,a.history)!=-1||(ws(a.history,t),n.push(a.history)),Xi(a,t,null,_t(a,t))})}}function To(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var a,Z=e.history,pe=e.sel,ve=t=="undo"?Z.done:Z.undone,Ee=t=="undo"?Z.undone:Z.done,Pe=0;Pe<ve.length&&(a=ve[Pe],r?!a.ranges||a.equals(e.sel):a.ranges);Pe++);if(Pe!=ve.length){for(Z.lastOrigin=Z.lastSelOrigin=null;;){if(!(a=ve.pop()).ranges){if(n)return void ve.push(a);break}if(So(a,Ee),r&&!a.equals(e.sel))return void xr(e,a,{clearRedo:!1});pe=a}var He=[];So(pe,Ee),Ee.push({changes:He,generation:Z.generation}),Z.generation=a.generation||++Z.maxGeneration;for(var ze=tn(e,"beforeChange")||e.cm&&tn(e.cm,"beforeChange"),st=function(jt){var Vt=a.changes[jt];if(Vt.origin=t,ze&&!gs(e,Vt,!1))return ve.length=0,{};He.push(aa(e,Vt));var rn=jt?ra(e,Vt):R(ve);Xi(e,Vt,rn,as(e,Vt)),!jt&&e.cm&&e.cm.scrollIntoView({from:Vt.from,to:ni(Vt)});var pn=[];ri(e,function(qt,yn){yn||h(pn,qt.history)!=-1||(ws(qt.history,Vt),pn.push(qt.history)),Xi(qt,Vt,null,as(qt,Vt))})},ut=a.changes.length-1;ut>=0;--ut){var wt=st(ut);if(wt)return wt.v}}}}function ms(e,t){if(t!=0&&(e.first+=t,e.sel=new Nr(ue(e.sel.ranges,function(a){return new nr(Ct(a.anchor.line+t,a.anchor.ch),Ct(a.head.line+t,a.head.ch))}),e.sel.primIndex),e.cm)){Ar(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)Qr(e.cm,n,"gutter")}}function Xi(e,t,r,n){if(e.cm&&!e.cm.curOp)return wr(e.cm,Xi)(e,t,r,n);if(t.to.line<e.first)ms(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var a=t.text.length-1-(e.first-t.from.line);ms(e,a),t={from:Ct(e.first,0),to:Ct(t.to.line+a,t.to.ch),text:[R(t.text)],origin:t.origin}}var Z=e.lastLine();t.to.line>Z&&(t={from:t.from,to:Ct(Z,Mt(e,Z).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Rn(e,t.from,t.to),r||(r=ra(e,t)),e.cm?Nu(e.cm,t,n):oa(e,t,n),Ao(e,r,T),e.cantEdit&&Po(e,Ct(e.firstLine(),0))&&(e.cantEdit=!1)}}function Nu(e,t,r){var n=e.doc,a=e.display,Z=t.from,pe=t.to,ve=!1,Ee=Z.line;e.options.lineWrapping||(Ee=Wt(Yn(Mt(n,Z.line))),n.iter(Ee,pe.line+1,function(ut){if(ut==a.maxLine)return ve=!0,!0})),n.sel.contains(t.from,t.to)>-1&&St(e),oa(n,t,r,La(e)),e.options.lineWrapping||(n.iter(Ee,Z.line+t.text.length,function(ut){var wt=Le(ut);wt>a.maxLineLength&&(a.maxLine=ut,a.maxLineLength=wt,a.maxLineChanged=!0,ve=!1)}),ve&&(e.curOp.updateMaxLine=!0)),W(n,Z.line),Gi(e,400);var Pe=t.text.length-(pe.line-Z.line)-1;t.full?Ar(e):Z.line!=pe.line||t.text.length!=1||es(e.doc,t)?Ar(e,Z.line,pe.line+1,Pe):Qr(e,Z.line,"text");var He=tn(e,"changes"),ze=tn(e,"change");if(ze||He){var st={from:Z,to:pe,text:t.text,removed:t.removed,origin:t.origin};ze&&dr(e,"change",e,st),He&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(st)}e.display.selForContextMenu=null}function Ti(e,t,r,n,a){var Z;n||(n=r),ln(n,r)<0&&(r=(Z=[n,r])[0],n=Z[1]),typeof t=="string"&&(t=e.splitLines(t)),Pi(e,{from:r,to:n,text:t,origin:a})}function ys(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function bs(e,t,r,n){for(var a=0;a<e.length;++a){var Z=e[a],pe=!0;if(Z.ranges){Z.copied||((Z=e[a]=Z.deepCopy()).copied=!0);for(var ve=0;ve<Z.ranges.length;ve++)ys(Z.ranges[ve].anchor,t,r,n),ys(Z.ranges[ve].head,t,r,n)}else{for(var Ee=0;Ee<Z.changes.length;++Ee){var Pe=Z.changes[Ee];if(r<Pe.from.line)Pe.from=Ct(Pe.from.line+n,Pe.from.ch),Pe.to=Ct(Pe.to.line+n,Pe.to.ch);else if(t<=Pe.to.line){pe=!1;break}}pe||(e.splice(0,a+1),a=0)}}}function ws(e,t){var r=t.from.line,n=t.to.line,a=t.text.length-(n-r)-1;bs(e.done,r,n,a),bs(e.undone,r,n,a)}function Ji(e,t,r,n){var a=t,Z=t;return typeof t=="number"?Z=Mt(e,rt(e,t)):a=Wt(t),a==null?null:(n(Z,a)&&e.cm&&Qr(e.cm,a,r),Z)}function Qi(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function eo(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var a=e[n];t+=a.chunkSize(),r+=a.height,a.parent=this}this.size=t,this.height=r,this.parent=null}nr.prototype.from=function(){return Nt(this.anchor,this.head)},nr.prototype.to=function(){return vt(this.anchor,this.head)},nr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Qi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var a=this.lines[r];this.height-=a.height,Pt(a),dr(a,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},eo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],a=n.chunkSize();if(e<a){var Z=Math.min(t,a-e),pe=n.height;if(n.removeInner(e,Z),this.height-=pe-n.height,a==Z&&(this.children.splice(r--,1),n.parent=null),(t-=Z)==0)break;e=0}else e-=a}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Qi))){var ve=[];this.collapse(ve),this.children=[new Qi(ve)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var a=this.children[n],Z=a.chunkSize();if(e<=Z){if(a.insertInner(e,t,r),a.lines&&a.lines.length>50){for(var pe=a.lines.length%25+25,ve=pe;ve<a.lines.length;){var Ee=new Qi(a.lines.slice(ve,ve+=25));a.height-=Ee.height,this.children.splice(++n,0,Ee),Ee.parent=this}a.lines=a.lines.slice(0,pe),this.maybeSpill()}break}e-=Z}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new eo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=h(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new eo(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var a=this.children[n],Z=a.chunkSize();if(e<Z){var pe=Math.min(t,Z-e);if(a.iterN(e,pe,r))return!0;if((t-=pe)==0)break;e=0}else e-=Z}}};var to=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};function _s(e,t,r){Be(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Xo(e,r)}function Zu(e,t,r,n){var a=new to(e,r,n),Z=e.cm;return Z&&a.noHScroll&&(Z.display.alignWidgets=!0),Ji(e,t,"widget",function(pe){var ve=pe.widgets||(pe.widgets=[]);if(a.insertAt==null?ve.push(a):ve.splice(Math.min(ve.length,Math.max(0,a.insertAt)),0,a),a.line=pe,Z&&!G(e,pe)){var Ee=Be(pe)<e.scrollTop;Fn(pe,pe.height+Oe(a)),Ee&&Xo(Z,a.height),Z.curOp.forceUpdate=!0}return!0}),Z&&dr(Z,"lineWidgetAdded",Z,a,typeof t=="number"?t:Wt(t)),a}to.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=Wt(r);if(n!=null&&t){for(var a=0;a<t.length;++a)t[a]==this&&t.splice(a--,1);t.length||(r.widgets=null);var Z=Oe(this);Fn(r,Math.max(0,r.height-Z)),e&&(Rr(e,function(){_s(e,r,-Z),Qr(e,n,"widget")}),dr(e,"lineWidgetCleared",e,this,n))}},to.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var a=Oe(this)-t;a&&(G(this.doc,n)||Fn(n,n.height+a),r&&Rr(r,function(){r.curOp.forceUpdate=!0,_s(r,n,a),dr(r,"lineWidgetChanged",r,e,Wt(n))}))},Ue(to);var xs=0,ii=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++xs};function ji(e,t,r,n,a){if(n&&n.shared)return Iu(e,t,r,n,a);if(e.cm&&!e.cm.curOp)return wr(e.cm,ji)(e,t,r,n,a);var Z=new ii(e,a),pe=ln(t,r);if(n&&K(n,Z,!1),pe>0||pe==0&&Z.clearWhenEmpty!==!1)return Z;if(Z.replacedWith&&(Z.collapsed=!0,Z.widgetNode=Y("span",[Z.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||Z.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(Z.widgetNode.insertLeft=!0)),Z.collapsed){if(On(e,t.line,t,r,Z)||t.line!=r.line&&On(e,r.line,t,r,Z))throw new Error("Inserting collapsed marker partially overlapping an existing one");ke()}Z.addToHistory&&is(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var ve,Ee=t.line,Pe=e.cm;if(e.iter(Ee,r.line+1,function(ze){Pe&&Z.collapsed&&!Pe.options.lineWrapping&&Yn(ze)==Pe.display.maxLine&&(ve=!0),Z.collapsed&&Ee!=t.line&&Fn(ze,0),at(ze,new Re(Z,Ee==t.line?t.ch:null,Ee==r.line?r.ch:null),e.cm&&e.cm.curOp),++Ee}),Z.collapsed&&e.iter(t.line,r.line+1,function(ze){G(e,ze)&&Fn(ze,0)}),Z.clearOnEnter&&je(Z,"beforeCursorEnter",function(){return Z.clear()}),Z.readOnly&&(fe(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),Z.collapsed&&(Z.id=++xs,Z.atomic=!0),Pe){if(ve&&(Pe.curOp.updateMaxLine=!0),Z.collapsed)Ar(Pe,t.line,r.line+1);else if(Z.className||Z.startStyle||Z.endStyle||Z.css||Z.attributes||Z.title)for(var He=t.line;He<=r.line;He++)Qr(Pe,He,"text");Z.atomic&&fs(Pe.doc),dr(Pe,"markerAdded",Pe,Z)}return Z}ii.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&di(e),tn(this,"clear")){var r=this.find();r&&dr(this,"clear",r.from,r.to)}for(var n=null,a=null,Z=0;Z<this.lines.length;++Z){var pe=this.lines[Z],ve=Ze(pe.markedSpans,this);e&&!this.collapsed?Qr(e,Wt(pe),"text"):e&&(ve.to!=null&&(a=Wt(pe)),ve.from!=null&&(n=Wt(pe))),pe.markedSpans=Ke(pe.markedSpans,ve),ve.from==null&&this.collapsed&&!G(this.doc,pe)&&e&&Fn(pe,xi(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var Ee=0;Ee<this.lines.length;++Ee){var Pe=Yn(this.lines[Ee]),He=Le(Pe);He>e.display.maxLineLength&&(e.display.maxLine=Pe,e.display.maxLineLength=He,e.display.maxLineChanged=!0)}n!=null&&e&&this.collapsed&&Ar(e,n,a+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&fs(e.doc)),e&&dr(e,"markerCleared",e,this,n,a),t&&gi(e),this.parent&&this.parent.clear()}},ii.prototype.find=function(e,t){var r,n;e==null&&this.type=="bookmark"&&(e=1);for(var a=0;a<this.lines.length;++a){var Z=this.lines[a],pe=Ze(Z.markedSpans,this);if(pe.from!=null&&(r=Ct(t?Z:Wt(Z),pe.from),e==-1))return r;if(pe.to!=null&&(n=Ct(t?Z:Wt(Z),pe.to),e==1))return n}return r&&{from:r,to:n}},ii.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&Rr(n,function(){var a=t.line,Z=Wt(t.line),pe=_i(n,Z);if(pe&&(Ea(pe),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!G(r.doc,a)&&r.height!=null){var ve=r.height;r.height=null;var Ee=Oe(r)-ve;Ee&&Fn(a,a.height+Ee)}dr(n,"markerChanged",n,e)})},ii.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&h(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ii.prototype.detachLine=function(e){if(this.lines.splice(h(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Ue(ii);var no=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};function Iu(e,t,r,n,a){(n=K(n)).shared=!1;var Z=[ji(e,t,r,n,a)],pe=Z[0],ve=n.widgetNode;return ri(e,function(Ee){ve&&(n.widgetNode=ve.cloneNode(!0)),Z.push(ji(Ee,xt(Ee,t),xt(Ee,r),n,a));for(var Pe=0;Pe<Ee.linked.length;++Pe)if(Ee.linked[Pe].isParent)return;pe=R(Z)}),new no(Z,pe)}function ks(e){return e.findMarks(Ct(e.first,0),e.clipPos(Ct(e.lastLine())),function(t){return t.parent})}function Vu(e,t){for(var r=0;r<t.length;r++){var n=t[r],a=n.find(),Z=e.clipPos(a.from),pe=e.clipPos(a.to);if(ln(Z,pe)){var ve=ji(e,Z,pe,n.primary,n.primary.type);n.markers.push(ve),ve.parent=n}}}function Uu(e){for(var t=function(n){var a=e[n],Z=[a.primary.doc];ri(a.primary.doc,function(Ee){return Z.push(Ee)});for(var pe=0;pe<a.markers.length;pe++){var ve=a.markers[pe];h(Z,ve.doc)==-1&&(ve.parent=null,a.markers.splice(pe--,1))}},r=0;r<e.length;r++)t(r)}no.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();dr(this,"clear")}},no.prototype.find=function(e,t){return this.primary.find(e,t)},Ue(no);var Hu=0,Pr=function(e,t,r,n,a){if(!(this instanceof Pr))return new Pr(e,t,r,n,a);r==null&&(r=0),eo.call(this,[new Qi([new dt("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var Z=Ct(r,0);this.sel=ti(Z),this.history=new Oo(null),this.id=++Hu,this.modeOption=t,this.lineSep=n,this.direction=a=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),oa(this,{from:Z,to:Z,text:e}),xr(this,ti(Z),T)};Pr.prototype=oe(eo.prototype,{constructor:Pr,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Zn(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:_r(function(e){var t=Ct(this.first,0),r=this.first+this.size-1;Pi(this,{from:t,to:Ct(r,Mt(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&zi(this.cm,0,0),xr(this,ti(t),T)}),replaceRange:function(e,t,r,n){Ti(this,e,t=xt(this,t),r=r?xt(this,r):t,n)},getRange:function(e,t,r){var n=Rn(this,xt(this,e),xt(this,t));return r===!1?n:r===""?n.join(""):n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(on(this,e))return Mt(this,e)},getLineNumber:function(e){return Wt(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=Mt(this,e)),Yn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return xt(this,e)},getCursor:function(e){var t=this.sel.primary();return e==null||e=="head"?t.head:e=="anchor"?t.anchor:e=="end"||e=="to"||e===!1?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:_r(function(e,t,r){us(this,xt(this,typeof e=="number"?Ct(e,t||0):e),null,r)}),setSelection:_r(function(e,t,r){us(this,xt(this,e),xt(this,t||e),r)}),extendSelection:_r(function(e,t,r){Eo(this,xt(this,e),t&&xt(this,t),r)}),extendSelections:_r(function(e,t){ss(this,fn(this,e),t)}),extendSelectionsBy:_r(function(e,t){ss(this,fn(this,ue(this.sel.ranges,e)),t)}),setSelections:_r(function(e,t,r){if(e.length){for(var n=[],a=0;a<e.length;a++)n[a]=new nr(xt(this,e[a].anchor),xt(this,e[a].head||e[a].anchor));t==null&&(t=Math.min(e.length-1,this.sel.primIndex)),xr(this,Ur(this.cm,n,t),r)}}),addSelection:_r(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new nr(xt(this,e),xt(this,t||e))),xr(this,Ur(this.cm,n,n.length-1),r)}),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var a=Rn(this,r[n].from(),r[n].to());t=t?t.concat(a):a}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var a=Rn(this,r[n].from(),r[n].to());e!==!1&&(a=a.join(e||this.lineSeparator())),t[n]=a}return t},replaceSelection:function(e,t,r){for(var n=[],a=0;a<this.sel.ranges.length;a++)n[a]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:_r(function(e,t,r){for(var n=[],a=this.sel,Z=0;Z<a.ranges.length;Z++){var pe=a.ranges[Z];n[Z]={from:pe.from(),to:pe.to(),text:this.splitLines(e[Z]),origin:r}}for(var ve=t&&t!="end"&&Tu(this,n,t),Ee=n.length-1;Ee>=0;Ee--)Pi(this,n[Ee]);ve?ls(this,ve):this.cm&&Oi(this.cm)}),undo:_r(function(){To(this,"undo")}),redo:_r(function(){To(this,"redo")}),undoSelection:_r(function(){To(this,"undo",!0)}),redoSelection:_r(function(){To(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var a=0;a<e.undone.length;a++)e.undone[a].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new Oo(this.history),ri(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Ei(this.history.done),undone:Ei(this.history.undone)}},setHistory:function(e){var t=this.history=new Oo(this.history);t.done=Ei(e.done.slice(0),null,!0),t.undone=Ei(e.undone.slice(0),null,!0)},setGutterMarker:_r(function(e,t,r){return Ji(this,e,"gutter",function(n){var a=n.gutterMarkers||(n.gutterMarkers={});return a[t]=r,!r&&Ae(a)&&(n.gutterMarkers=null),!0})}),clearGutter:_r(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&Ji(t,r,"gutter",function(){return r.gutterMarkers[e]=null,Ae(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if(typeof e=="number"){if(!on(this,e)||(t=e,!(e=Mt(this,e))))return null}else if((t=Wt(e))==null)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:_r(function(e,t,r){return Ji(this,e,t=="gutter"?"gutter":"class",function(n){var a=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(n[a]){if(D(r).test(n[a]))return!1;n[a]+=" "+r}else n[a]=r;return!0})}),removeLineClass:_r(function(e,t,r){return Ji(this,e,t=="gutter"?"gutter":"class",function(n){var a=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",Z=n[a];if(!Z)return!1;if(r==null)n[a]=null;else{var pe=Z.match(D(r));if(!pe)return!1;var ve=pe.index+pe[0].length;n[a]=Z.slice(0,pe.index)+(pe.index&&ve!=Z.length?" ":"")+Z.slice(ve)||null}return!0})}),addLineWidget:_r(function(e,t,r){return Zu(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return ji(this,xt(this,e),xt(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return ji(this,e=xt(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=Mt(this,(e=xt(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var a=r[n];(a.from==null||a.from<=e.ch)&&(a.to==null||a.to>=e.ch)&&t.push(a.marker.parent||a.marker)}return t},findMarks:function(e,t,r){e=xt(this,e),t=xt(this,t);var n=[],a=e.line;return this.iter(e.line,t.line+1,function(Z){var pe=Z.markedSpans;if(pe)for(var ve=0;ve<pe.length;ve++){var Ee=pe[ve];Ee.to!=null&&a==e.line&&e.ch>=Ee.to||Ee.from==null&&a!=e.line||Ee.from!=null&&a==t.line&&Ee.from>=t.ch||r&&!r(Ee.marker)||n.push(Ee.marker.parent||Ee.marker)}++a}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)r[n].from!=null&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(a){var Z=a.text.length+n;if(Z>e)return t=e,!0;e-=Z,++r}),xt(this,Ct(r,t))},indexFromPos:function(e){var t=(e=xt(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(n){t+=n.text.length+r}),t},copy:function(e){var t=new Pr(Zn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<r&&(r=e.to);var n=new Pr(Zn(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Vu(n,ks(this)),n},unlinkDoc:function(e){if(e instanceof fr&&(e=e.doc),this.linked){for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Uu(ks(this));break}}if(e.history==this.history){var r=[e.id];ri(e,function(n){return r.push(n.id)},!0),e.history=new Oo(null),e.history.done=Ei(this.history.done,r),e.history.undone=Ei(this.history.undone,r)}},iterLinkedDocs:function(e){ri(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):$e(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:_r(function(e){e!="rtl"&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(t){return t.order=null}),this.cm&&ju(this.cm))})}),Pr.prototype.eachLine=Pr.prototype.iter;var Cs=0;function zu(e){var t=this;if(Os(t),!mt(t,e)&&!Me(t.display,e)){et(e),k&&(Cs=+new Date);var r=ci(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var a=n.length,Z=Array(a),pe=0,ve=function(){++pe==a&&wr(t,function(){var ut={from:r=xt(t.doc,r),to:r,text:t.doc.splitLines(Z.filter(function(wt){return wt!=null}).join(t.doc.lineSeparator())),origin:"paste"};Pi(t.doc,ut),ls(t.doc,ti(xt(t.doc,r),xt(t.doc,ni(ut))))})()},Ee=function(ut,wt){if(t.options.allowDropFileTypes&&h(t.options.allowDropFileTypes,ut.type)==-1)ve();else{var jt=new FileReader;jt.onerror=function(){return ve()},jt.onload=function(){var Vt=jt.result;/[\x00-\x08\x0e-\x1f]{2}/.test(Vt)||(Z[wt]=Vt),ve()},jt.readAsText(ut)}},Pe=0;Pe<n.length;Pe++)Ee(n[Pe],Pe);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var He=e.dataTransfer.getData("Text");if(He){var ze;if(t.state.draggingText&&!t.state.draggingText.copy&&(ze=t.listSelections()),Ao(t.doc,ti(r,r)),ze)for(var st=0;st<ze.length;++st)Ti(t.doc,"",ze[st].anchor,ze[st].head,"drag");t.replaceSelection(He,"around","paste"),t.display.input.focus()}}catch{}}}}function qu(e,t){if(k&&(!e.state.draggingText||+new Date-Cs<100))yt(t);else if(!mt(e,t)&&!Me(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!v)){var r=z("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",l&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),l&&r.parentNode.removeChild(r)}}function Wu(e,t){var r=ci(e,t);if(r){var n=document.createDocumentFragment();Na(e,r,n),e.display.dragCursor||(e.display.dragCursor=z("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),ne(e.display.dragCursor,n)}}function Os(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ss(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<t.length;n++){var a=t[n].CodeMirror;a&&r.push(a)}r.length&&r[0].operation(function(){for(var Z=0;Z<r.length;Z++)e(r[Z])})}}var Es=!1;function $u(){Es||(Gu(),Es=!0)}function Gu(){var e;je(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,Ss(Yu)},100))}),je(window,"blur",function(){return Ss(Ci)})}function Yu(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var oi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ro=0;ro<10;ro++)oi[ro+48]=oi[ro+96]=String(ro);for(var jo=65;jo<=90;jo++)oi[jo]=String.fromCharCode(jo);for(var io=1;io<=12;io++)oi[io+111]=oi[io+63235]="F"+io;var Kr={};function Ku(e){var t,r,n,a,Z=e.split(/-(?!$)/);e=Z[Z.length-1];for(var pe=0;pe<Z.length-1;pe++){var ve=Z[pe];if(/^(cmd|meta|m)$/i.test(ve))a=!0;else if(/^a(lt)?$/i.test(ve))t=!0;else if(/^(c|ctrl|control)$/i.test(ve))r=!0;else{if(!/^s(hift)?$/i.test(ve))throw new Error("Unrecognized modifier name: "+ve);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),a&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Xu(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if(n=="..."){delete e[r];continue}for(var a=ue(r.split(" "),Ku),Z=0;Z<a.length;Z++){var pe=void 0,ve=void 0;Z==a.length-1?(ve=a.join(" "),pe=n):(ve=a.slice(0,Z+1).join(" "),pe="...");var Ee=t[ve];if(Ee){if(Ee!=pe)throw new Error("Inconsistent bindings for "+ve)}else t[ve]=pe}delete e[r]}for(var Pe in t)e[Pe]=t[Pe];return e}function Di(e,t,r,n){var a=(t=Do(t)).call?t.call(e,n):t[e];if(a===!1)return"nothing";if(a==="...")return"multi";if(a!=null&&r(a))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return Di(e,t.fallthrough,r,n);for(var Z=0;Z<t.fallthrough.length;Z++){var pe=Di(e,t.fallthrough[Z],r,n);if(pe)return pe}}}function As(e){var t=typeof e=="string"?e:oi[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function Ps(e,t,r){var n=e;return t.altKey&&n!="Alt"&&(e="Alt-"+e),(me?t.metaKey:t.ctrlKey)&&n!="Ctrl"&&(e="Ctrl-"+e),(me?t.ctrlKey:t.metaKey)&&n!="Mod"&&(e="Cmd-"+e),!r&&t.shiftKey&&n!="Shift"&&(e="Shift-"+e),e}function Ts(e,t){if(l&&e.keyCode==34&&e.char)return!1;var r=oi[e.keyCode];return r!=null&&!e.altGraphKey&&(e.keyCode==3&&e.code&&(r=e.code),Ps(r,e,t))}function Do(e){return typeof e=="string"?Kr[e]:e}function Ri(e,t){for(var r=e.doc.sel.ranges,n=[],a=0;a<r.length;a++){for(var Z=t(r[a]);n.length&&ln(Z.from,R(n).to)<=0;){var pe=n.pop();if(ln(pe.from,Z.from)<0){Z.from=pe.from;break}}n.push(Z)}Rr(e,function(){for(var ve=n.length-1;ve>=0;ve--)Ti(e.doc,"",n[ve].from,n[ve].to,"+delete");Oi(e)})}function la(e,t,r){var n=Je(e.text,t+r,r);return n<0||n>e.text.length?null:n}function ca(e,t,r){var n=la(e,t.ch,r);return n==null?null:new Ct(t.line,n,r<0?"after":"before")}function fa(e,t,r,n,a){if(e){t.doc.direction=="rtl"&&(a=-a);var Z=It(r,t.doc.direction);if(Z){var pe,ve=a<0?R(Z):Z[0],Ee=a<0==(ve.level==1)?"after":"before";if(ve.level>0||t.doc.direction=="rtl"){var Pe=Yr(t,r);pe=a<0?r.text.length-1:0;var He=Wr(t,Pe,pe).top;pe=tt(function(ze){return Wr(t,Pe,ze).top==He},a<0==(ve.level==1)?ve.from:ve.to-1,pe),Ee=="before"&&(pe=la(r,pe,1))}else pe=a<0?ve.to:ve.from;return new Ct(n,pe,Ee)}}return new Ct(n,a<0?r.text.length:0,a<0?"before":"after")}function Ju(e,t,r,n){var a=It(t,e.doc.direction);if(!a)return ca(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var Z=Zt(a,r.ch,r.sticky),pe=a[Z];if(e.doc.direction=="ltr"&&pe.level%2==0&&(n>0?pe.to>r.ch:pe.from<r.ch))return ca(t,r,n);var ve,Ee=function(rn,pn){return la(t,rn instanceof Ct?rn.ch:rn,pn)},Pe=function(rn){return e.options.lineWrapping?(ve=ve||Yr(e,t),Ma(e,t,ve,rn)):{begin:0,end:t.text.length}},He=Pe(r.sticky=="before"?Ee(r,-1):r.ch);if(e.doc.direction=="rtl"||pe.level==1){var ze=pe.level==1==n<0,st=Ee(r,ze?1:-1);if(st!=null&&(ze?st<=pe.to&&st<=He.end:st>=pe.from&&st>=He.begin)){var ut=ze?"before":"after";return new Ct(r.line,st,ut)}}var wt=function(rn,pn,qt){for(var yn=function(ar,Mr){return Mr?new Ct(r.line,Ee(ar,1),"before"):new Ct(r.line,ar,"after")};rn>=0&&rn<a.length;rn+=pn){var mn=a[rn],xn=pn>0==(mn.level!=1),or=xn?qt.begin:Ee(qt.end,-1);if(mn.from<=or&&or<mn.to||(or=xn?mn.from:Ee(mn.to,-1),qt.begin<=or&&or<qt.end))return yn(or,xn)}},jt=wt(Z+n,n,He);if(jt)return jt;var Vt=n>0?He.end:Ee(He.begin,-1);return Vt==null||n>0&&Vt==t.text.length||!(jt=wt(n>0?0:a.length-1,n,Pe(Vt)))?null:jt}Kr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Kr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Kr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Kr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Kr.default=te?Kr.macDefault:Kr.pcDefault;var oo={selectAll:ds,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),T)},killLine:function(e){return Ri(e,function(t){if(t.empty()){var r=Mt(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:Ct(t.head.line+1,0)}:{from:t.head,to:Ct(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Ri(e,function(t){return{from:Ct(t.from().line,0),to:xt(e.doc,Ct(t.to().line+1,0))}})},delLineLeft:function(e){return Ri(e,function(t){return{from:Ct(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return Ri(e,function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}})},delWrappedLineRight:function(e){return Ri(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(Ct(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(Ct(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return js(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Ds(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return Qu(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},c)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},c)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?Ds(e,t.head):n},c)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,a=0;a<r.length;a++){var Z=r[a].from(),pe=F(e.getLine(Z.line),Z.ch,n);t.push(E(n-pe%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Rr(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var a=t[n].head,Z=Mt(e.doc,a.line).text;if(Z){if(a.ch==Z.length&&(a=new Ct(a.line,a.ch-1)),a.ch>0)a=new Ct(a.line,a.ch+1),e.replaceRange(Z.charAt(a.ch-1)+Z.charAt(a.ch-2),Ct(a.line,a.ch-2),a,"+transpose");else if(a.line>e.doc.first){var pe=Mt(e.doc,a.line-1).text;pe&&(a=new Ct(a.line,1),e.replaceRange(Z.charAt(0)+e.doc.lineSeparator()+pe.charAt(pe.length-1),Ct(a.line-1,pe.length-1),a,"+transpose"))}}r.push(new nr(a,a))}e.setSelections(r)})},newlineAndIndent:function(e){return Rr(e,function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Oi(e)})},openLine:function(e){return e.replaceSelection(`
`,"start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function js(e,t){var r=Mt(e.doc,t),n=Yn(r);return n!=r&&(t=Wt(n)),fa(!0,e,n,t,1)}function Qu(e,t){var r=Mt(e.doc,t),n=_n(r);return n!=r&&(t=Wt(n)),fa(!0,e,r,t,-1)}function Ds(e,t){var r=js(e,t.line),n=Mt(e.doc,r.line),a=It(n,e.doc.direction);if(!a||a[0].level==0){var Z=Math.max(r.ch,n.text.search(/\S/)),pe=t.line==r.line&&t.ch<=Z&&t.ch;return Ct(r.line,pe?0:Z,r.sticky)}return r}function Ro(e,t,r){if(typeof t=="string"&&!(t=oo[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,a=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),a=t(e)!=M}finally{e.display.shift=n,e.state.suppressEdits=!1}return a}function el(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var a=Di(t,e.state.keyMaps[n],r,e);if(a)return a}return e.options.extraKeys&&Di(t,e.options.extraKeys,r,e)||Di(t,e.options.keyMap,r,e)}var tl=new b;function ao(e,t,r,n){var a=e.state.keySeq;if(a){if(As(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:tl.set(50,function(){e.state.keySeq==a&&(e.state.keySeq=null,e.display.input.reset())}),Rs(e,a+" "+t,r,n))return!0}return Rs(e,t,r,n)}function Rs(e,t,r,n){var a=el(e,t,n);return a=="multi"&&(e.state.keySeq=t),a=="handled"&&dr(e,"keyHandled",e,t,r),a!="handled"&&a!="multi"||(et(r),$o(e)),!!a}function Ms(e,t){var r=Ts(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?ao(e,"Shift-"+r,t,function(n){return Ro(e,n,!0)})||ao(e,r,t,function(n){if(typeof n=="string"?/^go[A-Z]/.test(n):n.motion)return Ro(e,n)}):ao(e,r,t,function(n){return Ro(e,n)}))}function nl(e,t,r){return ao(e,"'"+r+"'",t,function(n){return Ro(e,n,!0)})}var ha=null;function Ls(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=y(),mt(t,e)))){k&&d<11&&e.keyCode==27&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=r==16||e.shiftKey;var n=Ms(t,e);l&&(ha=n?r:null,n||r!=88||Et||!(te?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),O&&!te&&!n&&r==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),r!=18||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||rl(t)}}function rl(e){var t=e.display.lineDiv;function r(n){n.keyCode!=18&&n.altKey||(I(t,"CodeMirror-crosshair"),We(document,"keyup",r),We(document,"mouseover",r))}g(t,"CodeMirror-crosshair"),je(document,"keyup",r),je(document,"mouseover",r)}function Bs(e){e.keyCode==16&&(this.doc.sel.shift=!1),mt(this,e)}function Fs(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||Me(t.display,e)||mt(t,e)||e.ctrlKey&&!e.altKey||te&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(l&&r==ha)return ha=null,void et(e);if(!l||e.which&&!(e.which<10)||!Ms(t,e)){var a=String.fromCharCode(n==null?r:n);a!="\b"&&(nl(t,e,a)||t.display.input.onKeyPress(e))}}}var so,uo,il=400,pa=function(e,t,r){this.time=e,this.pos=t,this.button=r};function ol(e,t){var r=+new Date;return uo&&uo.compare(r,e,t)?(so=uo=null,"triple"):so&&so.compare(r,e,t)?(uo=new pa(r,e,t),so=null,"double"):(so=new pa(r,e,t),uo=null,"single")}function Ns(e){var t=this,r=t.display;if(!(mt(t,e)||r.activeTouch&&r.input.supportsTouch())){if(r.input.ensurePolled(),r.shift=e.shiftKey,Me(r,e))S||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100));else if(!da(t,e)){var n=ci(t,e),a=Ht(e),Z=n?ol(n,a):"single";window.focus(),a==1&&t.state.selectingText&&t.state.selectingText(e),n&&al(t,a,n,Z,e)||(a==1?n?ul(t,n,Z,e):ht(e)==r.scroller&&et(e):a==2?(n&&Eo(t.doc,n),setTimeout(function(){return r.input.focus()},20)):a==3&&(ce?t.display.input.onContextMenu(e):Go(t)))}}}function al(e,t,r,n,a){var Z="Click";return n=="double"?Z="Double"+Z:n=="triple"&&(Z="Triple"+Z),ao(e,Ps(Z=(t==1?"Left":t==2?"Middle":"Right")+Z,a),a,function(pe){if(typeof pe=="string"&&(pe=oo[pe]),!pe)return!1;var ve=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),ve=pe(e,r)!=M}finally{e.state.suppressEdits=!1}return ve})}function sl(e,t,r){var n=e.getOption("configureMouse"),a=n?n(e,t,r):{};if(a.unit==null){var Z=J?r.shiftKey&&r.metaKey:r.altKey;a.unit=Z?"rectangle":t=="single"?"char":t=="double"?"word":"line"}return(a.extend==null||e.doc.extend)&&(a.extend=e.doc.extend||r.shiftKey),a.addNew==null&&(a.addNew=te?r.metaKey:r.ctrlKey),a.moveOnDrag==null&&(a.moveOnDrag=!(te?r.altKey:r.ctrlKey)),a}function ul(e,t,r,n){k?setTimeout(ae(Za,e),0):e.curOp.focus=y();var a,Z=sl(e,r,n),pe=e.doc.sel;e.options.dragDrop&&kn&&!e.isReadOnly()&&r=="single"&&(a=pe.contains(t))>-1&&(ln((a=pe.ranges[a]).from(),t)<0||t.xRel>0)&&(ln(a.to(),t)>0||t.xRel<0)?ll(e,n,t,Z):cl(e,n,t,Z)}function ll(e,t,r,n){var a=e.display,Z=!1,pe=wr(e,function(Pe){S&&(a.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Go(e)),We(a.wrapper.ownerDocument,"mouseup",pe),We(a.wrapper.ownerDocument,"mousemove",ve),We(a.scroller,"dragstart",Ee),We(a.scroller,"drop",pe),Z||(et(Pe),n.addNew||Eo(e.doc,r,null,null,n.extend),S&&!v||k&&d==9?setTimeout(function(){a.wrapper.ownerDocument.body.focus({preventScroll:!0}),a.input.focus()},20):a.input.focus())}),ve=function(Pe){Z=Z||Math.abs(t.clientX-Pe.clientX)+Math.abs(t.clientY-Pe.clientY)>=10},Ee=function(){return Z=!0};S&&(a.scroller.draggable=!0),e.state.draggingText=pe,pe.copy=!n.moveOnDrag,je(a.wrapper.ownerDocument,"mouseup",pe),je(a.wrapper.ownerDocument,"mousemove",ve),je(a.scroller,"dragstart",Ee),je(a.scroller,"drop",pe),e.state.delayingBlurEvent=!0,setTimeout(function(){return a.input.focus()},20),a.scroller.dragDrop&&a.scroller.dragDrop()}function Zs(e,t,r){if(r=="char")return new nr(t,t);if(r=="word")return e.findWordAt(t);if(r=="line")return new nr(Ct(t.line,0),xt(e.doc,Ct(t.line+1,0)));var n=r(e,t);return new nr(n.from,n.to)}function cl(e,t,r,n){k&&Go(e);var a=e.display,Z=e.doc;et(t);var pe,ve,Ee=Z.sel,Pe=Ee.ranges;if(n.addNew&&!n.extend?(ve=Z.sel.contains(r),pe=ve>-1?Pe[ve]:new nr(r,r)):(pe=Z.sel.primary(),ve=Z.sel.primIndex),n.unit=="rectangle")n.addNew||(pe=new nr(r,r)),r=ci(e,t,!0,!0),ve=-1;else{var He=Zs(e,r,n.unit);pe=n.extend?sa(pe,He.anchor,He.head,n.extend):He}n.addNew?ve==-1?(ve=Pe.length,xr(Z,Ur(e,Pe.concat([pe]),ve),{scroll:!1,origin:"*mouse"})):Pe.length>1&&Pe[ve].empty()&&n.unit=="char"&&!n.extend?(xr(Z,Ur(e,Pe.slice(0,ve).concat(Pe.slice(ve+1)),0),{scroll:!1,origin:"*mouse"}),Ee=Z.sel):ua(Z,ve,pe,P):(ve=0,xr(Z,new Nr([pe],0),P),Ee=Z.sel);var ze=r;function st(qt){if(ln(ze,qt)!=0)if(ze=qt,n.unit=="rectangle"){for(var yn=[],mn=e.options.tabSize,xn=F(Mt(Z,r.line).text,r.ch,mn),or=F(Mt(Z,qt.line).text,qt.ch,mn),ar=Math.min(xn,or),Mr=Math.max(xn,or),lr=Math.min(r.line,qt.line),Zr=Math.min(e.lastLine(),Math.max(r.line,qt.line));lr<=Zr;lr++){var Lr=Mt(Z,lr).text,pr=ee(Lr,ar,mn);ar==Mr?yn.push(new nr(Ct(lr,pr),Ct(lr,pr))):Lr.length>pr&&yn.push(new nr(Ct(lr,pr),Ct(lr,ee(Lr,Mr,mn))))}yn.length||yn.push(new nr(r,r)),xr(Z,Ur(e,Ee.ranges.slice(0,ve).concat(yn),ve),{origin:"*mouse",scroll:!1}),e.scrollIntoView(qt)}else{var Tr,Sr=pe,mr=Zs(e,qt,n.unit),vr=Sr.anchor;ln(mr.anchor,vr)>0?(Tr=mr.head,vr=Nt(Sr.from(),mr.anchor)):(Tr=mr.anchor,vr=vt(Sr.to(),mr.head));var yr=Ee.ranges.slice(0);yr[ve]=fl(e,new nr(xt(Z,vr),Tr)),xr(Z,Ur(e,yr,ve),P)}}var ut=a.wrapper.getBoundingClientRect(),wt=0;function jt(qt){var yn=++wt,mn=ci(e,qt,!0,n.unit=="rectangle");if(mn)if(ln(mn,ze)!=0){e.curOp.focus=y(),st(mn);var xn=_o(a,Z);(mn.line>=xn.to||mn.line<xn.from)&&setTimeout(wr(e,function(){wt==yn&&jt(qt)}),150)}else{var or=qt.clientY<ut.top?-20:qt.clientY>ut.bottom?20:0;or&&setTimeout(wr(e,function(){wt==yn&&(a.scroller.scrollTop+=or,jt(qt))}),50)}}function Vt(qt){e.state.selectingText=!1,wt=1/0,qt&&(et(qt),a.input.focus()),We(a.wrapper.ownerDocument,"mousemove",rn),We(a.wrapper.ownerDocument,"mouseup",pn),Z.history.lastSelOrigin=null}var rn=wr(e,function(qt){qt.buttons!==0&&Ht(qt)?jt(qt):Vt(qt)}),pn=wr(e,Vt);e.state.selectingText=pn,je(a.wrapper.ownerDocument,"mousemove",rn),je(a.wrapper.ownerDocument,"mouseup",pn)}function fl(e,t){var r=t.anchor,n=t.head,a=Mt(e.doc,r.line);if(ln(r,n)==0&&r.sticky==n.sticky)return t;var Z=It(a);if(!Z)return t;var pe=Zt(Z,r.ch,r.sticky),ve=Z[pe];if(ve.from!=r.ch&&ve.to!=r.ch)return t;var Ee,Pe=pe+(ve.from==r.ch==(ve.level!=1)?0:1);if(Pe==0||Pe==Z.length)return t;if(n.line!=r.line)Ee=(n.line-r.line)*(e.doc.direction=="ltr"?1:-1)>0;else{var He=Zt(Z,n.ch,n.sticky),ze=He-pe||(n.ch-r.ch)*(ve.level==1?-1:1);Ee=He==Pe-1||He==Pe?ze<0:ze>0}var st=Z[Pe+(Ee?-1:0)],ut=Ee==(st.level==1),wt=ut?st.from:st.to,jt=ut?"after":"before";return r.ch==wt&&r.sticky==jt?t:new nr(new Ct(r.line,wt,jt),n)}function Is(e,t,r,n){var a,Z;if(t.touches)a=t.touches[0].clientX,Z=t.touches[0].clientY;else try{a=t.clientX,Z=t.clientY}catch{return!1}if(a>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&et(t);var pe=e.display,ve=pe.lineDiv.getBoundingClientRect();if(Z>ve.bottom||!tn(e,r))return Ot(t);Z-=ve.top-pe.viewOffset;for(var Ee=0;Ee<e.display.gutterSpecs.length;++Ee){var Pe=pe.gutters.childNodes[Ee];if(Pe&&Pe.getBoundingClientRect().right>=a)return it(e,r,e,hn(e.doc,Z),e.display.gutterSpecs[Ee].className,t),Ot(t)}}function da(e,t){return Is(e,t,"gutterClick",!0)}function Vs(e,t){Me(e.display,t)||hl(e,t)||mt(e,t,"contextmenu")||ce||e.display.input.onContextMenu(t)}function hl(e,t){return!!tn(e,"gutterContextMenu")&&Is(e,t,"gutterContextMenu",!1)}function Us(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ui(e)}pa.prototype.compare=function(e,t,r){return this.time+il>e&&ln(t,this.pos)==0&&r==this.button};var Mi={toString:function(){return"CodeMirror.Init"}},Hs={},Mo={};function pl(e){var t=e.optionHandlers;function r(n,a,Z,pe){e.defaults[n]=a,Z&&(t[n]=pe?function(ve,Ee,Pe){Pe!=Mi&&Z(ve,Ee,Pe)}:Z)}e.defineOption=r,e.Init=Mi,r("value","",function(n,a){return n.setValue(a)},!0),r("mode",null,function(n,a){n.doc.modeOption=a,ia(n)},!0),r("indentUnit",2,ia,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,function(n){Ki(n),Ui(n),Ar(n)},!0),r("lineSeparator",null,function(n,a){if(n.doc.lineSep=a,a){var Z=[],pe=n.doc.first;n.doc.iter(function(Ee){for(var Pe=0;;){var He=Ee.text.indexOf(a,Pe);if(He==-1)break;Pe=He+a.length,Z.push(Ct(pe,He))}pe++});for(var ve=Z.length-1;ve>=0;ve--)Ti(n.doc,a,Z[ve],Ct(Z[ve].line,Z[ve].ch+a.length))}}),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(n,a,Z){n.state.specialChars=new RegExp(a.source+(a.test("	")?"":"|	"),"g"),Z!=Mi&&n.refresh()}),r("specialCharPlaceholder",vn,function(n){return n.refresh()},!0),r("electricChars",!0),r("inputStyle",X?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("spellcheck",!1,function(n,a){return n.getInputField().spellcheck=a},!0),r("autocorrect",!1,function(n,a){return n.getInputField().autocorrect=a},!0),r("autocapitalize",!1,function(n,a){return n.getInputField().autocapitalize=a},!0),r("rtlMoveVisually",!U),r("wholeLineUpdateBefore",!0),r("theme","default",function(n){Us(n),Yi(n)},!0),r("keyMap","default",function(n,a,Z){var pe=Do(a),ve=Z!=Mi&&Do(Z);ve&&ve.detach&&ve.detach(n,pe),pe.attach&&pe.attach(n,ve||null)}),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,gl,!0),r("gutters",[],function(n,a){n.display.gutterSpecs=na(a,n.options.lineNumbers),Yi(n)},!0),r("fixedGutter",!0,function(n,a){n.display.gutters.style.left=a?qo(n.display)+"px":"0",n.refresh()},!0),r("coverGutterNextToScrollbar",!1,function(n){return Si(n)},!0),r("scrollbarStyle","native",function(n){qa(n),Si(n),n.display.scrollbars.setScrollTop(n.doc.scrollTop),n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0),r("lineNumbers",!1,function(n,a){n.display.gutterSpecs=na(n.options.gutters,a),Yi(n)},!0),r("firstLineNumber",1,Yi,!0),r("lineNumberFormatter",function(n){return n},Yi,!0),r("showCursorWhenSelecting",!1,Hi,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,function(n,a){a=="nocursor"&&(Ci(n),n.display.input.blur()),n.display.input.readOnlyChanged(a)}),r("screenReaderLabel",null,function(n,a){a=a===""?null:a,n.display.input.screenReaderLabelChanged(a)}),r("disableInput",!1,function(n,a){a||n.display.input.reset()},!0),r("dragDrop",!0,dl),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,Hi,!0),r("singleCursorHeightPerLine",!0,Hi,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,Ki,!0),r("addModeClass",!1,Ki,!0),r("pollInterval",100),r("undoDepth",200,function(n,a){return n.doc.history.undoDepth=a}),r("historyEventDelay",1250),r("viewportMargin",10,function(n){return n.refresh()},!0),r("maxHighlightLength",1e4,Ki,!0),r("moveInputWithCursor",!0,function(n,a){a||n.display.input.resetPosition()}),r("tabindex",null,function(n,a){return n.display.input.getField().tabIndex=a||""}),r("autofocus",null),r("direction","ltr",function(n,a){return n.doc.setDirection(a)},!0),r("phrases",null)}function dl(e,t,r){if(!t!=!(r&&r!=Mi)){var n=e.display.dragFunctions,a=t?je:We;a(e.display.scroller,"dragstart",n.start),a(e.display.scroller,"dragenter",n.enter),a(e.display.scroller,"dragover",n.over),a(e.display.scroller,"dragleave",n.leave),a(e.display.scroller,"drop",n.drop)}}function gl(e){e.options.lineWrapping?(g(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(I(e.display.wrapper,"CodeMirror-wrap"),Qe(e)),Wo(e),Ar(e),Ui(e),setTimeout(function(){return Si(e)},100)}function fr(e,t){var r=this;if(!(this instanceof fr))return new fr(e,t);this.options=t=t?K(t):{},K(Hs,t,!1);var n=t.value;typeof n=="string"?n=new Pr(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var a=new fr.inputStyles[t.inputStyle](this),Z=this.display=new Au(e,n,a,t);for(var pe in Z.wrapper.CodeMirror=this,Us(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),qa(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new b,keySeq:null,specialChars:null},t.autofocus&&!X&&Z.input.focus(),k&&d<11&&setTimeout(function(){return r.display.input.reset(!0)},20),vl(this),$u(),di(this),this.curOp.forceUpdate=!0,ts(this,n),t.autofocus&&!X||this.hasFocus()?setTimeout(function(){r.hasFocus()&&!r.state.focused&&Yo(r)},20):Ci(this),Mo)Mo.hasOwnProperty(pe)&&Mo[pe](this,t[pe],Mi);Ga(this),t.finishInit&&t.finishInit(this);for(var ve=0;ve<ga.length;++ve)ga[ve](this);gi(this),S&&t.lineWrapping&&getComputedStyle(Z.lineDiv).textRendering=="optimizelegibility"&&(Z.lineDiv.style.textRendering="auto")}function vl(e){var t=e.display;je(t.scroller,"mousedown",wr(e,Ns)),je(t.scroller,"dblclick",k&&d<11?wr(e,function(Ee){if(!mt(e,Ee)){var Pe=ci(e,Ee);if(Pe&&!da(e,Ee)&&!Me(e.display,Ee)){et(Ee);var He=e.findWordAt(Pe);Eo(e.doc,He.anchor,He.head)}}}):function(Ee){return mt(e,Ee)||et(Ee)}),je(t.scroller,"contextmenu",function(Ee){return Vs(e,Ee)}),je(t.input.getField(),"contextmenu",function(Ee){t.scroller.contains(Ee.target)||Vs(e,Ee)});var r,n={end:0};function a(){t.activeTouch&&(r=setTimeout(function(){return t.activeTouch=null},1e3),(n=t.activeTouch).end=+new Date)}function Z(Ee){if(Ee.touches.length!=1)return!1;var Pe=Ee.touches[0];return Pe.radiusX<=1&&Pe.radiusY<=1}function pe(Ee,Pe){if(Pe.left==null)return!0;var He=Pe.left-Ee.left,ze=Pe.top-Ee.top;return He*He+ze*ze>400}je(t.scroller,"touchstart",function(Ee){if(!mt(e,Ee)&&!Z(Ee)&&!da(e,Ee)){t.input.ensurePolled(),clearTimeout(r);var Pe=+new Date;t.activeTouch={start:Pe,moved:!1,prev:Pe-n.end<=300?n:null},Ee.touches.length==1&&(t.activeTouch.left=Ee.touches[0].pageX,t.activeTouch.top=Ee.touches[0].pageY)}}),je(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),je(t.scroller,"touchend",function(Ee){var Pe=t.activeTouch;if(Pe&&!Me(t,Ee)&&Pe.left!=null&&!Pe.moved&&new Date-Pe.start<300){var He,ze=e.coordsChar(t.activeTouch,"page");He=!Pe.prev||pe(Pe,Pe.prev)?new nr(ze,ze):!Pe.prev.prev||pe(Pe,Pe.prev.prev)?e.findWordAt(ze):new nr(Ct(ze.line,0),xt(e.doc,Ct(ze.line+1,0))),e.setSelection(He.anchor,He.head),e.focus(),et(Ee)}a()}),je(t.scroller,"touchcancel",a),je(t.scroller,"scroll",function(){t.scroller.clientHeight&&(qi(e,t.scroller.scrollTop),hi(e,t.scroller.scrollLeft,!0),it(e,"scroll",e))}),je(t.scroller,"mousewheel",function(Ee){return Xa(e,Ee)}),je(t.scroller,"DOMMouseScroll",function(Ee){return Xa(e,Ee)}),je(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(Ee){mt(e,Ee)||yt(Ee)},over:function(Ee){mt(e,Ee)||(Wu(e,Ee),yt(Ee))},start:function(Ee){return qu(e,Ee)},drop:wr(e,zu),leave:function(Ee){mt(e,Ee)||Os(e)}};var ve=t.input.getField();je(ve,"keyup",function(Ee){return Bs.call(e,Ee)}),je(ve,"keydown",wr(e,Ls)),je(ve,"keypress",wr(e,Fs)),je(ve,"focus",function(Ee){return Yo(e,Ee)}),je(ve,"blur",function(Ee){return Ci(e,Ee)})}fr.defaults=Hs,fr.optionHandlers=Mo;var ga=[];function lo(e,t,r,n){var a,Z=e.doc;r==null&&(r="add"),r=="smart"&&(Z.mode.indent?a=Kn(e,t).state:r="prev");var pe=e.options.tabSize,ve=Mt(Z,t),Ee=F(ve.text,null,pe);ve.stateAfter&&(ve.stateAfter=null);var Pe,He=ve.text.match(/^\s*/)[0];if(n||/\S/.test(ve.text)){if(r=="smart"&&((Pe=Z.mode.indent(a,ve.text.slice(He.length),ve.text))==M||Pe>150)){if(!n)return;r="prev"}}else Pe=0,r="not";r=="prev"?Pe=t>Z.first?F(Mt(Z,t-1).text,null,pe):0:r=="add"?Pe=Ee+e.options.indentUnit:r=="subtract"?Pe=Ee-e.options.indentUnit:typeof r=="number"&&(Pe=Ee+r),Pe=Math.max(0,Pe);var ze="",st=0;if(e.options.indentWithTabs)for(var ut=Math.floor(Pe/pe);ut;--ut)st+=pe,ze+="	";if(st<Pe&&(ze+=E(Pe-st)),ze!=He)return Ti(Z,ze,Ct(t,0),Ct(t,He.length),"+input"),ve.stateAfter=null,!0;for(var wt=0;wt<Z.sel.ranges.length;wt++){var jt=Z.sel.ranges[wt];if(jt.head.line==t&&jt.head.ch<He.length){var Vt=Ct(t,He.length);ua(Z,wt,new nr(Vt,Vt));break}}}fr.defineInitHook=function(e){return ga.push(e)};var Hr=null;function Lo(e){Hr=e}function va(e,t,r,n,a){var Z=e.doc;e.display.shift=!1,n||(n=Z.sel);var pe=+new Date-200,ve=a=="paste"||e.state.pasteIncoming>pe,Ee=$e(t),Pe=null;if(ve&&n.ranges.length>1)if(Hr&&Hr.text.join(`
`)==t){if(n.ranges.length%Hr.text.length==0){Pe=[];for(var He=0;He<Hr.text.length;He++)Pe.push(Z.splitLines(Hr.text[He]))}}else Ee.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(Pe=ue(Ee,function(rn){return[rn]}));for(var ze=e.curOp.updateInput,st=n.ranges.length-1;st>=0;st--){var ut=n.ranges[st],wt=ut.from(),jt=ut.to();ut.empty()&&(r&&r>0?wt=Ct(wt.line,wt.ch-r):e.state.overwrite&&!ve?jt=Ct(jt.line,Math.min(Mt(Z,jt.line).text.length,jt.ch+R(Ee).length)):ve&&Hr&&Hr.lineWise&&Hr.text.join(`
`)==Ee.join(`
`)&&(wt=jt=Ct(wt.line,0)));var Vt={from:wt,to:jt,text:Pe?Pe[st%Pe.length]:Ee,origin:a||(ve?"paste":e.state.cutIncoming>pe?"cut":"+input")};Pi(e.doc,Vt),dr(e,"inputRead",e,Vt)}t&&!ve&&qs(e,t),Oi(e),e.curOp.updateInput<2&&(e.curOp.updateInput=ze),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function zs(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Rr(t,function(){return va(t,r,0,null,"paste")}),!0}function qs(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var a=r.ranges[n];if(!(a.head.ch>100||n&&r.ranges[n-1].head.line==a.head.line)){var Z=e.getModeAt(a.head),pe=!1;if(Z.electricChars){for(var ve=0;ve<Z.electricChars.length;ve++)if(t.indexOf(Z.electricChars.charAt(ve))>-1){pe=lo(e,a.head.line,"smart");break}}else Z.electricInput&&Z.electricInput.test(Mt(e.doc,a.head.line).text.slice(0,a.head.ch))&&(pe=lo(e,a.head.line,"smart"));pe&&dr(e,"electricInput",e,a.head.line)}}}function Ws(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var a=e.doc.sel.ranges[n].head.line,Z={anchor:Ct(a,0),head:Ct(a+1,0)};r.push(Z),t.push(e.getRange(Z.anchor,Z.head))}return{text:t,ranges:r}}function $s(e,t,r,n){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function Gs(){var e=z("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=z("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return S?e.style.width="1000px":e.setAttribute("wrap","off"),B&&(e.style.border="1px solid black"),$s(e),t}function ml(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(n,a){var Z=this.options,pe=Z[n];Z[n]==a&&n!="mode"||(Z[n]=a,t.hasOwnProperty(n)&&wr(this,t[n])(this,a,pe),it(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,a){this.state.keyMaps[a?"push":"unshift"](Do(n))},removeKeyMap:function(n){for(var a=this.state.keyMaps,Z=0;Z<a.length;++Z)if(a[Z]==n||a[Z].name==n)return a.splice(Z,1),!0},addOverlay:Or(function(n,a){var Z=n.token?n:e.getMode(this.options,n);if(Z.startState)throw new Error("Overlays may not be stateful.");be(this.state.overlays,{mode:Z,modeSpec:n,opaque:a&&a.opaque,priority:a&&a.priority||0},function(pe){return pe.priority}),this.state.modeGen++,Ar(this)}),removeOverlay:Or(function(n){for(var a=this.state.overlays,Z=0;Z<a.length;++Z){var pe=a[Z].modeSpec;if(pe==n||typeof n=="string"&&pe.name==n)return a.splice(Z,1),this.state.modeGen++,void Ar(this)}}),indentLine:Or(function(n,a,Z){typeof a!="string"&&typeof a!="number"&&(a=a==null?this.options.smartIndent?"smart":"prev":a?"add":"subtract"),on(this.doc,n)&&lo(this,n,a,Z)}),indentSelection:Or(function(n){for(var a=this.doc.sel.ranges,Z=-1,pe=0;pe<a.length;pe++){var ve=a[pe];if(ve.empty())ve.head.line>Z&&(lo(this,ve.head.line,n,!0),Z=ve.head.line,pe==this.doc.sel.primIndex&&Oi(this));else{var Ee=ve.from(),Pe=ve.to(),He=Math.max(Z,Ee.line);Z=Math.min(this.lastLine(),Pe.line-(Pe.ch?0:1))+1;for(var ze=He;ze<Z;++ze)lo(this,ze,n);var st=this.doc.sel.ranges;Ee.ch==0&&a.length==st.length&&st[pe].from().ch>0&&ua(this.doc,pe,new nr(Ee,st[pe].to()),T)}}}),getTokenAt:function(n,a){return Gn(this,n,a)},getLineTokens:function(n,a){return Gn(this,Ct(n),a,!0)},getTokenTypeAt:function(n){n=xt(this.doc,n);var a,Z=tr(this,Mt(this.doc,n.line)),pe=0,ve=(Z.length-1)/2,Ee=n.ch;if(Ee==0)a=Z[2];else for(;;){var Pe=pe+ve>>1;if((Pe?Z[2*Pe-1]:0)>=Ee)ve=Pe;else{if(!(Z[2*Pe+1]<Ee)){a=Z[2*Pe+2];break}pe=Pe+1}}var He=a?a.indexOf("overlay "):-1;return He<0?a:He==0?null:a.slice(0,He-1)},getModeAt:function(n){var a=this.doc.mode;return a.innerMode?e.innerMode(a,this.getTokenAt(n).state).mode:a},getHelper:function(n,a){return this.getHelpers(n,a)[0]},getHelpers:function(n,a){var Z=[];if(!r.hasOwnProperty(a))return Z;var pe=r[a],ve=this.getModeAt(n);if(typeof ve[a]=="string")pe[ve[a]]&&Z.push(pe[ve[a]]);else if(ve[a])for(var Ee=0;Ee<ve[a].length;Ee++){var Pe=pe[ve[a][Ee]];Pe&&Z.push(Pe)}else ve.helperType&&pe[ve.helperType]?Z.push(pe[ve.helperType]):pe[ve.name]&&Z.push(pe[ve.name]);for(var He=0;He<pe._global.length;He++){var ze=pe._global[He];ze.pred(ve,this)&&h(Z,ze.val)==-1&&Z.push(ze.val)}return Z},getStateAfter:function(n,a){var Z=this.doc;return Kn(this,(n=rt(Z,n==null?Z.first+Z.size-1:n))+1,a).state},cursorCoords:function(n,a){var Z=this.doc.sel.primary();return Vr(this,n==null?Z.head:typeof n=="object"?xt(this.doc,n):n?Z.from():Z.to(),a||"page")},charCoords:function(n,a){return mo(this,xt(this.doc,n),a||"page")},coordsChar:function(n,a){return Uo(this,(n=ja(this,n,a||"page")).left,n.top)},lineAtHeight:function(n,a){return n=ja(this,{top:n,left:0},a||"page").top,hn(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,a,Z){var pe,ve=!1;if(typeof n=="number"){var Ee=this.doc.first+this.doc.size-1;n<this.doc.first?n=this.doc.first:n>Ee&&(n=Ee,ve=!0),pe=Mt(this.doc,n)}else pe=n;return vo(this,pe,{top:0,left:0},a||"page",Z||ve).top+(ve?this.doc.height-Be(pe):0)},defaultTextHeight:function(){return xi(this.display)},defaultCharWidth:function(){return ki(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,a,Z,pe,ve){var Ee=this.display,Pe=(n=Vr(this,xt(this.doc,n))).bottom,He=n.left;if(a.style.position="absolute",a.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(a),Ee.sizer.appendChild(a),pe=="over")Pe=n.top;else if(pe=="above"||pe=="near"){var ze=Math.max(Ee.wrapper.clientHeight,this.doc.height),st=Math.max(Ee.sizer.clientWidth,Ee.lineSpace.clientWidth);(pe=="above"||n.bottom+a.offsetHeight>ze)&&n.top>a.offsetHeight?Pe=n.top-a.offsetHeight:n.bottom+a.offsetHeight<=ze&&(Pe=n.bottom),He+a.offsetWidth>st&&(He=st-a.offsetWidth)}a.style.top=Pe+"px",a.style.left=a.style.right="",ve=="right"?(He=Ee.sizer.clientWidth-a.offsetWidth,a.style.right="0px"):(ve=="left"?He=0:ve=="middle"&&(He=(Ee.sizer.clientWidth-a.offsetWidth)/2),a.style.left=He+"px"),Z&&du(this,{left:He,top:Pe,right:He+a.offsetWidth,bottom:Pe+a.offsetHeight})},triggerOnKeyDown:Or(Ls),triggerOnKeyPress:Or(Fs),triggerOnKeyUp:Bs,triggerOnMouseDown:Or(Ns),execCommand:function(n){if(oo.hasOwnProperty(n))return oo[n].call(null,this)},triggerElectric:Or(function(n){qs(this,n)}),findPosH:function(n,a,Z,pe){var ve=1;a<0&&(ve=-1,a=-a);for(var Ee=xt(this.doc,n),Pe=0;Pe<a&&!(Ee=ma(this.doc,Ee,ve,Z,pe)).hitSide;++Pe);return Ee},moveH:Or(function(n,a){var Z=this;this.extendSelectionsBy(function(pe){return Z.display.shift||Z.doc.extend||pe.empty()?ma(Z.doc,pe.head,n,a,Z.options.rtlMoveVisually):n<0?pe.from():pe.to()},c)}),deleteH:Or(function(n,a){var Z=this.doc.sel,pe=this.doc;Z.somethingSelected()?pe.replaceSelection("",null,"+delete"):Ri(this,function(ve){var Ee=ma(pe,ve.head,n,a,!1);return n<0?{from:Ee,to:ve.head}:{from:ve.head,to:Ee}})}),findPosV:function(n,a,Z,pe){var ve=1,Ee=pe;a<0&&(ve=-1,a=-a);for(var Pe=xt(this.doc,n),He=0;He<a;++He){var ze=Vr(this,Pe,"div");if(Ee==null?Ee=ze.left:ze.left=Ee,(Pe=Ys(this,ze,ve,Z)).hitSide)break}return Pe},moveV:Or(function(n,a){var Z=this,pe=this.doc,ve=[],Ee=!this.display.shift&&!pe.extend&&pe.sel.somethingSelected();if(pe.extendSelectionsBy(function(He){if(Ee)return n<0?He.from():He.to();var ze=Vr(Z,He.head,"div");He.goalColumn!=null&&(ze.left=He.goalColumn),ve.push(ze.left);var st=Ys(Z,ze,n,a);return a=="page"&&He==pe.sel.primary()&&Xo(Z,mo(Z,st,"div").top-ze.top),st},c),ve.length)for(var Pe=0;Pe<pe.sel.ranges.length;Pe++)pe.sel.ranges[Pe].goalColumn=ve[Pe]}),findWordAt:function(n){var a=Mt(this.doc,n.line).text,Z=n.ch,pe=n.ch;if(a){var ve=this.getHelper(n,"wordChars");n.sticky!="before"&&pe!=a.length||!Z?++pe:--Z;for(var Ee=a.charAt(Z),Pe=we(Ee,ve)?function(He){return we(He,ve)}:/\s/.test(Ee)?function(He){return/\s/.test(He)}:function(He){return!/\s/.test(He)&&!we(He)};Z>0&&Pe(a.charAt(Z-1));)--Z;for(;pe<a.length&&Pe(a.charAt(pe));)++pe}return new nr(Ct(n.line,Z),Ct(n.line,pe))},toggleOverwrite:function(n){n!=null&&n==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?g(this.display.cursorDiv,"CodeMirror-overwrite"):I(this.display.cursorDiv,"CodeMirror-overwrite"),it(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==y()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Or(function(n,a){zi(this,n,a)}),getScrollInfo:function(){var n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-nt(this)-this.display.barHeight,width:n.scrollWidth-nt(this)-this.display.barWidth,clientHeight:Ut(this),clientWidth:At(this)}},scrollIntoView:Or(function(n,a){n==null?(n={from:this.doc.sel.primary().head,to:null},a==null&&(a=this.options.cursorScrollMargin)):typeof n=="number"?n={from:Ct(n,0),to:null}:n.from==null&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=a||0,n.from.line!=null?gu(this,n):Va(this,n.from,n.to,n.margin)}),setSize:Or(function(n,a){var Z=this,pe=function(Ee){return typeof Ee=="number"||/^\d+$/.test(String(Ee))?Ee+"px":Ee};n!=null&&(this.display.wrapper.style.width=pe(n)),a!=null&&(this.display.wrapper.style.height=pe(a)),this.options.lineWrapping&&Aa(this);var ve=this.display.viewFrom;this.doc.iter(ve,this.display.viewTo,function(Ee){if(Ee.widgets){for(var Pe=0;Pe<Ee.widgets.length;Pe++)if(Ee.widgets[Pe].noHScroll){Qr(Z,ve,"widget");break}}++ve}),this.curOp.forceUpdate=!0,it(this,"refresh",this)}),operation:function(n){return Rr(this,n)},startOperation:function(){return di(this)},endOperation:function(){return gi(this)},refresh:Or(function(){var n=this.display.cachedTextHeight;Ar(this),this.curOp.forceUpdate=!0,Ui(this),zi(this,this.doc.scrollLeft,this.doc.scrollTop),ea(this.display),(n==null||Math.abs(n-xi(this.display))>.5||this.options.lineWrapping)&&Wo(this),it(this,"refresh",this)}),swapDoc:Or(function(n){var a=this.doc;return a.cm=null,this.state.selectingText&&this.state.selectingText(),ts(this,n),Ui(this),this.display.input.reset(),zi(this,n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,dr(this,"swapDoc",this,a),a}),phrase:function(n){var a=this.options.phrases;return a&&Object.prototype.hasOwnProperty.call(a,n)?a[n]:n},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ue(e),e.registerHelper=function(n,a,Z){r.hasOwnProperty(n)||(r[n]=e[n]={_global:[]}),r[n][a]=Z},e.registerGlobalHelper=function(n,a,Z,pe){e.registerHelper(n,a,pe),r[n]._global.push({pred:Z,val:pe})}}function ma(e,t,r,n,a){var Z=t,pe=r,ve=Mt(e,t.line),Ee=a&&e.direction=="rtl"?-r:r;function Pe(){var pn=t.line+Ee;return!(pn<e.first||pn>=e.first+e.size)&&(t=new Ct(pn,t.ch,t.sticky),ve=Mt(e,pn))}function He(pn){var qt;if(n=="codepoint"){var yn=ve.text.charCodeAt(t.ch+(r>0?0:-1));if(isNaN(yn))qt=null;else{var mn=r>0?yn>=55296&&yn<56320:yn>=56320&&yn<57343;qt=new Ct(t.line,Math.max(0,Math.min(ve.text.length,t.ch+r*(mn?2:1))),-r)}}else qt=a?Ju(e.cm,ve,t,r):ca(ve,t,r);if(qt==null){if(pn||!Pe())return!1;t=fa(a,e.cm,ve,t.line,Ee)}else t=qt;return!0}if(n=="char"||n=="codepoint")He();else if(n=="column")He(!0);else if(n=="word"||n=="group")for(var ze=null,st=n=="group",ut=e.cm&&e.cm.getHelper(t,"wordChars"),wt=!0;!(r<0)||He(!wt);wt=!1){var jt=ve.text.charAt(t.ch)||`
`,Vt=we(jt,ut)?"w":st&&jt==`
`?"n":!st||/\s/.test(jt)?null:"p";if(!st||wt||Vt||(Vt="s"),ze&&ze!=Vt){r<0&&(r=1,He(),t.sticky="after");break}if(Vt&&(ze=Vt),r>0&&!He(!wt))break}var rn=Po(e,t,Z,pe,!0);return De(Z,rn)&&(rn.hitSide=!0),rn}function Ys(e,t,r,n){var a,Z,pe=e.doc,ve=t.left;if(n=="page"){var Ee=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),Pe=Math.max(Ee-.5*xi(e.display),3);a=(r>0?t.bottom:t.top)+r*Pe}else n=="line"&&(a=r>0?t.bottom+3:t.top-3);for(;(Z=Uo(e,ve,a)).outside;){if(r<0?a<=0:a>=pe.height){Z.hitSide=!0;break}a+=5*r}return Z}var ir=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new b,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ks(e,t){var r=_i(e,t.line);if(!r||r.hidden)return null;var n=Mt(e.doc,t.line),a=Un(r,n,t.line),Z=It(n,e.doc.direction),pe="left";Z&&(pe=Zt(Z,t.ch)%2?"right":"left");var ve=Sa(a.map,t.ch,pe);return ve.offset=ve.collapse=="right"?ve.end:ve.start,ve}function yl(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function Li(e,t){return t&&(e.bad=!0),e}function bl(e,t,r,n,a){var Z="",pe=!1,ve=e.doc.lineSeparator(),Ee=!1;function Pe(ut){return function(wt){return wt.id==ut}}function He(){pe&&(Z+=ve,Ee&&(Z+=ve),pe=Ee=!1)}function ze(ut){ut&&(He(),Z+=ut)}function st(ut){if(ut.nodeType==1){var wt=ut.getAttribute("cm-text");if(wt)return void ze(wt);var jt,Vt=ut.getAttribute("cm-marker");if(Vt){var rn=e.findMarks(Ct(n,0),Ct(a+1,0),Pe(+Vt));return void(rn.length&&(jt=rn[0].find(0))&&ze(Rn(e.doc,jt.from,jt.to).join(ve)))}if(ut.getAttribute("contenteditable")=="false")return;var pn=/^(pre|div|p|li|table|br)$/i.test(ut.nodeName);if(!/^br$/i.test(ut.nodeName)&&ut.textContent.length==0)return;pn&&He();for(var qt=0;qt<ut.childNodes.length;qt++)st(ut.childNodes[qt]);/^(pre|p)$/i.test(ut.nodeName)&&(Ee=!0),pn&&(pe=!0)}else ut.nodeType==3&&ze(ut.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;st(t),t!=r;)t=t.nextSibling,Ee=!1;return Z}function Bo(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return Li(e.clipPos(Ct(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var a=0;a<e.display.view.length;a++){var Z=e.display.view[a];if(Z.node==n)return wl(Z,t,r)}}function wl(e,t,r){var n=e.text.firstChild,a=!1;if(!t||!u(n,t))return Li(Ct(Wt(e.line),0),!0);if(t==n&&(a=!0,t=n.childNodes[r],r=0,!t)){var Z=e.rest?R(e.rest):e.line;return Li(Ct(Wt(Z),Z.text.length),a)}var pe=t.nodeType==3?t:null,ve=t;for(pe||t.childNodes.length!=1||t.firstChild.nodeType!=3||(pe=t.firstChild,r&&(r=pe.nodeValue.length));ve.parentNode!=n;)ve=ve.parentNode;var Ee=e.measure,Pe=Ee.maps;function He(Vt,rn,pn){for(var qt=-1;qt<(Pe?Pe.length:0);qt++)for(var yn=qt<0?Ee.map:Pe[qt],mn=0;mn<yn.length;mn+=3){var xn=yn[mn+2];if(xn==Vt||xn==rn){var or=Wt(qt<0?e.line:e.rest[qt]),ar=yn[mn]+pn;return(pn<0||xn!=Vt)&&(ar=yn[mn+(pn?1:0)]),Ct(or,ar)}}}var ze=He(pe,ve,r);if(ze)return Li(ze,a);for(var st=ve.nextSibling,ut=pe?pe.nodeValue.length-r:0;st;st=st.nextSibling){if(ze=He(st,st.firstChild,0))return Li(Ct(ze.line,ze.ch-ut),a);ut+=st.textContent.length}for(var wt=ve.previousSibling,jt=r;wt;wt=wt.previousSibling){if(ze=He(wt,wt.firstChild,-1))return Li(Ct(ze.line,ze.ch+jt),a);jt+=wt.textContent.length}}ir.prototype.init=function(e){var t=this,r=this,n=r.cm,a=r.div=e.lineDiv;function Z(ve){for(var Ee=ve.target;Ee;Ee=Ee.parentNode){if(Ee==a)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Ee.className))break}return!1}function pe(ve){if(Z(ve)&&!mt(n,ve)){if(n.somethingSelected())Lo({lineWise:!1,text:n.getSelections()}),ve.type=="cut"&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var Ee=Ws(n);Lo({lineWise:!0,text:Ee.text}),ve.type=="cut"&&n.operation(function(){n.setSelections(Ee.ranges,0,T),n.replaceSelection("",null,"cut")})}if(ve.clipboardData){ve.clipboardData.clearData();var Pe=Hr.text.join(`
`);if(ve.clipboardData.setData("Text",Pe),ve.clipboardData.getData("Text")==Pe)return void ve.preventDefault()}var He=Gs(),ze=He.firstChild;n.display.lineSpace.insertBefore(He,n.display.lineSpace.firstChild),ze.value=Hr.text.join(`
`);var st=y();$(ze),setTimeout(function(){n.display.lineSpace.removeChild(He),st.focus(),st==a&&r.showPrimarySelection()},50)}}a.contentEditable=!0,$s(a,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),je(a,"paste",function(ve){!Z(ve)||mt(n,ve)||zs(ve,n)||d<=11&&setTimeout(wr(n,function(){return t.updateFromDOM()}),20)}),je(a,"compositionstart",function(ve){t.composing={data:ve.data,done:!1}}),je(a,"compositionupdate",function(ve){t.composing||(t.composing={data:ve.data,done:!1})}),je(a,"compositionend",function(ve){t.composing&&(ve.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),je(a,"touchstart",function(){return r.forceCompositionEnd()}),je(a,"input",function(){t.composing||t.readFromDOMSoon()}),je(a,"copy",pe),je(a,"cut",pe)},ir.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},ir.prototype.prepareSelection=function(){var e=Fa(this.cm,!1);return e.focus=y()==this.div,e},ir.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},ir.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},ir.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),n=r.from(),a=r.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||a.line<t.display.viewFrom)e.removeAllRanges();else{var Z=Bo(t,e.anchorNode,e.anchorOffset),pe=Bo(t,e.focusNode,e.focusOffset);if(!Z||Z.bad||!pe||pe.bad||ln(Nt(Z,pe),n)!=0||ln(vt(Z,pe),a)!=0){var ve=t.display.view,Ee=n.line>=t.display.viewFrom&&Ks(t,n)||{node:ve[0].measure.map[2],offset:0},Pe=a.line<t.display.viewTo&&Ks(t,a);if(!Pe){var He=ve[ve.length-1].measure,ze=He.maps?He.maps[He.maps.length-1]:He.map;Pe={node:ze[ze.length-1],offset:ze[ze.length-2]-ze[ze.length-3]}}if(Ee&&Pe){var st,ut=e.rangeCount&&e.getRangeAt(0);try{st=L(Ee.node,Ee.offset,Pe.offset,Pe.node)}catch{}st&&(!O&&t.state.focused?(e.collapse(Ee.node,Ee.offset),st.collapsed||(e.removeAllRanges(),e.addRange(st))):(e.removeAllRanges(),e.addRange(st)),ut&&e.anchorNode==null?e.addRange(ut):O&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},ir.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},ir.prototype.showMultipleSelections=function(e){ne(this.cm.display.cursorDiv,e.cursors),ne(this.cm.display.selectionDiv,e.selection)},ir.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},ir.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return u(this.div,t)},ir.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&(this.selectionInEditor()&&y()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},ir.prototype.blur=function(){this.div.blur()},ir.prototype.getField=function(){return this.div},ir.prototype.supportsTouch=function(){return!0},ir.prototype.receivedFocus=function(){var e=this,t=this;function r(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,r))}this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):Rr(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,r)},ir.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},ir.prototype.pollSelection=function(){if(this.readDOMTimeout==null&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(Q&&f&&this.cm.display.gutterSpecs.length&&yl(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=Bo(t,e.anchorNode,e.anchorOffset),n=Bo(t,e.focusNode,e.focusOffset);r&&n&&Rr(t,function(){xr(t.doc,ti(r,n),T),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},ir.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,r,n=this.cm,a=n.display,Z=n.doc.sel.primary(),pe=Z.from(),ve=Z.to();if(pe.ch==0&&pe.line>n.firstLine()&&(pe=Ct(pe.line-1,Mt(n.doc,pe.line-1).length)),ve.ch==Mt(n.doc,ve.line).text.length&&ve.line<n.lastLine()&&(ve=Ct(ve.line+1,0)),pe.line<a.viewFrom||ve.line>a.viewTo-1)return!1;pe.line==a.viewFrom||(e=fi(n,pe.line))==0?(t=Wt(a.view[0].line),r=a.view[0].node):(t=Wt(a.view[e].line),r=a.view[e-1].node.nextSibling);var Ee,Pe,He=fi(n,ve.line);if(He==a.view.length-1?(Ee=a.viewTo-1,Pe=a.lineDiv.lastChild):(Ee=Wt(a.view[He+1].line)-1,Pe=a.view[He+1].node.previousSibling),!r)return!1;for(var ze=n.doc.splitLines(bl(n,r,Pe,t,Ee)),st=Rn(n.doc,Ct(t,0),Ct(Ee,Mt(n.doc,Ee).text.length));ze.length>1&&st.length>1;)if(R(ze)==R(st))ze.pop(),st.pop(),Ee--;else{if(ze[0]!=st[0])break;ze.shift(),st.shift(),t++}for(var ut=0,wt=0,jt=ze[0],Vt=st[0],rn=Math.min(jt.length,Vt.length);ut<rn&&jt.charCodeAt(ut)==Vt.charCodeAt(ut);)++ut;for(var pn=R(ze),qt=R(st),yn=Math.min(pn.length-(ze.length==1?ut:0),qt.length-(st.length==1?ut:0));wt<yn&&pn.charCodeAt(pn.length-wt-1)==qt.charCodeAt(qt.length-wt-1);)++wt;if(ze.length==1&&st.length==1&&t==pe.line)for(;ut&&ut>pe.ch&&pn.charCodeAt(pn.length-wt-1)==qt.charCodeAt(qt.length-wt-1);)ut--,wt++;ze[ze.length-1]=pn.slice(0,pn.length-wt).replace(/^\u200b+/,""),ze[0]=ze[0].slice(ut).replace(/\u200b+$/,"");var mn=Ct(t,ut),xn=Ct(Ee,st.length?R(st).length-wt:0);return ze.length>1||ze[0]||ln(mn,xn)?(Ti(n.doc,ze,mn,xn,"+input"),!0):void 0},ir.prototype.ensurePolled=function(){this.forceCompositionEnd()},ir.prototype.reset=function(){this.forceCompositionEnd()},ir.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},ir.prototype.readFromDOMSoon=function(){var e=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},ir.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Rr(this.cm,function(){return Ar(e.cm)})},ir.prototype.setUneditable=function(e){e.contentEditable="false"},ir.prototype.onKeyPress=function(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||wr(this.cm,va)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))},ir.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},ir.prototype.onContextMenu=function(){},ir.prototype.resetPosition=function(){},ir.prototype.needsContentAttribute=!0;var gr=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new b,this.hasSelection=!1,this.composing=null};function _l(e,t){if((t=t?K(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),t.autofocus==null){var r=y();t.autofocus=r==e||e.getAttribute("autofocus")!=null&&r==document.body}function n(){e.value=ve.getValue()}var a;if(e.form&&(je(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var Z=e.form;a=Z.submit;try{var pe=Z.submit=function(){n(),Z.submit=a,Z.submit(),Z.submit=pe}}catch{}}t.finishInit=function(Ee){Ee.save=n,Ee.getTextArea=function(){return e},Ee.toTextArea=function(){Ee.toTextArea=isNaN,n(),e.parentNode.removeChild(Ee.getWrapperElement()),e.style.display="",e.form&&(We(e.form,"submit",n),t.leaveSubmitMethodAlone||typeof e.form.submit!="function"||(e.form.submit=a))}},e.style.display="none";var ve=fr(function(Ee){return e.parentNode.insertBefore(Ee,e.nextSibling)},t);return ve}function xl(e){e.off=We,e.on=je,e.wheelEventPixels=Pu,e.Doc=Pr,e.splitLines=$e,e.countColumn=F,e.findColumn=ee,e.isWordChar=Ce,e.Pass=M,e.signal=it,e.Line=dt,e.changeEnd=ni,e.scrollbarModel=za,e.Pos=Ct,e.cmpPos=ln,e.modes=zt,e.mimeModes=Gt,e.resolveMode=un,e.getMode=bn,e.modeExtensions=wn,e.extendMode=En,e.copyState=An,e.startState=qn,e.innerMode=Tn,e.commands=oo,e.keyMap=Kr,e.keyName=Ts,e.isModifierKey=As,e.lookupKey=Di,e.normalizeKeyMap=Xu,e.StringStream=Ft,e.SharedTextMarker=no,e.TextMarker=ii,e.LineWidget=to,e.e_preventDefault=et,e.e_stopPropagation=ct,e.e_stop=yt,e.addClass=g,e.contains=u,e.rmClass=I,e.keyNames=oi}gr.prototype.init=function(e){var t=this,r=this,n=this.cm;this.createField(e);var a=this.textarea;function Z(pe){if(!mt(n,pe)){if(n.somethingSelected())Lo({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var ve=Ws(n);Lo({lineWise:!0,text:ve.text}),pe.type=="cut"?n.setSelections(ve.ranges,null,T):(r.prevInput="",a.value=ve.text.join(`
`),$(a))}pe.type=="cut"&&(n.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),B&&(a.style.width="0px"),je(a,"input",function(){k&&d>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()}),je(a,"paste",function(pe){mt(n,pe)||zs(pe,n)||(n.state.pasteIncoming=+new Date,r.fastPoll())}),je(a,"cut",Z),je(a,"copy",Z),je(e.scroller,"paste",function(pe){if(!Me(e,pe)&&!mt(n,pe)){if(!a.dispatchEvent)return n.state.pasteIncoming=+new Date,void r.focus();var ve=new Event("paste");ve.clipboardData=pe.clipboardData,a.dispatchEvent(ve)}}),je(e.lineSpace,"selectstart",function(pe){Me(e,pe)||et(pe)}),je(a,"compositionstart",function(){var pe=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:pe,range:n.markText(pe,n.getCursor("to"),{className:"CodeMirror-composing"})}}),je(a,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},gr.prototype.createField=function(e){this.wrapper=Gs(),this.textarea=this.wrapper.firstChild},gr.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},gr.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=Fa(e);if(e.options.moveInputWithCursor){var a=Vr(e,r.sel.primary().head,"div"),Z=t.wrapper.getBoundingClientRect(),pe=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,a.top+pe.top-Z.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,a.left+pe.left-Z.left))}return n},gr.prototype.showSelection=function(e){var t=this.cm.display;ne(t.cursorDiv,e.cursors),ne(t.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},gr.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&$(this.textarea),k&&d>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",k&&d>=9&&(this.hasSelection=null))}},gr.prototype.getField=function(){return this.textarea},gr.prototype.supportsTouch=function(){return!1},gr.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!X||y()!=this.textarea))try{this.textarea.focus()}catch{}},gr.prototype.blur=function(){this.textarea.blur()},gr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},gr.prototype.receivedFocus=function(){this.slowPoll()},gr.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},gr.prototype.fastPoll=function(){var e=!1,t=this;function r(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,r))}t.pollingFast=!0,t.polling.set(20,r)},gr.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||ft(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var a=r.value;if(a==n&&!t.somethingSelected())return!1;if(k&&d>=9&&this.hasSelection===a||te&&/[\uf700-\uf7ff]/.test(a))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var Z=a.charCodeAt(0);if(Z!=8203||n||(n="\u200B"),Z==8666)return this.reset(),this.cm.execCommand("undo")}for(var pe=0,ve=Math.min(n.length,a.length);pe<ve&&n.charCodeAt(pe)==a.charCodeAt(pe);)++pe;return Rr(t,function(){va(t,a.slice(pe),n.length-pe,null,e.composing?"*compose":null),a.length>1e3||a.indexOf(`
`)>-1?r.value=e.prevInput="":e.prevInput=a,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},gr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},gr.prototype.onKeyPress=function(){k&&d>=9&&(this.hasSelection=null),this.fastPoll()},gr.prototype.onContextMenu=function(e){var t=this,r=t.cm,n=r.display,a=t.textarea;t.contextMenuPending&&t.contextMenuPending();var Z=ci(r,e),pe=n.scroller.scrollTop;if(Z&&!l){r.options.resetSelectionOnContextMenu&&r.doc.sel.contains(Z)==-1&&wr(r,xr)(r.doc,ti(Z),T);var ve,Ee=a.style.cssText,Pe=t.wrapper.style.cssText,He=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",a.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(e.clientY-He.top-5)+"px; left: "+(e.clientX-He.left-5)+`px;
      z-index: 1000; background: `+(k?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`,S&&(ve=window.scrollY),n.input.focus(),S&&window.scrollTo(null,ve),n.input.reset(),r.somethingSelected()||(a.value=t.prevInput=" "),t.contextMenuPending=ut,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll),k&&d>=9&&st(),ce){yt(e);var ze=function(){We(window,"mouseup",ze),setTimeout(ut,20)};je(window,"mouseup",ze)}else setTimeout(ut,50)}function st(){if(a.selectionStart!=null){var wt=r.somethingSelected(),jt="\u200B"+(wt?a.value:"");a.value="\u21DA",a.value=jt,t.prevInput=wt?"":"\u200B",a.selectionStart=1,a.selectionEnd=jt.length,n.selForContextMenu=r.doc.sel}}function ut(){if(t.contextMenuPending==ut&&(t.contextMenuPending=!1,t.wrapper.style.cssText=Pe,a.style.cssText=Ee,k&&d<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=pe),a.selectionStart!=null)){(!k||k&&d<9)&&st();var wt=0,jt=function(){n.selForContextMenu==r.doc.sel&&a.selectionStart==0&&a.selectionEnd>0&&t.prevInput=="\u200B"?wr(r,ds)(r):wt++<10?n.detectingSelectAll=setTimeout(jt,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(jt,200)}}},gr.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e},gr.prototype.setUneditable=function(){},gr.prototype.needsContentAttribute=!1,pl(fr),ml(fr);var kl="iter insert remove copy getEditor constructor".split(" ");for(var Fo in Pr.prototype)Pr.prototype.hasOwnProperty(Fo)&&h(kl,Fo)<0&&(fr.prototype[Fo]=function(e){return function(){return e.apply(this.doc,arguments)}}(Pr.prototype[Fo]));return Ue(Pr),fr.inputStyles={textarea:gr,contenteditable:ir},fr.defineMode=function(e){fr.defaults.mode||e=="null"||(fr.defaults.mode=e),nn.apply(this,arguments)},fr.defineMIME=dn,fr.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),fr.defineMIME("text/plain","null"),fr.defineExtension=function(e,t){fr.prototype[e]=t},fr.defineDocExtension=function(e,t){Pr.prototype[e]=t},fr.fromTextArea=_l,xl(fr),fr.version="5.63.0",fr}()},6629:(ge,ie,s)=>{(function(O){function H(D){for(var L={},I=0;I<D.length;++I)L[D[I].toLowerCase()]=!0;return L}O.defineMode("css",function(D,L){var I=L.inline;L.propertyKeywords||(L=O.resolveMode("text/css"));var re,ne,z=D.indentUnit,Y=L.tokenHooks,u=L.documentTypes||{},y=L.mediaTypes||{},g=L.mediaFeatures||{},m=L.mediaValueKeywords||{},$=L.propertyKeywords||{},ae=L.nonStandardPropertyKeywords||{},K=L.fontProperties||{},F=L.counterDescriptors||{},b=L.colorKeywords||{},h=L.valueKeywords||{},V=L.allowNested,M=L.lineComment,T=L.supportsAtComponent===!0,P=D.highlightNonStandardPropertyKeywords!==!1;function c(we,Ae){return re=Ae,we}function ee(we,Ae){var _e=we.next();if(Y[_e]){var Ne=Y[_e](we,Ae);if(Ne!==!1)return Ne}return _e=="@"?(we.eatWhile(/[\w\\\-]/),c("def",we.current())):_e=="="||(_e=="~"||_e=="|")&&we.eat("=")?c(null,"compare"):_e=='"'||_e=="'"?(Ae.tokenize=q(_e),Ae.tokenize(we,Ae)):_e=="#"?(we.eatWhile(/[\w\\\-]/),c("atom","hash")):_e=="!"?(we.match(/^\s*\w*/),c("keyword","important")):/\d/.test(_e)||_e=="."&&we.eat(/\d/)?(we.eatWhile(/[\w.%]/),c("number","unit")):_e!=="-"?/[,+>*\/]/.test(_e)?c(null,"select-op"):_e=="."&&we.match(/^-?[_a-z][_a-z0-9-]*/i)?c("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(_e)?c(null,_e):we.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(we.current())&&(Ae.tokenize=E),c("variable callee","variable")):/[\w\\\-]/.test(_e)?(we.eatWhile(/[\w\\\-]/),c("property","word")):c(null,null):/[\d.]/.test(we.peek())?(we.eatWhile(/[\w.%]/),c("number","unit")):we.match(/^-[\w\\\-]*/)?(we.eatWhile(/[\w\\\-]/),we.match(/^\s*:/,!1)?c("variable-2","variable-definition"):c("variable-2","variable")):we.match(/^\w+-/)?c("meta","meta"):void 0}function q(we){return function(Ae,_e){for(var Ne,Je=!1;(Ne=Ae.next())!=null;){if(Ne==we&&!Je){we==")"&&Ae.backUp(1);break}Je=!Je&&Ne=="\\"}return(Ne==we||!Je&&we!=")")&&(_e.tokenize=null),c("string","string")}}function E(we,Ae){return we.next(),we.match(/^\s*[\"\')]/,!1)?Ae.tokenize=null:Ae.tokenize=q(")"),c(null,"(")}function R(we,Ae,_e){this.type=we,this.indent=Ae,this.prev=_e}function ue(we,Ae,_e,Ne){return we.context=new R(_e,Ae.indentation()+(Ne===!1?0:z),we.context),_e}function be(we){return we.context.prev&&(we.context=we.context.prev),we.context.type}function N(we,Ae,_e){return Ce[_e.context.type](we,Ae,_e)}function oe(we,Ae,_e,Ne){for(var Je=Ne||1;Je>0;Je--)_e.context=_e.context.prev;return N(we,Ae,_e)}function de(we){var Ae=we.current().toLowerCase();ne=h.hasOwnProperty(Ae)?"atom":b.hasOwnProperty(Ae)?"keyword":"variable"}var Ce={top:function(we,Ae,_e){if(we=="{")return ue(_e,Ae,"block");if(we=="}"&&_e.context.prev)return be(_e);if(T&&/@component/i.test(we))return ue(_e,Ae,"atComponentBlock");if(/^@(-moz-)?document$/i.test(we))return ue(_e,Ae,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(we))return ue(_e,Ae,"atBlock");if(/^@(font-face|counter-style)/i.test(we))return _e.stateArg=we,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(we))return"keyframes";if(we&&we.charAt(0)=="@")return ue(_e,Ae,"at");if(we=="hash")ne="builtin";else if(we=="word")ne="tag";else{if(we=="variable-definition")return"maybeprop";if(we=="interpolation")return ue(_e,Ae,"interpolation");if(we==":")return"pseudo";if(V&&we=="(")return ue(_e,Ae,"parens")}return _e.context.type},block:function(we,Ae,_e){if(we=="word"){var Ne=Ae.current().toLowerCase();return $.hasOwnProperty(Ne)?(ne="property","maybeprop"):ae.hasOwnProperty(Ne)?(ne=P?"string-2":"property","maybeprop"):V?(ne=Ae.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(ne+=" error","maybeprop")}return we=="meta"?"block":V||we!="hash"&&we!="qualifier"?Ce.top(we,Ae,_e):(ne="error","block")},maybeprop:function(we,Ae,_e){return we==":"?ue(_e,Ae,"prop"):N(we,Ae,_e)},prop:function(we,Ae,_e){if(we==";")return be(_e);if(we=="{"&&V)return ue(_e,Ae,"propBlock");if(we=="}"||we=="{")return oe(we,Ae,_e);if(we=="(")return ue(_e,Ae,"parens");if(we!="hash"||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(Ae.current())){if(we=="word")de(Ae);else if(we=="interpolation")return ue(_e,Ae,"interpolation")}else ne+=" error";return"prop"},propBlock:function(we,Ae,_e){return we=="}"?be(_e):we=="word"?(ne="property","maybeprop"):_e.context.type},parens:function(we,Ae,_e){return we=="{"||we=="}"?oe(we,Ae,_e):we==")"?be(_e):we=="("?ue(_e,Ae,"parens"):we=="interpolation"?ue(_e,Ae,"interpolation"):(we=="word"&&de(Ae),"parens")},pseudo:function(we,Ae,_e){return we=="meta"?"pseudo":we=="word"?(ne="variable-3",_e.context.type):N(we,Ae,_e)},documentTypes:function(we,Ae,_e){return we=="word"&&u.hasOwnProperty(Ae.current())?(ne="tag",_e.context.type):Ce.atBlock(we,Ae,_e)},atBlock:function(we,Ae,_e){if(we=="(")return ue(_e,Ae,"atBlock_parens");if(we=="}"||we==";")return oe(we,Ae,_e);if(we=="{")return be(_e)&&ue(_e,Ae,V?"block":"top");if(we=="interpolation")return ue(_e,Ae,"interpolation");if(we=="word"){var Ne=Ae.current().toLowerCase();ne=Ne=="only"||Ne=="not"||Ne=="and"||Ne=="or"?"keyword":y.hasOwnProperty(Ne)?"attribute":g.hasOwnProperty(Ne)?"property":m.hasOwnProperty(Ne)?"keyword":$.hasOwnProperty(Ne)?"property":ae.hasOwnProperty(Ne)?P?"string-2":"property":h.hasOwnProperty(Ne)?"atom":b.hasOwnProperty(Ne)?"keyword":"error"}return _e.context.type},atComponentBlock:function(we,Ae,_e){return we=="}"?oe(we,Ae,_e):we=="{"?be(_e)&&ue(_e,Ae,V?"block":"top",!1):(we=="word"&&(ne="error"),_e.context.type)},atBlock_parens:function(we,Ae,_e){return we==")"?be(_e):we=="{"||we=="}"?oe(we,Ae,_e,2):Ce.atBlock(we,Ae,_e)},restricted_atBlock_before:function(we,Ae,_e){return we=="{"?ue(_e,Ae,"restricted_atBlock"):we=="word"&&_e.stateArg=="@counter-style"?(ne="variable","restricted_atBlock_before"):N(we,Ae,_e)},restricted_atBlock:function(we,Ae,_e){return we=="}"?(_e.stateArg=null,be(_e)):we=="word"?(ne=_e.stateArg=="@font-face"&&!K.hasOwnProperty(Ae.current().toLowerCase())||_e.stateArg=="@counter-style"&&!F.hasOwnProperty(Ae.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(we,Ae,_e){return we=="word"?(ne="variable","keyframes"):we=="{"?ue(_e,Ae,"top"):N(we,Ae,_e)},at:function(we,Ae,_e){return we==";"?be(_e):we=="{"||we=="}"?oe(we,Ae,_e):(we=="word"?ne="tag":we=="hash"&&(ne="builtin"),"at")},interpolation:function(we,Ae,_e){return we=="}"?be(_e):we=="{"||we==";"?oe(we,Ae,_e):(we=="word"?ne="variable":we!="variable"&&we!="("&&we!=")"&&(ne="error"),"interpolation")}};return{startState:function(we){return{tokenize:null,state:I?"block":"top",stateArg:null,context:new R(I?"block":"top",we||0,null)}},token:function(we,Ae){if(!Ae.tokenize&&we.eatSpace())return null;var _e=(Ae.tokenize||ee)(we,Ae);return _e&&typeof _e=="object"&&(re=_e[1],_e=_e[0]),ne=_e,re!="comment"&&(Ae.state=Ce[Ae.state](re,we,Ae)),ne},indent:function(we,Ae){var _e=we.context,Ne=Ae&&Ae.charAt(0),Je=_e.indent;return _e.type!="prop"||Ne!="}"&&Ne!=")"||(_e=_e.prev),_e.prev&&(Ne!="}"||_e.type!="block"&&_e.type!="top"&&_e.type!="interpolation"&&_e.type!="restricted_atBlock"?(Ne!=")"||_e.type!="parens"&&_e.type!="atBlock_parens")&&(Ne!="{"||_e.type!="at"&&_e.type!="atBlock")||(Je=Math.max(0,_e.indent-z)):Je=(_e=_e.prev).indent),Je},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:M,fold:"brace"}});var A=["domain","regexp","url","url-prefix"],p=H(A),k=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],d=H(k),S=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],x=H(S),f=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],l=H(f),v=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],w=H(v),j=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],B=H(j),Q=H(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),X=H(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),te=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],J=H(te),U=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],se=H(U),me=A.concat(k).concat(S).concat(f).concat(v).concat(j).concat(te).concat(U);function ce(D,L){for(var I,re=!1;(I=D.next())!=null;){if(re&&I=="/"){L.tokenize=null;break}re=I=="*"}return["comment","comment"]}O.registerHelper("hintWords","css",me),O.defineMIME("text/css",{documentTypes:p,mediaTypes:d,mediaFeatures:x,mediaValueKeywords:l,propertyKeywords:w,nonStandardPropertyKeywords:B,fontProperties:Q,counterDescriptors:X,colorKeywords:J,valueKeywords:se,tokenHooks:{"/":function(D,L){return!!D.eat("*")&&(L.tokenize=ce,ce(D,L))}},name:"css"}),O.defineMIME("text/x-scss",{mediaTypes:d,mediaFeatures:x,mediaValueKeywords:l,propertyKeywords:w,nonStandardPropertyKeywords:B,colorKeywords:J,valueKeywords:se,fontProperties:Q,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(D,L){return D.eat("/")?(D.skipToEnd(),["comment","comment"]):D.eat("*")?(L.tokenize=ce,ce(D,L)):["operator","operator"]},":":function(D){return!!D.match(/^\s*\{/,!1)&&[null,null]},$:function(D){return D.match(/^[\w-]+/),D.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(D){return!!D.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),O.defineMIME("text/x-less",{mediaTypes:d,mediaFeatures:x,mediaValueKeywords:l,propertyKeywords:w,nonStandardPropertyKeywords:B,colorKeywords:J,valueKeywords:se,fontProperties:Q,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(D,L){return D.eat("/")?(D.skipToEnd(),["comment","comment"]):D.eat("*")?(L.tokenize=ce,ce(D,L)):["operator","operator"]},"@":function(D){return D.eat("{")?[null,"interpolation"]:!D.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(D.eatWhile(/[\w\\\-]/),D.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),O.defineMIME("text/x-gss",{documentTypes:p,mediaTypes:d,mediaFeatures:x,propertyKeywords:w,nonStandardPropertyKeywords:B,fontProperties:Q,counterDescriptors:X,colorKeywords:J,valueKeywords:se,supportsAtComponent:!0,tokenHooks:{"/":function(D,L){return!!D.eat("*")&&(L.tokenize=ce,ce(D,L))}},name:"css",helperType:"gss"})})(s(4631))},6531:(ge,ie,s)=>{(function(O){var H={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function A(l,v,w){var j=l.current(),B=j.search(v);return B>-1?l.backUp(j.length-B):j.match(/<\/?$/)&&(l.backUp(j.length),l.match(v,!1)||l.match(j)),w}var p={};function k(l){var v=p[l];return v||(p[l]=new RegExp("\\s+"+l+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function d(l,v){var w=l.match(k(v));return w?/^\s*(.*?)\s*$/.exec(w[2])[1]:""}function S(l,v){return new RegExp((v?"^":"")+"</s*"+l+"s*>","i")}function x(l,v){for(var w in l)for(var j=v[w]||(v[w]=[]),B=l[w],Q=B.length-1;Q>=0;Q--)j.unshift(B[Q])}function f(l,v){for(var w=0;w<l.length;w++){var j=l[w];if(!j[0]||j[1].test(d(v,j[0])))return j[2]}}O.defineMode("htmlmixed",function(l,v){var w=O.getMode(l,{name:"xml",htmlMode:!0,multilineTagIndentFactor:v.multilineTagIndentFactor,multilineTagIndentPastTag:v.multilineTagIndentPastTag,allowMissingTagName:v.allowMissingTagName}),j={},B=v&&v.tags,Q=v&&v.scriptTypes;if(x(H,j),B&&x(B,j),Q)for(var X=Q.length-1;X>=0;X--)j.script.unshift(["type",Q[X].matches,Q[X].mode]);function te(J,U){var se,me=w.token(J,U.htmlState),ce=/\btag\b/.test(me);if(ce&&!/[<>\s\/]/.test(J.current())&&(se=U.htmlState.tagName&&U.htmlState.tagName.toLowerCase())&&j.hasOwnProperty(se))U.inTag=se+" ";else if(U.inTag&&ce&&/>$/.test(J.current())){var D=/^([\S]+) (.*)/.exec(U.inTag);U.inTag=null;var L=J.current()==">"&&f(j[D[1]],D[2]),I=O.getMode(l,L),re=S(D[1],!0),ne=S(D[1],!1);U.token=function(z,Y){return z.match(re,!1)?(Y.token=te,Y.localState=Y.localMode=null,null):A(z,ne,Y.localMode.token(z,Y.localState))},U.localMode=I,U.localState=O.startState(I,w.indent(U.htmlState,"",""))}else U.inTag&&(U.inTag+=J.current(),J.eol()&&(U.inTag+=" "));return me}return{startState:function(){return{token:te,inTag:null,localMode:null,localState:null,htmlState:O.startState(w)}},copyState:function(J){var U;return J.localState&&(U=O.copyState(J.localMode,J.localState)),{token:J.token,inTag:J.inTag,localMode:J.localMode,localState:U,htmlState:O.copyState(w,J.htmlState)}},token:function(J,U){return U.token(J,U)},indent:function(J,U,se){return!J.localMode||/^\s*<\//.test(U)?w.indent(J.htmlState,U,se):J.localMode.indent?J.localMode.indent(J.localState,U,se):O.Pass},innerMode:function(J){return{state:J.localState||J.htmlState,mode:J.localMode||w}}}},"xml","javascript","css"),O.defineMIME("text/html","htmlmixed")})(s(4631),s(9589),s(6876),s(6629))},6876:(ge,ie,s)=>{(function(O){O.defineMode("javascript",function(H,A){var p,k,d=H.indentUnit,S=A.statementIndent,x=A.jsonld,f=A.json||x,l=A.trackScope!==!1,v=A.typescript,w=A.wordCharacters||/[\w$\xa1-\uffff]/,j=function(){function De(fn){return{type:fn,style:"keyword"}}var Ie=De("keyword a"),vt=De("keyword b"),Nt=De("keyword c"),rt=De("keyword d"),xt=De("operator"),Sn={type:"atom",style:"atom"};return{if:De("if"),while:Ie,with:Ie,else:vt,do:vt,try:vt,finally:vt,return:rt,break:rt,continue:rt,new:De("new"),delete:Nt,void:Nt,throw:Nt,debugger:De("debugger"),var:De("var"),const:De("var"),let:De("var"),function:De("function"),catch:De("catch"),for:De("for"),switch:De("switch"),case:De("case"),default:De("default"),in:xt,typeof:xt,instanceof:xt,true:Sn,false:Sn,null:Sn,undefined:Sn,NaN:Sn,Infinity:Sn,this:De("this"),class:De("class"),super:De("atom"),yield:Nt,export:De("export"),import:De("import"),extends:Nt,await:Nt}}(),B=/[+\-*&%=<>!?|~^@]/,Q=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function X(De){for(var Ie,vt=!1,Nt=!1;(Ie=De.next())!=null;){if(!vt){if(Ie=="/"&&!Nt)return;Ie=="["?Nt=!0:Nt&&Ie=="]"&&(Nt=!1)}vt=!vt&&Ie=="\\"}}function te(De,Ie,vt){return p=De,k=vt,Ie}function J(De,Ie){var vt=De.next();if(vt=='"'||vt=="'")return Ie.tokenize=U(vt),Ie.tokenize(De,Ie);if(vt=="."&&De.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return te("number","number");if(vt=="."&&De.match(".."))return te("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(vt))return te(vt);if(vt=="="&&De.eat(">"))return te("=>","operator");if(vt=="0"&&De.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return te("number","number");if(/\d/.test(vt))return De.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),te("number","number");if(vt=="/")return De.eat("*")?(Ie.tokenize=se,se(De,Ie)):De.eat("/")?(De.skipToEnd(),te("comment","comment")):ln(De,Ie,1)?(X(De),De.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),te("regexp","string-2")):(De.eat("="),te("operator","operator",De.current()));if(vt=="`")return Ie.tokenize=me,me(De,Ie);if(vt=="#"&&De.peek()=="!")return De.skipToEnd(),te("meta","meta");if(vt=="#"&&De.eatWhile(w))return te("variable","property");if(vt=="<"&&De.match("!--")||vt=="-"&&De.match("->")&&!/\S/.test(De.string.slice(0,De.start)))return De.skipToEnd(),te("comment","comment");if(B.test(vt))return vt==">"&&Ie.lexical&&Ie.lexical.type==">"||(De.eat("=")?vt!="!"&&vt!="="||De.eat("="):/[<>*+\-|&?]/.test(vt)&&(De.eat(vt),vt==">"&&De.eat(vt))),vt=="?"&&De.eat(".")?te("."):te("operator","operator",De.current());if(w.test(vt)){De.eatWhile(w);var Nt=De.current();if(Ie.lastType!="."){if(j.propertyIsEnumerable(Nt)){var rt=j[Nt];return te(rt.type,rt.style,Nt)}if(Nt=="async"&&De.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return te("async","keyword",Nt)}return te("variable","variable",Nt)}}function U(De){return function(Ie,vt){var Nt,rt=!1;if(x&&Ie.peek()=="@"&&Ie.match(Q))return vt.tokenize=J,te("jsonld-keyword","meta");for(;(Nt=Ie.next())!=null&&(Nt!=De||rt);)rt=!rt&&Nt=="\\";return rt||(vt.tokenize=J),te("string","string")}}function se(De,Ie){for(var vt,Nt=!1;vt=De.next();){if(vt=="/"&&Nt){Ie.tokenize=J;break}Nt=vt=="*"}return te("comment","comment")}function me(De,Ie){for(var vt,Nt=!1;(vt=De.next())!=null;){if(!Nt&&(vt=="`"||vt=="$"&&De.eat("{"))){Ie.tokenize=J;break}Nt=!Nt&&vt=="\\"}return te("quasi","string-2",De.current())}var ce="([{}])";function D(De,Ie){Ie.fatArrowAt&&(Ie.fatArrowAt=null);var vt=De.string.indexOf("=>",De.start);if(!(vt<0)){if(v){var Nt=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(De.string.slice(De.start,vt));Nt&&(vt=Nt.index)}for(var rt=0,xt=!1,Sn=vt-1;Sn>=0;--Sn){var fn=De.string.charAt(Sn),jn=ce.indexOf(fn);if(jn>=0&&jn<3){if(!rt){++Sn;break}if(--rt==0){fn=="("&&(xt=!0);break}}else if(jn>=3&&jn<6)++rt;else if(w.test(fn))xt=!0;else if(/["'\/`]/.test(fn))for(;;--Sn){if(Sn==0)return;if(De.string.charAt(Sn-1)==fn&&De.string.charAt(Sn-2)!="\\"){Sn--;break}}else if(xt&&!rt){++Sn;break}}xt&&!rt&&(Ie.fatArrowAt=Sn)}}var L={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function I(De,Ie,vt,Nt,rt,xt){this.indented=De,this.column=Ie,this.type=vt,this.prev=rt,this.info=xt,Nt!=null&&(this.align=Nt)}function re(De,Ie){if(!l)return!1;for(var vt=De.localVars;vt;vt=vt.next)if(vt.name==Ie)return!0;for(var Nt=De.context;Nt;Nt=Nt.prev)for(vt=Nt.vars;vt;vt=vt.next)if(vt.name==Ie)return!0}function ne(De,Ie,vt,Nt,rt){var xt=De.cc;for(z.state=De,z.stream=rt,z.marked=null,z.cc=xt,z.style=Ie,De.lexical.hasOwnProperty("align")||(De.lexical.align=!0);;)if((xt.length?xt.pop():f?q:c)(vt,Nt)){for(;xt.length&&xt[xt.length-1].lex;)xt.pop()();return z.marked?z.marked:vt=="variable"&&re(De,Nt)?"variable-2":Ie}}var z={state:null,column:null,marked:null,cc:null};function Y(){for(var De=arguments.length-1;De>=0;De--)z.cc.push(arguments[De])}function u(){return Y.apply(null,arguments),!0}function y(De,Ie){for(var vt=Ie;vt;vt=vt.next)if(vt.name==De)return!0;return!1}function g(De){var Ie=z.state;if(z.marked="def",l){if(Ie.context){if(Ie.lexical.info=="var"&&Ie.context&&Ie.context.block){var vt=m(De,Ie.context);if(vt!=null)return void(Ie.context=vt)}else if(!y(De,Ie.localVars))return void(Ie.localVars=new K(De,Ie.localVars))}A.globalVars&&!y(De,Ie.globalVars)&&(Ie.globalVars=new K(De,Ie.globalVars))}}function m(De,Ie){if(Ie){if(Ie.block){var vt=m(De,Ie.prev);return vt?vt==Ie.prev?Ie:new ae(vt,Ie.vars,!0):null}return y(De,Ie.vars)?Ie:new ae(Ie.prev,new K(De,Ie.vars),!1)}return null}function $(De){return De=="public"||De=="private"||De=="protected"||De=="abstract"||De=="readonly"}function ae(De,Ie,vt){this.prev=De,this.vars=Ie,this.block=vt}function K(De,Ie){this.name=De,this.next=Ie}var F=new K("this",new K("arguments",null));function b(){z.state.context=new ae(z.state.context,z.state.localVars,!1),z.state.localVars=F}function h(){z.state.context=new ae(z.state.context,z.state.localVars,!0),z.state.localVars=null}function V(){z.state.localVars=z.state.context.vars,z.state.context=z.state.context.prev}function M(De,Ie){var vt=function(){var Nt=z.state,rt=Nt.indented;if(Nt.lexical.type=="stat")rt=Nt.lexical.indented;else for(var xt=Nt.lexical;xt&&xt.type==")"&&xt.align;xt=xt.prev)rt=xt.indented;Nt.lexical=new I(rt,z.stream.column(),De,null,Nt.lexical,Ie)};return vt.lex=!0,vt}function T(){var De=z.state;De.lexical.prev&&(De.lexical.type==")"&&(De.indented=De.lexical.indented),De.lexical=De.lexical.prev)}function P(De){function Ie(vt){return vt==De?u():De==";"||vt=="}"||vt==")"||vt=="]"?Y():u(Ie)}return Ie}function c(De,Ie){return De=="var"?u(M("vardef",Ie),kn,P(";"),T):De=="keyword a"?u(M("form"),R,c,T):De=="keyword b"?u(M("form"),c,T):De=="keyword d"?z.stream.match(/^\s*$/,!1)?u():u(M("stat"),be,P(";"),T):De=="debugger"?u(P(";")):De=="{"?u(M("}"),h,je,T,V):De==";"?u():De=="if"?(z.state.lexical.info=="else"&&z.state.cc[z.state.cc.length-1]==T&&z.state.cc.pop()(),u(M("form"),R,c,T,Et)):De=="function"?u(Gt):De=="for"?u(M("form"),h,Bt,c,V,T):De=="class"||v&&Ie=="interface"?(z.marked="keyword",u(M("form",De=="class"?De:Ie),wn,T)):De=="variable"?v&&Ie=="declare"?(z.marked="keyword",u(c)):v&&(Ie=="module"||Ie=="enum"||Ie=="type")&&z.stream.match(/^\s*\w/,!1)?(z.marked="keyword",Ie=="enum"?u(on):Ie=="type"?u(dn,P("operator"),St,P(";")):u(M("form"),en,P("{"),M("}"),je,T,T)):v&&Ie=="namespace"?(z.marked="keyword",u(M("form"),q,c,T)):v&&Ie=="abstract"?(z.marked="keyword",u(c)):u(M("stat"),tt):De=="switch"?u(M("form"),R,P("{"),M("}","switch"),h,je,T,T,V):De=="case"?u(q,P(":")):De=="default"?u(P(":")):De=="catch"?u(M("form"),b,ee,c,T,V):De=="export"?u(M("stat"),qn,T):De=="import"?u(M("stat"),Mt,T):De=="async"?u(c):Ie=="@"?u(q,c):Y(M("stat"),q,P(";"),T)}function ee(De){if(De=="(")return u(un,P(")"))}function q(De,Ie){return ue(De,Ie,!1)}function E(De,Ie){return ue(De,Ie,!0)}function R(De){return De!="("?Y():u(M(")"),be,P(")"),T)}function ue(De,Ie,vt){if(z.state.fatArrowAt==z.stream.start){var Nt=vt?Ae:we;if(De=="(")return u(b,M(")"),It(un,")"),T,P("=>"),Nt,V);if(De=="variable")return Y(b,en,P("=>"),Nt,V)}var rt=vt?oe:N;return L.hasOwnProperty(De)?u(rt):De=="function"?u(Gt,rt):De=="class"||v&&Ie=="interface"?(z.marked="keyword",u(M("form"),bn,T)):De=="keyword c"||De=="async"?u(vt?E:q):De=="("?u(M(")"),be,P(")"),T,rt):De=="operator"||De=="spread"?u(vt?E:q):De=="["?u(M("]"),hn,T,rt):De=="{"?Ve(lt,"}",null,rt):De=="quasi"?Y(de,rt):De=="new"?u(_e(vt)):u()}function be(De){return De.match(/[;\}\)\],]/)?Y():Y(q)}function N(De,Ie){return De==","?u(be):oe(De,Ie,!1)}function oe(De,Ie,vt){var Nt=vt==0?N:oe,rt=vt==0?q:E;return De=="=>"?u(b,vt?Ae:we,V):De=="operator"?/\+\+|--/.test(Ie)||v&&Ie=="!"?u(Nt):v&&Ie=="<"&&z.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?u(M(">"),It(St,">"),T,Nt):Ie=="?"?u(q,P(":"),rt):u(rt):De=="quasi"?Y(de,Nt):De!=";"?De=="("?Ve(E,")","call",Nt):De=="."?u(gt,Nt):De=="["?u(M("]"),be,P("]"),T,Nt):v&&Ie=="as"?(z.marked="keyword",u(St,Nt)):De=="regexp"?(z.state.lastType=z.marked="operator",z.stream.backUp(z.stream.pos-z.stream.start-1),u(rt)):void 0:void 0}function de(De,Ie){return De!="quasi"?Y():Ie.slice(Ie.length-2)!="${"?u(de):u(be,Ce)}function Ce(De){if(De=="}")return z.marked="string-2",z.state.tokenize=me,u(de)}function we(De){return D(z.stream,z.state),Y(De=="{"?c:q)}function Ae(De){return D(z.stream,z.state),Y(De=="{"?c:E)}function _e(De){return function(Ie){return Ie=="."?u(De?Je:Ne):Ie=="variable"&&v?u(Ht,De?oe:N):Y(De?E:q)}}function Ne(De,Ie){if(Ie=="target")return z.marked="keyword",u(N)}function Je(De,Ie){if(Ie=="target")return z.marked="keyword",u(oe)}function tt(De){return De==":"?u(T,c):Y(N,P(";"),T)}function gt(De){if(De=="variable")return z.marked="property",u()}function lt(De,Ie){return De=="async"?(z.marked="property",u(lt)):De=="variable"||z.style=="keyword"?(z.marked="property",Ie=="get"||Ie=="set"?u(Zt):(v&&z.state.fatArrowAt==z.stream.start&&(vt=z.stream.match(/^\s*:\s*/,!1))&&(z.state.fatArrowAt=z.stream.pos+vt[0].length),u(Lt))):De=="number"||De=="string"?(z.marked=x?"property":z.style+" property",u(Lt)):De=="jsonld-keyword"?u(Lt):v&&$(Ie)?(z.marked="keyword",u(lt)):De=="["?u(q,Fe,P("]"),Lt):De=="spread"?u(E,Lt):Ie=="*"?(z.marked="keyword",u(lt)):De==":"?Y(Lt):void 0;var vt}function Zt(De){return De!="variable"?Y(Lt):(z.marked="property",u(Gt))}function Lt(De){return De==":"?u(E):De=="("?Y(Gt):void 0}function It(De,Ie,vt){function Nt(rt,xt){if(vt?vt.indexOf(rt)>-1:rt==","){var Sn=z.state.lexical;return Sn.info=="call"&&(Sn.pos=(Sn.pos||0)+1),u(function(fn,jn){return fn==Ie||jn==Ie?Y():Y(De)},Nt)}return rt==Ie||xt==Ie?u():vt&&vt.indexOf(";")>-1?Y(De):u(P(Ie))}return function(rt,xt){return rt==Ie||xt==Ie?u():Y(De,Nt)}}function Ve(De,Ie,vt){for(var Nt=3;Nt<arguments.length;Nt++)z.cc.push(arguments[Nt]);return u(M(Ie,vt),It(De,Ie),T)}function je(De){return De=="}"?u():Y(c,je)}function Fe(De,Ie){if(v){if(De==":")return u(St);if(Ie=="?")return u(Fe)}}function We(De,Ie){if(v&&(De==":"||Ie=="in"))return u(St)}function it(De){if(v&&De==":")return z.stream.match(/^\s*\w+\s+is\b/,!1)?u(q,mt,St):u(St)}function mt(De,Ie){if(Ie=="is")return z.marked="keyword",u()}function St(De,Ie){return Ie=="keyof"||Ie=="typeof"||Ie=="infer"||Ie=="readonly"?(z.marked="keyword",u(Ie=="typeof"?E:St)):De=="variable"||Ie=="void"?(z.marked="type",u(ht)):Ie=="|"||Ie=="&"?u(St):De=="string"||De=="number"||De=="atom"?u(ht):De=="["?u(M("]"),It(St,"]",","),T,ht):De=="{"?u(M("}"),Ue,T,ht):De=="("?u(It(yt,")"),tn,ht):De=="<"?u(It(St,">"),St):De=="quasi"?Y(ct,ht):void 0}function tn(De){if(De=="=>")return u(St)}function Ue(De){return De.match(/[\}\)\]]/)?u():De==","||De==";"?u(Ue):Y(et,Ue)}function et(De,Ie){return De=="variable"||z.style=="keyword"?(z.marked="property",u(et)):Ie=="?"||De=="number"||De=="string"?u(et):De==":"?u(St):De=="["?u(P("variable"),We,P("]"),et):De=="("?Y(nn,et):De.match(/[;\}\)\],]/)?void 0:u()}function ct(De,Ie){return De!="quasi"?Y():Ie.slice(Ie.length-2)!="${"?u(ct):u(St,Ot)}function Ot(De){if(De=="}")return z.marked="string-2",z.state.tokenize=me,u(ct)}function yt(De,Ie){return De=="variable"&&z.stream.match(/^\s*[?:]/,!1)||Ie=="?"?u(yt):De==":"?u(St):De=="spread"?u(yt):Y(St)}function ht(De,Ie){return Ie=="<"?u(M(">"),It(St,">"),T,ht):Ie=="|"||De=="."||Ie=="&"?u(St):De=="["?u(St,P("]"),ht):Ie=="extends"||Ie=="implements"?(z.marked="keyword",u(St)):Ie=="?"?u(St,P(":"),St):void 0}function Ht(De,Ie){if(Ie=="<")return u(M(">"),It(St,">"),T,ht)}function $t(){return Y(St,cn)}function cn(De,Ie){if(Ie=="=")return u(St)}function kn(De,Ie){return Ie=="enum"?(z.marked="keyword",u(on)):Y(en,Fe,$e,ft)}function en(De,Ie){return v&&$(Ie)?(z.marked="keyword",u(en)):De=="variable"?(g(Ie),u()):De=="spread"?u(en):De=="["?Ve(qe,"]"):De=="{"?Ve(Bn,"}"):void 0}function Bn(De,Ie){return De!="variable"||z.stream.match(/^\s*:/,!1)?(De=="variable"&&(z.marked="property"),De=="spread"?u(en):De=="}"?Y():De=="["?u(q,P("]"),P(":"),Bn):u(P(":"),en,$e)):(g(Ie),u($e))}function qe(){return Y(en,$e)}function $e(De,Ie){if(Ie=="=")return u(E)}function ft(De){if(De==",")return u(kn)}function Et(De,Ie){if(De=="keyword b"&&Ie=="else")return u(M("form","else"),c,T)}function Bt(De,Ie){return Ie=="await"?u(Bt):De=="("?u(M(")"),Dt,T):void 0}function Dt(De){return De=="var"?u(kn,zt):De=="variable"?u(zt):Y(zt)}function zt(De,Ie){return De==")"?u():De==";"?u(zt):Ie=="in"||Ie=="of"?(z.marked="keyword",u(q,zt)):Y(q,zt)}function Gt(De,Ie){return Ie=="*"?(z.marked="keyword",u(Gt)):De=="variable"?(g(Ie),u(Gt)):De=="("?u(b,M(")"),It(un,")"),T,it,c,V):v&&Ie=="<"?u(M(">"),It($t,">"),T,Gt):void 0}function nn(De,Ie){return Ie=="*"?(z.marked="keyword",u(nn)):De=="variable"?(g(Ie),u(nn)):De=="("?u(b,M(")"),It(un,")"),T,it,V):v&&Ie=="<"?u(M(">"),It($t,">"),T,nn):void 0}function dn(De,Ie){return De=="keyword"||De=="variable"?(z.marked="type",u(dn)):Ie=="<"?u(M(">"),It($t,">"),T):void 0}function un(De,Ie){return Ie=="@"&&u(q,un),De=="spread"?u(un):v&&$(Ie)?(z.marked="keyword",u(un)):v&&De=="this"?u(Fe,$e):Y(en,Fe,$e)}function bn(De,Ie){return De=="variable"?wn(De,Ie):En(De,Ie)}function wn(De,Ie){if(De=="variable")return g(Ie),u(En)}function En(De,Ie){return Ie=="<"?u(M(">"),It($t,">"),T,En):Ie=="extends"||Ie=="implements"||v&&De==","?(Ie=="implements"&&(z.marked="keyword"),u(v?St:q,En)):De=="{"?u(M("}"),An,T):void 0}function An(De,Ie){return De=="async"||De=="variable"&&(Ie=="static"||Ie=="get"||Ie=="set"||v&&$(Ie))&&z.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(z.marked="keyword",u(An)):De=="variable"||z.style=="keyword"?(z.marked="property",u(Tn,An)):De=="number"||De=="string"?u(Tn,An):De=="["?u(q,Fe,P("]"),Tn,An):Ie=="*"?(z.marked="keyword",u(An)):v&&De=="("?Y(nn,An):De==";"||De==","?u(An):De=="}"?u():Ie=="@"?u(q,An):void 0}function Tn(De,Ie){if(Ie=="!"||Ie=="?")return u(Tn);if(De==":")return u(St,$e);if(Ie=="=")return u(E);var vt=z.state.lexical.prev;return Y(vt&&vt.info=="interface"?nn:Gt)}function qn(De,Ie){return Ie=="*"?(z.marked="keyword",u(Wt,P(";"))):Ie=="default"?(z.marked="keyword",u(q,P(";"))):De=="{"?u(It(Ft,"}"),Wt,P(";")):Y(c)}function Ft(De,Ie){return Ie=="as"?(z.marked="keyword",u(P("variable"))):De=="variable"?Y(E,Ft):void 0}function Mt(De){return De=="string"?u():De=="("?Y(q):De=="."?Y(N):Y(Rn,Zn,Wt)}function Rn(De,Ie){return De=="{"?Ve(Rn,"}"):(De=="variable"&&g(Ie),Ie=="*"&&(z.marked="keyword"),u(Fn))}function Zn(De){if(De==",")return u(Rn,Zn)}function Fn(De,Ie){if(Ie=="as")return z.marked="keyword",u(Rn)}function Wt(De,Ie){if(Ie=="from")return z.marked="keyword",u(q)}function hn(De){return De=="]"?u():Y(It(E,"]"))}function on(){return Y(M("form"),en,P("{"),M("}"),It(sr,"}"),T,T)}function sr(){return Y(en,$e)}function Ct(De,Ie){return De.lastType=="operator"||De.lastType==","||B.test(Ie.charAt(0))||/[,.]/.test(Ie.charAt(0))}function ln(De,Ie,vt){return Ie.tokenize==J&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Ie.lastType)||Ie.lastType=="quasi"&&/\{\s*$/.test(De.string.slice(0,De.pos-(vt||0)))}return V.lex=!0,T.lex=!0,{startState:function(De){var Ie={tokenize:J,lastType:"sof",cc:[],lexical:new I((De||0)-d,0,"block",!1),localVars:A.localVars,context:A.localVars&&new ae(null,null,!1),indented:De||0};return A.globalVars&&typeof A.globalVars=="object"&&(Ie.globalVars=A.globalVars),Ie},token:function(De,Ie){if(De.sol()&&(Ie.lexical.hasOwnProperty("align")||(Ie.lexical.align=!1),Ie.indented=De.indentation(),D(De,Ie)),Ie.tokenize!=se&&De.eatSpace())return null;var vt=Ie.tokenize(De,Ie);return p=="comment"?vt:(Ie.lastType=p!="operator"||k!="++"&&k!="--"?p:"incdec",ne(Ie,vt,p,k,De))},indent:function(De,Ie){if(De.tokenize==se||De.tokenize==me)return O.Pass;if(De.tokenize!=J)return 0;var vt,Nt=Ie&&Ie.charAt(0),rt=De.lexical;if(!/^\s*else\b/.test(Ie))for(var xt=De.cc.length-1;xt>=0;--xt){var Sn=De.cc[xt];if(Sn==T)rt=rt.prev;else if(Sn!=Et&&Sn!=V)break}for(;(rt.type=="stat"||rt.type=="form")&&(Nt=="}"||(vt=De.cc[De.cc.length-1])&&(vt==N||vt==oe)&&!/^[,\.=+\-*:?[\(]/.test(Ie));)rt=rt.prev;S&&rt.type==")"&&rt.prev.type=="stat"&&(rt=rt.prev);var fn=rt.type,jn=Nt==fn;return fn=="vardef"?rt.indented+(De.lastType=="operator"||De.lastType==","?rt.info.length+1:0):fn=="form"&&Nt=="{"?rt.indented:fn=="form"?rt.indented+d:fn=="stat"?rt.indented+(Ct(De,Ie)?S||d:0):rt.info!="switch"||jn||A.doubleIndentSwitch==0?rt.align?rt.column+(jn?0:1):rt.indented+(jn?0:d):rt.indented+(/^(?:case|default)\b/.test(Ie)?d:2*d)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:f?null:"/*",blockCommentEnd:f?null:"*/",blockCommentContinue:f?null:" * ",lineComment:f?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:f?"json":"javascript",jsonldMode:x,jsonMode:f,expressionAllowed:ln,skipExpression:function(De){ne(De,"atom","atom","true",new O.StringStream("",2,null))}}}),O.registerHelper("wordChars","javascript",/[\w$]/),O.defineMIME("text/javascript","javascript"),O.defineMIME("text/ecmascript","javascript"),O.defineMIME("application/javascript","javascript"),O.defineMIME("application/x-javascript","javascript"),O.defineMIME("application/ecmascript","javascript"),O.defineMIME("application/json",{name:"javascript",json:!0}),O.defineMIME("application/x-json",{name:"javascript",json:!0}),O.defineMIME("application/manifest+json",{name:"javascript",json:!0}),O.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),O.defineMIME("text/typescript",{name:"javascript",typescript:!0}),O.defineMIME("application/typescript",{name:"javascript",typescript:!0})})(s(4631))},9589:(ge,ie,s)=>{(function(O){var H={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},A={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};O.defineMode("xml",function(p,k){var d,S,x=p.indentUnit,f={},l=k.htmlMode?H:A;for(var v in l)f[v]=l[v];for(var v in k)f[v]=k[v];function w(u,y){function g($){return y.tokenize=$,$(u,y)}var m=u.next();return m=="<"?u.eat("!")?u.eat("[")?u.match("CDATA[")?g(Q("atom","]]>")):null:u.match("--")?g(Q("comment","-->")):u.match("DOCTYPE",!0,!0)?(u.eatWhile(/[\w\._\-]/),g(X(1))):null:u.eat("?")?(u.eatWhile(/[\w\._\-]/),y.tokenize=Q("meta","?>"),"meta"):(d=u.eat("/")?"closeTag":"openTag",y.tokenize=j,"tag bracket"):m=="&"?(u.eat("#")?u.eat("x")?u.eatWhile(/[a-fA-F\d]/)&&u.eat(";"):u.eatWhile(/[\d]/)&&u.eat(";"):u.eatWhile(/[\w\.\-:]/)&&u.eat(";"))?"atom":"error":(u.eatWhile(/[^&<]/),null)}function j(u,y){var g=u.next();if(g==">"||g=="/"&&u.eat(">"))return y.tokenize=w,d=g==">"?"endTag":"selfcloseTag","tag bracket";if(g=="=")return d="equals",null;if(g=="<"){y.tokenize=w,y.state=me,y.tagName=y.tagStart=null;var m=y.tokenize(u,y);return m?m+" tag error":"tag error"}return/[\'\"]/.test(g)?(y.tokenize=B(g),y.stringStartCol=u.column(),y.tokenize(u,y)):(u.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function B(u){var y=function(g,m){for(;!g.eol();)if(g.next()==u){m.tokenize=j;break}return"string"};return y.isInAttribute=!0,y}function Q(u,y){return function(g,m){for(;!g.eol();){if(g.match(y)){m.tokenize=w;break}g.next()}return u}}function X(u){return function(y,g){for(var m;(m=y.next())!=null;){if(m=="<")return g.tokenize=X(u+1),g.tokenize(y,g);if(m==">"){if(u==1){g.tokenize=w;break}return g.tokenize=X(u-1),g.tokenize(y,g)}}return"meta"}}function te(u){return u&&u.toLowerCase()}function J(u,y,g){this.prev=u.context,this.tagName=y||"",this.indent=u.indented,this.startOfLine=g,(f.doNotIndent.hasOwnProperty(y)||u.context&&u.context.noIndent)&&(this.noIndent=!0)}function U(u){u.context&&(u.context=u.context.prev)}function se(u,y){for(var g;;){if(!u.context||(g=u.context.tagName,!f.contextGrabbers.hasOwnProperty(te(g))||!f.contextGrabbers[te(g)].hasOwnProperty(te(y))))return;U(u)}}function me(u,y,g){return u=="openTag"?(g.tagStart=y.column(),ce):u=="closeTag"?D:me}function ce(u,y,g){return u=="word"?(g.tagName=y.current(),S="tag",re):f.allowMissingTagName&&u=="endTag"?(S="tag bracket",re(u,y,g)):(S="error",ce)}function D(u,y,g){if(u=="word"){var m=y.current();return g.context&&g.context.tagName!=m&&f.implicitlyClosed.hasOwnProperty(te(g.context.tagName))&&U(g),g.context&&g.context.tagName==m||f.matchClosing===!1?(S="tag",L):(S="tag error",I)}return f.allowMissingTagName&&u=="endTag"?(S="tag bracket",L(u,y,g)):(S="error",I)}function L(u,y,g){return u!="endTag"?(S="error",L):(U(g),me)}function I(u,y,g){return S="error",L(u,y,g)}function re(u,y,g){if(u=="word")return S="attribute",ne;if(u=="endTag"||u=="selfcloseTag"){var m=g.tagName,$=g.tagStart;return g.tagName=g.tagStart=null,u=="selfcloseTag"||f.autoSelfClosers.hasOwnProperty(te(m))?se(g,m):(se(g,m),g.context=new J(g,m,$==g.indented)),me}return S="error",re}function ne(u,y,g){return u=="equals"?z:(f.allowMissing||(S="error"),re(u,y,g))}function z(u,y,g){return u=="string"?Y:u=="word"&&f.allowUnquoted?(S="string",re):(S="error",re(u,y,g))}function Y(u,y,g){return u=="string"?Y:re(u,y,g)}return w.isInText=!0,{startState:function(u){var y={tokenize:w,state:me,indented:u||0,tagName:null,tagStart:null,context:null};return u!=null&&(y.baseIndent=u),y},token:function(u,y){if(!y.tagName&&u.sol()&&(y.indented=u.indentation()),u.eatSpace())return null;d=null;var g=y.tokenize(u,y);return(g||d)&&g!="comment"&&(S=null,y.state=y.state(d||g,u,y),S&&(g=S=="error"?g+" error":S)),g},indent:function(u,y,g){var m=u.context;if(u.tokenize.isInAttribute)return u.tagStart==u.indented?u.stringStartCol+1:u.indented+x;if(m&&m.noIndent)return O.Pass;if(u.tokenize!=j&&u.tokenize!=w)return g?g.match(/^(\s*)/)[0].length:0;if(u.tagName)return f.multilineTagIndentPastTag!==!1?u.tagStart+u.tagName.length+2:u.tagStart+x*(f.multilineTagIndentFactor||1);if(f.alignCDATA&&/<!\[CDATA\[/.test(y))return 0;var $=y&&/^<(\/)?([\w_:\.-]*)/.exec(y);if($&&$[1])for(;m;){if(m.tagName==$[2]){m=m.prev;break}if(!f.implicitlyClosed.hasOwnProperty(te(m.tagName)))break;m=m.prev}else if($)for(;m;){var ae=f.contextGrabbers[te(m.tagName)];if(!ae||!ae.hasOwnProperty(te($[2])))break;m=m.prev}for(;m&&m.prev&&!m.startOfLine;)m=m.prev;return m?m.indent+x:u.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:f.htmlMode?"html":"xml",helperType:f.htmlMode?"html":"xml",skipAttribute:function(u){u.state==z&&(u.state=re)},xmlCurrentTag:function(u){return u.tagName?{name:u.tagName,close:u.type=="closeTag"}:null},xmlCurrentContext:function(u){for(var y=[],g=u.context;g;g=g.prev)y.push(g.tagName);return y.reverse()}}}),O.defineMIME("text/xml","xml"),O.defineMIME("application/xml","xml"),O.mimeModes.hasOwnProperty("text/html")||O.defineMIME("text/html",{name:"xml",htmlMode:!0})})(s(4631))},9714:(ge,ie,s)=>{s.d(ie,{Z:()=>f});var O=s(4942),H=s(2982),A=s(5671),p=s(3144),k=s(9050),d=s(1163);function S(l,v){var w=Object.keys(l);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(l);v&&(j=j.filter(function(B){return Object.getOwnPropertyDescriptor(l,B).enumerable})),w.push.apply(w,j)}return w}function x(l){for(var v=1;v<arguments.length;v++){var w=arguments[v]!=null?arguments[v]:{};v%2?S(Object(w),!0).forEach(function(j){(0,O.Z)(l,j,w[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(w)):S(Object(w)).forEach(function(j){Object.defineProperty(l,j,Object.getOwnPropertyDescriptor(w,j))})}return l}var f=function(){function l(){(0,A.Z)(this,l)}return(0,p.Z)(l,[{key:"getConfig",value:function(v){return this.__getConfig(v)}},{key:"getProjectData",value:function(v){var w={},j=this.storageKey;return j&&(w[j]=v||this.getAll()),w}},{key:"loadProjectData",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=w.all,B=w.onResult,Q=w.reset,X=this.storageKey,te={action:"load"},J=j||this.getAll(),U=v[X];if(typeof U=="string")try{U=JSON.parse(U)}catch{this.__logWarn("Data parsing failed",{input:U})}return Q&&U&&J.reset(null,te),B?U&&B(U,te):U&&(0,d.isDef)(U.length)&&J.reset(U,te),U}},{key:"clear",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=this.all;return w&&w.reset(null,v),this}},{key:"__getConfig",value:function(v){var w=this.config||{};return v?w[v]:w}},{key:"getAll",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.all?v.array?(0,H.Z)(this.all.models):this.all:[]}},{key:"getAllMap",value:function(){return this.getAll().reduce(function(v,w){return v[w.get(w.idAttribute)]=w,v},{})}},{key:"__initConfig",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.config=(0,d.deepMerge)(v,w),this.em=this.config.em,this.cls=[]}},{key:"__initListen",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=this.all,j=this.em,B=this.events;w&&j&&w.on("add",function(Q,X,te){return j.trigger(B.add,Q,te)}).on("remove",function(Q,X,te){return j.trigger(B.remove,Q,te)}).on("change",function(Q,X){return j.trigger(B.update,Q,Q.changedAttributes(),X)}).on("all",this.__catchAllEvent,this),this.cls=[w].concat(v.collections||[]),(v.propagate||[]).forEach(function(Q){var X=Q.entity,te=Q.event;X.on("all",function(J,U,se,me){var ce=x({event:J},me||se);[j,w].map(function(D){return D.trigger(te,U,ce)})})})}},{key:"__remove",value:function(v){var w=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=this.em,Q=(0,k.isString)(v)?this.get(v):v,X=function(){return Q&&w.all.remove(Q,j),Q};return!j.silent&&B&&B.trigger(this.events.removeBefore,Q,X,j),!j.abort&&X()}},{key:"__catchAllEvent",value:function(v,w,j,B){var Q=this.em,X=this.events,te=B||j;Q&&X.all&&Q.trigger(X.all,{event:v,model:w,options:te}),this.__onAllEvent()}},{key:"__appendTo",value:function(){var v=this.getConfig().appendTo;if(v){var w=(0,k.isElement)(v)?v:document.querySelector(v);if(!w)return this.__logWarn('"appendTo" element not found');w.appendChild(this.render())}}},{key:"__onAllEvent",value:function(){}},{key:"__logWarn",value:function(v,w){this.em.logWarning("[".concat(this.name,"]: ").concat(v),w)}},{key:"_createId",value:function(){var v,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,j=this.getAll(),B=j.length+w,Q=this.getAllMap();do v=(0,d.createId)(B);while(Q[v]);return v}},{key:"__listenAdd",value:function(v,w){var j=this;v.on("add",function(B,Q,X){return j.em.trigger(w,B,X)})}},{key:"__listenRemove",value:function(v,w){var j=this;v.on("remove",function(B,Q,X){return j.em.trigger(w,B,X)})}},{key:"__listenUpdate",value:function(v,w){var j=this;v.on("change",function(B,Q){return j.em.trigger(w,B,B.changedAttributes(),Q)})}},{key:"__destroy",value:function(){var v;this.cls.forEach(function(w){w.stopListening(),w.reset()}),this.em=0,this.config=0,(v=this.view)===null||v===void 0||v.remove(),this.view=0}}]),l}()},1030:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>de,evAdd:()=>T,evAll:()=>b,evClose:()=>E,evCustom:()=>ee,evOpen:()=>q,evPfx:()=>h,evRemove:()=>P,evRemoveBefore:()=>c,evSelect:()=>V,evUpdate:()=>M,evUpload:()=>R,evUploadEnd:()=>be,evUploadError:()=>N,evUploadRes:()=>oe,evUploadStart:()=>ue});var O=s(4942),H=s(9050),A=s(9304);const p={assets:[],noAssets:"",stylePrefix:"am-",upload:0,uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,autoAdd:!0,customFetch:null,uploadFile:null,embedAsBase64:!0,handleAdd:null,beforeUpload:null,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:1,dropzoneContent:""};var k=s(3144),d=s(5671),S=s(9340),x=s(2963),f=s(1120),l=s(2316);function v(Ce){var we=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ae,_e=(0,f.Z)(Ce);if(we){var Ne=(0,f.Z)(this).constructor;Ae=Reflect.construct(_e,arguments,Ne)}else Ae=_e.apply(this,arguments);return(0,x.Z)(this,Ae)}}var w=function(Ce){(0,S.Z)(Ae,Ce);var we=v(Ae);function Ae(){return(0,d.Z)(this,Ae),we.apply(this,arguments)}return(0,k.Z)(Ae,[{key:"defaults",value:function(){return{type:"",src:""}}},{key:"getType",value:function(){return this.get("type")}},{key:"getSrc",value:function(){return this.get("src")}},{key:"getFilename",value:function(){return this.get("src").split("/").pop().split("?").shift()}},{key:"getExtension",value:function(){return this.getFilename().split(".").pop()}}]),Ae}(l.Model);function j(Ce,we){var Ae=Object.keys(Ce);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(Ce);we&&(_e=_e.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),Ae.push.apply(Ae,_e)}return Ae}function B(Ce){for(var we=1;we<arguments.length;we++){var Ae=arguments[we]!=null?arguments[we]:{};we%2?j(Object(Ae),!0).forEach(function(_e){(0,O.Z)(Ce,_e,Ae[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(Ae)):j(Object(Ae)).forEach(function(_e){Object.defineProperty(Ce,_e,Object.getOwnPropertyDescriptor(Ae,_e))})}return Ce}function Q(Ce){var we=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ae,_e=(0,f.Z)(Ce);if(we){var Ne=(0,f.Z)(this).constructor;Ae=Reflect.construct(_e,arguments,Ne)}else Ae=_e.apply(this,arguments);return(0,x.Z)(this,Ae)}}w.prototype.idAttribute="src",w.getDefaults=function(){return(0,H.result)(this.prototype,"defaults")};var X=function(Ce){(0,S.Z)(Ae,Ce);var we=Q(Ae);function Ae(){return(0,d.Z)(this,Ae),we.apply(this,arguments)}return(0,k.Z)(Ae,[{key:"defaults",value:function(){return B(B({},w.getDefaults()),{},{type:"image",unitDim:"px",height:0,width:0})}}]),Ae}(w),te=s(168);function J(Ce){var we=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ae,_e=(0,f.Z)(Ce);if(we){var Ne=(0,f.Z)(this).constructor;Ae=Reflect.construct(_e,arguments,Ne)}else Ae=_e.apply(this,arguments);return(0,x.Z)(this,Ae)}}var U,se,me=function(Ce){(0,S.Z)(Ae,Ce);var we=J(Ae);function Ae(){return(0,d.Z)(this,Ae),we.apply(this,arguments)}return(0,k.Z)(Ae,[{key:"initialize",value:function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=_e,this.collection=_e.collection;var Ne=_e.config||{};this.config=Ne,this.pfx=Ne.stylePrefix||"",this.ppfx=Ne.pStylePrefix||"",this.em=Ne.em,this.className=this.pfx+"asset",this.listenTo(this.model,"destroy remove",this.remove),this.model.view=this;var Je=this.init&&this.init.bind(this);Je&&Je(_e)}},{key:"__getBhv",value:function(){var _e=this.em,Ne=_e&&_e.get("AssetManager");return Ne&&Ne.__getBehaviour()||{}}},{key:"template",value:function(){var _e=this.pfx;return`
      <div class="`.concat(_e,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(_e,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(_e,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)}},{key:"updateTarget",value:function(_e){_e&&_e.set&&(_e.set("attributes",(0,H.clone)(_e.get("attributes"))),_e.set("src",this.model.get("src")))}},{key:"getPreview",value:function(){return""}},{key:"getInfo",value:function(){return""}},{key:"render",value:function(){var _e=this.el;return _e.innerHTML=this.template(this,this.model),_e.className=this.className,this}}]),Ae}(l.View),ce=s(7539);function D(Ce){var we=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ae,_e=(0,f.Z)(Ce);if(we){var Ne=(0,f.Z)(this).constructor;Ae=Reflect.construct(_e,arguments,Ne)}else Ae=_e.apply(this,arguments);return(0,x.Z)(this,Ae)}}var L=function(Ce){(0,S.Z)(Ae,Ce);var we=D(Ae);function Ae(){return(0,d.Z)(this,Ae),we.apply(this,arguments)}return(0,k.Z)(Ae,[{key:"getPreview",value:function(){var _e=this.pfx,Ne=this.ppfx,Je=this.model.get("src");return(0,ce.Z)(U||(U=(0,te.Z)([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),_e,Je,_e,Ne)}},{key:"getInfo",value:function(){var _e=this.pfx,Ne=this.model,Je=Ne.get("name"),tt=Ne.get("width"),gt=Ne.get("height"),lt=Ne.get("unitDim"),Zt=tt&&gt?"".concat(tt,"x").concat(gt).concat(lt):"";return Je=Je||Ne.getFilename(),(0,ce.Z)(se||(se=(0,te.Z)([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),_e,Je,_e,Zt)}},{key:"init",value:function(_e){var Ne=this.pfx;this.className+=" ".concat(Ne,"asset-image")}},{key:"onClick",value:function(){var _e=this.model,Ne=this.pfx,Je=this.__getBhv().select,tt=this.config.onClick,gt=this.collection;gt.trigger("deselectAll"),this.$el.addClass(Ne+"highlight"),(0,H.isFunction)(Je)?Je(_e,!1):(0,H.isFunction)(tt)?tt(_e):this.updateTarget(gt.target)}},{key:"onDblClick",value:function(){var _e=this.em,Ne=this.model,Je=this.__getBhv().select,tt=this.config.onDblClick,gt=this.collection,lt=gt.target,Zt=gt.onSelect;(0,H.isFunction)(Je)?Je(Ne,!0):(0,H.isFunction)(tt)?tt(Ne):(this.updateTarget(lt),_e&&_e.get("Modal").close()),(0,H.isFunction)(Zt)&&Zt(Ne)}},{key:"onRemove",value:function(_e){_e.stopImmediatePropagation(),this.model.collection.remove(this.model)}}]),Ae}(me);L.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var I=s(793);function re(Ce){var we=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ae,_e=(0,f.Z)(Ce);if(we){var Ne=(0,f.Z)(this).constructor;Ae=Reflect.construct(_e,arguments,Ne)}else Ae=_e.apply(this,arguments);return(0,x.Z)(this,Ae)}}var ne=function(Ce){(0,S.Z)(Ae,Ce);var we=re(Ae);function Ae(){return(0,d.Z)(this,Ae),we.apply(this,arguments)}return(0,k.Z)(Ae)}(l.Collection.extend(I.Z));function z(Ce){var we=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ae,_e=(0,f.Z)(Ce);if(we){var Ne=(0,f.Z)(this).constructor;Ae=Reflect.construct(_e,arguments,Ne)}else Ae=_e.apply(this,arguments);return(0,x.Z)(this,Ae)}}ne.prototype.types=[{id:"image",model:X,view:L,isType:function(Ce){return typeof Ce=="string"?{type:"image",src:Ce}:Ce}}];var Y=function(Ce){(0,S.Z)(Ae,Ce);var we=z(Ae);function Ae(){return(0,d.Z)(this,Ae),we.apply(this,arguments)}return(0,k.Z)(Ae,[{key:"template",value:function(_e){var Ne=_e.pfx,Je=_e.ppfx,tt=_e.em,gt="";return this.config.showUrlInput&&(gt=`
          <form class="`.concat(Ne,`add-asset">
            <div class="`).concat(Je,"field ").concat(Ne,`add-field">
              <input placeholder="`).concat(tt&&tt.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(Je,'btn-prim">').concat(tt&&tt.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(Ne,`assets-cont">
      <div class="`).concat(Ne,`assets-header">
        `).concat(gt,`
      </div>
      <div class="`).concat(Ne,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)}},{key:"initialize",value:function(_e){this.options=_e,this.config=_e.config,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.em=this.config.em;var Ne=this.collection;this.listenTo(Ne,"reset",this.renderAssets),this.listenTo(Ne,"add",this.addToAsset),this.listenTo(Ne,"remove",this.removedAsset),this.listenTo(Ne,"deselectAll",this.deselectAll)}},{key:"handleSubmit",value:function(_e){_e.preventDefault();var Ne=this.getAddInput(),Je=Ne&&Ne.value.trim(),tt=this.config.handleAdd;Je&&(Ne.value="",this.getAssetsEl().scrollTop=0,tt?tt.bind(this)(Je):this.options.globalCollection.add(Je,{at:0}))}},{key:"getAssetsEl",value:function(){return this.el.querySelector(".".concat(this.pfx,"assets"))}},{key:"getAddInput",value:function(){return this.inputUrl&&this.inputUrl.value||(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl}},{key:"removedAsset",value:function(_e){this.collection.length||this.toggleNoAssets()}},{key:"addToAsset",value:function(_e){this.collection.length==1&&this.toggleNoAssets(1),this.addAsset(_e)}},{key:"addAsset",value:function(_e){var Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Je=Ne,tt=this.collection,gt=this.config,lt=new _e.typeView({model:_e,collection:tt,config:gt}).render().el;if(Je)Je.appendChild(lt);else{var Zt=this.getAssetsEl();Zt&&Zt.insertBefore(lt,Zt.firstChild)}return lt}},{key:"toggleNoAssets",value:function(_e){var Ne=this.$el.find(".".concat(this.pfx,"assets"));if(_e)Ne.empty();else{var Je=this.config.noAssets;Je&&Ne.append(Je)}}},{key:"deselectAll",value:function(){var _e=this.pfx;this.$el.find(".".concat(_e,"highlight")).removeClass("".concat(_e,"highlight"))}},{key:"renderAssets",value:function(){var _e=this,Ne=document.createDocumentFragment(),Je=this.$el.find(".".concat(this.pfx,"assets"));Je.empty(),this.toggleNoAssets(this.collection.length),this.collection.each(function(tt){return _e.addAsset(tt,Ne)}),Je.append(Ne)}},{key:"render",value:function(){var _e=this.options.fu.render().el;return this.$el.empty(),this.$el.append(_e).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this}}]),Ae}(l.View);Y.prototype.events={submit:"handleSubmit"};var u,y=s(9661);function g(Ce,we){var Ae=typeof Symbol<"u"&&Ce[Symbol.iterator]||Ce["@@iterator"];if(!Ae){if(Array.isArray(Ce)||(Ae=function(lt,Zt){if(!!lt){if(typeof lt=="string")return m(lt,Zt);var Lt=Object.prototype.toString.call(lt).slice(8,-1);if(Lt==="Object"&&lt.constructor&&(Lt=lt.constructor.name),Lt==="Map"||Lt==="Set")return Array.from(lt);if(Lt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Lt))return m(lt,Zt)}}(Ce))||we&&Ce&&typeof Ce.length=="number"){Ae&&(Ce=Ae);var _e=0,Ne=function(){};return{s:Ne,n:function(){return _e>=Ce.length?{done:!0}:{done:!1,value:Ce[_e++]}},e:function(lt){throw lt},f:Ne}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Je,tt=!0,gt=!1;return{s:function(){Ae=Ae.call(Ce)},n:function(){var lt=Ae.next();return tt=lt.done,lt},e:function(lt){gt=!0,Je=lt},f:function(){try{tt||Ae.return==null||Ae.return()}finally{if(gt)throw Je}}}}function m(Ce,we){(we==null||we>Ce.length)&&(we=Ce.length);for(var Ae=0,_e=new Array(we);Ae<we;Ae++)_e[Ae]=Ce[Ae];return _e}function $(Ce){var we=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ae,_e=(0,f.Z)(Ce);if(we){var Ne=(0,f.Z)(this).constructor;Ae=Reflect.construct(_e,arguments,Ne)}else Ae=_e.apply(this,arguments);return(0,x.Z)(this,Ae)}}var ae=function(Ce){(0,S.Z)(Ae,Ce);var we=$(Ae);function Ae(){return(0,d.Z)(this,Ae),we.apply(this,arguments)}return(0,k.Z)(Ae,[{key:"template",value:function(_e){var Ne=_e.pfx,Je=_e.title,tt=_e.uploadId,gt=_e.disabled,lt=_e.multiUpload;return(0,ce.Z)(u||(u=(0,te.Z)([`
      <form>
        <div id="`,'title">',`</div>
        <input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),Ne,Je,tt,gt?"disabled":"",lt?"multiple":"")}},{key:"initialize",value:function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=_e;var Ne=_e.config||{};this.module=_e.module,this.config=Ne,this.em=this.config.em,this.pfx=Ne.stylePrefix||"",this.ppfx=Ne.pStylePrefix||"",this.target=this.options.globalCollection||{},this.uploadId=this.pfx+"uploadFile",this.disabled=Ne.disableUpload!==void 0?Ne.disableUpload:!Ne.upload&&!Ne.embedAsBase64,this.multiUpload=Ne.multiUpload===void 0||Ne.multiUpload,this.events=(0,O.Z)({},"change #".concat(this.uploadId),"uploadFile");var Je=Ne.uploadFile;Je?this.uploadFile=Je.bind(this):!Ne.upload&&Ne.embedAsBase64&&(this.uploadFile=this.constructor.embedAsBase64),this.delegateEvents()}},{key:"onUploadStart",value:function(){var _e=this.module;_e&&_e.__propEv("asset:upload:start")}},{key:"onUploadEnd",value:function(_e){var Ne=this.$el,Je=this.module;Je&&Je.__propEv("asset:upload:end",_e);var tt=Ne.find("input");tt&&tt.val("")}},{key:"onUploadError",value:function(_e){var Ne=this.module;console.error(_e),this.onUploadEnd(_e),Ne&&Ne.__propEv("asset:upload:error",_e)}},{key:"onUploadResponse",value:function(_e,Ne){var Je,tt=this.module,gt=this.config,lt=this.target;try{Je=typeof _e=="string"?JSON.parse(_e):_e}catch{Je=_e}tt&&tt.__propEv("asset:upload:response",Je),gt.autoAdd&&lt&&lt.add(Je.data,{at:0}),this.onUploadEnd(_e),Ne&&Ne(Je)}},{key:"uploadFile",value:function(_e,Ne){var Je=this,tt=_e.dataTransfer?_e.dataTransfer.files:_e.target.files,gt=this.config,lt=gt.beforeUpload;if((lt&&lt(tt))!==!1){var Zt=new FormData,Lt=gt.params,It=gt.customFetch;for(var Ve in Lt)Zt.append(Ve,Lt[Ve]);if(this.multiUpload)for(var je=0;je<tt.length;je++)Zt.append("".concat(gt.uploadName,"[]"),tt[je]);else tt.length&&Zt.append(gt.uploadName,tt[0]);this.target;var Fe=gt.upload,We=gt.headers,it="X-Requested-With";if(We[it]===void 0&&(We[it]="XMLHttpRequest"),Fe){this.onUploadStart();var mt={method:"post",credentials:gt.credentials||"include",headers:We,body:Zt};return(It?It(Fe,mt):(0,y.Z)(Fe,mt).then(function(St){return(St.status/200|0)==1?St.text():St.text().then(function(tn){return Promise.reject(tn)})})).then(function(St){return Je.onUploadResponse(St,Ne)}).catch(function(St){return Je.onUploadError(St)})}}}},{key:"initDrop",value:function(){var _e=this;!this.uploadForm&&(this.uploadForm=this.$el.find("form").get(0),"draggable"in this.uploadForm)&&(this.uploadFile,this.uploadForm.ondragover=function(){return this.className=_e.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return this.className="",!1},this.uploadForm.ondrop=function(Ne){this.className="",Ne.preventDefault(),_e.uploadFile(Ne)})}},{key:"initDropzone",value:function(_e){var Ne=this,Je=0,tt=this.config,gt=_e.model,lt=_e.el,Zt=gt.get("Editor"),Lt=(gt.get("Config").el,gt.get("Canvas").getBody()),It=this.ppfx,Ve="".concat(It,"dropzone-active"),je="".concat(It,"dropzone"),Fe=function(){lt.className=lt.className.replace(Ve,"").trim(),Je=0},We=function(){return Je||(lt.className+=" ".concat(Ve),Je=1),!1},it=function(){return Fe(),!1},mt=function(St){if(Fe(),St.preventDefault(),St.stopPropagation(),Ne.uploadFile(St),tt.openAssetsOnDrop&&Zt){var tn=Zt.getSelected();Zt.runCommand("open-assets",{target:tn,onSelect:function(){Zt.Modal.close(),Zt.AssetManager.setTarget(null)}})}return!1};_e.$el.append('<div class="'.concat(je,'">').concat(tt.dropzoneContent,"</div>")),Fe(),"draggable"in lt&&[lt,Lt].forEach(function(St){St.ondragover=We,St.ondragleave=it,St.ondrop=mt})}},{key:"render",value:function(){var _e=this.$el,Ne=this.pfx,Je=this.em;return _e.html(this.template({title:Je&&Je.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:Ne})),this.initDrop(),_e.attr("class",Ne+"file-uploader"),this}}]),Ae}(l.View);function K(Ce,we){var Ae=Object.keys(Ce);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(Ce);we&&(_e=_e.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),Ae.push.apply(Ae,_e)}return Ae}function F(Ce){for(var we=1;we<arguments.length;we++){var Ae=arguments[we]!=null?arguments[we]:{};we%2?K(Object(Ae),!0).forEach(function(_e){(0,O.Z)(Ce,_e,Ae[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(Ae)):K(Object(Ae)).forEach(function(_e){Object.defineProperty(Ce,_e,Object.getOwnPropertyDescriptor(Ae,_e))})}return Ce}ae.embedAsBase64=function(Ce,we){var Ae=this,_e=Ce.dataTransfer?Ce.dataTransfer.files:Ce.target.files,Ne={data:[]};if(FileReader){var Je,tt=[],gt=/^(.+)\/(.+)$/,lt=g(_e);try{var Zt=function(){var Lt=Je.value,It=new Promise(function(Ve,je){var Fe=new FileReader;Fe.addEventListener("load",function(We){var it,mt=Lt.name,St=gt.exec(Lt.type);if((it=St?St[1]:Lt.type)==="image"){var tn={src:Fe.result,name:mt,type:it,height:0,width:0},Ue=new Image;Ue.addEventListener("error",function(et){je(et)}),Ue.addEventListener("load",function(){tn.height=Ue.height,tn.width=Ue.width,Ve(tn)}),Ue.src=tn.src}else Ve(it?{src:Fe.result,name:mt,type:it}:Fe.result)}),Fe.addEventListener("error",function(We){je(We)}),Fe.addEventListener("abort",function(We){je("Aborted")}),Fe.readAsDataURL(Lt)});tt.push(It)};for(lt.s();!(Je=lt.n()).done;)Zt()}catch(Lt){lt.e(Lt)}finally{lt.f()}Promise.all(tt).then(function(Lt){Ne.data=Lt,Ae.onUploadResponse(Ne,we)},function(Lt){Ae.onUploadError(Lt)})}else this.onUploadError(new Error("Unsupported platform, FileReader is not defined"))};var b="asset",h="".concat(b,":"),V="".concat(h,"select"),M="".concat(h,"update"),T="".concat(h,"add"),P="".concat(h,"remove"),c="".concat(P,":before"),ee="".concat(h,"custom"),q="".concat(h,"open"),E="".concat(h,"close"),R="".concat(h,"upload"),ue="".concat(R,":start"),be="".concat(R,":end"),N="".concat(R,":error"),oe="".concat(R,":response");const de=function(){var Ce,we,Ae,_e,Ne={},Je="open-assets";return F(F({},A.Z),{},{name:"AssetManager",storageKey:"assets",Asset:ne,Assets:ne,events:{all:b,select:V,update:M,add:T,remove:P,removeBefore:c,custom:ee,open:q,close:E,uploadStart:ue,uploadEnd:be,uploadError:N,uploadResponse:oe},init:function(){var tt=this,gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},lt=(Ne=F(F({},p),gt)).pStylePrefix,Zt=Ne,Lt=Zt.em;return this.config=Ne,this.em=Lt,lt&&(Ne.stylePrefix=lt+Ne.stylePrefix),Ce=new ne([]),we=new ne([]),this.all=Ce,this.__initListen(),Ce.on("add",function(It){return tt.getAllVisible().add(It)}),Ce.on("remove",function(It){return tt.getAllVisible().remove(It)}),this},__propEv:function(tt){for(var gt,lt,Zt=arguments.length,Lt=new Array(Zt>1?Zt-1:0),It=1;It<Zt;It++)Lt[It-1]=arguments[It];(gt=this.em).trigger.apply(gt,[tt].concat(Lt)),(lt=this.getAll()).trigger.apply(lt,[tt].concat(Lt))},__onAllEvent:(0,H.debounce)(function(){this.__trgCustom()}),__trgCustom:function(){(this.__getBehaviour().container||this.getConfig().custom.open)&&this.em.trigger(this.events.custom,this.__customData())},__customData:function(){var tt=this,gt=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:gt.types||[],container:gt.container,close:function(){return tt.close()},remove:function(){return tt.remove.apply(tt,arguments)},select:function(lt,Zt){var Lt=tt.add(lt);(0,H.isFunction)(gt.select)&&gt.select(Lt,Zt)},options:gt.options||{}}},open:function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},gt=this.em.get("Commands");gt.run(Je,F({types:["image"],select:function(){}},tt))},close:function(){this.em.get("Commands").stop(Je)},isOpen:function(){var tt=this.em.get("Commands");return!(!tt||!tt.isActive(Je))},add:function(tt){var gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return gt.at===void 0&&(gt.at=0),Ce.add(tt,gt)},get:function(tt){return Ce.where({src:tt})[0]||null},getAll:function(){return Ce},getAllVisible:function(){return we},remove:function(tt,gt){return this.__remove(tt,gt)},store:function(){return this.getProjectData()},load:function(tt){return this.loadProjectData(tt)},getContainer:function(){return this.__getBehaviour().container||Ae&&Ae.el},getAssetsEl:function(){return Ae.el.querySelector("[data-el=assets]")},render:function(tt){if(!this.getConfig().custom){var gt=tt||this.getAll().models;if(!Ae){var lt=this.__viewParams();lt.fu=this.FileUploader();var Zt=Ae&&Ae.el;(Ae=new Y(F({el:Zt},lt))).render()}return we.reset(gt),this.getContainer()}},__viewParams:function(){return{collection:we,globalCollection:Ce,config:Ne,module:this}},addType:function(tt,gt){this.getAll().addType(tt,gt)},getType:function(tt){return this.getAll().getType(tt)},getTypes:function(){return this.getAll().getTypes()},AssetsView:function(){return Ae},FileUploader:function(){return _e||(_e=new ae(this.__viewParams())),_e},onLoad:function(){var tt=this;this.getAll().reset(Ne.assets);var gt=this.em,lt=this.events;gt.on("run:".concat(Je),function(){return tt.__propEv(lt.open)}),gt.on("stop:".concat(Je),function(){return tt.__propEv(lt.close)})},postRender:function(tt){Ne.dropzone&&_e&&_e.initDropzone(tt)},setTarget:function(tt){we.target=tt},onSelect:function(tt){we.onSelect=tt},onClick:function(tt){Ne.onClick=tt},onDblClick:function(tt){Ne.onDblClick=tt},__behaviour:function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._bhv=F(F({},this._bhv||{}),tt)},__getBehaviour:function(){return this._bhv||{}},destroy:function(){Ce.stopListening(),we.stopListening(),Ce.reset(),we.reset(),_e&&_e.remove(),Ae&&Ae.remove(),this._bhv={},this.all={},Ne={}}})}},6407:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>ee,evAdd:()=>F,evAll:()=>ae,evCustom:()=>c,evDrag:()=>M,evDragStart:()=>T,evDragStop:()=>P,evPfx:()=>K,evRemove:()=>h,evRemoveBefore:()=>V,evUpdate:()=>b});var O=s(5671),H=s(3144),A=s(7326),p=s(9340),k=s(2963),d=s(1120),S=s(4942),x=s(9050),f=s(9714);const l={appendTo:"",appendOnClick:!1,blocks:[],custom:!1};var v=s(2316);function w(q){var E=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var R,ue=(0,d.Z)(q);if(E){var be=(0,d.Z)(this).constructor;R=Reflect.construct(ue,arguments,be)}else R=ue.apply(this,arguments);return(0,k.Z)(this,R)}}var j=function(q){(0,p.Z)(R,q);var E=w(R);function R(){return(0,O.Z)(this,R),E.apply(this,arguments)}return(0,H.Z)(R,[{key:"defaults",value:function(){return{label:"",content:"",media:"",category:"",activate:!1,select:null,resetId:!1,disable:!1,onClick:null,attributes:{}}}},{key:"getId",value:function(){return this.id}},{key:"getLabel",value:function(){return this.get("label")}},{key:"getMedia",value:function(){return this.get("media")}},{key:"getContent",value:function(){return this.get("content")}},{key:"getCategoryLabel",value:function(){var ue=this.get("category");return(0,x.isFunction)(ue.get)?ue.get("label"):ue.label?ue.label:ue}}]),R}(v.Model);function B(q){var E=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var R,ue=(0,d.Z)(q);if(E){var be=(0,d.Z)(this).constructor;R=Reflect.construct(ue,arguments,be)}else R=ue.apply(this,arguments);return(0,k.Z)(this,R)}}var Q=function(q){(0,p.Z)(R,q);var E=B(R);function R(){return(0,O.Z)(this,R),E.apply(this,arguments)}return(0,H.Z)(R)}(v.Collection);function X(q){var E=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var R,ue=(0,d.Z)(q);if(E){var be=(0,d.Z)(this).constructor;R=Reflect.construct(ue,arguments,be)}else R=ue.apply(this,arguments);return(0,k.Z)(this,R)}}Q.prototype.model=j;var te=function(q){(0,p.Z)(R,q);var E=X(R);function R(){return(0,O.Z)(this,R),E.apply(this,arguments)}return(0,H.Z)(R,[{key:"defaults",value:function(){return{id:"",label:"",open:!0,attributes:{}}}}]),R}(v.Model);function J(q){var E=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var R,ue=(0,d.Z)(q);if(E){var be=(0,d.Z)(this).constructor;R=Reflect.construct(ue,arguments,be)}else R=ue.apply(this,arguments);return(0,k.Z)(this,R)}}var U=function(q){(0,p.Z)(R,q);var E=J(R);function R(){return(0,O.Z)(this,R),E.apply(this,arguments)}return(0,H.Z)(R)}(v.Collection);U.prototype.model=te;var se=s(1163);function me(q){var E=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var R,ue=(0,d.Z)(q);if(E){var be=(0,d.Z)(this).constructor;R=Reflect.construct(ue,arguments,be)}else R=ue.apply(this,arguments);return(0,k.Z)(this,R)}}var ce,D=function(q){(0,p.Z)(R,q);var E=me(R);function R(){return(0,O.Z)(this,R),E.apply(this,arguments)}return(0,H.Z)(R,[{key:"events",value:function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}}},{key:"initialize",value:function(ue){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N=this.model;this.em=be.em,this.config=be,this.endDrag=this.endDrag.bind(this),this.ppfx=be.pStylePrefix||"",this.listenTo(N,"destroy remove",this.remove),this.listenTo(N,"change",this.render)}},{key:"__getModule",value:function(){return this.em.get("BlockManager")}},{key:"handleClick",value:function(ue){var be=this.config,N=this.model,oe=this.em,de=N.get("onClick")||be.appendOnClick;if(oe.trigger("block:click",N,ue),de){if((0,x.isFunction)(de))return de(N,oe.getEditor(),{event:ue});var Ce,we,Ae=be.getSorter(),_e=N.get("content"),Ne=oe.getSelected();if(Ae.setDropContent(_e),Ne)if(Ae.validTarget(Ne.getEl(),_e).valid)Ce=Ne;else{var Je=Ne.parent();Ae.validTarget(Je.getEl(),_e).valid&&(Ce=Je,we=Je.components().indexOf(Ne)+1)}if(!Ce){var tt=oe.getWrapper();Ae.validTarget(tt.getEl(),_e).valid&&(Ce=tt)}var gt=Ce&&Ce.append(_e,{at:we})[0];gt&&oe.setSelected(gt,{scroll:1})}}},{key:"startDrag",value:function(ue){var be=this.config,N=this.em,oe=this.model.get("disable");if(ue.button===0&&be.getSorter&&!this.el.draggable&&!oe){N.refreshCanvas();var de=be.getSorter();de.setDragHelper(this.el,ue),de.setDropContent(this.model.get("content")),de.startSort(this.el),(0,se.on)(document,"mouseup",this.endDrag)}}},{key:"handleDragStart",value:function(ue){this.__getModule().__startDrag(this.model,ue)}},{key:"handleDrag",value:function(ue){this.__getModule().__drag(ue)}},{key:"handleDragEnd",value:function(){this.__getModule().__endDrag()}},{key:"endDrag",value:function(ue){(0,se.off)(document,"mouseup",this.endDrag);var be=this.config.getSorter();be.moved=0,be.endMove()}},{key:"render",value:function(){var ue=this.em,be=this.el,N=this.$el,oe=this.ppfx,de=this.model,Ce=de.get("disable"),we=de.get("attributes")||{},Ae=we.class||"",_e="".concat(oe,"block"),Ne=ue&&ue.t("blockManager.labels.".concat(de.id))||de.get("label"),Je=de.get("render"),tt=de.get("media"),gt=Ce?"".concat(_e,"--disable"):"".concat(oe,"four-color-h");N.attr(we),be.className="".concat(Ae," ").concat(_e," ").concat(oe,"one-bg ").concat(gt).trim(),be.innerHTML=`
      `.concat(tt?'<div class="'.concat(_e,'__media">').concat(tt,"</div>"):"",`
      <div class="`).concat(_e,'-label">').concat(Ne,`</div>
    `),be.title=we.title||be.textContent.trim(),be.setAttribute("draggable",!(!(0,se.hasDnd)(ue)||Ce));var lt=Je&&Je({el:be,model:de,className:_e,prefix:oe});return lt&&(be.innerHTML=lt),this}}]),R}(v.View),L=s(168),I=s(7539);function re(q){var E=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var R,ue=(0,d.Z)(q);if(E){var be=(0,d.Z)(this).constructor;R=Reflect.construct(ue,arguments,be)}else R=ue.apply(this,arguments);return(0,k.Z)(this,R)}}var ne=function(q){(0,p.Z)(R,q);var E=re(R);function R(){return(0,O.Z)(this,R),E.apply(this,arguments)}return(0,H.Z)(R,[{key:"template",value:function(ue){var be=ue.pfx,N=ue.label;return(0,I.Z)(ce||(ce=(0,L.Z)([`
      <div class="`,`title">
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,`blocks-c"></div>
    `])),be,be,N,be)}},{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"initialize",value:function(){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.config=ue;var be=ue.pStylePrefix||"";this.em=ue.em,this.pfx=be,this.caretR="fa fa-caret-right",this.caretD="fa fa-caret-down",this.iconClass="".concat(be,"caret-icon"),this.activeClass="".concat(be,"open"),this.className="".concat(be,"block-category"),this.events={},this.events["click .".concat(be,"title")]="toggle",this.listenTo(this.model,"change:open",this.updateVisibility),this.delegateEvents(),this.model.view=this}},{key:"updateVisibility",value:function(){this.model.get("open")?this.open():this.close()}},{key:"open",value:function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getBlocksEl().style.display=""}},{key:"close",value:function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getBlocksEl().style.display="none"}},{key:"toggle",value:function(){var ue=this.model;ue.set("open",!ue.get("open"))}},{key:"getIconEl",value:function(){return this.iconEl||(this.iconEl=this.el.querySelector("."+this.iconClass)),this.iconEl}},{key:"getBlocksEl",value:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector("."+this.pfx+"blocks-c")),this.blocksEl}},{key:"append",value:function(ue){this.getBlocksEl().appendChild(ue)}},{key:"render",value:function(){var ue=this.em,be=this.el,N=this.$el,oe=this.model,de=this.pfx,Ce=ue.t("blockManager.categories.".concat(oe.id))||oe.get("label");return be.innerHTML=this.template({pfx:de,label:Ce}),N.addClass(this.className),N.css({order:oe.get("order")}),this.updateVisibility(),this}}]),R}(v.View);function z(q,E){var R=Object.keys(q);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(q);E&&(ue=ue.filter(function(be){return Object.getOwnPropertyDescriptor(q,be).enumerable})),R.push.apply(R,ue)}return R}function Y(q){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?z(Object(R),!0).forEach(function(ue){(0,S.Z)(q,ue,R[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(R)):z(Object(R)).forEach(function(ue){Object.defineProperty(q,ue,Object.getOwnPropertyDescriptor(R,ue))})}return q}function u(q){var E=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var R,ue=(0,d.Z)(q);if(E){var be=(0,d.Z)(this).constructor;R=Reflect.construct(ue,arguments,be)}else R=ue.apply(this,arguments);return(0,k.Z)(this,R)}}var y=function(q){(0,p.Z)(R,q);var E=u(R);function R(){return(0,O.Z)(this,R),E.apply(this,arguments)}return(0,H.Z)(R,[{key:"initialize",value:function(ue,be){(0,x.bindAll)(this,"getSorter","onDrag","onDrop","onMove"),this.config=be||{},this.categories=ue.categories||"",this.renderedCategories=[];var N=this.config.pStylePrefix||"";this.ppfx=N,this.noCatClass="".concat(N,"blocks-no-cat"),this.blockContClass="".concat(N,"blocks-c"),this.catsClass="".concat(N,"block-categories");var oe=this.collection;this.listenTo(oe,"add",this.addTo),this.listenTo(oe,"reset",this.render),this.em=this.config.em,this.tac="test-tac",this.grabbingCls=this.ppfx+"grabbing",this.em&&(this.config.getSorter=this.getSorter,this.canvas=this.em.get("Canvas"))}},{key:"updateConfig",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.config=Y(Y({},this.config),ue)}},{key:"getSorter",value:function(){if(this.em){if(!this.sorter){var ue=this.em.get("Utils"),be=this.canvas;this.sorter=new ue.Sorter({container:be.getBody(),placer:be.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:be.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:this.em,canvasRelative:1})}return this.sorter}}},{key:"onDrag",value:function(ue){this.em.stopDefault(),this.em.trigger("block:drag:start",ue)}},{key:"onMove",value:function(ue){this.em.trigger("block:drag:move",ue)}},{key:"onDrop",value:function(ue){var be=this.em;if(be.runDefault(),ue&&ue.get){var N="activeOnRender";ue.get(N)&&(ue.trigger("active"),ue.unset(N)),be.trigger("block:drag:stop",ue)}}},{key:"addTo",value:function(ue){this.add(ue)}},{key:"add",value:function(ue,be){var N=this.config,oe=be||null,de=new D({model:ue,attributes:ue.get("attributes")},N).render().el,Ce=ue.get("category");if(Ce&&this.categories&&!N.ignoreCategories){(0,x.isString)(Ce)?Ce={id:Ce,label:Ce}:(0,x.isObject)(Ce)&&!Ce.id&&(Ce.id=Ce.label);var we=this.categories.add(Ce),Ae=we.get("id"),_e=this.renderedCategories[Ae],Ne=this.getCategoriesEl();return ue.set("category",we,{silent:!0}),!_e&&Ne&&(_e=new ne({model:we},this.config).render(),this.renderedCategories[Ae]=_e,Ne.appendChild(_e.el)),void(_e&&_e.append(de))}oe?oe.appendChild(de):this.append(de)}},{key:"getCategoriesEl",value:function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl}},{key:"getBlocksEl",value:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl}},{key:"append",value:function(ue){var be=this.getBlocksEl();be&&be.appendChild(ue)}},{key:"render",value:function(){var ue=this,be=this.ppfx,N=document.createDocumentFragment();this.catsEl=null,this.blocksEl=null,this.renderedCategories=[],this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(de){return ue.add(de,N)}),this.append(N);var oe="".concat(this.blockContClass,"s ").concat(be,"one-bg ").concat(be,"two-color");return this.$el.addClass(oe),this.rendered=!0,this}}]),R}(v.View);function g(q,E){var R=Object.keys(q);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(q);E&&(ue=ue.filter(function(be){return Object.getOwnPropertyDescriptor(q,be).enumerable})),R.push.apply(R,ue)}return R}function m(q){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?g(Object(R),!0).forEach(function(ue){(0,S.Z)(q,ue,R[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(R)):g(Object(R)).forEach(function(ue){Object.defineProperty(q,ue,Object.getOwnPropertyDescriptor(R,ue))})}return q}function $(q){var E=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var R,ue=(0,d.Z)(q);if(E){var be=(0,d.Z)(this).constructor;R=Reflect.construct(ue,arguments,be)}else R=ue.apply(this,arguments);return(0,k.Z)(this,R)}}var ae="block",K="".concat(ae,":"),F="".concat(K,"add"),b="".concat(K,"update"),h="".concat(K,"remove"),V="".concat(h,":before"),M="".concat(K,"drag"),T="".concat(M,":start"),P="".concat(M,":stop"),c="".concat(K,"custom"),ee=function(q){(0,p.Z)(R,q);var E=$(R);function R(){var ue;(0,O.Z)(this,R);for(var be=arguments.length,N=new Array(be),oe=0;oe<be;oe++)N[oe]=arguments[oe];return ue=E.call.apply(E,[this].concat(N)),(0,S.Z)((0,A.Z)(ue),"name","BlockManager"),(0,S.Z)((0,A.Z)(ue),"Block",j),(0,S.Z)((0,A.Z)(ue),"Blocks",Q),(0,S.Z)((0,A.Z)(ue),"Category",te),(0,S.Z)((0,A.Z)(ue),"Categories",U),(0,S.Z)((0,A.Z)(ue),"events",{all:ae,update:b,add:F,remove:h,removeBefore:V,drag:M,dragStart:T,dragEnd:P,custom:c}),ue}return(0,H.Z)(R,[{key:"init",value:function(){var ue=this,be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.c=m(m({},l),be);var N=this.c.em;return this.em=N,this.blocks=new Q(this.c.blocks),this.blocksVisible=new Q(this.blocks.models),this.categories=new U,this.all=this.blocks,this.__initListen(),this.blocks.on("add",function(oe){return ue.blocksVisible.add(oe)}),this.blocks.on("remove",function(oe){return ue.blocksVisible.remove(oe)}),this.blocks.on("reset",function(oe){return ue.blocksVisible.reset(oe.models)}),this}},{key:"__trgCustom",value:function(){this.em.trigger(this.events.custom,this.__customData())}},{key:"__customData",value:function(){var ue=this,be=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:be.container,dragStart:function(N,oe){return ue.startDrag(N,oe)},drag:function(N){return ue.__drag(N)},dragStop:function(N){return ue.endDrag(N)}}}},{key:"__startDrag",value:function(ue,be){var N=this.em,oe=this.events,de=this.blocks,Ce=ue.getContent?ue.getContent():ue;this._dragBlock=ue,N.set({dragResult:null,dragContent:Ce}),[N,de].map(function(we){return we.trigger(oe.dragStart,ue,be)})}},{key:"__drag",value:function(ue){var be=this.em,N=this.events,oe=this.blocks,de=this._dragBlock;[be,oe].map(function(Ce){return Ce.trigger(N.drag,de,ue)})}},{key:"__endDrag",value:function(){var ue=this.em,be=this.events,N=this.blocks,oe=this._dragBlock,de=ue.get("dragResult");if(this._dragBlock=null,de){var Ce="activeOnRender",we=de.get&&de.get(Ce),Ae=oe.get("activate")||we,_e=oe.get("select"),Ne=(0,x.isArray)(de)?de[0]:de;(_e||Ae&&_e!==!1)&&ue.setSelected(Ne),Ae&&(Ne.trigger("active"),we&&Ne.unset(Ce)),oe.get("resetId")&&Ne.onAll(function(Je){return Je.resetId()})}ue.set({dragResult:null,dragContent:null}),[ue,N].map(function(Je){return Je.trigger(be.dragEnd,de,oe)})}},{key:"__getFrameViews",value:function(){return this.em.get("Canvas").getFrames().map(function(ue){return ue.view})}},{key:"__behaviour",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._bhv=m(m({},this._bhv||{}),ue)}},{key:"__getBehaviour",value:function(){return this._bhv||{}}},{key:"startDrag",value:function(ue,be){this.__startDrag(ue,be),this.__getFrameViews().forEach(function(N){return N.droppable.startCustom()})}},{key:"endDrag",value:function(ue){this.__getFrameViews().forEach(function(be){return be.droppable.endCustom(ue)}),this.__endDrag()}},{key:"getConfig",value:function(){return this.c}},{key:"postRender",value:function(){var ue=this.categories,be=this.blocksVisible;this.blocksView=new y({collection:be,categories:ue},this.c);var N=this.getConfig().appendTo;if(N){var oe=(0,x.isElement)(N)?N:document.querySelector(N);if(!oe)return this.__logWarn('"appendTo" element not found');oe.appendChild(this.render(this.blocksVisible.models))}this.__trgCustom()}},{key:"add",value:function(ue,be){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},oe=be||{};return oe.id=ue,this.blocks.add(oe,N)}},{key:"get",value:function(ue){return this.blocks.get(ue)}},{key:"getAll",value:function(){return this.blocks}},{key:"getAllVisible",value:function(){return this.blocksVisible}},{key:"remove",value:function(ue){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.__remove(ue,be)}},{key:"getCategories",value:function(){return this.categories}},{key:"getContainer",value:function(){return this.blocksView.el}},{key:"render",value:function(ue){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N=this.categories.categories,oe=ue||this.getAll().models;if(be.external){var de=new Q(oe);return new y({collection:de,categories:N},m(m({},this.c),be)).render().el}return this.blocksView&&(this.blocksView.updateConfig(be),this.blocksView.collection.reset(oe),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=1)),this.getContainer()}},{key:"destroy",value:function(){var ue,be=[this.blocks,this.blocksVisible,this.categories];be.map(function(N){return N.stopListening()}),be.map(function(N){return N.reset()}),(ue=this.blocksView)===null||ue===void 0||ue.remove(),this.c={},this.blocks={},this.blocksVisible={},this.blocksView={},this.categories=[],this.all={}}}]),R}(f.Z)},4068:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>T});var O=s(2982),H=s(5671),A=s(3144),p=s(4942),k=s(9050),d=s(1163);const S={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:"",autoscrollLimit:50,extHl:0,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"]};var x,f=s(2316),l=s.n(f),v=s(7948),w=s(3560),j=(x=function(P,c){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,q){ee.__proto__=q}||function(ee,q){for(var E in q)Object.prototype.hasOwnProperty.call(q,E)&&(ee[E]=q[E])},x(P,c)},function(P,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function ee(){this.constructor=P}x(P,c),P.prototype=c===null?Object.create(c):(ee.prototype=c.prototype,new ee)});const B=function(P){function c(ee,q){q===void 0&&(q={});var E=P.call(this,ee)||this,R=q.em;return E.config=q,E.em=R,E.listenTo(E,"change:zoom",E.onZoomChange),E.listenTo(R,"change:device",E.updateDevice),E.listenTo(R,v.evPageSelect,E._pageUpdated),E}return j(c,P),c.prototype.defaults=function(){return{frame:"",frames:new w.Z,rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[]}},Object.defineProperty(c.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),c.prototype.init=function(){var ee=this.em.get("PageManager").getMain(),q=ee.getMainFrame();this.set("frames",ee.getFrames()),this.updateDevice({frame:q})},c.prototype._pageUpdated=function(ee,q){var E=this.em;E.setSelected(),E.get("readyCanvas")&&E.stopDefault(),q==null||q.getFrames().map(function(R){return R.disable()}),this.set("frames",ee.getFrames())},c.prototype.updateDevice=function(ee){ee===void 0&&(ee={});var q=this.em,E=q.getDeviceModel(),R=ee.frame||q.getCurrentFrameModel();if(R&&E){var ue=E.attributes,be=ue.width,N=ue.height;R.set({width:be,height:N},{noUndo:1})}},c.prototype.onZoomChange=function(){this.get("zoom")<1&&this.set("zoom",1)},c}(l().Model);var Q=s(6840),X=s(9340),te=s(2963),J=s(1120),U=s(9283),se=s(6602),me=s(4868);function ce(P,c){var ee=Object.keys(P);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(P);c&&(q=q.filter(function(E){return Object.getOwnPropertyDescriptor(P,E).enumerable})),ee.push.apply(ee,q)}return ee}var D=function(){function P(c,ee){var q=this;(0,H.Z)(this,P),this.em=c;var E=ee||c.get("Canvas").getFrames().map(function(ue){return ue.getComponent().getEl()}),R=Array.isArray(E)?E:[E];return this.el=E,this.counter=0,(0,k.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),R.forEach(function(ue){return q.toggleEffects(ue,1)}),this}return(0,A.Z)(P,[{key:"toggleEffects",value:function(c,ee){var q={on:d.on,off:d.off},E=ee?"on":"off";q[E](c,"dragenter",this.handleDragEnter),q[E](c,"dragover",this.handleDragOver),q[E](c,"drop",this.handleDrop),q[E](c,"dragleave",this.handleDragLeave)}},{key:"__customTglEff",value:function(c){var ee=c?d.on:d.off,q=this.el.ownerDocument,E=q.defaultView.frameElement;this.sortOpts=c?{onStart:function(R){var ue=R.sorter;(0,d.on)(E,"pointermove",ue.onMove)},onEnd:function(R){var ue=R.sorter;(0,d.off)(E,"pointermove",ue.onMove)},customTarget:function(R){var ue=R.event;return q.elementFromPoint(ue.clientX,ue.clientY)}}:null,ee(E,"pointerenter",this.handleDragEnter),ee(E,"pointermove",this.handleDragOver),ee(document,"pointerup",this.handleDrop),ee(E,"pointerout",this.handleDragLeave)}},{key:"startCustom",value:function(){this.__customTglEff(!0)}},{key:"endCustom",value:function(c){this.over?this.endDrop(c):this.__customTglEff(!1)}},{key:"endDrop",value:function(c,ee){var q=this.em,E=this.dragStop;this.counter=0,E&&E(c),this.__customTglEff(!1),q.trigger("canvas:dragend",ee)}},{key:"handleDragLeave",value:function(c){this.updateCounter(-1,c)}},{key:"updateCounter",value:function(c,ee){this.counter+=c,this.counter===0&&this.endDrop(1,ee)}},{key:"handleDragEnter",value:function(c){var ee=this,q=this.em,E=c.dataTransfer;if(this.updateCounter(1,c),!this.over){this.over=1;var R,ue,be=q.get("Utils"),N=q.get("Canvas"),oe=q.get("dragContent")||"<br>";if(q.stopDefault(),q.inAbsoluteMode()){var de=q.get("DomComponents").getWrapper(),Ce=de.append({})[0],we=q.get("Commands").run("core:component-drag",{event:c,guidesInfo:1,center:1,target:Ce,onEnd:function(_e,Ne,Je){var tt;if(!Je.cancelled){tt=de.append(oe)[0];var gt=Ce.getStyle(),lt=gt.left,Zt=gt.top,Lt=gt.position;tt.addStyle({left:lt,top:Zt,position:Lt})}ee.handleDragEnd(tt,E),Ce.remove()}});R=function(_e){return we.stop(c,{cancel:_e})},ue=function(_e){return oe=_e}}else{var Ae=new be.Sorter(function(_e){for(var Ne=1;Ne<arguments.length;Ne++){var Je=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?ce(Object(Je),!0).forEach(function(tt){(0,p.Z)(_e,tt,Je[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(Je)):ce(Object(Je)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(Je,tt))})}return _e}({em:q,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:N.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(_e){return ee.handleDragEnd(_e,E)},document:this.el.ownerDocument},this.sortOpts||{}));Ae.setDropContent(oe),Ae.startSort(),this.sorter=Ae,R=function(_e){_e&&(Ae.moved=0),Ae.endMove()},ue=function(_e){return Ae.setDropContent(_e)}}this.dragStop=R,this.dragContent=ue,q.trigger("canvas:dragenter",E,oe)}}},{key:"handleDragEnd",value:function(c,ee){var q=this.em;this.over=0,c&&(q.set("dragResult",c),q.trigger("canvas:drop",ee,c)),q.runDefault({preserveSelected:1})}},{key:"handleDragOver",value:function(c){c.preventDefault(),this.em.trigger("canvas:dragover",c)}},{key:"handleDrop",value:function(c){c.preventDefault();var ee=this.dragContent,q=c.dataTransfer,E=this.getContentByData(q).content;c.target.style.border="",E&&ee&&ee(E),this.endDrop(!E,c)}},{key:"getContentByData",value:function(c){var ee=this.em,q=c&&c.types,E=c&&c.files||[],R=ee.get("dragContent"),ue=c&&c.getData("text");if(E.length){ue=[];for(var be=0;be<E.length;be++){var N=E[be],oe=N.type.split("/")[0];oe=="image"&&ue.push({type:oe,file:N,attributes:{alt:N.name}})}}else if(R)ue=R;else if((0,k.indexOf)(q,"text/html")>=0)ue=c&&c.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,k.indexOf)(q,"text/uri-list")>=0)ue={type:"link",attributes:{href:ue},content:ue};else if((0,k.indexOf)(q,"text/json")>=0){var de=c&&c.getData("text/json");de&&(ue=JSON.parse(de))}else q.length===1&&q[0]==="text/plain"&&(ue="<div>".concat(ue,"</div>"));var Ce={content:ue};return ee.trigger("canvas:dragdata",c,Ce),Ce}}]),P}();function L(P,c){var ee=Object.keys(P);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(P);c&&(q=q.filter(function(E){return Object.getOwnPropertyDescriptor(P,E).enumerable})),ee.push.apply(ee,q)}return ee}function I(P){for(var c=1;c<arguments.length;c++){var ee=arguments[c]!=null?arguments[c]:{};c%2?L(Object(ee),!0).forEach(function(q){(0,p.Z)(P,q,ee[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(ee)):L(Object(ee)).forEach(function(q){Object.defineProperty(P,q,Object.getOwnPropertyDescriptor(ee,q))})}return P}function re(P){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ee,q=(0,J.Z)(P);if(c){var E=(0,J.Z)(this).constructor;ee=Reflect.construct(q,arguments,E)}else ee=q.apply(this,arguments);return(0,te.Z)(this,ee)}}var ne=function(P){(0,X.Z)(ee,P);var c=re(ee);function ee(){return(0,H.Z)(this,ee),c.apply(this,arguments)}return(0,A.Z)(ee,[{key:"tagName",value:function(){return"iframe"}},{key:"attributes",value:function(){return{allowfullscreen:"allowfullscreen"}}},{key:"initialize",value:function(q){(0,k.bindAll)(this,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var E=this.model,R=this.el;this.tools={},this.config=I(I({},q.config||{}),{},{frameView:this}),this.ppfx=this.config.pStylePrefix||"",this.em=this.config.em,this.showGlobalTools=(0,k.debounce)(this.showGlobalTools.bind(this),50);var ue=this.getCanvasModel();this.listenTo(E,"change:head",this.updateHead),this.listenTo(ue,"change:styles",this.renderStyles),E.view=this,(0,d.setViewEl)(R,this)}},{key:"updateHead",value:function(){var q=this.model,E=this.getHead(),R=[],ue=[],be=q.get("head"),N=q.previous("head"),oe=function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(Ce).sort().map(function(we){return"[".concat(we,'="').concat(Ce[we],'"]')}).join("")},de=function(Ce,we,Ae){Ce.forEach(function(_e){var Ne=_e.tag,Je=_e.attributes;!we.some(function(tt){return tt.tag===Ne&&oe(tt.attributes)===oe(Je)})&&Ae.push(_e)})};de(be,N,ue),de(N,be,R),R.forEach(function(Ce){var we=E.querySelector("".concat(Ce.tag).concat(oe(Ce.attributes)));we&&we.parentNode.removeChild(we)}),(0,U.SJ)(E,ue)}},{key:"getEl",value:function(){return this.el}},{key:"getCanvasModel",value:function(){return this.em.get("Canvas").getModel()}},{key:"getWindow",value:function(){return this.getEl().contentWindow}},{key:"getDoc",value:function(){return this.getEl().contentDocument}},{key:"getHead",value:function(){return this.getDoc().querySelector("head")}},{key:"getBody",value:function(){return this.getDoc().querySelector("body")}},{key:"getWrapper",value:function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")}},{key:"getJsContainer",value:function(){return this.jsContainer||(this.jsContainer=(0,U.ut)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer}},{key:"getToolsEl",value:function(){var q=this.config.frameWrapView;return q&&q.elTools}},{key:"getGlobalToolsEl",value:function(){return this.em.get("Canvas").getGlobalToolsEl()}},{key:"getHighlighter",value:function(){return this._getTool("[data-hl]")}},{key:"getBadgeEl",value:function(){return this._getTool("[data-badge]")}},{key:"getOffsetViewerEl",value:function(){return this._getTool("[data-offset]")}},{key:"getRect",value:function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect}},{key:"getOffsetRect",value:function(){var q=this.el,E=this.getBody(),R=E.scrollTop,ue=E.scrollLeft,be=q.offsetHeight,N=q.offsetWidth;return{top:q.offsetTop,left:q.offsetLeft,height:be,width:N,scrollTop:R,scrollLeft:ue,scrollBottom:R+be,scrollRight:ue+N}}},{key:"_getTool",value:function(q){var E=this.tools,R=this.getToolsEl();return E[q]||(E[q]=R.querySelector(q)),E[q]}},{key:"remove",value:function(){var q=this.wrapper;this._toggleEffects(),this.tools={},q&&q.remove(),f.View.prototype.remove.apply(this,arguments)}},{key:"startAutoscroll",value:function(){var q=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){q._toggleAutoscrollFx(1),requestAnimationFrame(q.autoscroll)},0)}},{key:"autoscroll",value:function(){if(this.dragging){var q=this.lastClientY,E=this.em.get("Canvas"),R=this.getWindow(),ue=R.pageYOffset,be=q||0,N=E.getConfig().autoscrollLimit,oe=this.getRect().height-N,de=ue;be<N&&(de-=N-be),be>oe&&(de+=be-oe),!(0,k.isUndefined)(q)&&de!==ue&&de>0&&de<this.lastMaxHeight&&(this.getGlobalToolsEl().style.opacity=0,this.showGlobalTools(),R.scrollTo(0,de)),requestAnimationFrame(this.autoscroll)}}},{key:"updateClientY",value:function(q){q.preventDefault(),this.lastClientY=(0,d.getPointerEvent)(q).clientY*this.em.getZoomDecimal()}},{key:"showGlobalTools",value:function(){this.getGlobalToolsEl().style.opacity=""}},{key:"stopAutoscroll",value:function(){this.dragging&&this._toggleAutoscrollFx()}},{key:"_toggleAutoscrollFx",value:function(q){this.dragging=q;var E=this.getWindow(),R=q?"on":"off",ue={on:d.on,off:d.off};ue[R](E,"mousemove dragover",this.updateClientY),ue[R](E,"mouseup",this.stopAutoscroll)}},{key:"render",value:function(){var q=this.$el,E=this.ppfx;return q.attr({class:"".concat(E,"frame")}),this.renderScripts(),this}},{key:"renderScripts",value:function(){var q=this,E=this.el,R=this.model,ue=this.em,be="frame:load",N={el:E,model:R,view:this},oe=this.getCanvasModel(),de=function Ce(we){if(we.length>0){var Ae=we.shift(),_e=(0,U.ut)("script",I({type:"text/javascript"},(0,k.isString)(Ae)?{src:Ae}:Ae));_e.onerror=_e.onload=Ce.bind(null,we),E.contentDocument.head.appendChild(_e)}else q.renderBody(),ue&&ue.trigger(be,N)};E.onload=function(){var Ce=q.config.frameContent;if(Ce){var we=q.getDoc();we.open(),we.write(Ce),we.close()}ue&&ue.trigger("".concat(be,":before"),N),de((0,O.Z)(oe.get("scripts")))}}},{key:"renderStyles",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=this.getHead(),R=this.getCanvasModel(),ue=function(we){return we.map(function(Ae){return{tag:"link",attributes:I({rel:"stylesheet"},(0,k.isString)(Ae)?{href:Ae}:Ae)}})},be=ue(q.prev||R.previous("styles")),N=ue(R.get("styles")),oe=[],de=[],Ce=function(we,Ae,_e){we.forEach(function(Ne){var Je=Ne.attributes.href;!Ae.some(function(tt){return tt.attributes.href===Je})&&_e.push(Ne)})};Ce(N,be,de),Ce(be,N,oe),oe.forEach(function(we){var Ae=E.querySelector('link[href="'.concat(we.attributes.href,'"]'));Ae&&Ae.parentNode.removeChild(Ae)}),(0,U.SJ)(E,de)}},{key:"renderBody",value:function(){var q=this,E=this.config,R=this.model,ue=this.ppfx,be=E.em,N=this.getDoc(),oe=this.getBody(),de=this.getWindow(),Ce=be.get("Config");de._isEditor=!0,this.renderStyles({prev:[]}),(0,U.R3)(oe,`<style>
      `.concat(Ce.baseCss||E.frameStyle||"",`

      [data-gjs-type="wrapper"] {
        min-height: 100vh;
        padding-top: 0.001em;
      }

      .`).concat(ue,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(ue,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(ue,`selected-parent {
        outline: 2px solid `).concat("#ffca6f",` !important
      }

      .`).concat(ue,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(ue,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(ue,`no-pointer {
        pointer-events: none;
      }

      .`).concat(ue,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(ue,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(ue,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(ue,`is__grabbing,
      .`).concat(ue,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(Ce.canvasCss||"",`
      `).concat(Ce.protectedCss||"",`
    </style>`));var we=R.getComponent(),Ae=be.get("DomComponents").getType("wrapper").view;this.wrapper=new Ae({model:we,config:I(I({},we.config),{},{frameView:this})}).render(),(0,U.R3)(oe,this.wrapper.el),(0,U.R3)(oe,new me.Z({collection:R.getStyles(),config:I(I({},be.get("CssComposer").getConfig()),{},{frameView:this})}).render().el),(0,U.R3)(oe,this.getJsContainer()),(0,d.on)(oe,"click",function(_e){return _e&&_e.target.tagName=="A"&&_e.preventDefault()}),(0,d.on)(oe,"submit",function(_e){return _e&&_e.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent"}].forEach(function(_e){return _e.event.split(" ").forEach(function(Ne){N.addEventListener(Ne,function(Je){return q.el.dispatchEvent((0,U.t3)(Je,_e.class))})})}),this._toggleEffects(1),this.droppable=(0,d.hasDnd)(be)&&new D(be,this.wrapper.el),R.trigger("loaded")}},{key:"_toggleEffects",value:function(q){var E=q?d.on:d.off,R=this.getWindow();R&&E(R,"".concat(U.G1," resize"),this._emitUpdate)}},{key:"_emitUpdate",value:function(){this.model._emitUpdated()}}]),ee}(f.View),z=s(5610);function Y(P,c){var ee=Object.keys(P);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(P);c&&(q=q.filter(function(E){return Object.getOwnPropertyDescriptor(P,E).enumerable})),ee.push.apply(ee,q)}return ee}function u(P){for(var c=1;c<arguments.length;c++){var ee=arguments[c]!=null?arguments[c]:{};c%2?Y(Object(ee),!0).forEach(function(q){(0,p.Z)(P,q,ee[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(ee)):Y(Object(ee)).forEach(function(q){Object.defineProperty(P,q,Object.getOwnPropertyDescriptor(ee,q))})}return P}function y(P){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ee,q=(0,J.Z)(P);if(c){var E=(0,J.Z)(this).constructor;ee=Reflect.construct(q,arguments,E)}else ee=q.apply(this,arguments);return(0,te.Z)(this,ee)}}var g=function(P){(0,X.Z)(ee,P);var c=y(ee);function ee(){return(0,H.Z)(this,ee),c.apply(this,arguments)}return(0,A.Z)(ee,[{key:"events",value:function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}}},{key:"initialize",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,k.bindAll)(this,"onScroll","frameLoaded","updateOffset","remove","startDrag");var R=this.model,ue=u(u({},q.config||E),{},{frameWrapView:this}),be=ue.canvasView,N=ue.em;this.cv=be,this.config=ue,this.em=N,this.canvas=N&&N.get("Canvas"),this.ppfx=ue.pStylePrefix||"",this.frame=new ne({model:R,config:ue}),this.classAnim="".concat(this.ppfx,"frame-wrapper--anim"),this.updateOffset=(0,k.debounce)(this.updateOffset.bind(this)),this.updateSize=(0,k.debounce)(this.updateSize.bind(this)),this.listenTo(R,"loaded",this.frameLoaded),this.listenTo(R,"change:x change:y",this.updatePos),this.listenTo(R,"change:width change:height",this.updateSize),this.listenTo(R,"destroy remove",this.remove),this.updatePos(),this.setupDragger()}},{key:"setupDragger",value:function(){var q,E,R,ue=this,be=this.canvas,N=this.model,oe=function(de){be.toggleFramesEvents(de)};this.dragger=new z.Z({onStart:function(){var de=N.attributes,Ce=de.x,we=de.y;R=ue.em.getZoomMultiplier(),q=Ce,E=we,oe()},onEnd:function(){return oe(1)},setPosition:function(de){N.set({x:q+de.x*R,y:E+de.y*R})}})}},{key:"startDrag",value:function(q){q&&this.dragger.start(q)}},{key:"__clear",value:function(q){var E=this.frame;E&&E.remove(q),(0,U.L_)(this.elTools)}},{key:"remove",value:function(q){var E=this;return this.__clear(q),f.View.prototype.remove.apply(this,arguments),["frame","dragger","cv","em","canvas","elTools"].forEach(function(R){return E[R]=0}),this}},{key:"updateOffset",value:function(){var q=this.em,E=this.$el,R=this.frame;q&&(q.runDefault({preserveSelected:1}),E.removeClass(this.classAnim),R.model._emitUpdated())}},{key:"updatePos",value:function(q){var E=this.model,R=this.el,ue=E.attributes,be=ue.x,N=ue.y,oe=R.style;this.frame.rect=0,oe.left=isNaN(be)?be:"".concat(be,"px"),oe.top=isNaN(N)?N:"".concat(N,"px"),q&&this.updateOffset()}},{key:"updateSize",value:function(){this.updateDim()}},{key:"updateDim",value:function(){var q=this.em,E=this.el,R=this.$el,ue=this.model,be=this.classAnim,N=this.frame;if(N){N.rect=0,R.addClass(be);var oe=this.__handleSize(),de=oe.noChanges,Ce=oe.width,we=oe.height;((0,k.isNull)(Ce)||(0,k.isNull)(we))&&ue.set(u(u({},Ce?{}:{width:E.offsetWidth}),we?{}:{height:E.offsetHeight}),{silent:1}),q.stopDefault({preserveSelected:1}),de?this.updateOffset():setTimeout(this.updateOffset,350)}}},{key:"onScroll",value:function(){var q=this.frame;this.em.trigger("frame:scroll",{frame:q,body:q.getBody(),target:q.getWindow()})}},{key:"frameLoaded",value:function(){this.frame.getWindow().onscroll=this.onScroll,this.updateDim()}},{key:"__handleSize",value:function(){var q=this.model,E=this.el.style,R=q.attributes,ue=R.width,be=R.height,N=E.width||"",oe=E.height||"",de=ue||"",Ce=be||"",we=N==de&&oe==Ce;return E.width=(0,k.isNumber)(de)?"".concat(de).concat("px"):de,E.height=(0,k.isNumber)(Ce)?"".concat(Ce).concat("px"):Ce,{noChanges:we,width:ue,height:be,newW:de,newH:Ce}}},{key:"render",value:function(){var q=this.frame,E=this.$el,R=this.ppfx,ue=this.cv,be=this.model,N=this.el,oe=be.attributes.onRender;this.__clear(),this.__handleSize(),q.render(),E.empty().attr({class:"".concat(R,"frame-wrapper")}).append(`
      <div class="`.concat(R,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(R,`frame-wrapper__name" data-action-move>
          `).concat(be.get("name")||"",`
        </div>
        <div class="`).concat(R,`frame-wrapper__top-r">
          <div class="`).concat(R,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(R,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(R,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(R,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(q.el);var de=(0,U.ut)("div",{class:"".concat(R,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(R,`highlighter" data-hl></div>
      <div class="`).concat(R,`badge" data-badge></div>
      <div class="`).concat(R,`placeholder">
        <div class="`).concat(R,`placeholder-int"></div>
      </div>
      <div class="`).concat(R,`ghost"></div>
      <div class="`).concat(R,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(R,`resizer"></div>
      <div class="`).concat(R,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(R,`offset-fixed-v"></div>
    `));this.elTools=de;var Ce=ue.toolsWrapper;return Ce&&Ce.appendChild(de),oe&&oe({el:N,elTop:N.querySelector("[data-frame-top]"),elRight:N.querySelector("[data-frame-right]"),elBottom:N.querySelector("[data-frame-bottom]"),elLeft:N.querySelector("[data-frame-left]"),frame:be,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this}}]),ee}(f.View);function m(P){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ee,q=(0,J.Z)(P);if(c){var E=(0,J.Z)(this).constructor;ee=Reflect.construct(q,arguments,E)}else ee=q.apply(this,arguments);return(0,te.Z)(this,ee)}}var $,ae=function(P){(0,X.Z)(ee,P);var c=m(ee);function ee(){var q,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=arguments.length>1?arguments[1]:void 0;return(0,H.Z)(this,ee),(q=c.call(this,E,R,!0)).listenTo(q.collection,"reset",q.render),q}return(0,A.Z)(ee,[{key:"onRemoveBefore",value:function(q,E){q.forEach(function(R){return R.remove(E)})}},{key:"onRender",value:function(){var q=this.config,E=this.$el,R=q.em;R&&E.attr({class:"".concat(R.getConfig().stylePrefix,"frames")})}}]),ee}(se.Z);function K(P,c){var ee=Object.keys(P);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(P);c&&(q=q.filter(function(E){return Object.getOwnPropertyDescriptor(P,E).enumerable})),ee.push.apply(ee,q)}return ee}function F(P){for(var c=1;c<arguments.length;c++){var ee=arguments[c]!=null?arguments[c]:{};c%2?K(Object(ee),!0).forEach(function(q){(0,p.Z)(P,q,ee[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(ee)):K(Object(ee)).forEach(function(q){Object.defineProperty(P,q,Object.getOwnPropertyDescriptor(ee,q))})}return P}function b(P){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ee,q=(0,J.Z)(P);if(c){var E=(0,J.Z)(this).constructor;ee=Reflect.construct(q,arguments,E)}else ee=q.apply(this,arguments);return(0,te.Z)(this,ee)}}ae.prototype.itemView=g;var h=function(P){(0,X.Z)(ee,P);var c=b(ee);function ee(){return(0,H.Z)(this,ee),c.apply(this,arguments)}return(0,A.Z)(ee,[{key:"events",value:function(){return{wheel:"onWheel"}}},{key:"template",value:function(){var q=this.pfx;return`
      <div class="`.concat(q,`canvas__frames" data-frames></div>
      <div id="`).concat(q,'tools" class="').concat(q,`canvas__tools" data-tools></div>
    `)}},{key:"initialize",value:function(q){(0,k.bindAll)(this,"clearOff","onKeyPress","onCanvasMove");var E=this.model;this.config=q.config||{},this.em=this.config.em||{},this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.className=this.config.stylePrefix+"canvas";var R=this.em;this._initFrames(),this.listenTo(R,"change:canvasOffset",this.clearOff),this.listenTo(R,"component:selected",this.checkSelected),this.listenTo(E,"change:zoom change:x change:y",this.updateFrames),this.listenTo(E,"change:frames",this._onFramesUpdate),this.toggleListeners(1)}},{key:"_onFramesUpdate",value:function(){this._initFrames(),this._renderFrames()}},{key:"_initFrames",value:function(){var q=this.frames,E=this.model,R=this.config,ue=this.em,be=E.get("frames");ue.set("readyCanvas",0),be.once("loaded:all",function(){return ue.set("readyCanvas",1)}),q&&q.remove(),this.frames=new ae({collection:be,config:F(F({},R),{},{canvasView:this})})}},{key:"checkSelected",value:function(q){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=E.scroll,ue=this.em.get("currentFrame");R&&q.views.forEach(function(be){be._getFrame()===ue&&be.scrollIntoView(R)})}},{key:"remove",value:function(){this.frames.remove(),this.frames={},f.View.prototype.remove.apply(this,arguments),this.toggleListeners()}},{key:"preventDefault",value:function(q){q&&(q.preventDefault(),q._parentEvent&&q._parentEvent.preventDefault())}},{key:"onCanvasMove",value:function(q){}},{key:"toggleListeners",value:function(q){this.el;var E=q?d.on:d.off;E(document,"keypress",this.onKeyPress),E(window,"scroll resize",this.clearOff)}},{key:"onKeyPress",value:function(q){var E=this.em;(0,d.getKeyChar)(q)!==" "||E.getZoomDecimal()===1||E.get("Canvas").isInputFocused()||(this.preventDefault(q),E.get("Editor").runCommand("core:canvas-move"))}},{key:"onWheel",value:function(q){if((q.ctrlKey||q.metaKey)&&this.em.getConfig().multiFrames){this.preventDefault(q);var E=this.model,R=Math.max(-1,Math.min(1,q.wheelDelta||-q.detail)),ue=E.get("zoom");E.set("zoom",ue+2*R)}}},{key:"updateFrames",value:function(q){var E=this.em,R=this.model.attributes,ue=R.x,be=R.y,N=this.getZoom(),oe={preserveSelected:1},de=N?1/N:1;this.framesArea.style.transform="scale(".concat(N,") translate(").concat(ue*de,"px, ").concat(be*de,"px)"),this.clearOff(),E.stopDefault(oe),E.trigger("canvas:update",q),$&&clearTimeout($),$=setTimeout(function(){return E.runDefault(oe)},300)}},{key:"getZoom",value:function(){return this.em.getZoomDecimal()}},{key:"isElInViewport",value:function(q){var E=(0,d.getElement)(q),R=(0,d.getElRect)(E),ue=this.getFrameOffset(E),be=R.top,N=R.left;return be>=0&&N>=0&&be<=ue.height&&N<=ue.width}},{key:"offset",value:function(q){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=(0,d.getElRect)(q),ue=q.ownerDocument.body,be=E.noScroll;return{top:R.top+(be?0:ue.scrollTop),left:R.left+(be?0:ue.scrollLeft),width:R.width,height:R.height}}},{key:"clearOff",value:function(){this.frmOff=null,this.cvsOff=null}},{key:"getFrameOffset",value:function(q){if(!this.frmOff||q){var E=this.frame.el,R=q&&q.ownerDocument.defaultView,ue=R?R.frameElement:E;this.frmOff=this.offset(ue||E)}return this.frmOff}},{key:"getCanvasOffset",value:function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff}},{key:"getElementPos",value:function(q,E){var R=this.getZoom(),ue=E||{},be=this.getFrameOffset(q),N=this.el,oe=this.getCanvasOffset(),de=this.offset(q,E),Ce=ue.avoidFrameOffset?0:be.top,we=ue.avoidFrameOffset?0:be.left;return{top:de.top*R+Ce-oe.top+N.scrollTop,left:de.left*R+we-oe.left+N.scrollLeft,height:de.height*R,width:de.width*R,zoom:R,rect:de}}},{key:"getElementOffsets",value:function(q){var E=this;if(!q||(0,d.isTextNode)(q))return{};var R={},ue=window.getComputedStyle(q);return["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft"].forEach(function(be){R[be]=parseFloat(ue[be])*E.getZoom()}),R}},{key:"getPosition",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=this.frame.el.contentDocument;if(E){var R=E.body,ue=this.getZoom(),be=this.getFrameOffset(),N=this.getCanvasOffset(),oe=q.noScroll;return{top:be.top+(oe?0:R.scrollTop)*ue-N.top,left:be.left+(oe?0:R.scrollLeft)*ue-N.left,width:N.width,height:N.height}}}},{key:"updateScript",value:function(q){var E=q.model,R=E.getId();q.scriptContainer||(q.scriptContainer=(0,U.ut)("div",{"data-id":R}),this.getJsContainer().appendChild(q.scriptContainer)),q.el.id=R,q.scriptContainer.innerHTML="";var ue=document.createElement("script"),be=E.getScriptString(),N=E.get("script-props")?be:`function(){
`.concat(be,`
;}`),oe=JSON.stringify(E.__getScriptProps());ue.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(R,`');
        if (!item) return;
        (`).concat(N,".bind(item))(").concat(oe,`)
      }, 1);`),setTimeout(function(){var de=q.scriptContainer;de==null||de.appendChild(ue)},0)}},{key:"getJsContainer",value:function(q){var E=this.getFrameView(q);return E&&E.getJsContainer()}},{key:"getFrameView",value:function(q){return q&&q._getFrame()||this.em.get("currentFrame")}},{key:"_renderFrames",value:function(){if(this.ready){var q=this.model,E=this.frames,R=this.em,ue=this.framesArea,be=q.get("frames");be.listenToLoad(),E.render();var N=be.at(0),oe=N&&N.view;R.setCurrentFrame(oe),ue&&ue.appendChild(E.el),this.frame=oe}}},{key:"render",value:function(){var q=this.el,E=this.$el,R=this.ppfx,ue=this.config,be=this.em;E.html(this.template());var N=E.find("[data-frames]");this.framesArea=N.get(0);var oe=E.find("[data-tools]");this.toolsWrapper=oe.get(0),oe.append(`
      <div class="`.concat(R,"tools ").concat(R,`tools-gl" style="pointer-events:none">
        <div class="`).concat(R,`placeholder">
          <div class="`).concat(R,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(R,`tools" style="pointer-events:none">
        `).concat(ue.extHl?'<div class="'.concat(R,'highlighter-sel"></div>'):"",`
        <div class="`).concat(R,`badge"></div>
        <div class="`).concat(R,`ghost"></div>
        <div class="`).concat(R,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(R,`resizer"></div>
        <div class="`).concat(R,`offset-v"></div>
        <div class="`).concat(R,`offset-fixed-v"></div>
      </div>
    `));var de=q.querySelector("#".concat(R,"tools"));return this.hlEl=q.querySelector(".".concat(R,"highlighter")),this.badgeEl=q.querySelector(".".concat(R,"badge")),this.placerEl=q.querySelector(".".concat(R,"placeholder")),this.ghostEl=q.querySelector(".".concat(R,"ghost")),this.toolbarEl=q.querySelector(".".concat(R,"toolbar")),this.resizerEl=q.querySelector(".".concat(R,"resizer")),this.offsetEl=q.querySelector(".".concat(R,"offset-v")),this.fixedOffsetEl=q.querySelector(".".concat(R,"offset-fixed-v")),this.toolsGlobEl=q.querySelector(".".concat(R,"tools-gl")),this.toolsEl=de,this.el.className=(0,d.getUiClass)(be,this.className),this.ready=1,this._renderFrames(),this}}]),ee}(f.View);function V(P,c){var ee=Object.keys(P);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(P);c&&(q=q.filter(function(E){return Object.getOwnPropertyDescriptor(P,E).enumerable})),ee.push.apply(ee,q)}return ee}function M(P){for(var c=1;c<arguments.length;c++){var ee=arguments[c]!=null?arguments[c]:{};c%2?V(Object(ee),!0).forEach(function(q){(0,p.Z)(P,q,ee[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(ee)):V(Object(ee)).forEach(function(q){Object.defineProperty(P,q,Object.getOwnPropertyDescriptor(ee,q))})}return P}var T=function(){function P(){(0,H.Z)(this,P),(0,p.Z)(this,"name","Canvas"),(0,p.Z)(this,"c",{}),(0,p.Z)(this,"canvas",void 0),(0,p.Z)(this,"canvasView",void 0)}return(0,A.Z)(P,[{key:"getCanvasView",value:function(){return this.canvasView}},{key:"init",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.c=M(M(M({},S),c),{},{module:this}),this.em=this.c.em;var ee=this.c,q=ee.scripts,E=ee.styles,R=this.c.pStylePrefix;return R&&(this.c.stylePrefix=R+this.c.stylePrefix),this.canvas=new B({scripts:q,styles:E},c),this.model=this.canvas,this.startAutoscroll=this.startAutoscroll.bind(this),this.stopAutoscroll=this.stopAutoscroll.bind(this),this}},{key:"onLoad",value:function(){this.model.init()}},{key:"getModel",value:function(){return this.canvas}},{key:"getConfig",value:function(){return this.c}},{key:"getElement",value:function(){return this.canvasView.el}},{key:"getFrame",value:function(c){return this.getFrames()[c||0]}},{key:"getFrameEl",value:function(){var c=(this.canvasView||{}).frame;return c&&c.el}},{key:"getFramesEl",value:function(){return this.canvasView.framesArea}},{key:"getWindow",value:function(){return this.getFrameEl().contentWindow}},{key:"getDocument",value:function(){var c=this.getFrameEl();return c&&c.contentDocument}},{key:"getBody",value:function(){var c=this.getDocument();return c&&c.body}},{key:"_getCompFrame",value:function(c){return c&&c._getFrame()}},{key:"_getLocalEl",value:function(c,ee,q){var E=c,R=this._getCompFrame(ee);return E=R?R[q]():E}},{key:"getGlobalToolsEl",value:function(){return this.canvasView.toolsGlobEl}},{key:"getToolsEl",value:function(c){return this._getLocalEl(this.canvasView.toolsEl,c,"getToolsEl")}},{key:"getHighlighter",value:function(c){return this._getLocalEl(this.canvasView.hlEl,c,"getHighlighter")}},{key:"getBadgeEl",value:function(c){return this._getLocalEl(this.canvasView.badgeEl,c,"getBadgeEl")}},{key:"getPlacerEl",value:function(){return this.canvasView.placerEl}},{key:"getGhostEl",value:function(){return this.canvasView.ghostEl}},{key:"getToolbarEl",value:function(){return this.canvasView.toolbarEl}},{key:"getResizerEl",value:function(){return this.canvasView.resizerEl}},{key:"getOffsetViewerEl",value:function(c){return this._getLocalEl(this.canvasView.offsetEl,c,"getOffsetViewerEl")}},{key:"getFixedOffsetViewerEl",value:function(){return this.canvasView.fixedOffsetEl}},{key:"render",value:function(){var c;return(c=this.canvasView)===null||c===void 0||c.remove(),this.canvasView=new h({model:this.canvas,config:this.c}),this.canvasView.render().el}},{key:"getOffset",value:function(){var c=this.offset(this.getFrameEl()),ee=this.offset(this.getElement());return{top:c.top-ee.top,left:c.left-ee.left}}},{key:"offset",value:function(c){return this.canvasView.offset(c)}},{key:"setCustomBadgeLabel",value:function(c){this.c.customBadgeLabel=c}},{key:"getElementPos",value:function(c,ee){return this.canvasView.getElementPos(c,ee)}},{key:"getElementOffsets",value:function(c){return this.canvasView.getElementOffsets(c)}},{key:"getRect",value:function(){var c=this.canvasView.getPosition(),ee=c.top,q=c.left;return M(M({},this.canvasView.getCanvasOffset()),{},{topScroll:ee,leftScroll:q})}},{key:"getTargetToElementDim",value:function(c,ee){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},E=q||{},R=this.canvasView.getPosition();if(R){var ue=E.elPos||this.canvasView.getElementPos(ee),be=q.toRight||0,N=E.targetHeight||c.offsetHeight,oe=E.targetWidth||c.offsetWidth,de=E.event||null,Ce=ue.top-N,we=ue.left;we+=be?ue.width:0;var Ae=(we=be?we-oe:we)<R.left?R.left:we,_e=Ce<R.top?R.top:Ce,Ne={top:_e=_e>ue.top+ue.height?ue.top+ue.height:_e,left:Ae,elementTop:ue.top,elementLeft:ue.left,elementWidth:ue.width,elementHeight:ue.height,targetWidth:c.offsetWidth,targetHeight:c.offsetHeight,canvasTop:R.top,canvasLeft:R.left,canvasWidth:R.width,canvasHeight:R.height};return de&&this.c.em&&this.c.em.trigger(de,Ne),Ne}}},{key:"canvasRectOffset",value:function(c,ee){var q=this,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=function(be){var N=be.defaultView;return N&&N.frameElement},ue=function(be){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,oe=arguments.length>2?arguments[2]:void 0,de=q.em.getZoomDecimal(),Ce=N?"top":"left",we=be.ownerDocument,Ae=E.offset?R(we):{},_e=Ae.offsetTop,Ne=_e===void 0?0:_e,Je=Ae.offsetLeft,tt=Je===void 0?0:Je,gt=we.body||{},lt=gt.scrollTop,Zt=lt===void 0?0:lt,Lt=gt.scrollLeft,It=Lt===void 0?0:Lt,Ve=N?Zt:It,je=N?Ne:tt;return oe[Ce]-(Ve-je)*de};return{top:ue(c,1,ee),left:ue(c,0,ee)}}},{key:"getTargetToElementFixed",value:function(c,ee){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},E=q.pos||this.getElementPos(c),R=q.canvasOff||this.canvasRectOffset(c,E),ue=ee.offsetHeight||0,be=ee.offsetWidth||0,N=E.left+E.width,oe=this.getCanvasView(),de=oe.getPosition(),Ce=oe.getFrameOffset(c),we=q.event,Ae=-ue,_e=(0,k.isUndefined)(q.left)?E.width-be:q.left;_e=E.left<-_e?-E.left:_e,_e=N>de.width?_e-(N-de.width):_e;var Ne=E.height+ue,Je=Ne<Ce.height;R.top<ue&&(Je?Ae+=Ne:Ae=-R.top<E.height?-R.top:E.height);var tt={top:Ae,left:_e,canvasOffsetTop:R.top,canvasOffsetLeft:R.left};return we&&this.em.trigger(we,tt),tt}},{key:"getMouseRelativePos",value:function(c,ee){var q=0,E=0,R=(ee||{}).subWinOffset,ue=c.target.ownerDocument,be=ue.defaultView||ue.parentWindow,N=be.frameElement,oe=R?be.pageYOffset:0,de=R?be.pageXOffset:0;if(N){var Ce=N.getBoundingClientRect();q=Ce.top||0,E=Ce.left||0}return{y:c.clientY+q-oe,x:c.clientX+E-de}}},{key:"getMouseRelativeCanvas",value:function(c,ee){var q=this.getZoomDecimal(),E=this.canvasView.getPosition(ee),R=E.top,ue=E.left;return{y:c.clientY*q+R,x:c.clientX*q+ue}}},{key:"hasFocus",value:function(){return this.getDocument().hasFocus()}},{key:"isInputFocused",value:function(){var c=this.getDocument(),ee=this.getFrameEl(),q=["body"].concat((0,O.Z)(this.getConfig().notTextable)),E=ee&&document.activeElement===ee?c&&c.activeElement:document.activeElement;return E&&!q.some(function(R){return E.matches(R)})}},{key:"scrollTo",value:function(c){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=(0,d.getElement)(c),E=q&&(0,d.getViewEl)(q);E&&E.scrollIntoView(ee)}},{key:"startAutoscroll",value:function(c){var ee=c&&c.view||this.em.getCurrentFrame();ee&&ee.startAutoscroll()}},{key:"stopAutoscroll",value:function(c){var ee=c&&c.view||this.em.getCurrentFrame();ee&&ee.stopAutoscroll()}},{key:"setZoom",value:function(c){return this.canvas.set("zoom",parseFloat(c)),this}},{key:"getZoom",value:function(){return parseFloat(this.canvas.get("zoom"))}},{key:"setCoords",value:function(c,ee){return this.canvas.set({x:parseFloat(c),y:parseFloat(ee)}),this}},{key:"getCoords",value:function(){var c=this.canvas.attributes;return{x:c.x,y:c.y}}},{key:"getZoomDecimal",value:function(){return this.getZoom()/100}},{key:"getZoomMultiplier",value:function(){var c=this.getZoomDecimal();return c?1/c:1}},{key:"toggleFramesEvents",value:function(c){this.getFramesEl().style.pointerEvents=c?"":"none"}},{key:"getFrames",value:function(){return this.canvas.get("frames").map(function(c){return c})}},{key:"addFrame",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.canvas.frames.add(new Q.Z(M({},c),{em:this.em}),ee)}},{key:"destroy",value:function(){var c,ee=this;this.canvas.stopListening(),(c=this.canvasView)===null||c===void 0||c.remove(),[this.c,this.canvas,this.canvasView].forEach(function(q){return{}}),["em","model","droppable"].forEach(function(q){return ee[q]={}})}}]),P}()},7619:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>re});var O=s(9050);const H={stylePrefix:"cm-",inlineCss:!1};var A=s(5671),p=s(3144),k=s(9340),d=s(2963),S=s(1120),x=s(2316);function f(ne){var z=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,u=(0,S.Z)(ne);if(z){var y=(0,S.Z)(this).constructor;Y=Reflect.construct(u,arguments,y)}else Y=u.apply(this,arguments);return(0,d.Z)(this,Y)}}var l=function(ne){(0,k.Z)(Y,ne);var z=f(Y);function Y(){return(0,A.Z)(this,Y),z.apply(this,arguments)}return(0,p.Z)(Y,[{key:"build",value:function(u){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g={},m=y.em;if(y.cleanId&&m){var $=m.get("CssComposer").getAll(),ae=$.toJSON().map(function(K){var F=K.selectors,b=F&&F.length===1&&F.models[0];return b&&b.isId()&&b.get("name")}).filter(function(K){return K});g.attributes=function(K,F){var b=F.id;return b&&b[0]==="i"&&!K.get("script")&&!K.get("attributes").id&&ae.indexOf(b)<0&&delete F.id,F}}return u.toHTML(g)}}]),Y}(x.Model),v=s(8795);function w(ne){var z=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,u=(0,S.Z)(ne);if(z){var y=(0,S.Z)(this).constructor;Y=Reflect.construct(u,arguments,y)}else Y=u.apply(this,arguments);return(0,d.Z)(this,Y)}}var j=function(ne){(0,k.Z)(Y,ne);var z=w(Y);function Y(){return(0,A.Z)(this,Y),z.apply(this,arguments)}return(0,p.Z)(Y,[{key:"build",value:function(u){var y=u.toJSON();return this.beforeEach(y),(0,O.each)(y,function(g,m){var $=y[m];if($ instanceof x.Model)y[m]=this.build($);else if($ instanceof x.Collection){var ae=$;y[m]=[],ae.length&&ae.each(function(K,F){y[m][F]=this.build(K)},this)}},this),y}},{key:"beforeEach",value:function(u){delete u.status}}]),Y}(x.Model),B=s(4942);function Q(ne){var z=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,u=(0,S.Z)(ne);if(z){var y=(0,S.Z)(this).constructor;Y=Reflect.construct(u,arguments,y)}else Y=u.apply(this,arguments);return(0,d.Z)(this,Y)}}var X,te=function(ne){(0,k.Z)(Y,ne);var z=Q(Y);function Y(){return(0,A.Z)(this,Y),z.apply(this,arguments)}return(0,p.Z)(Y,[{key:"mapModel",value:function(u){var y="",g=u.get("script-export")||u.get("script"),m=u.get("type"),$=u.get("components"),ae=u.getId();if(g){var K=u.get("attributes");K=(0,O.extend)({},K,{id:ae}),u.set("attributes",K,{silent:1});var F=u.getScriptString(g),b=u.get("script-props");if(u.get("scriptUpdated")&&!b)this.mapJs[m+"-"+ae]={ids:[ae],code:F};else{var h,V=this.mapJs[m];if(b&&(h=u.__getScriptProps()),V)V.ids.push(ae),h&&(V.props[ae]=h);else{var M={ids:[ae],code:F};h&&(M.props=(0,B.Z)({},ae,h)),this.mapJs[m]=M}}}return $.each(function(T){y+=this.mapModel(T)},this),y}},{key:"build",value:function(u){this.mapJs={},this.mapModel(u);var y="";for(var g in this.mapJs){var m=this.mapJs[g];if(m.code)if(m.props){if(m.code.toString().match(/\{([\s\S]*)\}/m)[1].replace(/^\s*\/\/.*$/gm,"").trim().length===0)continue;y+=`
          var props = `.concat(JSON.stringify(m.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(m.code,`.bind(el))(props[el.id]);
          }`)}else{var $="#"+m.ids.join(", #");y+=`
          var items = document.querySelectorAll('`.concat($,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(m.code,`
}.bind(items[i]))();
          }`)}}return y}}]),Y}(x.Model);function J(ne,z){var Y=Object.keys(ne);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(ne);z&&(u=u.filter(function(y){return Object.getOwnPropertyDescriptor(ne,y).enumerable})),Y.push.apply(Y,u)}return Y}function U(ne){var z=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,u=(0,S.Z)(ne);if(z){var y=(0,S.Z)(this).constructor;Y=Reflect.construct(u,arguments,y)}else Y=u.apply(this,arguments);return(0,d.Z)(this,Y)}}(0,s(1163).hasWin)()&&(X=s(4631),s(6531),s(6629),s(9210));var se=function(ne){(0,k.Z)(Y,ne);var z=U(Y);function Y(){return(0,A.Z)(this,Y),z.apply(this,arguments)}return(0,p.Z)(Y,[{key:"defaults",value:function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0}}},{key:"init",value:function(u){return(0,O.bindAll)(this,"onChange"),this.editor=X.fromTextArea(u,function(y){for(var g=1;g<arguments.length;g++){var m=arguments[g]!=null?arguments[g]:{};g%2?J(Object(m),!0).forEach(function($){(0,B.Z)(y,$,m[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(m)):J(Object(m)).forEach(function($){Object.defineProperty(y,$,Object.getOwnPropertyDescriptor(m,$))})}return y}({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=u,this.editor.on("change",this.onChange),this}},{key:"onChange",value:function(){this.trigger("update",this)}},{key:"getEditor",value:function(){return this.editor}},{key:"getElement",value:function(){return this.element}},{key:"setElement",value:function(u){return this.element=u,this}},{key:"refresh",value:function(){return this.getEditor().refresh(),this}},{key:"focus",value:function(){return this.getEditor().focus(),this}},{key:"getContent",value:function(){var u=this.getEditor();return u&&u.getValue()}},{key:"setContent",value:function(u){var y=this,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=this.editor;m&&(m.setValue(u),m.autoFormatRange&&(X.commands.selectAll(m),m.autoFormatRange(m.getCursor(!0),m.getCursor(!1)),X.commands.goDocStart(m)),!g.noRefresh&&setTimeout(function(){return y.refresh()}))}}]),Y}(x.Model);se.prototype.CodeMirror=X;var me,ce=s(168),D=s(7539);function L(ne){var z=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,u=(0,S.Z)(ne);if(z){var y=(0,S.Z)(this).constructor;Y=Reflect.construct(u,arguments,y)}else Y=u.apply(this,arguments);return(0,d.Z)(this,Y)}}var I=function(ne){(0,k.Z)(Y,ne);var z=L(Y);function Y(){return(0,A.Z)(this,Y),z.apply(this,arguments)}return(0,p.Z)(Y,[{key:"template",value:function(u){var y=u.pfx,g=u.codeName,m=u.label;return(0,D.Z)(me||(me=(0,ce.Z)([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),y,y,g,y,m,y)}},{key:"initialize",value:function(u){this.config=u.config||{},this.pfx=this.config.stylePrefix}},{key:"render",value:function(){var u=this.model,y=this.pfx,g=this.$el,m=u.toJSON();return m.pfx=y,g.html(this.template(m)),g.attr("class","".concat(y,"editor-c")),g.find("#".concat(y,"code")).append(u.get("input")),this}}]),Y}(x.View);const re=function(){var ne={},z={},Y={},u={},y={},g="CodeMirror";return{getConfig:function(){return ne},config:ne,EditorView:I,name:"CodeManager",init:function(m){for(var $ in ne=m||{},H)$ in ne||(ne[$]=H[$]);var ae=ne.pStylePrefix;return ae&&(ne.stylePrefix=ae+ne.stylePrefix),Y.html=new l,Y.css=new v.Z,Y.json=new j,Y.js=new te,y.CodeMirror=new se,this.loadDefaultGenerators().loadDefaultViewers(),this},addGenerator:function(m,$){return z[m]=$,this},getGenerator:function(m){return z[m]||null},getGenerators:function(){return z},addViewer:function(m,$){return u[m]=$,this},getViewer:function(m){return u[m]||null},getViewers:function(){return u},createViewer:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=(0,O.isUndefined)(m.type)?g:m.type,ae=this.getViewer($)&&this.getViewer($).clone(),K=document.createElement("div"),F=document.createElement("textarea");return K.appendChild(F),ae.set(m),ae.init(F),ae.setElement(K),ae},updateViewer:function(m,$){m.setContent($)},getCode:function(m,$){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ae.em=ne.em;var K=this.getGenerator($);return K?K.build(m,ae):""},loadDefaultGenerators:function(){for(var m in Y)this.addGenerator(m,Y[m]);return this},loadDefaultViewers:function(){for(var m in y)this.addViewer(m,y[m]);return this},destroy:function(){}}}},8795:(ge,ie,s)=>{s.d(ie,{U:()=>v,Z:()=>w});var O=s(5671),H=s(3144),A=s(9340),p=s(2963),k=s(1120),d=s(9050),S=s(2316),x=s(1163);function f(j){var B=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Q,X=(0,k.Z)(j);if(B){var te=(0,k.Z)(this).constructor;Q=Reflect.construct(X,arguments,te)}else Q=X.apply(this,arguments);return(0,p.Z)(this,Q)}}var l=Number.MAX_VALUE,v=function(j){var B=/(-?\d*\.?\d+)\w{0,}/.exec(j);return B?B[0]:""},w=function(j){(0,A.Z)(Q,j);var B=f(Q);function Q(){return(0,O.Z)(this,Q),B.apply(this,arguments)}return(0,H.Z)(Q,[{key:"initialize",value:function(){(0,d.bindAll)(this,"sortRules"),this.compCls=[],this.ids=[]}},{key:"buildFromModel",value:function(X){var te=this,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U="",se=this.em,me=se&&se.getConfig().avoidInlineStyle,ce=X.styleToString(),D=X.get("classes");this.ids.push("#".concat(X.getId())),D.each(function(I){return te.compCls.push(I.getFullName())}),!me&&ce&&(U="#".concat(X.getId(),"{").concat(ce,"}"));var L=X.components();return L.each(function(I){return U+=te.buildFromModel(I,J)}),U}},{key:"build",value:function(X){var te=this,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=J.json,se=J.em||"",me=J.cssc||se&&se.get("CssComposer");this.em=se,this.compCls=[],this.ids=[],this.model=X;var ce=[],D=X?this.buildFromModel(X,J):"",L=(0,d.isUndefined)(J.clearStyles)&&se?se.getConfig().clearStyles:J.clearStyles;if(me){var I=J.rules||me.getAll(),re={},ne=[];J.onlyMatched&&X&&(0,x.hasWin)()&&(I=this.matchedRules(X,I)),I.forEach(function(z){var Y=z.getAtRule();if(Y){var u=re[Y];u?u.push(z):re[Y]=[z]}else{var y=te.buildFromRule(z,ne,J);U?ce.push(y):D+=y}}),this.sortMediaObject(re).forEach(function(z){var Y="",u=z.key;z.value.forEach(function(y){var g=te.buildFromRule(y,ne,J);y.get("singleAtRule")?D+="".concat(u,"{").concat(g,"}"):Y+=g,U&&ce.push(g)}),Y&&(D+="".concat(u,"{").concat(Y,"}"))}),se&&L&&I.remove&&I.remove(ne)}return U?ce.filter(function(z){return z}):D}},{key:"buildFromRule",value:function(X,te){var J,U=this,se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},me="",ce=this.model,D=X.selectorsToString({skipAdd:1}),L=X.get("selectorsAdd"),I=X.get("singleAtRule");if(X.get("selectors").each(function(ne){var z=ne.getFullName();(U.compCls.indexOf(z)>=0||U.ids.indexOf(z)>=0||se.keepUnusedStyles)&&(J=1)}),D&&J||L||I||!ce){var re=X.getDeclaration({body:1});re&&(se.json?me=X:me+=re)}else te.push(X);return me}},{key:"matchedRules",value:function(X,te){var J=this,U=X.getEl(),se=[];return te.forEach(function(me){try{me.selectorsToString().split(",").some(function(ce){return U.matches(J.__cleanSelector(ce))})&&se.push(me)}catch{}}),X.components().forEach(function(me){se=se.concat(J.matchedRules(me,te))}),se=se.filter(function(me,ce){return se.indexOf(me)===ce})}},{key:"getQueryLength",value:function(X){var te=/(-?\d*\.?\d+)\w{0,}/.exec(X);return te?parseFloat(te[1]):l}},{key:"sortMediaObject",value:function(){var X=this,te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=[];return(0,d.each)(te,function(U,se){return J.push({key:se,value:U})}),J.sort(function(U,se){var me=[U.key,se.key].every(function(L){return L.indexOf("min-width")!==-1}),ce=me?U.key:se.key,D=me?se.key:U.key;return X.getQueryLength(ce)-X.getQueryLength(D)})}},{key:"sortRules",value:function(X,te){var J=function(ce){return ce.get("mediaText")},U=[J(X),J(te)].every(function(ce){return ce.indexOf("min-width")!==-1}),se=J(U?X:te),me=J(U?te:X);return this.getQueryLength(se)-this.getQueryLength(me)}},{key:"__cleanSelector",value:function(X){return X.split(" ").map(function(te){return te.split(":")[0]}).join(" ")}}]),Q}(S.Model)},289:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>l});var O=s(2982),H=s(4942),A=s(9050),p=s(238);const k={stylePrefix:"com-",defaults:[],strict:1};var d=s(7375);function S(v,w){var j=Object.keys(v);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(v);w&&(B=B.filter(function(Q){return Object.getOwnPropertyDescriptor(v,Q).enumerable})),j.push.apply(j,B)}return j}function x(v){for(var w=1;w<arguments.length;w++){var j=arguments[w]!=null?arguments[w]:{};w%2?S(Object(j),!0).forEach(function(B){(0,H.Z)(v,B,j[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(j)):S(Object(j)).forEach(function(B){Object.defineProperty(v,B,Object.getOwnPropertyDescriptor(j,B))})}return v}var f=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]];const l=function(){var v,w={},j={},B={},Q={};return{CommandAbstract:p.default,name:"Commands",init:function(){var X=this,te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};w=x(x({},k),te),v=w.em;var J=w.pStylePrefix;return J&&(w.stylePrefix=J+w.stylePrefix),Object.keys(w.defaults).forEach(function(U){var se=w.defaults[U];se.id&&X.add(se.id,se)}),B["tlb-delete"]={run:function(U){return U.runCommand("core:component-delete")}},B["tlb-clone"]={run:function(U){U.runCommand("core:copy"),U.runCommand("core:paste",{action:"clone-component"})}},B["tlb-move"]={run:function(U,se){var me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ce=U.getModel(),D=me&&me.event,L=me.target,I=L||U.getSelected(),re=L?[L]:(0,O.Z)(U.getSelectedAll()),ne=D&&D.type=="dragstart",z={preserveSelected:1},Y=["absolute","translate"];if(!I||!I.get("draggable"))return ce.logWarning("The element is not draggable");var u=I.get("dmode")||ce.get("dmode"),y=function(){return ce.stopDefault(z)},g=(0,A.includes)(Y,u);re.forEach(function(F){return F.trigger("disable")}),ne?setTimeout(y,0):y();var m=function(F){ce.trigger("".concat(d.OA,":start"),F)},$=function(F){ce.trigger(d.OA,F)},ae=function(F,b,h){re.forEach(function(V){return V.set("status","selected")}),U.select(re),I.emitUpdate(),ce.trigger("".concat(d.OA,":end"),h),setTimeout(function(){return ce.runDefault(z)}),(g||h.cancelled)&&ce.set("_cmpDrag",1)};if(g)U.runCommand("core:component-drag",{guidesInfo:1,mode:u,target:I,onStart:m,onDrag:$,onEnd:ae,event:D});else{ne&&D.dataTransfer.setDragImage(I.view.el,0,0);var K=U.Commands.get("move-comp");K.onStart=m,K.onDrag=$,K.onEndMoveFromModel=ae,K.initSorterFromModels(re)}re.forEach(function(F){return F.set("status","freezed-selected")})}},B["core:undo"]=function(U){return U.UndoManager.undo()},B["core:redo"]=function(U){return U.UndoManager.redo()},f.forEach(function(U){var se=U[2],me=s(2828)("./".concat(U[1])).default,ce="core:".concat(U[0]);B[ce]=me,se&&(B[se]=me,["run","stop"].forEach(function(D){v.on("".concat(D,":").concat(se),function(){for(var L,I=arguments.length,re=new Array(I),ne=0;ne<I;ne++)re[ne]=arguments[ne];return(L=v).trigger.apply(L,["".concat(D,":").concat(ce)].concat(re))})}))}),w.em&&(w.model=w.em.get("Canvas")),this.loadDefaultCommands(),this},add:function(X,te){return(0,A.isFunction)(te)&&(te={run:te}),te.stop||(te.noStop=1),delete te.initialize,te.id=X,j[X]=p.default.extend(te),this},get:function(X){var te=j[X];return(0,A.isFunction)(te)?(te=new te(w),j[X]=te):te||v.logWarning("'".concat(X,"' command not found")),te},extend:function(X){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=this.get(X);if(J){var U=x(x({},J.constructor.prototype),te);this.add(X,U);var se=f.filter(function(me){return"core:".concat(me[0])===X&&me[2]})[0];se&&this.add(se[2],U)}return this},has:function(X){return!!j[X]},getAll:function(){return j},run:function(X){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.runCommand(this.get(X),te)},stop:function(X){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.stopCommand(this.get(X),te)},isActive:function(X){return this.getActive().hasOwnProperty(X)},getActive:function(){return Q},loadDefaultCommands:function(){for(var X in B)this.add(X,B[X]);return this},runCommand:function(X){var te,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(X&&X.run){var U=X.id,se=v.get("Editor");this.isActive(U)&&!J.force&&w.strict||(te=se&&X.callRun(se,J),U&&X.stop&&!X.noStop&&!J.abort&&(Q[U]=te))}return te},stopCommand:function(X){var te,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(X&&X.run){var U=X.id,se=v.get("Editor");(this.isActive(U)||J.force||!w.strict)&&(U&&delete Q[U],te=X.callStop(se,J))}return te},create:function(X){return X.stop||(X.noStop=1),new(p.default.extend(X))(w)},destroy:function(){}}}},7202:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>O});const O={run:function(H){H.DomComponents.clear(),H.CssComposer.clear()}}},327:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>p});var O=s(9050),H=s(1163),A=s(5610);const p={run:function(k){(0,O.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=k,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(k){this.toggleMove(),this.disableDragger()},onKeyUp:function(k){(0,H.getKeyChar)(k)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(k){this.toggleDragger(1,k)},disableDragger:function(k){this.toggleDragger(0,k)},toggleDragger:function(k,d){var S=this.canvasModel,x=this.em,f=this.dragger,l=k?"add":"remove";this.getCanvas().classList[l]("".concat(this.ppfx,"is__grabbing")),f||(f=new A.Z({getPosition:function(){return{x:S.get("x"),y:S.get("y")}},setPosition:function(v){var w=v.x,j=v.y;S.set({x:w,y:j})},onStart:function(v,w){x.trigger("canvas:move:start",w)},onDrag:function(v,w){x.trigger("canvas:move",w)},onEnd:function(v,w){x.trigger("canvas:move:end",w)}}),this.dragger=f),k?f.start(d):f.stop()},toggleMove:function(k){var d=this.ppfx,S=k?"add":"remove",x=k?"on":"off",f={on:H.on,off:H.off},l=this.getCanvas(),v=["".concat(d,"is__grab")];!k&&v.push("".concat(d,"is__grabbing")),v.forEach(function(w){return l.classList[S](w)}),f[x](document,"keyup",this.onKeyUp),f[x](l,"mousedown",this.enableDragger),f[x](document,"mouseup",this.disableDragger)}}},238:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>x});var O=s(5671),H=s(3144),A=s(9340),p=s(2963),k=s(1120),d=s(2316);function S(f){var l=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var v,w=(0,k.Z)(f);if(l){var j=(0,k.Z)(this).constructor;v=Reflect.construct(w,arguments,j)}else v=w.apply(this,arguments);return(0,p.Z)(this,v)}}var x=function(f){(0,A.Z)(v,f);var l=S(v);function v(){return(0,O.Z)(this,v),l.apply(this,arguments)}return(0,H.Z)(v,[{key:"initialize",value:function(w){this.config=w||{},this.editorModel=this.em=this.config.em||{},this.pfx=this.config.stylePrefix,this.ppfx=this.config.pStylePrefix,this.hoverClass=this.pfx+"hover",this.badgeClass=this.pfx+"badge",this.plhClass=this.pfx+"placeholder",this.freezClass=this.ppfx+"freezed",this.canvas=this.em.get&&this.em.get("Canvas"),this.init(this.config)}},{key:"onFrameScroll",value:function(w){}},{key:"getCanvas",value:function(){return this.canvas.getElement()}},{key:"getCanvasBody",value:function(){return this.canvas.getBody()}},{key:"getCanvasTools",value:function(){return this.canvas.getToolsEl()}},{key:"offset",value:function(w){var j=w.getBoundingClientRect();return{top:j.top+w.ownerDocument.body.scrollTop,left:j.left+w.ownerDocument.body.scrollLeft}}},{key:"init",value:function(w){}},{key:"callRun",value:function(w){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=this.id;if(w.trigger("run:".concat(B,":before"),j),!j||!j.abort){var Q=j.sender||w,X=this.run(w,Q,j);return w.trigger("run:".concat(B),X,j),w.trigger("run",B,X,j),X}w.trigger("abort:".concat(B),j)}},{key:"callStop",value:function(w){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=this.id,Q=j.sender||w;w.trigger("stop:".concat(B,":before"),j);var X=this.stop(w,Q,j);return w.trigger("stop:".concat(B),X,j),w.trigger("stop",B,X,j),X}},{key:"stopCommand",value:function(){this.em.get("Commands").stop(this.id)}},{key:"run",value:function(w,j){}},{key:"stop",value:function(w,j){}}]),v}(d.Model)},5820:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>A});var O=s(2982),H=s(9050);const A={run:function(p,k){var d=this,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},x=[],f=S.component||p.getSelectedAll();return(f=(0,H.isArray)(f)?(0,O.Z)(f):[f]).filter(Boolean).forEach(function(l){if(!l.get("removable"))return x.push(l),d.em.logWarning("The element is not removable",{component:l});l.remove()}),p.select(x),f}}},6694:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>S});var O=s(4942),H=s(9050),A=s(5610);function p(x,f){var l=Object.keys(x);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(x);f&&(v=v.filter(function(w){return Object.getOwnPropertyDescriptor(x,w).enumerable})),l.push.apply(l,v)}return l}function k(x){for(var f=1;f<arguments.length;f++){var l=arguments[f]!=null?arguments[f]:{};f%2?p(Object(l),!0).forEach(function(v){(0,O.Z)(x,v,l[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(l)):p(Object(l)).forEach(function(v){Object.defineProperty(x,v,Object.getOwnPropertyDescriptor(l,v))})}return x}var d="dmode";const S={run:function(x,f){var l=this,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,H.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var w=v.target,j=v.event,B=v.mode,Q=v.dragger,X=Q===void 0?{}:Q,te=w.getEl(),J=k({doc:te.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return l.guidesStatic},guidesTarget:function(){return l.guidesTarget}},X);this.setupGuides(),this.opts=v,this.editor=x,this.em=x.getModel(),this.target=w,this.isTran=B=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var U=this.dragger;return U?U.setOptions(J):(U=new A.Z(J),this.dragger=U),j&&U.start(j),this.toggleDrag(1),this.em.trigger("".concat(d,":start"),this.getEventOpts()),U},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(x){var f=x.guide;f&&f.parentNode.removeChild(f)}),this.guides=[]},getGuidesContainer:function(){var x=this,f=this.guidesEl;if(!f){var l=this.editor,v=this.em,w=this.opts,j=l.getConfig().stylePrefix,B=document.createElement("div"),Q=document.createElement("div"),X='<div class="'.concat(j,"guide-info__line ").concat(j,`danger-bg">
        <div class="`).concat(j,"guide-info__content ").concat(j,`danger-color"></div>
      </div>`);(f=document.createElement("div")).className="".concat(j,"guides"),B.className="".concat(j,"guide-info ").concat(j,"guide-info__x"),Q.className="".concat(j,"guide-info ").concat(j,"guide-info__y"),B.innerHTML=X,Q.innerHTML=X,f.appendChild(B),f.appendChild(Q),l.Canvas.getGlobalToolsEl().appendChild(f),this.guidesEl=f,this.elGuideInfoX=B,this.elGuideInfoY=Q,this.elGuideInfoContentX=B.querySelector(".".concat(j,"guide-info__content")),this.elGuideInfoContentY=Q.querySelector(".".concat(j,"guide-info__content")),v.on("canvas:update frame:scroll",(0,H.debounce)(function(){x.updateGuides(),w.debug&&x.guides.forEach(function(te){return x.renderGuide(te)})},200))}return f},getGuidesStatic:function(){var x=this,f=[],l=this.target.getEl(),v=l.parentNode,w=v===void 0?{}:v;return(0,H.each)(w.children,function(j){return f=f.concat(l!==j?x.getElementGuides(j):[])}),f.concat(this.getElementGuides(w))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(x){var f,l,v=this;(x||this.guides).forEach(function(w){var j=w.origin,B=f===j?l:v.getElementPos(j);f=j,l=B,(0,H.each)(v.getGuidePosUpdate(w,B),function(Q,X){return w[X]=Q}),w.originRect=B})},getGuidePosUpdate:function(x,f){var l={},v=f.top,w=f.height,j=f.left,B=f.width;switch(x.type){case"t":l.y=v;break;case"b":l.y=v+w;break;case"l":l.x=j;break;case"r":l.x=j+B;break;case"x":l.x=j+B/2;break;case"y":l.y=v+w/2}return l},renderGuide:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=x.guide||document.createElement("div"),l="px",v=x.active?2:1,w=f.children[0];return f.style="position: absolute; background-color: ".concat(x.active?"green":"red",";"),f.children.length||((w=document.createElement("div")).style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",f.appendChild(w)),x.y?(f.style.width="100%",f.style.height="".concat(v).concat(l),f.style.top="".concat(x.y).concat(l),f.style.left=0):(f.style.width="".concat(v).concat(l),f.style.height="100%",f.style.left="".concat(x.x).concat(l),f.style.top="0".concat(l)),!x.guide&&this.guidesContainer.appendChild(f),f},getElementPos:function(x){return this.editor.Canvas.getElementPos(x,{noScroll:1})},getElementGuides:function(x){var f=this,l=this.opts,v=this.getElementPos(x),w=v.top,j=v.height,B=v.left,Q=v.width,X=[{type:"t",y:w},{type:"b",y:w+j},{type:"l",x:B},{type:"r",x:B+Q},{type:"x",x:B+Q/2},{type:"y",y:w+j/2}].map(function(te){return k(k({},te),{},{origin:x,originRect:v,guide:l.debug&&f.renderGuide(te)})});return X.forEach(function(te){return f.guides.push(te)}),X},getTranslate:function(x){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",l=0;return(x||"").split(" ").forEach(function(v){var w=v.trim(),j="translate".concat(f.toUpperCase(),"(");w.indexOf(j)===0&&(l=parseFloat(w.replace(j,"")))}),l},setTranslate:function(x,f,l){var v="translate".concat(f.toUpperCase(),"("),w="".concat(v).concat(l,")"),j=(x||"").split(" ").map(function(B){return B.trim().indexOf(v)===0&&(B=w),B}).join(" ");return j.indexOf(v)<0&&(j+=" ".concat(w)),j},getPosition:function(){var x=this.target,f=this.isTran,l=x.getStyle(),v=l.left,w=l.top,j=l.transform,B=0,Q=0;return f?(B=this.getTranslate(j),Q=this.getTranslate(j,"y")):(B=parseFloat(v||0),Q=parseFloat(w||0)),{x:B,y:Q}},setPosition:function(x){var f=x.x,l=x.y,v=x.end,w=x.position,j=x.width,B=x.height,Q=this.target,X=this.isTran,te=this.em,J=v?"":1,U="".concat(f).concat("px"),se="".concat(l).concat("px"),me={};if(X){var ce=Q.getStyle().transform||"";ce=this.setTranslate(ce,"x",U),me={transform:ce=this.setTranslate(ce,"y",se),en:J},Q.addStyle(me,{avoidStore:!v})}else{var D={position:w,width:j,height:B},L={left:U,top:se,en:J};(0,H.keys)(D).forEach(function(I){var re=D[I];re&&(L[I]=re)}),me=L,Q.addStyle(me,{avoidStore:!v})}te.getSelected()&&(0,H.keys)(me).forEach(function(I){return te.trigger("update:component:style:".concat(I))})},_getDragData:function(){var x=this.target;return{target:x,parent:x.parent(),index:x.index()}},onStart:function(x){var f=this.target,l=this.editor,v=this.isTran,w=this.opts,j=w.center,B=w.onStart,Q=l.Canvas,X=f.getStyle(),te="absolute",J=[te,"relative"];if(B&&B(this._getDragData()),!v&&X.position!==te){var U,se=Q.offset(f.getEl()),me=se.left,ce=se.top,D=se.width,L=se.height,I=f.parent();do{var re=I.getStyle();U=J.indexOf(re.position)>=0?I:null,I=I.parent()}while(I&&!U);if(j){var ne=Q.getMouseRelativeCanvas(x);me=ne.x,ce=ne.y}else if(U){var z=Q.offset(U.getEl());me-=z.left,ce-=z.top}this.setPosition({x:me,y:ce,width:"".concat(D,"px"),height:"".concat(L,"px"),position:te})}},onDrag:function(){var x=this,f=this.guidesTarget,l=this.opts,v=l.onDrag;this.updateGuides(f),l.debug&&f.forEach(function(w){return x.renderGuide(w)}),l.guidesInfo&&this.renderGuideInfo(f.filter(function(w){return w.active})),v&&v(this._getDragData())},onEnd:function(x,f){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=this.editor,w=this.opts,j=this.id,B=w.onEnd;B&&B(x,l,k(k({event:x},l),this._getDragData())),v.stopCommand(j),this.hideGuidesInfo(),this.em.trigger("".concat(d,":end"),this.getEventOpts())},hideGuidesInfo:function(){var x=this;["X","Y"].forEach(function(f){var l=x["elGuideInfo".concat(f)];l&&(l.style.display="none")})},renderGuideInfo:function(){var x=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=this.guidesStatic;this.hideGuidesInfo(),f.forEach(function(v){var w=v.origin,j=v.x,B=x.getElementPos(w),Q=(0,H.isUndefined)(j)?"y":"x",X=Q==="y",te=B[X?"left":"top"],J=B.rect[X?"left":"top"],U=X?te+B.width:te+B.height,se=X?J+B.rect.width:J+B.rect.height,me=x["elGuideInfo".concat(Q.toUpperCase())],ce=x["elGuideInfoContent".concat(Q.toUpperCase())],D=me.style,L=l.filter(function(M){return M.type===v.type}).map(function(M){var T=M.originRect,P=T.left,c=T.width,ee=T.top,q=T.height,E=X?P+c:ee+q;return{gap:E<te?te-E:(X?P:ee)-U,guide:M}}).filter(function(M){return M.gap>0}).sort(function(M,T){return M.gap-T.gap}).map(function(M){return M.guide})[0];if(L){var I=L.originRect,re=I.left,ne=I.width,z=I.top,Y=I.height,u=I.rect,y=X?re<B.left:z<B.top,g=X?re:z,m=X?u.left:u.top,$=X?re+ne:z+Y,ae=X?u.left+u.width:u.top+u.height,K=X?v.y:v.x,F=y?$:U,b="".concat(K,"px"),h=y?te-$:g-U,V=y?J-ae:m-se;D.display="",D[X?"top":"left"]=b,D[X?"left":"top"]="".concat(F,"px"),D[X?"width":"height"]="".concat(h,"px"),ce.innerHTML="".concat(Math.round(V),"px"),x.em.trigger("".concat(d,":active"),k(k({},x.getEventOpts()),{},{guide:v,guidesStatic:l,matched:L,posFirst:K,posSecond:F,size:h,sizeRaw:V,elGuideInfo:me,elGuideInfoCnt:ce}))}})},toggleDrag:function(x){var f=this.ppfx,l=this.editor,v=x?"add":"remove",w=["".concat(f,"is__grabbing")],j=l.Canvas,B=j.getBody();w.forEach(function(Q){return B.classList[v](Q)}),j[x?"startAutoscroll":"stopAutoscroll"]()}}},1947:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>O});const O={run:function(H){if(H.Canvas.hasFocus()){var A=[];H.getSelectedAll().forEach(function(p){var k=p.components(),d=k&&k.filter(function(S){return S.get("selectable")})[0];d&&A.push(d)}),A.length&&H.select(A)}}}},3888:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>O});const O={run:function(H,A){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(H.Canvas.hasFocus()||p.force){var k=[];H.getSelectedAll().forEach(function(d){for(var S=d.parent();S&&!S.get("selectable");)S=S.parent();S&&k.push(S)}),k.length&&H.select(k)}}}},5883:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>O});const O={run:function(H){if(H.Canvas.hasFocus()){var A=[];H.getSelectedAll().forEach(function(p){var k=p.parent();if(k){var d,S=k.components().length,x=0,f=0;do x++,d=(f=p.index()+x)<=S?k.getChildAt(f):null;while(d&&!d.get("selectable"));A.push(d||p)}}),A.length&&H.select(A)}}}},7508:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>O});const O={run:function(H){if(H.Canvas.hasFocus()){var A=[];H.getSelectedAll().forEach(function(p){var k=p.parent();if(k){var d,S=0,x=0;do S++,d=(x=p.index()-S)>=0?k.getChildAt(x):null;while(d&&!d.get("selectable"));A.push(d||p)}}),A.length&&H.select(A)}}}},8769:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>H});var O=s(9050);const H={run:function(A,p){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=k.target,S=[];if(!d.get("styles"))return S;var x=d.get("type"),f=A.Pages.getAllWrappers(),l=(0,O.flatten)(f.map(function(w){return w.findType(x)})).length;if(!l){var v=A.CssComposer.getAll();S=v.filter(function(w){return w.get("group")==="cmp:".concat(x)}),v.remove(S)}return S}}},2213:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>H});var O=s(2982);const H={run:function(A){var p=A.getModel(),k=(0,O.Z)(A.getSelectedAll());k.length&&p.set("clipboard",k)}}},5049:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>d});var O=s(9050),H=s(2316),A=s.n(H),p=s(2620),k=A().$;const d=(0,O.extend)({},p.default,{init:function(S){(0,O.bindAll)(this,"startDelete","stopDelete","onDelete"),this.hoverClass=this.pfx+"hover-delete",this.badgeClass=this.pfx+"badge-red"},enable:function(){this.$el.find("*").mouseover(this.startDelete).mouseout(this.stopDelete).click(this.onDelete)},startDelete:function(S){S.stopPropagation();var x=k(S.target);x.data("model").get("removable")&&(x.addClass(this.hoverClass),this.attachBadge(x.get(0)))},stopDelete:function(S){S.stopPropagation(),k(S.target).removeClass(this.hoverClass),this.badge&&this.badge.css({left:-1e3,top:-1e3})},onDelete:function(S){S.stopPropagation();var x=k(S.target);x.data("model").get("removable")&&(x.data("model").destroy(),this.removeBadge(),this.clean())},updateBadgeLabel:function(S){this.badge.html("Remove "+S.getName())}})},3775:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>A});var O=s(2316),H=s.n(O)().$;const A={run:function(p,k){var d=this;k&&k.set&&k.set("active",0);var S=p.getConfig(),x=p.Modal,f=S.stylePrefix;if(this.cm=p.CodeManager||null,!this.$editors){var l=this.buildEditor("htmlmixed","hopscotch","HTML"),v=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=l.el,this.cssEditor=v.el;var w=H('<div class="'.concat(f,'export-dl"></div>'));w.append(l.$el).append(v.$el),this.$editors=w}x.open({title:S.textViewCode,content:this.$editors}).getModel().once("change:open",function(){return p.stopCommand(d.id)}),this.htmlEditor.setContent(p.getHtml()),this.cssEditor.setContent(p.getCss())},stop:function(p){var k=p.Modal;k&&k.close()},buildEditor:function(p,k,d){var S=document.createElement("textarea");!this.codeMirror&&(this.codeMirror=this.cm.getViewer("CodeMirror"));var x=this.codeMirror.clone().set({label:d,codeName:p,theme:k,input:S}),f=new this.cm.EditorView({model:x,config:this.cm.getConfig()}).render().$el;return x.init(S),{el:x,$el:f}}}},58:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>H});var O=s(9050);const H={isEnabled:function(){var A=document;return A.fullscreenElement||A.webkitFullscreenElement||A.mozFullScreenElement?1:0},enable:function(A){var p="";return A.requestFullscreen?A.requestFullscreen():A.webkitRequestFullscreen?(p="webkit",A.webkitRequestFullscreen()):A.mozRequestFullScreen?(p="moz",A.mozRequestFullScreen()):A.msRequestFullscreen?A.msRequestFullscreen():console.warn("Fullscreen not supported"),p},disable:function(){var A=document;this.isEnabled()&&(A.exitFullscreen?A.exitFullscreen():A.webkitExitFullscreen?A.webkitExitFullscreen():A.mozCancelFullScreen?A.mozCancelFullScreen():A.msExitFullscreen&&A.msExitFullscreen())},fsChanged:function(A,p){var k=(A||"")+"fullscreenchange";this.isEnabled()||(this.stop(null,this.sender),document.removeEventListener(k,this.fsChanged))},run:function(A,p){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.sender=p;var d=k.target,S=(0,O.isElement)(d)?d:document.querySelector(d),x=this.enable(S||A.getContainer());this.fsChanged=this.fsChanged.bind(this,x),document.addEventListener(x+"fullscreenchange",this.fsChanged),A.trigger("change:canvasOffset")},stop:function(A,p){p&&p.set&&p.set("active",!1),this.disable(),A&&A.trigger("change:canvasOffset")}}},8658:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>x});var O=s(9050),H=s(2316),A=s.n(H),p=s(1163),k=s(2620),d=s(8463),S=A().$;const x=(0,O.extend)({},d.default,k.default,{init:function(f){k.default.init.apply(this,arguments),(0,O.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=f,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var f=arguments.length,l=new Array(f),v=0;v<f;v++)l[v]=arguments[v];k.default.enable.apply(this,l),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var w=this.$wrapper;w.css("cursor","move"),w.on("mousedown",this.initSorter),w.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(f){var l=S(f.target).data("model").get("draggable");l&&(this.cacheEl=null,this.startSelectPosition(f.target,this.frameEl.contentDocument),this.sorter.draggable=l,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,p.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(f){var l=f.get("draggable");if(l){this.cacheEl=null;var v=f.view.el;this.startSelectPosition(v,this.frameEl.contentDocument),this.sorter.draggable=l,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,p.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(f){this.cacheEl=null;var l=f[f.length-1],v=(this.em.get("currentFrame")||{}).model,w=l.getEl(v),j=w.ownerDocument;this.startSelectPosition(w,j,{onStart:this.onStart}),this.sorter.draggable=l.get("draggable"),this.sorter.toMove=f,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,p.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,p.off)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,p.off)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(f,l){},rollback:function(f,l){((f.which||f.keyCode)==27||l)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=S(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=S(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var f=arguments.length,l=new Array(f),v=0;v<f;v++)l[v]=arguments[v];k.default.stop.apply(this,l),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var w=this.$wrapper;w.css("cursor","").unbind().removeClass(this.noSelClass)}})},9617:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>A});var O=s(9050),H=s(9283);const A={open:function(p){var k=this,d=this.editor,S=this.title,x=this.config,f=this.am,l=x.custom;if((0,O.isFunction)(l.open))return l.open(f.__customData());d.Modal.open({title:S,content:p}).onceClose(function(){return d.stopCommand(k.id)})},close:function(){var p=this.config.custom;if((0,O.isFunction)(p.close))return p.close(this.am.__customData());var k=this.editor.Modal;k&&k.close()},run:function(p,k){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S=p.AssetManager,x=S.getConfig(),f=d.types,l=f===void 0?[]:f,v=d.accept,w=d.select;if(this.title=d.modalTitle||p.t("assetManager.modalTitle")||"",this.editor=p,this.config=x,this.am=S,S.setTarget(d.target),S.onClick(d.onClick),S.onDblClick(d.onDblClick),S.onSelect(d.onSelect),S.__behaviour({select:w,types:l,options:d}),x.custom)this.rendered=this.rendered||(0,H.ut)("div"),this.rendered.className="".concat(x.stylePrefix,"custom-wrp"),S.__behaviour({container:this.rendered}),S.__trgCustom();else{if(!this.rendered||l){var j=S.getAll().filter(function(Q){return Q});l&&l.length&&(j=j.filter(function(Q){return l.indexOf(Q.get("type"))!==-1})),S.render(j),this.rendered=S.getContainer()}if(v){var B=this.rendered.querySelector("input#".concat(x.stylePrefix,"uploadFile"));B&&B.setAttribute("accept",v)}}return this.open(this.rendered),this},stop:function(p){this.editor=p,this.close(this.rendered)}}},5821:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>A});var O=s(9050),H=s(9283);const A={open:function(){var p=this.container,k=this.editor,d=this.bm,S=this.config,x=S.custom,f=S.appendTo;if((0,O.isFunction)(x.open))return x.open(d.__customData());if(this.firstRender&&!f){var l="views-container",v=k.Panels;(v.getPanel(l)||v.addPanel({id:l})).set("appendContent",p).trigger("change:appendContent"),x||p.appendChild(d.render())}p&&(p.style.display="block")},close:function(){var p=this.container,k=this.config.custom;if((0,O.isFunction)(k.close))return k.close(this.bm.__customData());p&&(p.style.display="none")},run:function(p){var k=p.Blocks;this.config=k.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,H.ut)("div"),this.editor=p,this.bm=k;var d=this.container;k.__behaviour({container:d}),this.config.custom&&k.__trgCustom(),this.open()},stop:function(){this.close()}}},3452:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>O});const O={run:function(H){var A=H.LayerManager,p=H.Panels;if(!A.getConfig().appendTo){if(!this.layers){var k="views-container",d=document.createElement("div"),S=p.getPanel(k)||p.addPanel({id:k});d.appendChild(A.render()),S.set("appendContent",d).trigger("change:appendContent"),this.layers=d}this.layers.style.display="block"}},stop:function(){var H=this.layers;H&&(H.style.display="none")}}},2840:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>A});var O=s(2316),H=s.n(O)().$;const A={run:function(p,k){if(this.sender=k,!this.$cn){var d=p.getConfig(),S=p.Panels,x="change:appendContent";this.$cn=H("<div></div>"),this.$cn2=H("<div></div>"),this.$cn.append(this.$cn2);var f=p.DeviceManager;if(f&&d.showDevices){var l=S.addPanel({id:"devices-c"}),v=f.render();l.set("appendContent",v).trigger(x)}var w=p.SelectorManager;this.slm=w;var j=w.getConfig();j.custom?w.__trgCustom({container:this.$cn2.get(0)}):j.appendTo||this.$cn2.append(w.render([]));var B=p.StyleManager;this.sm=B;var Q=B.getConfig(),X=Q.stylePrefix;this.$header=H('<div class="'.concat(X,'header">').concat(p.t("styleManager.empty"),"</div>")),this.$cn.append(this.$header),Q.custom?B.__trgCustom({container:this.$cn2.get(0)}):Q.appendTo||this.$cn2.append(B.render());var te="views-container";this.panel=S.getPanel(te),this.panel||(this.panel=S.addPanel({id:te})),this.panel.set("appendContent",this.$cn).trigger(x),this.em=p.getModel(),this.listenTo(this.em,B.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var p,k,d,S,x=this.sender,f=this.sm;x&&x.get&&!x.get("active")||!f||(f.getSelected()?((p=this.$cn2)===null||p===void 0||p.show(),(k=this.$header)===null||k===void 0||k.hide()):((d=this.$cn2)===null||d===void 0||d.hide(),(S=this.$header)===null||S===void 0||S.show()))},stop:function(){var p,k;(p=this.$cn2)===null||p===void 0||p.hide(),(k=this.$header)===null||k===void 0||k.hide()}}},8644:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>A});var O=s(2316),H=s.n(O)().$;const A={run:function(p,k){this.sender=k;var d=p.getModel(),S=p.Config.stylePrefix,x=p.TraitManager,f=x.getConfig();if(!f.appendTo){if(!this.$cn){this.$cn=H("<div></div>"),this.$cn2=H("<div></div>"),this.$cn.append(this.$cn2),this.$header=H("<div>").append('<div class="'.concat(f.stylePrefix,'header">').concat(d.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),this.$cn2.append('<div class="'.concat(S,'traits-label">').concat(d.t("traitManager.label"),"</div>")),this.$cn2.append(x.render());var l=p.Panels;(l.getPanel("views-container")?l.getPanel("views-container"):l.addPanel({id:"views-container"})).set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=p.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var p=this.sender;p&&p.get&&!p.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},560:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>H});var O=s(9050);const H={run:function(A,p){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=A.getModel(),S=d.get("clipboard"),x=A.getSelected();S&&x&&(A.getSelectedAll().forEach(function(f){var l=f.collection;if(l){var v,w={at:f.index()+1,action:k.action||"paste-component"};if((0,O.contains)(S,f)&&f.get("copyable"))v=l.add(f.clone(),w);else{var j=S.filter(function(B){return B.get("copyable")}).filter(function(B){return A.Components.canMove(f.parent(),B).result});v=l.add(j.map(function(B){return B.clone()}),w)}(v=(0,O.isArray)(v)?v:[v]).forEach(function(B){return A.trigger("component:paste",B)})}}),x.emitUpdate())}}},4944:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>p});var O=s(2982),H=s(9050),A="sw-visibility";const p={getPanels:function(k){return this.panels||(this.panels=k.Panels.getPanels()),this.panels},preventDrag:function(k){k.abort=1},tglEffects:function(k){var d=this.em,S=k?"on":"off";if(d){var x=d.get("Canvas"),f=x.getBody(),l=x.getToolbarEl();l&&(l.style.display=k?"none":"");var v=f.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,H.each)(v,function(w){return w.style.pointerEvents=k?"all":""}),d[S]("run:tlb-move:before",this.preventDrag)}},run:function(k,d){var S=this;this.sender=d,this.selected=(0,O.Z)(k.getSelectedAll()),k.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=k.Commands.isActive(A)),this.shouldRunSwVisibility&&k.stopCommand(A),k.getModel().stopDefault();var x=this.getPanels(k),f=k.Canvas.getElement(),l=k.getEl(),v=k.Config.stylePrefix;if(!this.helper){var w=document.createElement("span");w.className="".concat(v,"off-prv fa fa-eye-slash"),l.appendChild(w),w.onclick=function(){return S.stopCommand()},this.helper=w}this.helper.style.display="inline-block",x.forEach(function(B){return B.set("visible",!1)});var j=f.style;j.width="100%",j.height="100%",j.top="0",j.left="0",j.padding="0",j.margin="0",k.refresh(),this.tglEffects(1)},stop:function(k){var d=this.sender,S=d===void 0?{}:d,x=this.selected;S.set&&S.set("active",0);var f=this.getPanels(k);this.shouldRunSwVisibility&&(k.runCommand(A),this.shouldRunSwVisibility=!1),k.getModel().runDefault(),f.forEach(function(l){return l.set("visible",!0)}),k.Canvas.getElement().setAttribute("style",""),x&&k.select(x),delete this.selected,this.helper&&(this.helper.style.display="none"),k.refresh(),this.tglEffects()}}},7538:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>A});var O=s(4942);function H(p,k){var d=Object.keys(p);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(p);k&&(S=S.filter(function(x){return Object.getOwnPropertyDescriptor(p,x).enumerable})),d.push.apply(d,S)}return d}const A={run:function(p,k,d){var S=d||{},x=p.Canvas,f=x.getCanvasView(),l=function(w){for(var j=1;j<arguments.length;j++){var B=arguments[j]!=null?arguments[j]:{};j%2?H(Object(B),!0).forEach(function(Q){(0,O.Z)(w,Q,B[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(B)):H(Object(B)).forEach(function(Q){Object.defineProperty(w,Q,Object.getOwnPropertyDescriptor(B,Q))})}return w}({appendTo:x.getResizerEl(),prefix:p.getConfig().stylePrefix,posFetcher:f.getElementPos.bind(f),mousePosFetcher:x.getMouseRelativePos},S.options||{}),v=this.canvasResizer;return v&&!S.forceNew||(this.canvasResizer=p.Utils.Resizer.init(l),v=this.canvasResizer),v.setOptions(l),v.blur(),v.focus(S.el),v},stop:function(){var p;(p=this.canvasResizer)===null||p===void 0||p.blur()}}},2620:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>ne});var O=s(1002),H=s(4942),A=s(2316),p=s.n(A),k=s(9050),d=s(1163),S=s(9283),x=s(3144),f=s(5671),l=s(9340),v=s(2963),w=s(1120),j=s(6602);function B(z,Y){var u=Object.keys(z);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(z);Y&&(y=y.filter(function(g){return Object.getOwnPropertyDescriptor(z,g).enumerable})),u.push.apply(u,y)}return u}function Q(z){for(var Y=1;Y<arguments.length;Y++){var u=arguments[Y]!=null?arguments[Y]:{};Y%2?B(Object(u),!0).forEach(function(y){(0,H.Z)(z,y,u[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(u)):B(Object(u)).forEach(function(y){Object.defineProperty(z,y,Object.getOwnPropertyDescriptor(u,y))})}return z}function X(z){var Y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,y=(0,w.Z)(z);if(Y){var g=(0,w.Z)(this).constructor;u=Reflect.construct(y,arguments,g)}else u=y.apply(this,arguments);return(0,v.Z)(this,u)}}var te=function(z){(0,l.Z)(u,z);var Y=X(u);function u(){return(0,f.Z)(this,u),Y.apply(this,arguments)}return(0,x.Z)(u,[{key:"events",value:function(){return this.model.get("events")||{mousedown:"handleClick"}}},{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"initialize",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=y.config,m=g===void 0?{}:g;this.em=m.em,this.editor=m.editor}},{key:"handleClick",value:function(y){y.preventDefault(),y.stopPropagation();var g=this.editor,m=this.em,$=g.Canvas.getFrameEl().getBoundingClientRect(),ae=$.left,K=$.top,F=Q(Q({},y),{},{clientX:y.clientX-ae,clientY:y.clientY-K});m.trigger("toolbar:run:before"),this.execCommand(F)}},{key:"execCommand",value:function(y){var g={event:y},m=this.model.get("command"),$=this.editor;typeof m=="function"&&m($,null,g),typeof m=="string"&&$.runCommand(m,g)}},{key:"render",value:function(){var y=this.editor,g=this.$el,m=this.model,$=m.get("id"),ae=m.get("label"),K=y.getConfig().stylePrefix;return g.addClass("".concat(K,"toolbar-item")),$&&g.addClass("".concat(K,"toolbar-item__").concat($)),ae&&g.append(ae),this}}]),u}(p().View);function J(z){var Y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,y=(0,w.Z)(z);if(Y){var g=(0,w.Z)(this).constructor;u=Reflect.construct(y,arguments,g)}else u=y.apply(this,arguments);return(0,v.Z)(this,u)}}var U=function(z){(0,l.Z)(u,z);var Y=J(u);function u(){var y,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments.length>1?arguments[1]:void 0;return(0,f.Z)(this,u),(y=Y.call(this,g,m)).config={editor:g.editor||"",em:g.em},y.listenTo(y.collection,"reset",y.render),y}return(0,x.Z)(u)}(j.Z);function se(z){var Y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,y=(0,w.Z)(z);if(Y){var g=(0,w.Z)(this).constructor;u=Reflect.construct(y,arguments,g)}else u=y.apply(this,arguments);return(0,v.Z)(this,u)}}U.prototype.itemView=te;var me=function(z){(0,l.Z)(u,z);var Y=se(u);function u(){return(0,f.Z)(this,u),Y.apply(this,arguments)}return(0,x.Z)(u,[{key:"defaults",value:function(){return{command:"",attributes:{}}}}]),u}(p().Model);const ce=p().Collection.extend({model:me});function D(z,Y){var u=Object.keys(z);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(z);Y&&(y=y.filter(function(g){return Object.getOwnPropertyDescriptor(z,g).enumerable})),u.push.apply(u,y)}return u}function L(z){for(var Y=1;Y<arguments.length;Y++){var u=arguments[Y]!=null?arguments[Y]:{};Y%2?D(Object(u),!0).forEach(function(y){(0,H.Z)(z,y,u[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(u)):D(Object(u)).forEach(function(y){Object.defineProperty(z,y,Object.getOwnPropertyDescriptor(u,y))})}return z}var I,re=p().$;const ne={init:function(z){(0,k.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),I=1},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(z){var Y=this,u=this.em,y=u.getConfig().listenToEl,g=u.getContainer().parentNode,m=z?"on":"off",$={on:d.on,off:d.off};!y.length&&g&&y.push(g),$[m](window,"resize",this.onFrameUpdated),$[m](y,"scroll",this.onContainerChange),u[m]("component:toggled component:update undo redo",this.onSelect,this),u[m]("change:componentHovered",this.onHovered,this),u[m]("component:resize styleable:change component:input",this.updateGlobalPos,this),u[m]("component:update:toolbar",this._upToolbar,this),u[m]("change:canvasOffset",this.updateAttached,this),u[m]("frame:updated",this.onFrameUpdated,this),u[m]("canvas:updateTools",this.onFrameUpdated,this),u.get("Canvas").getFrames().forEach(function(ae){var K=ae.view,F=K==null?void 0:K.getWindow();F&&function(b,h){$[m](h,"mouseover",Y.onHover),$[m](h,"mouseleave",Y.onOut),$[m](h,"click touchend",Y.onClick),$[m](b,"scroll",Y.onFrameScroll,!0)}(F,K.getBody())})},onHover:function(z){z.stopPropagation();var Y=this.em,u=z.target,y=(0,d.getViewEl)(u),g=y&&y._getFrame(),m=re(u),$=m.data("model");if(!$)for(var ae=m.parent();!$&&ae.length&&!(0,S.Mx)(ae[0]);)$=ae.data("model"),ae=ae.parent();this.currentDoc=u.ownerDocument,Y.setHovered($,{useValid:!0}),g&&Y.set("currentFrame",g)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(z,Y){var u=this,y={};Y?Y.views.forEach(function(g){var m=g.el,$=u.getElementPos(m);y={el:m,pos:$,component:Y,view:(0,d.getViewEl)(m)},u.updateToolsLocal(y),m.ownerDocument===u.currentDoc&&(u.elHovered=y)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(g){var m=g.view,$=m&&m.getToolsEl();$&&u.toggleToolsEl(0,0,{el:$})}))},onSelect:(0,k.debounce)(function(){var z=this.em,Y=z.getSelected(),u=z.get("currentFrame")||{},y=Y&&Y.getView(u.model),g=y&&y.el,m={};g&&(0,S.pn)(g)&&(m={el:g,pos:this.getElementPos(g),component:Y,view:(0,d.getViewEl)(g)}),this.elSelected=m,this.updateToolsGlobal(),this.updateLocalPos(m),this.initResize(Y)}),updateGlobalPos:function(){var z=this.getElSelected();z.el&&(z.pos=this.getElementPos(z.el),this.updateToolsGlobal())},updateLocalPos:function(z){var Y=this.getElHovered();Y.el&&(Y.pos=this.getElementPos(Y.el),this.updateToolsLocal(z))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered(0)},toggleToolsEl:function(z,Y){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=u.el||this.canvas.getToolsEl(Y);return y&&(y.style.display=z?"":"none"),y||{}},showElementOffset:function(z,Y){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};I&&this.editor.runCommand("show-offset",{el:z,elPos:Y,view:u.view,force:1,top:0,left:0})},hideElementOffset:function(z){this.editor.stopCommand("show-offset",{view:z})},showFixedElementOffset:function(z,Y){this.editor.runCommand("show-offset",{el:z,elPos:Y,state:"Fixed"})},hideFixedElementOffset:function(z,Y){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(z){this.canvas.getHighlighter(z).style.opacity=0},onClick:function(z){z.stopPropagation(),z.preventDefault();var Y=this.em;if(Y.get("_cmpDrag"))return Y.set("_cmpDrag");var u=re(z.target),y=u.data("model");if(!y)for(var g=u.parent();!y&&g.length&&!(0,S.Mx)(g[0]);)y=g.data("model"),g=g.parent();if(y){if(Y.isEditing()&&!y.get("textable")&&y.isChildOf("text"))return;this.select(y,z)}},select:function(z){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};z&&(this.editor.select(z,{event:Y,useValid:!0}),this.initResize(z))},updateBadge:function(z,Y){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=this.canvas,g=re(z).data("model");if(g&&g.get("badgable")){var m=this.getBadge(u);if(!u.posOnly){var $=this.canvas.getConfig(),ae=g.getIcon(),K=$.pStylePrefix||"",F="".concat(K,"badge"),b=$.customBadgeLabel,h="".concat(ae?'<div class="'.concat(F,'__icon">').concat(ae,"</div>"):"",`
        <div class="`).concat(F,'__name">').concat(g.getName(),"</div>");m.innerHTML=b?b(g):h}var V="px",M=m.style;M.display="block";var T=y.getTargetToElementFixed(z,m,{pos:Y}),P=T.top,c=u.leftOff<0?-u.leftOff:0;M.top=P+V,M.left=c+V}},showHighlighter:function(z){this.canvas.getHighlighter(z).style.opacity=""},initResize:function(z){var Y,u=this.em,y=this.canvas,g=u?u.get("Editor"):"",m=(u?u.get("Config"):"").stylePrefix||"",$="".concat(m,"resizing"),ae=!(0,k.isElement)(z)&&(0,d.isTaggableNode)(z)?z:u.getSelected(),K=ae&&ae.get("resizable"),F={},b=function(V,M,T){var P=T.docs;P&&P.forEach(function(c){var ee=c.body,q=ee.className||"";ee.className=(V=="add"?"".concat(q," ").concat($):q.replace($,"")).trim()})};if(g&&K){var h=(0,k.isElement)(z)?z:ae.getEl();F={onStart:function(V){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=M.el,P=M.config,c=M.resizer,ee=P.keyHeight,q=P.keyWidth,E=P.currentUnit,R=P.keepAutoHeight,ue=P.keepAutoWidth;b("add",0,M),Y=u.get("StyleManager").getModelToStyle(ae),y.toggleFramesEvents();var be=getComputedStyle(T),N=Y.getStyle(),oe=N[q];P.autoWidth=ue&&oe==="auto",isNaN(parseFloat(oe))&&(oe=be[q]);var de=N[ee];P.autoHeight=R&&de==="auto",isNaN(parseFloat(de))&&(de=be[ee]),c.startDim.w=parseFloat(oe),c.startDim.h=parseFloat(de),I=0,E&&(P.unitHeight=(0,d.getUnitFromValue)(de),P.unitWidth=(0,d.getUnitFromValue)(oe))},onMove:function(){g.trigger("component:resize")},onEnd:function(V,M){b("remove",0,M),g.trigger("component:resize"),y.toggleFramesEvents(1),I=1},updateTarget:function(V,M){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Y){var P=T.store,c=T.selectedHandler,ee=T.config,q=ee.keyHeight,E=ee.keyWidth,R=ee.autoHeight,ue=ee.autoWidth,be=ee.unitWidth,N=ee.unitHeight,oe=["tc","bc"].indexOf(c)>=0,de=["cl","cr"].indexOf(c)>=0,Ce={},we=P?"":1;if(!oe){var Ae=y.getBody().offsetWidth,_e=M.w<Ae?M.w:Ae;Ce[E]=ue?"auto":"".concat(_e).concat(be)}de||(Ce[q]=R?"auto":"".concat(M.h).concat(N)),Y.addStyle(L(L({},Ce),{},{en:we}),{avoidStore:!P});var Ne="update:component:style",Je="".concat(Ne,":").concat(q," ").concat(Ne,":").concat(E);u&&u.trigger(Je,null,null,{noEmit:1})}}},(0,O.Z)(K)=="object"&&(F=L(L(L({},F),K),{},{parent:F})),this.resizer=g.runCommand("resize",{el:h,options:F,force:1})}else g.stopCommand("resize"),this.resizer=null},updateToolbar:function(z){var Y=this.config.em,u=z==Y?Y.getSelected():z,y=this.canvas.getToolbarEl(),g=y.style,m=u.get("toolbar"),$=Y.get("Config").showToolbar;if(u&&$&&m&&m.length){if(g.display="",!this.toolbar){y.innerHTML="",this.toolbar=new ce(m);var ae=new U({collection:this.toolbar,editor:this.editor,em:Y});y.appendChild(ae.render().el)}this.toolbar.reset(m),g.top="-100px",g.left=0}else g.display="none"},updateToolbarPos:function(z){var Y=this.canvas.getToolbarEl().style;Y.top="".concat(z.top).concat("px"),Y.left="".concat(z.left).concat("px"),Y.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.canvas.getBadgeEl(z.view)},onFrameScroll:function(){this.updateTools()},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(z){return z&&z.get("status")==="selected"},updateToolsLocal:function(z){var Y=z||this.getElHovered(),u=Y.el,y=Y.pos,g=Y.view,m=Y.component;if(u){var $=m.get("hoverable"),ae=this.lastHovered!==u,K=ae?{}:{posOnly:1};ae&&$&&(this.lastHovered=u,this.showHighlighter(g),this.showElementOffset(u,y,{view:g})),this.isCompSelected(m)&&(this.hideHighlighter(g),this.hideElementOffset(g));var F="px",b=this.toggleToolsEl(1,g),h=b.style,V=this.canvas.canvasRectOffset(u,y),M=V.top,T=V.left;this.updateBadge(u,y,L(L({},K),{},{view:g,topOff:M,leftOff:T})),h.top=M+F,h.left=T+F,h.width=y.width+F,h.height=y.height+F,this._trgToolUp("local",{component:m,el:b,top:M,left:T,width:y.width,height:y.height})}else this.lastHovered=0},_upToolbar:(0,k.debounce)(function(){this.updateToolsGlobal({force:1})}),_trgToolUp:function(z){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.em.trigger("canvas:tools:update",L({type:z},Y))},updateToolsGlobal:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=this.getElSelected(),u=Y.el,y=Y.pos,g=Y.component;if(!u)return this.toggleToolsEl(),void(this.lastSelected=0);var m=this.canvas,$=this.lastSelected!==u;($||z.force)&&(this.lastSelected=u,this.updateToolbar(g));var ae="px",K=this.toggleToolsEl(1),F=K.style,b=m.getTargetToElementFixed(u,m.getToolbarEl(),{pos:y}),h=b.canvasOffsetTop,V=b.canvasOffsetLeft;F.top=h+ae,F.left=V+ae,F.width=y.width+ae,F.height=y.height+ae,this.updateToolbarPos({top:b.top,left:b.left}),this._trgToolUp("global",{component:g,el:K,top:h,left:V,width:y.width,height:y.height})},updateAttached:(0,k.debounce)(function(){this.updateGlobalPos()}),onContainerChange:(0,k.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(z){return this.canvas.getCanvasView().getElementPos(z)},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(z){z&&z.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(z){(0,d.hasWin)()&&(this.editor=z&&z.get("Editor"),this.enable())},stop:function(z,Y){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,d.hasWin)()){var y=this.em,g=this.editor;this.onHovered(),this.stopSelectComponent(),!u.preserveSelected&&y.setSelected(null),this.toggleToolsEl(),g&&g.stopCommand("resize")}}}},8463:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>A});var O=s(2316),H=s.n(O)().$;const A={startSelectPosition:function(p,k){var d=this,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.isPointed=!1;var x=this.editorModel.get("Utils"),f=p.ownerDocument.body;x&&!this.sorter&&(this.sorter=new x.Sorter({container:f,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:k,wmargin:1,nested:1,em:this.editorModel,canvasRelative:1,scale:function(){return d.em.getZoomDecimal()}})),S.onStart&&(this.sorter.onStart=S.onStart),p&&this.sorter.startSort(p,{container:f})},getOffsetDim:function(){var p=this.offset(this.canvas.getFrameEl()),k=this.offset(this.canvas.getElement());return{top:p.top-k.top,left:p.left-k.left}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?H(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?H(this.cDim[this.posIndex][5]).parent():H(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(p,k,d){var S=p||0,x=k||"before",f=d.length,l=f!==0&&x=="after"&&S==f;return f!==0&&(!l&&!d[S][4]||d[S-1]&&!d[S-1][4]||l&&!d[S-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},7994:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>x});var O=s(4942),H=s(2316),A=s.n(H),p=s(9050),k=s(1163);function d(f,l){var v=Object.keys(f);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(f);l&&(w=w.filter(function(j){return Object.getOwnPropertyDescriptor(f,j).enumerable})),v.push.apply(v,w)}return v}var S=A().$;const x={getOffsetMethod:function(f){return"get"+(f||"")+"OffsetViewerEl"},run:function(f,l,v){var w=v||{},j=w.state||"",B=f.getConfig(),Q=this.em.getZoomDecimal(),X=w.el||"";if(!B.showOffsets||(0,k.isTextNode)(X)||!B.showOffsetsSelected&&j=="Fixed")f.stopCommand(this.id,v);else{var te=f.Canvas,J=function(gt){for(var lt=1;lt<arguments.length;lt++){var Zt=arguments[lt]!=null?arguments[lt]:{};lt%2?d(Object(Zt),!0).forEach(function(Lt){(0,O.Z)(gt,Lt,Zt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(gt,Object.getOwnPropertyDescriptors(Zt)):d(Object(Zt)).forEach(function(Lt){Object.defineProperty(gt,Lt,Object.getOwnPropertyDescriptor(Zt,Lt))})}return gt}({},w.elPos||te.getElementPos(X));(0,p.isUndefined)(w.top)||(J.top=w.top),(0,p.isUndefined)(w.left)||(J.left=w.left);var U=window.getComputedStyle(X),se=this.ppfx,me=j+"State",ce=te[this.getOffsetMethod(j)](v.view);ce.style.opacity="";var D=this["marginT"+j],L=this["marginB"+j],I=this["marginL"+j],re=this["marginR"+j],ne=this["padT"+j],z=this["padB"+j],Y=this["padL"+j],u=this["padR"+j];if(ce.childNodes.length&&(this[me]="1",D=ce.querySelector("[data-offset-m-t]"),L=ce.querySelector("[data-offset-m-b]"),I=ce.querySelector("[data-offset-m-l]"),re=ce.querySelector("[data-offset-m-r]"),ne=ce.querySelector("[data-offset-p-t]"),z=ce.querySelector("[data-offset-p-b]"),Y=ce.querySelector("[data-offset-p-l]"),u=ce.querySelector("[data-offset-p-r]")),!this[me]){var y=j.toLowerCase(),g=y+"margin-v",m=y+"padding-v",$=S('<div class="'.concat(se,'marginName">')).get(0),ae=S('<div class="'.concat(se,'paddingName">')).get(0),K=se+m+"-el",F="".concat(se+g+"-el"," ").concat(se+g),b="".concat(K," ").concat(se+m);D=S('<div class="'.concat(F,'-top"></div>')).get(0),L=S('<div class="'.concat(F,'-bottom"></div>')).get(0),I=S('<div class="'.concat(F,'-left"></div>')).get(0),re=S('<div class="'.concat(F,'-right"></div>')).get(0),ne=S('<div class="'.concat(b,'-top"></div>')).get(0),z=S('<div class="'.concat(b,'-bottom"></div>')).get(0),Y=S('<div class="'.concat(b,'-left"></div>')).get(0),u=S('<div class="'.concat(b,'-right"></div>')).get(0),this["marginT"+j]=D,this["marginB"+j]=L,this["marginL"+j]=I,this["marginR"+j]=re,this["padT"+j]=ne,this["padB"+j]=z,this["padL"+j]=Y,this["padR"+j]=u,$.appendChild(D),$.appendChild(L),$.appendChild(I),$.appendChild(re),ae.appendChild(ne),ae.appendChild(z),ae.appendChild(Y),ae.appendChild(u),ce.appendChild($),ce.appendChild(ae),this[me]="1"}var h="px",V=parseFloat(U.marginLeft.replace(h,""))*Q,M=parseFloat(U.marginRight.replace(h,""))*Q,T=parseFloat(U.marginTop.replace(h,""))*Q,P=parseFloat(U.marginBottom.replace(h,""))*Q,c=D.style,ee=L.style,q=I.style,E=re.style,R=ne.style,ue=z.style,be=Y.style,N=u.style,oe=parseFloat(J.left),de=parseFloat(U.width)*Q+h;c.height=T+h,c.width=de,c.top=J.top-T+h,c.left=oe+h,ee.height=P+h,ee.width=de,ee.top=J.top+J.height+h,ee.left=oe+h;var Ce=J.height+T+P+h,we=J.top-T+h;q.height=Ce,q.width=V+h,q.top=we,q.left=oe-V+h,E.height=Ce,E.width=M+h,E.top=we,E.left=oe+J.width+h;var Ae=parseFloat(U.paddingTop)*Q;R.height=Ae+h;var _e=parseFloat(U.paddingBottom)*Q;ue.height=_e+h;var Ne=J.height-_e-Ae+h,Je=J.top+Ae+h;be.height=Ne,be.width=parseFloat(U.paddingLeft)*Q+h,be.top=Je;var tt=parseFloat(U.paddingRight)*Q;N.height=Ne,N.width=tt+h,N.top=Je}},stop:function(f,l){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},w=v||{},j=w.state||"",B=this.getOffsetMethod(j),Q=f.Canvas,X=Q[B](v.view);X.style.opacity=0}}},8352:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>H});var O=s(9050);const H={init:function(){(0,O.bindAll)(this,"_onFramesChange")},run:function(A){this.toggleVis(A)},stop:function(A){this.toggleVis(A,0)},toggleVis:function(A){var p=this,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(!A.Commands.isActive("preview")){var d=A.Canvas,S=k?"on":"off";d.getFrames().forEach(function(x){return p._upFrame(x,k)}),d.getModel()[S]("change:frames",this._onFramesChange)}},_onFramesChange:function(A,p){var k=this;p.forEach(function(d){return d.once("loaded",function(){return k._upFrame(d,!0)})})},_upFrame:function(A,p){var k=p?"add":"remove";A.view.getBody().classList[k]("".concat(this.ppfx,"dashed"))}}},9304:(ge,ie,s)=>{s.d(ie,{Z:()=>S});var O=s(4942),H=s(2982),A=s(9050),p=s(1163);function k(x,f){var l=Object.keys(x);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(x);f&&(v=v.filter(function(w){return Object.getOwnPropertyDescriptor(x,w).enumerable})),l.push.apply(l,v)}return l}function d(x){for(var f=1;f<arguments.length;f++){var l=arguments[f]!=null?arguments[f]:{};f%2?k(Object(l),!0).forEach(function(v){(0,O.Z)(x,v,l[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(l)):k(Object(l)).forEach(function(v){Object.defineProperty(x,v,Object.getOwnPropertyDescriptor(l,v))})}return x}const S={getConfig:function(x){return this.__getConfig(x)},getProjectData:function(x){var f={},l=this.storageKey;return l&&(f[l]=x||this.getAll()),f},loadProjectData:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=f.all,v=f.onResult,w=f.reset,j=this.storageKey,B={action:"load"},Q=l||this.getAll(),X=x[j];if(typeof X=="string")try{X=JSON.parse(X)}catch{this.__logWarn("Data parsing failed",{input:X})}return w&&X&&Q.reset(null,B),v?X&&v(X,B):X&&(0,p.isDef)(X.length)&&Q.reset(X,B),X},clear:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=this.all;return f&&f.reset(null,x),this},__getConfig:function(x){var f=this.config||{};return x?f[x]:f},getAll:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.all?x.array?(0,H.Z)(this.all.models):this.all:[]},getAllMap:function(){return this.getAll().reduce(function(x,f){return x[f.get(f.idAttribute)]=f,x},{})},__initConfig:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.config=(0,p.deepMerge)(x,f),this.em=this.config.em,this.cls=[]},__initListen:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=this.all,l=this.em,v=this.events;f&&l&&f.on("add",function(w,j,B){return l.trigger(v.add,w,B)}).on("remove",function(w,j,B){return l.trigger(v.remove,w,B)}).on("change",function(w,j){return l.trigger(v.update,w,w.changedAttributes(),j)}).on("all",this.__catchAllEvent,this),this.cls=[f].concat(x.collections||[]),(x.propagate||[]).forEach(function(w){var j=w.entity,B=w.event;j.on("all",function(Q,X,te,J){var U=d({event:Q},J||te);[l,f].map(function(se){return se.trigger(B,X,U)})})})},__remove:function(x){var f=this,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=this.em,w=(0,A.isString)(x)?this.get(x):x,j=function(){return w&&f.all.remove(w,l),w};return!l.silent&&v&&v.trigger(this.events.removeBefore,w,j,l),!l.abort&&j()},__catchAllEvent:function(x,f,l,v){var w=this.em,j=this.events,B=v||l;w&&j.all&&w.trigger(j.all,{event:x,model:f,options:B}),this.__onAllEvent()},__appendTo:function(){var x=this.getConfig().appendTo;if(x){var f=(0,A.isElement)(x)?x:document.querySelector(x);if(!f)return this.__logWarn('"appendTo" element not found');f.appendChild(this.render())}},__onAllEvent:function(){},__logWarn:function(x,f){this.em.logWarning("[".concat(this.name,"]: ").concat(x),f)},_createId:function(){var x,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,l=this.getAll(),v=l.length+f,w=this.getAllMap();do x=(0,p.createId)(v);while(w[x]);return x},__listenAdd:function(x,f){var l=this;x.on("add",function(v,w,j){return l.em.trigger(f,v,j)})},__listenRemove:function(x,f){var l=this;x.on("remove",function(v,w,j){return l.em.trigger(f,v,j)})},__listenUpdate:function(x,f){var l=this;x.on("change",function(v,w){return l.em.trigger(f,v,v.changedAttributes(),w)})},__destroy:function(){var x;this.cls.forEach(function(f){f.stopListening(),f.reset()}),this.em=0,this.config=0,(x=this.view)===null||x===void 0||x.remove(),this.view=0}}},672:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>Y});var O=s(2982),H=s(5671),A=s(3144),p=s(7326),k=s(9340),d=s(2963),S=s(1120),x=s(4942),f=s(9050),l=s(1163),v=s(9714),w=s(966),j=s(5963);const B={stylePrefix:"css-",rules:[],onBeforeStyle:null};var Q=s(2316),X=s(9524),te=s(8795);function J(u,y){var g=Object.keys(u);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(u);y&&(m=m.filter(function($){return Object.getOwnPropertyDescriptor(u,$).enumerable})),g.push.apply(g,m)}return g}function U(u){for(var y=1;y<arguments.length;y++){var g=arguments[y]!=null?arguments[y]:{};y%2?J(Object(g),!0).forEach(function(m){(0,x.Z)(u,m,g[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(g)):J(Object(g)).forEach(function(m){Object.defineProperty(u,m,Object.getOwnPropertyDescriptor(g,m))})}return u}function se(u){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,m=(0,S.Z)(u);if(y){var $=(0,S.Z)(this).constructor;g=Reflect.construct(m,arguments,$)}else g=m.apply(this,arguments);return(0,d.Z)(this,g)}}var me=((0,l.hasWin)()?window:{}).CSS,ce=function(u){(0,k.Z)(g,u);var y=se(g);function g(){return(0,H.Z)(this,g),y.apply(this,arguments)}return(0,A.Z)(g,[{key:"defaults",value:function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}}},{key:"initialize",value:function(m){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.config=m||{},this.opt=$,this.em=$.em,this.ensureSelectors(),this.on("change",this.__onChange)}},{key:"__onChange",value:function(m,$){var ae=this.em,K=this.changedAttributes();!(0,l.isEmptyObj)(K)&&ae&&ae.changesUp($)}},{key:"clone",value:function(){var m=U({},this.opt),$=U({},this.attributes);return $.selectors=this.get("selectors").map(function(ae){return ae.clone()}),new this.constructor($,m)}},{key:"ensureSelectors",value:function(m,$,ae){var K=this.em,F=K&&K.get("SelectorManager"),b=[this,"change:selectors",this.ensureSelectors],h=this.getSelectors();if(this.stopListening.apply(this,b),h.models&&(h=(0,O.Z)(h.models)),h=(0,f.isString)(h)?[h]:h,Array.isArray(h)){var V=h.filter(function(M){return M}).map(function(M){return F?F.add(M):M});h=new w.Z(V)}this.set("selectors",h,ae),this.listenTo.apply(this,b)}},{key:"getAtRule",value:function(){var m=this.get("atRuleType"),$=this.get("mediaText"),ae=m?"@".concat(m):$?"@media":"";return ae+($&&ae?" ".concat($):"")}},{key:"selectorsToString",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=[],ae=this.get("state"),K=this.get("selectorsAdd"),F={escape:function(V){return me&&me.escape?me.escape(V):V}},b=this.get("selectors").getFullString(0,F),h=ae&&!m.skipState?":".concat(ae):"";return b&&$.push("".concat(b).concat(h)),K&&!m.skipAdd&&$.push(K),$.join(", ")}},{key:"getDeclaration",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$="",ae=this.attributes.important,K=this.selectorsToString(m),F=this.styleToString(U({important:ae},m)),b=this.get("singleAtRule");return(K||b)&&(F||m.allowEmpty)&&($=b?F:"".concat(K,"{").concat(F,"}")),$}},{key:"getDevice",value:function(){var m=this.em,$=this.attributes,ae=$.atRuleType,K=$.mediaText,F=(m==null?void 0:m.get("DeviceManager").getDevices())||[],b=F.filter(function(h){return h.getWidthMedia()===""})[0];return ae==="media"&&K?F.filter(function(h){return h.getWidthMedia()===(0,te.U)(K)})[0]||null:b||null}},{key:"getState",value:function(){var m=this.em,$=this.get("state");return(m.get("SelectorManager").getStates()||[]).filter(function(ae){return ae.getName()===$})[0]||null}},{key:"getComponent",value:function(){var m,$=this.getSelectors(),ae=$.length==1&&$.at(0),K=ae&&ae.isId()&&ae.get("name");return K&&((m=this.em)===null||m===void 0?void 0:m.get("DomComponents").getById(K))||null}},{key:"toCSS",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$="",ae=this.getAtRule(),K=this.getDeclaration(m);return(K||m.allowEmpty)&&($=K),ae&&$&&($="".concat(ae,"{").concat($,"}")),$}},{key:"toJSON",value:function(){for(var m=arguments.length,$=new Array(m),ae=0;ae<m;ae++)$[ae]=arguments[ae];var K=Q.Model.prototype.toJSON.apply(this,$);if(this.em.getConfig().avoidDefaults){var F=this.defaults();(0,f.forEach)(F,function(b,h){K[h]===b&&delete K[h]}),delete K.style.__p,(0,f.isEmpty)(K.selectors)&&delete K.selectors,(0,f.isEmpty)(K.style)&&delete K.style}return K}},{key:"compare",value:function(m,$,ae){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},F=$||"",b=ae||"",h=K.selectorsAdd||"",V=K.atRuleType||"",M=(0,f.isArray)(m)||m.models?m.models||m:[m];b&&!V&&(V="media");var T=M.map(function(q){return q.getFullName()}),P=this.get("selectors").map(function(q){return q.getFullName()}),c=T.slice().sort(),ee=P.slice().sort();return!(T.length!==P.length||!c.every(function(q,E){return q===ee[E]}))&&this.get("state")===F&&this.get("mediaText")===b&&this.get("selectorsAdd")===h&&this.get("atRuleType")===V}}]),g}(X.Z);function D(u){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,m=(0,S.Z)(u);if(y){var $=(0,S.Z)(this).constructor;g=Reflect.construct(m,arguments,$)}else g=m.apply(this,arguments);return(0,d.Z)(this,g)}}var L=function(u){(0,k.Z)(g,u);var y=D(g);function g(){return(0,H.Z)(this,g),y.apply(this,arguments)}return(0,A.Z)(g,[{key:"initialize",value:function(m,$){var ae=this;$&&$.em&&(this.editor=$.em),setTimeout(function(){ae.on("remove",ae.onRemove),ae.on("add",ae.onAdd)})}},{key:"toJSON",value:function(m){return Q.Collection.prototype.toJSON.call(this,m).filter(function($){return $.style&&!$.shallow})}},{key:"onAdd",value:function(m,$,ae){m.ensureSelectors(m,$,ae)}},{key:"onRemove",value:function(m){var $=this.editor;$.stopListening(m),$.get("UndoManager").remove(m)}},{key:"add",value:function(m){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof m=="string"&&(m=this.editor.get("Parser").parseCss(m)),$.em=this.editor,Q.Collection.prototype.add.apply(this,[m,$])}}]),g}(Q.Collection);L.prototype.model=ce;var I=s(4868);function re(u,y){var g=Object.keys(u);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(u);y&&(m=m.filter(function($){return Object.getOwnPropertyDescriptor(u,$).enumerable})),g.push.apply(g,m)}return g}function ne(u){for(var y=1;y<arguments.length;y++){var g=arguments[y]!=null?arguments[y]:{};y%2?re(Object(g),!0).forEach(function(m){(0,x.Z)(u,m,g[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(g)):re(Object(g)).forEach(function(m){Object.defineProperty(u,m,Object.getOwnPropertyDescriptor(g,m))})}return u}function z(u){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,m=(0,S.Z)(u);if(y){var $=(0,S.Z)(this).constructor;g=Reflect.construct(m,arguments,$)}else g=m.apply(this,arguments);return(0,d.Z)(this,g)}}var Y=function(u){(0,k.Z)(g,u);var y=z(g);function g(){var m;(0,H.Z)(this,g);for(var $=arguments.length,ae=new Array($),K=0;K<$;K++)ae[K]=arguments[K];return m=y.call.apply(y,[this].concat(ae)),(0,x.Z)((0,p.Z)(m),"Selectors",w.Z),(0,x.Z)((0,p.Z)(m),"name","CssComposer"),(0,x.Z)((0,p.Z)(m),"storageKey","styles"),m}return(0,A.Z)(g,[{key:"getConfig",value:function(){return this.c}},{key:"init",value:function(m){for(var $ in this.c=m||{},B)$ in this.c||(this.c[$]=B[$]);var ae=this.c.pStylePrefix;ae&&(this.c.stylePrefix=ae+this.c.stylePrefix);var K=this.c.em&&this.c.em.config.style||"";return this.c.rules=K||this.c.rules,this.em=this.c.em,this.rules=new L([],this.c),this}},{key:"onLoad",value:function(){this.rules.add(this.c.rules,{silent:1})}},{key:"postLoad",value:function(){var m,$=(m=this.em)===null||m===void 0?void 0:m.get("UndoManager");$&&$.add(this.getAll())}},{key:"store",value:function(){return this.getProjectData()}},{key:"load",value:function(m){return this.loadProjectData(m)}},{key:"add",value:function(m,$,ae){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},F=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},b=$||"",h=ae||"",V=ne({},K),M=this.get(m,b,h,V);return M&&M.config&&!M.config.singleAtRule||(V.state=b,V.mediaText=h,V.selectors=[],h&&(V.atRuleType="media"),(M=new ce(V,this.c)).get("selectors").add(m,F),this.rules.add(M,F)),M}},{key:"get",value:function(m,$,ae,K){var F=m;if((0,f.isString)(m)){var b=this.em.get("SelectorManager"),h=m.split(",")[0].trim(),V=this.em.get("Parser").parserCss.checkNode({selectors:h})[0];F=b.get(V.selectors)}return this.rules.find(function(M){return M.compare(F,$,ae,K)})||null}},{key:"getAll",value:function(){return this.rules}},{key:"addCollection",value:function(m){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},K=[];(0,f.isString)(m)&&(m=this.em.get("Parser").parseCss(m));for(var F=m instanceof Array?m:[m],b=0,h=F.length;b<h;b++){var V,M=F[b]||{};if(M.selectors){var T=(V=this.em)===null||V===void 0?void 0:V.get("SelectorManager");T||console.warn("Selector Manager not found");for(var P=M.selectors,c=P instanceof Array?P:[P],ee=[],q=0,E=c.length;q<E;q++){var R=T.add(c[q]);ee.push(R)}var ue=this.get(ee,M.state,M.mediaText,M),be=this.add(ee,M.state,M.mediaText,M,$),N=!ue||!$.avoidUpdateStyle,oe=M.style||{};if((0,l.isObject)(ae)&&be.set(ae,$),N){var de=$.extend?ne(ne({},be.get("style")),oe):oe;be.set("style",de,$)}K.push(be)}}return K}},{key:"addRules",value:function(m){return this.addCollection(m)}},{key:"setRule",value:function(m,$){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},K=ae.atRuleType,F=ae.atRuleParams,b=this.em.get("Parser").parserCss.checkNode({selectors:m,style:$})[0],h=b.state,V=b.selectorsAdd,M=this.em.get("SelectorManager"),T=M.add(b.selectors),P=this.add(T,h,F,{selectorsAdd:V,atRule:K});return P.setStyle($,ae),P}},{key:"getRule",value:function(m){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=this.em.get("SelectorManager"),K=this.em.get("Parser").parserCss.checkNode({selectors:m})[0],F=ae.get(K.selectors),b=K.state,h=K.selectorsAdd,V=$.atRuleType,M=$.atRuleParams;return F&&this.get(F,b,M,{selectorsAdd:h,atRule:V})}},{key:"getRules",value:function(m){var $=this.getAll();if(!m)return(0,O.Z)($.models);var ae={sort:!0},K=(0,f.isString)(m)?m.split(",").map(function(F){return F.trim()}):m;return $.filter(function(F){return K.indexOf(F.getSelectors().getFullString(null,ae))>=0})}},{key:"setIdRule",value:function(m){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},K=ae.addOpts,F=K===void 0?{}:K,b=ae.mediaText,h=ae.state||"",V=(0,f.isUndefined)(b)?this.em.getCurrentMedia():b,M=this.em.get("SelectorManager"),T=M.add({name:m,type:j.Z.TYPE_ID},F),P=this.add(T,h,V,{},F);return P.setStyle($,ne(ne({},ae),F)),P}},{key:"getIdRule",value:function(m){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=$.mediaText,K=$.state||"",F=(0,f.isUndefined)(ae)?this.em.getCurrentMedia():ae,b=this.em.get("SelectorManager").get(m,j.Z.TYPE_ID);return b&&this.get(b,K,F)}},{key:"setClassRule",value:function(m){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},K=ae.state||"",F=ae.mediaText||this.em.getCurrentMedia(),b=this.em.get("SelectorManager"),h=b.add({name:m,type:j.Z.TYPE_CLASS}),V=this.add(h,K,F);return V.setStyle($,ae),V}},{key:"getClassRule",value:function(m){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=$.state||"",K=$.mediaText||this.em.getCurrentMedia(),F=this.em.get("SelectorManager").get(m,j.Z.TYPE_CLASS);return F&&this.get(F,ae,K)}},{key:"remove",value:function(m,$){var ae=(0,f.isString)(m)?this.getRules(m):m,K=this.getAll().remove(ae,$);return(0,f.isArray)(K)?K:[K]}},{key:"clear",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.getAll().reset(null,m),this}},{key:"getComponentRules",value:function(m){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=$.state,K=$.mediaText,F=$.current;F&&(ae=this.em.get("state")||"",K=this.em.getCurrentMedia());var b=m.getId(),h=this.getAll().filter(function(V){if(((0,f.isUndefined)(ae)||V.get("state")===ae)&&((0,f.isUndefined)(K)||V.get("mediaText")===K))return V.getSelectorsString()==="#".concat(b)});return h}},{key:"render",value:function(){var m;return(m=this.rulesView)===null||m===void 0||m.remove(),this.rulesView=new I.Z({collection:this.rules,config:this.c}),this.rulesView.render().el}},{key:"destroy",value:function(){var m;this.rules.reset(),this.rules.stopListening(),(m=this.rulesView)===null||m===void 0||m.remove(),[this.em,this.rules,this.rulesView].forEach(function($){return null}),this.c={}}}]),g}(v.Z)},4868:(ge,ie,s)=>{s.d(ie,{Z:()=>B});var O=s(5671),H=s(3144),A=s(9340),p=s(2963),k=s(1120),d=s(2316),S=s(9283);function x(Q){var X=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var te,J=(0,k.Z)(Q);if(X){var U=(0,k.Z)(this).constructor;te=Reflect.construct(J,arguments,U)}else te=J.apply(this,arguments);return(0,p.Z)(this,te)}}var f=function(Q){(0,A.Z)(te,Q);var X=x(te);function te(){return(0,O.Z)(this,te),X.apply(this,arguments)}return(0,H.Z)(te,[{key:"tagName",value:function(){return"style"}},{key:"initialize",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.config=J.config||{};var U=this.model;this.listenTo(U,"change",this.render),this.listenTo(U,"destroy remove",this.remove),this.listenTo(U.get("selectors"),"change",this.render)}},{key:"render",value:function(){var J=this.model,U=this.el,se=J.get("important");return U.innerHTML=J.toCSS({important:se}),this}}]),te}(d.View);function l(Q){var X=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var te,J=(0,k.Z)(Q);if(X){var U=(0,k.Z)(this).constructor;te=Reflect.construct(J,arguments,U)}else te=J.apply(this,arguments);return(0,p.Z)(this,te)}}var v=function(Q){(0,A.Z)(te,Q);var X=l(te);function te(){return(0,O.Z)(this,te),X.apply(this,arguments)}return(0,H.Z)(te,[{key:"_createElement",value:function(){return document.createTextNode("")}},{key:"render",value:function(){var J=this.model,U=J.get("important");return this.el.textContent=J.getDeclaration({important:U}),this}}]),te}(f);function w(Q){var X=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var te,J=(0,k.Z)(Q);if(X){var U=(0,k.Z)(this).constructor;te=Reflect.construct(J,arguments,U)}else te=J.apply(this,arguments);return(0,p.Z)(this,te)}}var j=function(Q,X){return"".concat(Q).concat(X?"-".concat(parseFloat(X)):"")},B=function(Q){(0,A.Z)(te,Q);var X=w(te);function te(){return(0,O.Z)(this,te),X.apply(this,arguments)}return(0,H.Z)(te,[{key:"initialize",value:function(J){var U=J.config||{};this.atRules={},this.config=U,this.em=U.em,this.pfx=U.stylePrefix||"",this.className=this.pfx+"rules";var se=this.collection;this.listenTo(se,"add",this.addTo),this.listenTo(se,"reset",this.render)}},{key:"addTo",value:function(J){this.addToCollection(J)}},{key:"addToCollection",value:function(J,U){if(this.renderStarted){var se,me,ce=U||null,D={model:J,config:this.config};if(J.get("atRuleType")==="keyframes"){var L=J.getAtRule(),I=this.atRules[L];if(!I){var re=document.createElement("style");I=document.createTextNode(""),re.appendChild(document.createTextNode("".concat(L,"{"))),re.appendChild(I),re.appendChild(document.createTextNode("}")),this.atRules[L]=I,se=re}me=new v(D),I.appendData(me.render().el.textContent)}else se=(me=new f(D)).render().el;var ne=this.className,z=J.get("mediaText"),Y=j(ne),u=Y;if(z&&(u=j(ne,this.getMediaWidth(z))),se){var y,g=ce||this.el;try{y=g.querySelector("#".concat(u))}catch{}y||(y=g.querySelector("#".concat(Y))),y.appendChild(se)}return se}}},{key:"getMediaWidth",value:function(J){return J&&J.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")}},{key:"render",value:function(){var J=this;this.renderStarted=1,this.atRules={};var U=this.em,se=this.$el,me=this.className,ce=this.collection,D=document.createDocumentFragment();se.empty();var L=U.get("DeviceManager").getAll().pluck("priority");return L.every(function(I){return I})&&L.unshift(0),L.forEach(function(I){return D.appendChild((0,S.ut)("div",{id:j(me,I)}))}),ce.each(function(I){return J.addToCollection(I,D)}),se.append(D),se.attr("class",me),this}}]),te}(d.View)},2004:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>$,evAdd:()=>Y,evAddBefore:()=>u,evAll:()=>L,evPfx:()=>I,evRemove:()=>y,evRemoveBefore:()=>g,evSelect:()=>re,evSelectBefore:()=>ne,evUpdate:()=>z});var O=s(5671),H=s(3144),A=s(7326),p=s(9340),k=s(2963),d=s(1120),S=s(4942),x=s(9050),f=s(9714);const l={default:null,devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]};var v=s(2316);function w(ae){var K=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,b=(0,d.Z)(ae);if(K){var h=(0,d.Z)(this).constructor;F=Reflect.construct(b,arguments,h)}else F=b.apply(this,arguments);return(0,k.Z)(this,F)}}var j=function(ae){(0,p.Z)(F,ae);var K=w(F);function F(){return(0,O.Z)(this,F),K.apply(this,arguments)}return(0,H.Z)(F,[{key:"defaults",value:function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}}},{key:"initialize",value:function(){var b=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0),["width","height","widthMedia"].forEach(function(h){return b.checkUnit(h)})}},{key:"checkUnit",value:function(b){var h=this.get(b)||"";(parseFloat(h)||0).toString()===h.toString()&&this.set(b,"".concat(h,"px"))}},{key:"getName",value:function(){return this.get("name")||this.get("id")}},{key:"getWidthMedia",value:function(){return this.get("widthMedia")||""}}]),F}(v.Model);function B(ae){var K=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,b=(0,d.Z)(ae);if(K){var h=(0,d.Z)(this).constructor;F=Reflect.construct(b,arguments,h)}else F=b.apply(this,arguments);return(0,k.Z)(this,F)}}var Q=function(ae){(0,p.Z)(F,ae);var K=B(F);function F(){return(0,O.Z)(this,F),K.apply(this,arguments)}return(0,H.Z)(F,[{key:"comparator",value:function(b,h){var V=Number.MAX_VALUE;return(h.get("priority")||V)-(b.get("priority")||V)}},{key:"getSorted",value:function(){return this.sort()}}]),F}(v.Collection);Q.prototype.model=j;var X,te=s(168),J=s(7539);function U(ae){var K=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,b=(0,d.Z)(ae);if(K){var h=(0,d.Z)(this).constructor;F=Reflect.construct(b,arguments,h)}else F=b.apply(this,arguments);return(0,k.Z)(this,F)}}var se=function(ae){(0,p.Z)(F,ae);var K=U(F);function F(){return(0,O.Z)(this,F),K.apply(this,arguments)}return(0,H.Z)(F,[{key:"template",value:function(b){var h=b.ppfx,V=b.label;return(0,J.Z)(X||(X=(0,te.Z)([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp">+</button>
    `])),h,V,h,h,h,h,h,h,h)}},{key:"events",value:function(){return{change:"updateDevice"}}},{key:"initialize",value:function(b){this.config=b.config||{},this.em=this.config.em,this.ppfx=this.config.pStylePrefix||"",this.events["click ."+this.ppfx+"add-trasp"]=this.startAdd,this.listenTo(this.em,"change:device",this.updateSelect),this.delegateEvents()}},{key:"startAdd",value:function(){}},{key:"updateDevice",value:function(){var b=this.em;if(b){var h=this.devicesEl,V=h?h.val():"";b.set("device",V)}}},{key:"updateSelect",value:function(){var b=this.em,h=this.devicesEl;if(b&&b.getDeviceModel&&h){var V=b.getDeviceModel(),M=V?V.get("id"):"";h.val(M)}}},{key:"getOptions",value:function(){var b=this.collection,h=this.em,V="";return b.each(function(M){var T=M.attributes,P=T.name,c=T.id,ee=h&&h.t&&h.t("deviceManager.devices.".concat(c))||P;V+='<option value="'.concat(c||P,'">').concat(ee,"</option>")}),V}},{key:"render",value:function(){var b=this.em,h=this.ppfx,V=this.$el,M=this.el,T=b&&b.t&&b.t("deviceManager.device");return V.html(this.template({ppfx:h,label:T})),this.devicesEl=V.find(".".concat(h,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(b.get("device")),M.className="".concat(h,"devices-c"),this}}]),F}(v.View);function me(ae,K){var F=Object.keys(ae);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(ae);K&&(b=b.filter(function(h){return Object.getOwnPropertyDescriptor(ae,h).enumerable})),F.push.apply(F,b)}return F}function ce(ae){for(var K=1;K<arguments.length;K++){var F=arguments[K]!=null?arguments[K]:{};K%2?me(Object(F),!0).forEach(function(b){(0,S.Z)(ae,b,F[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(F)):me(Object(F)).forEach(function(b){Object.defineProperty(ae,b,Object.getOwnPropertyDescriptor(F,b))})}return ae}function D(ae){var K=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,b=(0,d.Z)(ae);if(K){var h=(0,d.Z)(this).constructor;F=Reflect.construct(b,arguments,h)}else F=b.apply(this,arguments);return(0,k.Z)(this,F)}}var L="device",I="".concat(L,":"),re="".concat(I,"select"),ne="".concat(re,":before"),z="".concat(I,"update"),Y="".concat(I,"add"),u="".concat(Y,":before"),y="".concat(I,"remove"),g="".concat(y,":before"),m="change:device",$=function(ae){(0,p.Z)(F,ae);var K=D(F);function F(){var b;(0,O.Z)(this,F);for(var h=arguments.length,V=new Array(h),M=0;M<h;M++)V[M]=arguments[M];return b=K.call.apply(K,[this].concat(V)),(0,S.Z)((0,A.Z)(b),"name","DeviceManager"),(0,S.Z)((0,A.Z)(b),"Device",j),(0,S.Z)((0,A.Z)(b),"Devices",Q),(0,S.Z)((0,A.Z)(b),"events",{all:L,select:re,update:z,add:Y,remove:y,removeBefore:g}),b}return(0,H.Z)(F,[{key:"init",value:function(){var b=this,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.c=ce(ce({},l),h);var V=this.c.em;return this.devices=new Q,this.c.devices.forEach(function(M){return b.add(M)}),this.em=V,this.all=this.devices,this.select(this.c.default||this.devices.at(0)),this.__initListen(),V.on(m,this._onSelect,this),this}},{key:"_onSelect",value:function(b,h,V){var M=this.em,T=this.events,P=b.previous("device"),c=this.get(h),ee=T.select;M.trigger(ee,c,this.get(P)),this.__catchAllEvent(ee,c,V)}},{key:"add",value:function(b){var h,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=V;if((0,x.isString)(b)){var T=V;h=ce(ce({},M=arguments[2]||{}),{},{id:b,name:M.name||b,width:T})}else h=b;return h.id||(h.id=h.name||this._createId()),this.devices.add(h,M)}},{key:"get",value:function(b){return this.getAll().filter(function(h){return h.get("name")===b})[0]||this.devices.get(b)||null}},{key:"remove",value:function(b){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.__remove(b,h)}},{key:"getDevices",value:function(){return this.devices.models}},{key:"select",value:function(b){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=(0,x.isString)(b)?this.get(b):b;return V&&this.em.set("device",V.get("id"),h),this}},{key:"getSelected",value:function(){return this.get(this.em.get("device"))}},{key:"getAll",value:function(){return this.devices}},{key:"render",value:function(){var b;return(b=this.view)===null||b===void 0||b.remove(),this.view=new se({collection:this.devices,config:this.c}),this.view.render().el}},{key:"destroy",value:function(){var b;this.devices.stopListening(),this.devices.reset(),(b=this.view)===null||b===void 0||b.remove(),[this.devices,this.view].forEach(function(h){return null}),this.c={}}}]),F}(f.Z)},7375:(ge,ie,s)=>{s.d(ie,{ZP:()=>F,OA:()=>y,GN:()=>ae,xH:()=>K});var O=s(1002),H=s(2982),A=s(885),p=s(4942),k=s(5671),d=s(3144),S=s(1120);function x(b,h){for(;!Object.prototype.hasOwnProperty.call(b,h)&&(b=(0,S.Z)(b))!==null;);return b}function f(){return f=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(b,h,V){var M=x(b,h);if(M){var T=Object.getOwnPropertyDescriptor(M,h);return T.get?T.get.call(arguments.length<3?b:V):T.value}},f.apply(this,arguments)}var l=s(9340),v=s(2963),w=s(9050),j=s(1163),B=s(9524),Q=s(2316),X=s(8431),te=s(5963),J=s(966);function U(b,h){var V=Object.keys(b);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(b);h&&(M=M.filter(function(T){return Object.getOwnPropertyDescriptor(b,T).enumerable})),V.push.apply(V,M)}return V}function se(b){for(var h=1;h<arguments.length;h++){var V=arguments[h]!=null?arguments[h]:{};h%2?U(Object(V),!0).forEach(function(M){(0,p.Z)(b,M,V[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(V)):U(Object(V)).forEach(function(M){Object.defineProperty(b,M,Object.getOwnPropertyDescriptor(V,M))})}return b}function me(b){var h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var V,M=(0,S.Z)(b);if(h){var T=(0,S.Z)(this).constructor;V=Reflect.construct(M,arguments,T)}else V=M.apply(this,arguments);return(0,v.Z)(this,V)}}var ce=function(b){(0,l.Z)(V,b);var h=me(V);function V(){return(0,k.Z)(this,V),h.apply(this,arguments)}return(0,d.Z)(V,[{key:"initialize",value:function(){var M=this.attributes,T=M.target,P=M.name,c=M.changeProp;if(!this.get("id")&&this.set("id",P),T){this.target=T,this.unset("target");var ee=c?"change:".concat(P):"change:attributes:".concat(P);this.listenTo(T,ee,this.targetUpdated)}}},{key:"getId",value:function(){return this.get("id")}},{key:"getType",value:function(){return this.get("type")}},{key:"getName",value:function(){return this.get("name")}},{key:"getLabel",value:function(){var M,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=T.locale,c=P===void 0||P,ee=this.getId(),q=this.get("label")||this.getName();return c&&((M=this.em)===null||M===void 0?void 0:M.t("traitManager.traits.labels.".concat(ee)))||q}},{key:"getValue",value:function(){return this.getTargetValue()}},{key:"setValue",value:function(M){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P={};T.partial&&(P.avoidStore=!0),this.setTargetValue(M,P),T.partial===!1&&(this.setTargetValue(""),this.setTargetValue(M))}},{key:"props",value:function(){return this.attributes}},{key:"targetUpdated",value:function(){var M,T=this.getTargetValue();this.set({value:T},{fromTarget:1}),(M=this.em)===null||M===void 0||M.trigger("trait:update",{trait:this,component:this.target})}},{key:"getTargetValue",value:function(){var M,T=this.get("name"),P=this.target;return M=this.get("changeProp")?P.get(T):P.getAttributes()[T],(0,w.isUndefined)(M)?"":M}},{key:"setTargetValue",value:function(M){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=this.target,c=this.get("name");if(!(0,w.isUndefined)(M)){var ee=M;if(M==="false"?ee=!1:M==="true"&&(ee=!0),this.get("changeProp"))P.set(c,ee,T);else{var q=se({},P.get("attributes"));q[c]=ee,P.set("attributes",q,T)}}}},{key:"setValueFromInput",value:function(M){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c={value:M};this.set(c,se(se({},P),{},{avoidStore:1})),T&&(this.set("value","",P),this.set(c,P))}},{key:"getInitValue",value:function(){var M,T=this.target,P=this.get("name");if(T){var c=T.get("attributes");M=this.get("changeProp")?T.get(P):c[P]}return M||this.get("value")||this.get("default")}}]),V}(Q.Model);ce.prototype.defaults={type:"text",label:"",name:"",min:"",max:"",unit:"",step:1,value:"",target:"",default:"",placeholder:"",changeProp:0,options:[]};function D(b){var h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var V,M=(0,S.Z)(b);if(h){var T=(0,S.Z)(this).constructor;V=Reflect.construct(M,arguments,T)}else V=M.apply(this,arguments);return(0,v.Z)(this,V)}}var L,I=function(b){(0,l.Z)(V,b);var h=D(V);function V(){return(0,k.Z)(this,V),h.apply(this,arguments)}return(0,d.Z)(V,[{key:"initialize",value:function(M){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.em=T.em,this.listenTo(this,"add",this.handleAdd),this.listenTo(this,"reset",this.handleReset)}},{key:"handleReset",value:function(M){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=T.previousModels,c=P===void 0?[]:P;c.forEach(function(ee){return ee.trigger("remove")})}},{key:"handleAdd",value:function(M){M.em=this.em;var T=this.target;T&&(M.target=T)}},{key:"setTarget",value:function(M){this.target=M}},{key:"add",value:function(M,T){var P=this.em;if((0,w.isString)(M)||(0,w.isArray)(M)){var c=P&&P.get&&P.get("TraitManager"),ee=function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{build:function(N){var oe=[];typeof N=="string"&&(N=[N]);for(var de=0;de<N.length;de++){var Ce={},we=N[de];Ce.name=we,we==="target"&&(Ce.type="select",Ce.default=!1,Ce.options=be.optionsTarget),oe.push(Ce)}return oe}}}(c&&c.getConfig());(0,w.isString)(M)&&(M=[M]);for(var q=0,E=M.length;q<E;q++){var R=M[q],ue=(0,w.isString)(R)?ee.build(R)[0]:R;ue.target=this.target,M[q]=ue}}return Q.Collection.prototype.add.apply(this,[M,T])}}]),V}(Q.Collection);function re(b,h){var V=Object.keys(b);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(b);h&&(M=M.filter(function(T){return Object.getOwnPropertyDescriptor(b,T).enumerable})),V.push.apply(V,M)}return V}function ne(b){for(var h=1;h<arguments.length;h++){var V=arguments[h]!=null?arguments[h]:{};h%2?re(Object(V),!0).forEach(function(M){(0,p.Z)(b,M,V[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(V)):re(Object(V)).forEach(function(M){Object.defineProperty(b,M,Object.getOwnPropertyDescriptor(V,M))})}return b}function z(b){var h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var V,M=(0,S.Z)(b);if(h){var T=(0,S.Z)(this).constructor;V=Reflect.construct(M,arguments,T)}else V=M.apply(this,arguments);return(0,v.Z)(this,V)}}I.prototype.model=ce;var Y=function(b){return b.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},u=function(b){return b&&b.getConfig().avoidInlineStyle},y="component:drag",g="__symbols",m="__symbol",$="__symbol_ovrd",ae="component:update",K="".concat(ae,"-inside"),F=function(b){(0,l.Z)(V,b);var h=z(V);function V(){return(0,k.Z)(this,V),h.apply(this,arguments)}return(0,d.Z)(V,[{key:"init",value:function(){}},{key:"updated",value:function(M,T,P){}},{key:"removed",value:function(){}},{key:"initialize",value:function(){var M=this,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,w.bindAll)(this,"__upSymbProps","__upSymbCls","__upSymbComps");var c=P.em,ee=this.parent(),q=ee&&ee.attributes,E=this.get("propagate");if(E&&this.set("propagate",(0,w.isArray)(E)?E:[E]),q&&q.propagate&&!E){var R={},ue=q.propagate;ue.forEach(function(Ce){return R[Ce]=ee.get(Ce)}),R.propagate=ue,this.set(ne(ne({},R),T))}if(P&&P.config&&P.config.voidElements.indexOf(this.get("tagName"))>=0&&this.set("void",!0),P.em=c,this.opt=P,this.em=c,this.frame=P.frame,this.config=P.config||{},this.set("attributes",ne(ne({},(0,w.result)(this,"defaults").attributes||{}),this.get("attributes")||{})),this.ccid=V.createId(this,P),this.initClasses(),this.initTraits(),this.initComponents(),this.initToolbar(),this.initScriptProps(),this.listenTo(this,"change:script",this.scriptUpdated),this.listenTo(this,"change:tagName",this.tagUpdated),this.listenTo(this,"change:attributes",this.attrUpdated),this.listenTo(this,"change:attributes:id",this._idUpdated),this.on("change:toolbar",this.__emitUpdateTlb),this.on("change",this.__onChange),this.on(K,this.__propToParent),this.set("status",""),this.views=[],["classes","traits","components"].forEach(function(Ce){var we="add remove ".concat(Ce!=="components"?"change":"");M.listenTo(M.get(Ce),we.trim(),function(){for(var Ae=arguments.length,_e=new Array(Ae),Ne=0;Ne<Ae;Ne++)_e[Ne]=arguments[Ne];return M.emitUpdate.apply(M,[Ce].concat(_e))})}),!P.temporary){var be=c&&c.get("CssComposer"),N=this.attributes,oe=N.styles,de=N.type;oe&&be&&be.addCollection(oe,{},{group:"cmp:".concat(de)}),this.__postAdd(),this.init(),this.__isSymbolOrInst()&&this.__initSymb(),c&&c.trigger("component:create",this)}}},{key:"__postAdd",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=this.em,P=T&&T.get("UndoManager"),c=this.components();P&&!this.__hasUm&&(P.add(c),P.add(this.getSelectors()),this.__hasUm=1),M.recursive&&c.map(function(ee){return ee.__postAdd(M)})}},{key:"__postRemove",value:function(){var M=this.em,T=M&&M.get("UndoManager");T&&(T.remove(this.components()),T.remove(this.getSelectors()),delete this.__hasUm)}},{key:"__onChange",value:function(M,T){var P=this,c=this.changedAttributes();(0,w.keys)(c).forEach(function(ee){return P.emitUpdate(ee)}),["status","open","toolbar","traits"].forEach(function(ee){return delete c[ee]}),(0,j.isEmptyObj)(c)||(this.__changesUp(T),this.__propSelfToParent({component:this,changed:c,options:T}))}},{key:"__changesUp",value:function(M){var T=this.em;[this.frame,T].forEach(function(P){return P&&P.changesUp(M)})}},{key:"__propSelfToParent",value:function(M){this.trigger(ae,M),this.__propToParent(M)}},{key:"__propToParent",value:function(M){var T=this.parent();T&&T.trigger(K,M)}},{key:"__emitUpdateTlb",value:function(){this.emitUpdate("toolbar")}},{key:"is",value:function(M){return this.get("type")==M}},{key:"props",value:function(){return this.attributes}},{key:"index",value:function(){var M=this.collection;return M?M.indexOf(this):0}},{key:"setDragMode",value:function(M){return this.set("dmode",M)}},{key:"find",value:function(M){var T=[],P=this.view.$el.find(M);return P.each(function(c){var ee=P.eq(c).data("model");ee&&T.push(ee)}),T}},{key:"findType",value:function(M){var T=[];return function P(c){return c.forEach(function(ee){ee.is(M)&&T.push(ee),P(ee.components())})}(this.components()),T}},{key:"closest",value:function(M){var T=this.view.$el.closest(M);return T.length&&T.data("model")}},{key:"closestType",value:function(M){for(var T=this.parent();T&&!T.is(M);)T=T.parent();return T}},{key:"contains",value:function(M){var T=!1;if(!M)return T;var P=function c(ee){!T&&ee.forEach(function(q){q===M&&(T=!0),!T&&c(q.components())})};return P(this.components()),T}},{key:"tagUpdated",value:function(){this.trigger("rerender")}},{key:"replaceWith",value:function(M){var T=this.collection,P=T.indexOf(this);return T.remove(this),T.add(M,{at:P})}},{key:"attrUpdated",value:function(M,T){var P=this,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ee=this.get("attributes"),q=ee.class;q&&this.setClass(q),delete ee.class;var E=ee.style;E&&this.setStyle(E),delete ee.style;var R=ne({},this.previous("attributes")),ue=(0,j.shallowDiff)(R,this.get("attributes"));(0,w.keys)(ue).forEach(function(be){return P.trigger("change:attributes:".concat(be),P,ue[be],c)})}},{key:"setAttributes",value:function(M){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.set("attributes",ne({},M),T),this}},{key:"addAttributes",value:function(M){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.setAttributes(ne(ne({},this.getAttributes({noClass:1})),M),T)}},{key:"removeAttributes",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=Array.isArray(M)?M:[M],c=this.getAttributes();return P.map(function(ee){return delete c[ee]}),this.setAttributes(c,T)}},{key:"getStyle",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=this.em,c=(0,w.isString)(M)?M:"",ee=c?T:M;if(P&&P.getConfig().avoidInlineStyle&&!ee.inline){var q=P.get("state"),E=P.get("CssComposer"),R=E.getIdRule(this.getId(),ne({state:q},ee));if(this.rule=R,R)return R.getStyle(c)}return f((0,S.Z)(V.prototype),"getStyle",this).call(this,c)}},{key:"setStyle",value:function(){var M=this,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=this.em,ee=this.opt;if(c&&c.getConfig().avoidInlineStyle&&!ee.temporary&&!P.inline){var q=this.get("style")||{};T=ne(ne({},T=(0,w.isString)(T)?this.parseStyle(T):T),q);var E=c.get("state"),R=c.get("CssComposer"),ue=this.getStyle(P);this.rule=R.setIdRule(this.getId(),T,ne(ne({},P),{},{state:E}));var be=(0,j.shallowDiff)(ue,T);this.set("style","",{silent:1}),(0,w.keys)(be).forEach(function(N){return M.trigger("change:style:".concat(N))})}else T=f((0,S.Z)(V.prototype),"setStyle",this).apply(this,arguments);return T}},{key:"getAttributes",value:function(){var M,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=this.em,c=[],ee=ne({},this.get("attributes")),q=P&&P.get("SelectorManager"),E=this.getId();if(T.noClass||(this.get("classes").forEach(function(ue){return c.push((0,w.isString)(ue)?ue:ue.get("name"))}),c.length&&(ee.class=c.join(" "))),!T.noStyle){var R=this.get("style");(0,j.isObject)(R)&&!(0,j.isEmptyObj)(R)&&(ee.style=this.styleToString({inline:1}))}return(0,w.has)(ee,"id")||(u(P)?M=q&&q.get(E,q.Selector.TYPE_ID):(0,w.isEmpty)(this.getStyle())||(M=1),(this.__getSymbol()||this.__getSymbols())&&(M=1),M&&(ee.id=E)),ee}},{key:"addClass",value:function(M){var T=this.em.get("SelectorManager").addClass(M);return this.get("classes").add(T)}},{key:"setClass",value:function(M){return this.get("classes").reset(),this.addClass(M)}},{key:"removeClass",value:function(M){var T=[];M=(0,w.isArray)(M)?M:[M];var P=this.get("classes"),c=te.Z.TYPE_CLASS;return M.forEach(function(ee){ee.split(" ").forEach(function(q){var E=P.where({name:q,type:c})[0];E&&T.push(P.remove(E))})}),T}},{key:"getClasses",value:function(){var M=this.getAttributes().class;return M?M.split(" "):[]}},{key:"__logSymbol",value:function(M,T){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=this.__getSymbol(),ee=this.__getSymbols();(c||ee)&&this.em.log(M,{model:this,toUp:T,context:"symbols",opts:P})}},{key:"__initSymb",value:function(){this.__symbReady||(this.on("change",this.__upSymbProps),this.__symbReady=1)}},{key:"__isSymbol",value:function(){return(0,w.isArray)(this.get(g))}},{key:"__isSymbolOrInst",value:function(){return!(!this.__isSymbol()&&!this.get(m))}},{key:"__isSymbolTop",value:function(){var M=this.parent();return this.__isSymbolOrInst()&&(!M||M&&!M.__isSymbol()&&!M.__getSymbol())}},{key:"__isSymbolNested",value:function(){if(!this.__isSymbolOrInst()||this.__isSymbolTop())return!1;var M=(this.__isSymbol()?this:this.__getSymbol()).__getSymbTop(),T=this.__getSymbTop();return(T.__isSymbol()?T:T.__getSymbol())!==M}},{key:"__getAllById",value:function(){var M=this.em;return M?M.get("DomComponents").allById():{}}},{key:"__getSymbol",value:function(){var M=this.get(m);if(M&&(0,w.isString)(M)){var T=this.__getAllById()[M];T?(M=T,this.set(m,T)):M=0}return M}},{key:"__getSymbols",value:function(){var M=this,T=this.get(g);return T&&(0,w.isArray)(T)&&(T.forEach(function(P,c){P&&(0,w.isString)(P)&&(T[c]=M.__getAllById()[P])}),T=T.filter(function(P){return P&&!(0,w.isString)(P)})),T}},{key:"__isSymbOvrd",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",T=this.get($),P=M.split(":"),c=(0,A.Z)(P,1),ee=c[0],q=M!==ee?[M,ee]:[M];return T===!0||(0,w.isArray)(T)&&q.some(function(E){return T.indexOf(E)>=0})}},{key:"__getSymbToUp",value:function(){var M=this,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=[],c=this.em,ee=T.changed,q=c&&c.config.symbols;if(T.fromInstance||T.noPropagate||T.fromUndo||!q||ee&&this.__isSymbOvrd(ee))return P;var E=this.__getSymbols()||[],R=this.__getSymbol(),ue=R?[R].concat((0,H.Z)(R.__getSymbols()||[])):E;return P=ue.filter(function(be){return be!==M}).filter(function(be){return!(ee&&be.__isSymbOvrd(ee))})}},{key:"__getSymbTop",value:function(M){for(var T=this,P=this.parent(M);P&&(P.__isSymbol()||P.__getSymbol());)T=P,P=P.parent(M);return T}},{key:"__upSymbProps",value:function(M){var T=this,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=this.changedAttributes(),ee=c.attributes||{};if(delete c.status,delete c.open,delete c.__symbols,delete c.__symbol,delete c.__symbol_ovrd,delete c.attributes,delete ee.id,(0,j.isEmptyObj)(ee)||(c.attributes=ee),!(0,j.isEmptyObj)(c)){var q=this.__getSymbToUp(P);(0,w.keys)(c).map(function(E){T.__isSymbOvrd(E)&&delete c[E]}),this.__logSymbol("props",q,{opts:P,changed:c}),q.forEach(function(E){var R=ne({},c);(0,w.keys)(R).map(function(ue){E.__isSymbOvrd(ue)&&delete R[ue]}),E.set(R,ne({fromInstance:T},P))})}}},{key:"__upSymbCls",value:function(M,T){var P=this,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ee=this.__getSymbToUp(c);this.__logSymbol("classes",ee,{opts:c}),ee.forEach(function(q){q.set("classes",P.get("classes"),{fromInstance:P})}),this.__changesUp(c)}},{key:"__upSymbComps",value:function(M,T,P){var c=this,ee=P||T||{},q={fromInstance:ee.fromInstance,fromUndo:ee.fromUndo},E=M.opt.temporary;if(P)if(P.add){var R=[],ue=!!this.__getSymbols(),be=this.__getSymbToUp(ne(ne({},q),{},{changed:"components:add"}));if(be.length){var N=M.__getSymbol();R=(N?N.__getSymbols():M.__getSymbols())||[],(R=(0,H.Z)(R)).push(N||M)}!E&&this.__logSymbol("add",be,{opts:P,addedInstances:R.map(function(gt){return gt.cid}),added:M.cid}),be.forEach(function(gt){var lt=gt.__getSymbTop(),Zt=R.filter(function(Lt){var It=Lt.__getSymbTop({prev:1});return lt&&It&&It===lt})[0]||M.clone({symbol:1,symbolInv:ue});gt.append(Zt,ne({fromInstance:c},P))})}else{var oe=M.__getSymbol();if(oe&&!P.temporary&&oe.set(g,oe.__getSymbols().filter(function(gt){return gt!==M})),!M.__isSymbolTop()){var de="components:remove",Ce=P.index,we=M.parent(),Ae=ne({fromInstance:M},P),_e=M.__isSymbolNested(),Ne=function(gt){var lt=gt.parent();lt&&!lt.__isSymbOvrd(de)&&gt.remove(Ae)},Je=we.__isSymbOvrd(de)?[]:M.__getSymbToUp(q);_e&&(Je=we.__getSymbToUp(ne(ne({},q),{},{changed:de})),Ne=function(gt){var lt=gt.components().at(Ce);lt&&lt.remove(ne({fromInstance:we},Ae))}),!E&&this.__logSymbol("remove",Je,{opts:P,removed:M.cid,isSymbNested:_e}),Je.forEach(Ne)}}else{var tt=this.__getSymbToUp(ne(ne({},q),{},{changed:"components:reset"}));this.__logSymbol("reset",tt,{components:M.models}),tt.forEach(function(gt){var lt=M.models.map(function(Zt){return Zt.clone({symbol:1})});gt.components().reset(lt,ne({fromInstance:c},T))})}this.__changesUp(ee)}},{key:"initClasses",value:function(M,T){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c="change:classes",ee=this.get("attributes").class||[],q=[this,c,this.initClasses],E=this.get("classes")||ee,R=(0,w.isString)(E)?E.split(" "):E;this.stopListening.apply(this,q);var ue=this.normalizeClasses(R),be=new J.Z([]);return this.set("classes",be,P),be.add(ue),be.on("add remove reset",this.__upSymbCls),this.listenTo.apply(this,q),this}},{key:"initComponents",value:function(){var M=[this,"change:components",this.initComponents];this.stopListening.apply(this,M);var T=new X.Z(null,this.opt);T.parent=this;var P=this.get("components"),c=!this.opt.avoidChildren;return this.set("components",T),c&&P&&T.add((0,w.isFunction)(P)?P(this):P,this.opt),T.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,M),this}},{key:"initTraits",value:function(M){var T=this.em,P="change:traits";this.off(P,this.initTraits),this.__loadTraits();var c=ne({},this.get("attributes")),ee=this.get("traits");return ee.each(function(q){if(!q.get("changeProp")){var E=q.get("name"),R=q.getInitValue();E&&R&&(c[E]=R)}}),ee.length&&this.set("attributes",c),this.on(P,this.initTraits),M&&T&&T.trigger("component:toggled"),this}},{key:"initScriptProps",value:function(){if(!this.opt.temporary){var M="script-props",T=["change:".concat(M),this.initScriptProps];this.off.apply(this,T);var P=this.previous(M)||[],c=this.get(M)||[],ee=P.map(function(E){return"change:".concat(E)}).join(" "),q=c.map(function(E){return"change:".concat(E)}).join(" ");ee&&this.off(ee,this.__scriptPropsChange),q&&this.on(q,this.__scriptPropsChange),this.on.apply(this,T)}}},{key:"__scriptPropsChange",value:function(M,T){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};P.avoidStore||this.trigger("rerender")}},{key:"append",value:function(M){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=(0,w.isArray)(M)?M:[M],c=P.map(function(q){return(0,w.isString)(q)||q.collection&&q.collection.remove(q,{temporary:1}),q}),ee=this.components().add(c,T);return(0,w.isArray)(ee)?ee:[ee]}},{key:"components",value:function(M){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=this.get("components");return(0,w.isUndefined)(M)?P:(P.reset(null,T),M?this.append(M,T):[])}},{key:"getChildAt",value:function(M){return this.components().at(M||0)||null}},{key:"getLastChild",value:function(){var M=this.components();return M.at(M.length-1)||null}},{key:"empty",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.components().reset(null,M),this}},{key:"parent",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=this.collection||M.prev&&this.prevColl;return T?T.parent:null}},{key:"scriptUpdated",value:function(){this.set("scriptUpdated",1)}},{key:"initToolbar",value:function(){var M=this.em,T=this,P=M&&M.getConfig().stylePrefix||"";if(!T.get("toolbar")&&M){var c=[];T.collection&&c.push({label:M.getIcon("arrowUp"),command:function(ee){return ee.runCommand("core:component-exit",{force:1})}}),T.get("draggable")&&c.push({attributes:{class:"".concat(P,"no-touch-actions"),draggable:!0},label:M.getIcon("move"),command:"tlb-move"}),T.get("copyable")&&c.push({label:M.getIcon("copy"),command:"tlb-clone"}),T.get("removable")&&c.push({label:M.getIcon("delete"),command:"tlb-delete"}),T.set("toolbar",c)}}},{key:"__loadTraits",value:function(M){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=M||this.get("traits");if(!(P instanceof I)){P=(0,w.isFunction)(P)?P(this):P;var c=new I([],this.opt);c.setTarget(this),P.length&&(P.forEach(function(ee){return ee.attributes&&delete ee.attributes.value}),c.add(P)),this.set({traits:c},T)}return this}},{key:"getTraits",value:function(){return this.__loadTraits(),(0,H.Z)(this.get("traits").models)}},{key:"setTraits",value:function(M){var T=(0,w.isArray)(M)?M:[M];return this.set({traits:T}),this.getTraits()}},{key:"getTrait",value:function(M){return this.getTraits().filter(function(T){return T.get("id")===M||T.get("name")===M})[0]||null}},{key:"updateTrait",value:function(M,T){var P,c=this.getTrait(M);return c&&c.set(T),(P=this.em)===null||P===void 0||P.trigger("component:toggled"),this}},{key:"getTraitIndex",value:function(M){var T=this.getTrait(M);return T?this.get("traits").indexOf(T):-1}},{key:"removeTrait",value:function(M){var T,P=this,c=((0,w.isArray)(M)?M:[M]).map(function(E){return P.getTrait(E)}),ee=this.get("traits"),q=c.length?ee.remove(c):[];return(T=this.em)===null||T===void 0||T.trigger("component:toggled"),(0,w.isArray)(q)?q:[q]}},{key:"addTrait",value:function(M){var T,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__loadTraits();var c=this.get("traits").add(M,P);return(T=this.em)===null||T===void 0||T.trigger("component:toggled"),(0,w.isArray)(c)?c:[c]}},{key:"normalizeClasses",value:function(M){var T=[],P=this.em,c=P&&P.get("SelectorManager");if(c)return M.models?(0,H.Z)(M.models):(M.forEach(function(ee){return T.push(c.add(ee))}),T)}},{key:"clone",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=this.em,P=ne({},this.attributes),c=ne({},this.opt),ee=this.getId(),q=T&&T.get("CssComposer");P.attributes=ne({},P.attributes),delete P.attributes.id,P.components=[],P.classes=[],P.traits=[],this.__isSymbolTop()&&(M.symbol=1),this.get("components").each(function(de,Ce){P.components[Ce]=de.clone(ne(ne({},M),{},{_inner:1}))}),this.get("traits").each(function(de,Ce){P.traits[Ce]=de.clone()}),this.get("classes").each(function(de,Ce){P.classes[Ce]=de.get("name")}),P.status="",c.collection=null;var E=new this.constructor(P,c),R="#".concat(E.getId()),ue=q?q.getRules("#".concat(ee)):[];ue.forEach(function(de){var Ce=de.clone();Ce.set("selectors",[R]),q.getAll().add(Ce)}),E.set(g,0);var be=this.__getSymbol(),N=this.__getSymbols();M.symbol||!be&&!N?be?(be.set(g,[].concat((0,H.Z)(be.__getSymbols()),[E])),E.__initSymb()):M.symbol&&(this.__isSymbol()?(this.set(g,[].concat((0,H.Z)(N),[E])),E.set(m,this),E.__initSymb()):M.symbolInv?(this.set(g,[E]),E.set(m,this),[this,E].map(function(de){return de.__initSymb()})):(E.set(g,[this]),[this,E].map(function(de){return de.__initSymb()}),this.set(m,E))):(E.set(m,0),E.set(g,0));var oe="component:clone";return T&&T.trigger(oe,E),this.trigger(oe,E),E}},{key:"getName",value:function(){var M=this.em,T=this.attributes,P=T.type,c=T.tagName,ee=T.name,q=P||c,E=!P&&c,R="domComponents.names.",ue=ee&&(M==null?void 0:M.t("".concat(R).concat(ee))),be=E&&(M==null?void 0:M.t("".concat(R).concat(E))),N=M&&(M.t("".concat(R).concat(P))||M.t("".concat(R).concat(c)));return this.get("custom-name")||ue||ee||be||(0,j.capitalize)(E)||N||(0,j.capitalize)(q)}},{key:"getIcon",value:function(){var M=this.get("icon");return M?M+" ":""}},{key:"toHTML",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=this,P=[],c=M.tag,ee=c||T.get("tagName"),q=T.get("void"),E=M.attributes,R=this.getAttrToHTML();if(delete M.tag,E&&((0,w.isFunction)(E)?R=E(T,R)||{}:(0,j.isObject)(E)&&(R=E)),M.withProps){var ue=this.toJSON();(0,w.forEach)(ue,function(_e,Ne){Ne[0]!=="_"&&["classes","attributes","components"].indexOf(Ne)<0&&(R["data-gjs-".concat(Ne)]=(0,w.isArray)(_e)||(0,j.isObject)(_e)?JSON.stringify(_e):_e)})}for(var be in R){var N=R[be];if(!(0,w.isUndefined)(N)&&N!==null)if((0,w.isBoolean)(N))N&&P.push(be);else{var oe="";if(M.altQuoteAttr&&(0,w.isString)(N)&&N.indexOf('"')>=0)oe="'".concat(N.replace(/'/g,"&apos;"),"'");else{var de=(0,w.isString)(N)?N.replace(/"/g,"&quot;"):N;oe='"'.concat(de,'"')}P.push("".concat(be,"=").concat(oe))}}var Ce=P.length?" ".concat(P.join(" ")):"",we=T.getInnerHTML(M),Ae="<".concat(ee).concat(Ce).concat(q?"/":"",">").concat(we);return!q&&(Ae+="</".concat(ee,">")),Ae}},{key:"getInnerHTML",value:function(M){return this.__innerHTML(M)}},{key:"__innerHTML",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=this.components();return T.length?T.map(function(P){return P.toHTML(M)}).join(""):this.get("content")}},{key:"getAttrToHTML",value:function(){var M=this.getAttributes();return delete M.style,M}},{key:"toJSON",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=Q.Model.prototype.toJSON.call(this,M);if(T.attributes=this.getAttributes(),delete T.attributes.class,delete T.toolbar,delete T.traits,delete T.status,delete T.open,!M.fromUndo){var P=T.__symbol,c=T.__symbols;c&&(0,w.isArray)(c)&&(T.__symbols=c.filter(function(ee){return ee}).map(function(ee){return ee.getId?ee.getId():ee})),P&&!(0,w.isString)(P)&&(T.__symbol=P.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(T),T}},{key:"getChangedProps",value:function(M){var T=M||Q.Model.prototype.toJSON.apply(this),P=(0,w.result)(this,"defaults");return(0,w.forEach)(P,function(c,ee){["type"].indexOf(ee)===-1&&T[ee]===c&&delete T[ee]}),(0,w.isEmpty)(T.type)&&delete T.type,(0,w.forEach)(["attributes","style"],function(c){(0,w.isEmpty)(P[c])&&(0,w.isEmpty)(T[c])&&delete T[c]}),(0,w.forEach)(["classes","components"],function(c){(!T[c]||(0,w.isEmpty)(P[c])&&!T[c].length)&&delete T[c]}),T}},{key:"getId",value:function(){return(this.get("attributes")||{}).id||this.ccid||this.cid}},{key:"setId",value:function(M,T){var P=ne({},this.get("attributes"));return P.id=M,this.set("attributes",P,T),this}},{key:"getEl",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,T=this.getView(M);return T&&T.el}},{key:"getView",value:function(M){var T=this.view,P=this.views;return M&&(T=P.filter(function(c){return c._getFrame()===M.view})[0]),T}},{key:"getCurrentView",value:function(){var M=(this.em.get("currentFrame")||{}).model;return this.getView(M)}},{key:"__getScriptProps",value:function(){var M=this.props();return(this.get("script-props")||[]).reduce(function(T,P){return T[P]=M[P],T},{})}},{key:"getScriptString",value:function(M){var T=this,P=M||this.get("script");if(!P)return P;if(this.get("script-props"))P=P.toString().trim();else{if(typeof P=="function"){var c=P.toString().trim();P=(c=c.replace(/^function[\s\w]*\(\)\s?\{/,"").replace(/\}$/,"")).trim()}var ee=this.em.getConfig(),q=Y(ee.tagVarStart||"{[ "),E=Y(ee.tagVarEnd||" ]}"),R=new RegExp("".concat(q,"([\\w\\d-]*)").concat(E),"g");P=P.replace(R,function(ue,be){T.scriptUpdated();var N=T.attributes[be]||"";return(0,w.isArray)(N)||(0,O.Z)(N)=="object"?JSON.stringify(N):N})}return P}},{key:"emitUpdate",value:function(M){for(var T=this.em,P=ae+(M?":".concat(M):""),c=M&&this.get(M),ee=arguments.length,q=new Array(ee>1?ee-1:0),E=1;E<ee;E++)q[E-1]=arguments[E];M&&this.updated.apply(this,[M,c,M&&this.previous(M)].concat(q)),this.trigger.apply(this,[P].concat(q)),T&&T.trigger.apply(T,[P,this].concat(q)),["components","classes"].indexOf(M)>=0&&this.__propSelfToParent({component:this,changed:(0,p.Z)({},M,c),options:q[2]||q[1]||{}})}},{key:"onAll",value:function(M){return(0,w.isFunction)(M)&&(M(this),this.components().forEach(function(T){return T.onAll(M)})),this}},{key:"remove",value:function(){var M=this,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=this.em,c=this.collection,ee=function(){c&&c.remove(M,ne(ne({},T),{},{action:"remove-component"})),c||(M.components("",T),M.components().removeChildren(M,null,T))},q=ne({},T);return[this,P].map(function(E){return E.trigger("component:remove:before",M,ee,q)}),!q.abort&&ee(),this}},{key:"move",value:function(M){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.remove({temporary:1}),M&&M.append(this,T),this}},{key:"isInstanceOf",value:function(M){var T,P,c=(T=this.em)===null||T===void 0||(P=T.get("DomComponents").getType(M))===null||P===void 0?void 0:P.model;return!!c&&this instanceof c}},{key:"isChildOf",value:function(M){for(var T=(0,w.isString)(M),P=this.parent();P;){if(T){if(P.isInstanceOf(M))return!0}else if(P===M)return!0;P=P.parent()}return!1}},{key:"resetId",value:function(){var M=this.em,T=this.getId();if(T){var P=V.createId(this);this.setId(P);var c=M&&M.get("CssComposer").getIdRule(T),ee=c&&c.get("selectors").at(0);return ee&&ee.set("name",P),this}}},{key:"_getStyleRule",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=M.id,P=this.em,c=T||this.getId();return P&&P.get("CssComposer").getIdRule(c)}},{key:"_getStyleSelector",value:function(M){var T=this._getStyleRule(M);return T&&T.get("selectors").at(0)}},{key:"_idUpdated",value:function(M,T){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!P.idUpdate){var c=this.ccid,ee=this.get("attributes")||{},q=ee.id,E=(this.previous("attributes")||{}).id||c,R=V.getList(this);if(R[q]||!q&&E)return this.setId(E,{idUpdate:1});delete R[E],R[q]=this,this.ccid=q;var ue=this._getStyleSelector({id:E});ue&&ue.set({name:q,label:q})}}}]),V}(B.Z);F.isComponent=function(b){return{tagName:(0,j.toLowerCase)(b.tagName)}},F.ensureInList=function(b){var h=F.getList(b),V=b.getId(),M=h[V];if(M){if(M!==b){var T=F.getIncrementId(V,h);b.setId(T),h[T]=b}}else h[V]=b;b.components().forEach(function(P){return F.ensureInList(P)})},F.createId=function(b){var h,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=F.getList(b),T=V.idMap,P=T===void 0?{}:T,c=b.get("attributes"),ee=c.id;return ee?(h=F.getIncrementId(ee,M,V),b.setId(h),ee!==h&&(P[ee]=h)):h=F.getNewId(M),M[h]=b,h},F.getNewId=function(b){for(var h=Object.keys(b).length.toString().length+2,V=(Math.random()+1.1).toString(36).slice(-h),M="i".concat(V);b[M];)M=F.getNewId(b);return M},F.getIncrementId=function(b,h){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=V.keepIds,T=M===void 0?[]:M,P=1,c=b;if(T.indexOf(b)<0)for(;h[c];)P++,c="".concat(b,"-").concat(P);return c},F.getList=function(b){var h=b.opt,V=h===void 0?{}:h,M=V.domc,T=V.em,P=M||T&&T.get("DomComponents");return P?P.componentsById:{}},F.checkId=function(b){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},T=(0,w.isArray)(b)?b:[b],P=M.keepIds,c=P===void 0?[]:P;T.forEach(function(ee){var q=ee.attributes,E=q===void 0?{}:q,R=ee.components,ue=E.id;if(ue&&V[ue]&&c.indexOf(ue)<0){var be=F.getIncrementId(ue,V);E.id=be,(0,w.isArray)(h)&&h.forEach(function(N){var oe=N.selectors;oe.forEach(function(de,Ce){de==="#".concat(ue)&&(oe[Ce]="#".concat(be))})})}R&&F.checkId(R,h,V,M)})},F.getDefaults=function(){return(0,w.result)(this.prototype,"defaults")},F.prototype.defaults=(L={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,locked:!1,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:"",traits:["id","title"],propagate:"",dmode:"",toolbar:null},(0,p.Z)(L,m,0),(0,p.Z)(L,g,0),(0,p.Z)(L,$,0),(0,p.Z)(L,"_undo",!0),(0,p.Z)(L,"_undoexc",["status","open"]),L)},8431:(ge,ie,s)=>{s.d(ie,{Z:()=>me});var O=s(1002),H=s(2982),A=s(4925),p=s(5671),k=s(3144),d=s(7326),S=s(9340),x=s(2963),f=s(1120),l=s(4942),v=s(2316),w=s.n(v),j=s(9050),B=s(7375),Q=["at"];function X(ce){var D=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,I=(0,f.Z)(ce);if(D){var re=(0,f.Z)(this).constructor;L=Reflect.construct(I,arguments,re)}else L=I.apply(this,arguments);return(0,x.Z)(this,L)}}function te(ce,D){var L=Object.keys(ce);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(ce);D&&(I=I.filter(function(re){return Object.getOwnPropertyDescriptor(ce,re).enumerable})),L.push.apply(L,I)}return L}function J(ce){for(var D=1;D<arguments.length;D++){var L=arguments[D]!=null?arguments[D]:{};D%2?te(Object(L),!0).forEach(function(I){(0,l.Z)(ce,I,L[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(L)):te(Object(L)).forEach(function(I){Object.defineProperty(ce,I,Object.getOwnPropertyDescriptor(L,I))})}return ce}var U=function ce(D){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!D)return[];var I=(0,j.isArray)(D)||(0,j.isFunction)(D.map)?D:[D];return I.map(function(re){L.push(re.getId()),ce(re.components().models,L)}),L},se=function ce(D){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},re=(0,j.isArray)(D)?D:[D];return re.map(function(ne){var z=ne.attributes,Y=z===void 0?{}:z,u=ne.components,y=ne.tagName,g=Y.id,m=ne;if(g&&L[g]&&(m=L[g],y&&m.set({tagName:y},J(J({},I),{},{silent:!0}))),u){var $=ce(u,L);if((0,j.isFunction)(m.components)){var ae=m.components();ae.length>0&&ae.reset($,I)}else m.components=$}return m})},me=function(ce){(0,S.Z)(L,ce);var D=X(L);function L(){var I;(0,p.Z)(this,L);for(var re=arguments.length,ne=new Array(re),z=0;z<re;z++)ne[z]=arguments[z];return I=D.call.apply(D,[this].concat(ne)),(0,l.Z)((0,d.Z)(I),"__onAddEnd",(0,j.debounce)(function(){})),I}return(0,k.Z)(L,[{key:"initialize",value:function(I){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.opt=re,this.listenTo(this,"add",this.onAdd),this.listenTo(this,"remove",this.removeChildren),this.listenTo(this,"reset",this.resetChildren);var ne=re.em,z=re.config;this.config=z,this.em=ne,this.domc=re.domc||ne&&ne.get("DomComponents")}},{key:"resetChildren",value:function(I){var re=this,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=this,Y=ne.previousModels||[],u=Y.filter(function(g){return!I.get(g.cid)}),y=U(I);ne.keepIds=U(Y).filter(function(g){return y.indexOf(g)>=0}),u.forEach(function(g){return re.removeChildren(g,z,ne)}),I.each(function(g){return re.onAdd(g)})}},{key:"resetFromString",value:function(){var I,re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ne.keepIds=U(this);var z=this.domc,Y=(z==null?void 0:z.allById())||{},u=this.parseString(re,ne),y=(0,j.isArray)(u)?u:[u],g=se(y,Y,ne);this.reset(g,ne),(I=this.em)===null||I===void 0||I.trigger("component:content",this.parent,ne,re)}},{key:"removeChildren",value:function(I,re){var ne=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(I){var Y=this.domc,u=this.em,y=z.temporary||z.fromUndo;if(I.prevColl=this,!y){var g=I.getId(),m=u.get("SelectorManager").getAll(),$=u.get("CssComposer").getAll(),ae=(z.keepIds||[]).indexOf(g)<0,K=Y?Y.allById():{};delete K[g];var F=ae?$.remove($.filter(function(V){return V.getSelectors().getFullString()==="#".concat(g)}),z):[];m.remove(F.map(function(V){return V.getSelectors().at(0)})),I.opt.temporary||(u.get("Commands").run("core:component-style-clear",{target:I}),I.removed(),I.trigger("removed"),u.trigger("component:remove",I));var b=I.components();b.forEach(function(V){return ne.removeChildren(V,re,z)})}var h=I.components();u.stopListening(h),u.stopListening(I),u.stopListening(I.get("classes")),I.__postRemove()}}},{key:"model",value:function(I,re){var ne,z=re.collection.opt,Y=z.em,u=Y.get("DomComponents").componentTypes;re.em=Y,re.config=z.config,re.componentTypes=u,re.domc=z.domc;for(var y=0;y<u.length;y++)if(u[y].id==I.type){ne=u[y].model;break}return ne||(ne=u[u.length-1].model,Y&&I.type&&Y.logWarning("Component type '".concat(I.type,"' not found"),{attrs:I,options:re})),new ne(I,re)}},{key:"parseString",value:function(I){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=this.em,z=this.domc,Y=ne.get("CssComposer"),u=ne.get("Parser").parseHtml(I);if(B.ZP.checkId(u.html,u.css,z.componentsById,re),u.css&&Y&&!re.temporary){re.at;var y=(0,A.Z)(re,Q);Y.addCollection(u.css,J(J({},y),{},{extend:1}))}return u.html}},{key:"add",value:function(I){var re=this,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ne.keepIds=[].concat((0,H.Z)(ne.keepIds||[]),(0,H.Z)(U(ne.previousModels))),(0,j.isString)(I)?I=this.parseString(I,ne):(0,j.isArray)(I)&&(I=(0,H.Z)(I)).forEach(function(u,y){if((0,j.isString)(u)){var g=re.parseString(u,ne);I[y]=(0,j.isArray)(g)&&!g.length?null:g}});var z=(0,j.isArray)(I);I=(z?I:[I]).filter(function(u){return u}).map(function(u){return re.processDef(u)}),I=z?(0,j.flatten)(I,1):I[0];var Y=w().Collection.prototype.add.apply(this,[I,ne]);return this.__firstAdd=Y,Y}},{key:"processDef",value:function(I){if(I.cid&&I.ccid)return I;var re=this.em,ne=this.config,z=(ne===void 0?{}:ne).processor,Y=I;if(z){var u=z(Y=J({},Y));u&&((0,j.each)(Y,function(K,F){return delete Y[F]}),(0,j.extend)(Y,u))}if(Y.$$typeof&&(0,O.Z)(Y.props)=="object"){(Y=J({},Y)).props=J({},Y.props);var y=re.get("DomComponents"),g=re.get("Parser").parserHtml;(0,j.each)(Y,function(K,F){(0,j.includes)(["props","type"],F)||delete Y[F]});var m=Y.props,$=m.children;delete m.children,delete Y.props;var ae=g.splitPropsFromAttr(m);Y.attributes=ae.attrs,$&&(Y.components=$),Y.type?y.getType(Y.type)||(Y.tagName=Y.type,delete Y.type):Y.type="textnode",(0,j.extend)(Y,ae.props)}return Y}},{key:"onAdd",value:function(I,re){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},z=this.domc,Y=this.em,u=I.getStyle(),y=Y&&Y.getConfig().avoidInlineStyle;if(z&&z.Component.ensureInList(I),!(0,j.isEmpty)(u)&&!y&&Y&&Y.get&&Y.getConfig().forceClass&&!ne.temporary){var g=I.cid;Y.get("CssComposer").setClassRule(g,u),I.setStyle({}),I.addClass(g)}I.__postAdd({recursive:1}),this.__onAddEnd()}}]),L}(w().Collection)},2169:(ge,ie,s)=>{s.d(ie,{Z:()=>J});var O=s(4942),H=s(5671),A=s(3144),p=s(9340),k=s(2963),d=s(1120),S=s(2316),x=s.n(S),f=s(9050),l=s(8431),v=s(3505),w=s(966),j=s(9283),B=s(1163);function Q(U,se){var me=Object.keys(U);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(U);se&&(ce=ce.filter(function(D){return Object.getOwnPropertyDescriptor(U,D).enumerable})),me.push.apply(me,ce)}return me}function X(U){for(var se=1;se<arguments.length;se++){var me=arguments[se]!=null?arguments[se]:{};se%2?Q(Object(me),!0).forEach(function(ce){(0,O.Z)(U,ce,me[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(me)):Q(Object(me)).forEach(function(ce){Object.defineProperty(U,ce,Object.getOwnPropertyDescriptor(me,ce))})}return U}function te(U){var se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var me,ce=(0,d.Z)(U);if(se){var D=(0,d.Z)(this).constructor;me=Reflect.construct(ce,arguments,D)}else me=ce.apply(this,arguments);return(0,k.Z)(this,me)}}var J=function(U){(0,p.Z)(me,U);var se=te(me);function me(){return(0,H.Z)(this,me),se.apply(this,arguments)}return(0,A.Z)(me,[{key:"className",value:function(){return this.getClasses()}},{key:"tagName",value:function(){return this.model.get("tagName")}},{key:"initialize",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=this.model,L=ce.config||{},I=L.em,re=D.opt||{},ne=this.$el,z=this.el;this.opts=ce,this.modelOpt=re,this.config=L,this.em=I||"",this.pfx=L.stylePrefix||"",this.ppfx=L.pStylePrefix||"",this.attr=D.get("attributes"),this.classe=this.attr.class||[],this.listenTo(D,"change:style",this.updateStyle),this.listenTo(D,"change:attributes",this.renderAttributes),this.listenTo(D,"change:highlightable",this.updateHighlight),this.listenTo(D,"change:status change:locked",this.updateStatus),this.listenTo(D,"change:script rerender",this.reset),this.listenTo(D,"change:content",this.updateContent),this.listenTo(D,"change",this.handleChange),this.listenTo(D,"active",this.onActive),this.listenTo(D,"disable",this.onDisable),ne.data("model",D),(0,B.setViewEl)(z,this),D.view=this,this._getFrame()&&D.views.push(this),this.initClasses(),this.initComponents({avoidRender:1}),this.events=X(X({},this.constructor.getEvents()),{},{dragstart:"handleDragStart"}),this.delegateEvents(),!re.temporary&&this.init(this._clbObj())}},{key:"__isDraggable",value:function(){var ce=this.model,D=this.config,L=ce.attributes.draggable;return D.draggableComponents&&L}},{key:"_clbObj",value:function(){var ce=this.em,D=this.model,L=this.el;return{editor:ce&&ce.getEditor(),model:D,el:L}}},{key:"init",value:function(){}},{key:"removed",value:function(){}},{key:"onActive",value:function(){}},{key:"onDisable",value:function(){}},{key:"remove",value:function(){var ce;x().View.prototype.remove.apply(this,arguments);var D=this.model,L=this.$el,I=D.views,re=this._getFrame()||{};return D.components().forEach(function(ne){var z=ne.getView(re.model);z==null||z.remove()}),(ce=this.childrenView)===null||ce===void 0||ce.remove(),I.splice(I.indexOf(this),1),this.removed(this._clbObj()),L.data({model:"",collection:"",view:""}),this}},{key:"handleDragStart",value:function(ce){if(!this.__isDraggable())return!1;ce.stopPropagation(),ce.preventDefault(),this.em.get("Commands").run("tlb-move",{target:this.model,event:ce})}},{key:"initClasses",value:function(){var ce=this.model,D="change:classes",L=ce.get("classes");L instanceof w.Z&&(this.stopListening(ce,D,this.initClasses),this.listenTo(ce,D,this.initClasses),this.listenTo(L,"add remove change",this.updateClasses),L.length&&this.importClasses())}},{key:"initComponents",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=this.model,L=this.$el,I=this.childrenView,re="change:components",ne=D.get("components"),z=[D,re,this.initComponents];ne instanceof l.Z&&(L.data("collection",ne),I&&I.remove(),this.stopListening.apply(this,z),!ce.avoidRender&&this.renderChildren(),this.listenTo.apply(this,z))}},{key:"handleChange",value:function(){var ce=this.model,D=(0,f.keys)(ce.changed);if(D.length!==1||D[0]!=="status")for(var L in ce.emitUpdate(),ce.changed)ce.emitUpdate(L)}},{key:"importClasses",value:function(){var ce=this.config.em.get("SelectorManager");ce&&this.model.get("classes").each(function(D){ce.add(D.get("name"))})}},{key:"updateStatus",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=this.em,L=this.el,I=this.ppfx,re=this.model,ne=D?D.get("Canvas").getConfig():{},z=ne.extHl,Y=re.get("status"),u="".concat(I,"selected"),y="".concat(u,"-parent"),g="".concat(I,"freezed"),m="".concat(I,"hovered"),$="".concat(I,"no-pointer"),ae=[u,y,g,m,$],K=z&&!ce.noExtHl?"":u;this.$el.removeClass(ae.join(" "));var F=L.getAttribute("class")||"",b=[F];switch(Y){case"selected":b.push(K);break;case"selected-parent":b.push(y);break;case"freezed":b.push(g);break;case"freezed-selected":b.push(g,K);break;case"hovered":!ce.avoidHover&&b.push(m)}re.get("locked")&&b.push($);var h=b.filter(Boolean).join(" ");h&&L.setAttribute("class",h)}},{key:"updateHighlight",value:function(){var ce=this.model,D=ce.get("textable"),L=ce.get("highlightable")&&(D||!ce.isChildOf("text"));this.setAttribute("data-gjs-highlightable",!!L||"")}},{key:"updateStyle",value:function(ce,D){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},I=this.model,re=this.em;if(re&&re.getConfig().avoidInlineStyle&&!L.inline){var ne=I.getStyle();!(0,f.isEmpty)(ne)&&I.setStyle(ne)}else this.setAttribute("style",I.styleToString(L))}},{key:"updateClasses",value:function(){var ce=this.model.get("classes").pluck("name").join(" ");this.setAttribute("class",ce),this.updateStatus(),this.onAttrUpdate()}},{key:"setAttribute",value:function(ce,D){var L=this.$el;D?L.attr(ce,D):L.removeAttr(ce)}},{key:"getClasses",value:function(){return this.model.getClasses().join(" ")}},{key:"updateAttributes",value:function(){var ce=[],D=this.model,L=this.$el,I=this.el,re=D.attributes,ne=re.textable,z=re.type,Y=X(X({id:D.getId(),"data-gjs-type":z||"default"},this.__isDraggable()&&{draggable:!0}),ne&&{contenteditable:"false"});(0,f.each)(I.attributes,function(y){return ce.push(y.nodeName)}),ce.forEach(function(y){return L.removeAttr(y)}),this.updateStyle(),this.updateHighlight();var u=X(X({},Y),D.getAttributes());(0,f.keys)(u).forEach(function(y){return u[y]===!1&&delete u[y]}),L.attr(u)}},{key:"updateContent",value:function(){var ce=this.model.get("content"),D=this.model.components().length;this.getChildrenContainer().innerHTML=D?"":ce}},{key:"prevDef",value:function(ce){ce.preventDefault()}},{key:"updateScript",value:function(){var ce=this.model,D=this.em;ce.get("script")&&D&&D.get("Canvas").getCanvasView().updateScript(this)}},{key:"getChildrenContainer",value:function(){var ce=this.el;return typeof this.getChildrenSelector=="function"?ce=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,ce}},{key:"getOffsetRect",value:function(){var ce={},D=this.el,L=0,I=0;return function re(ne){var z=ne.offsetParent;z?(L+=z.offsetTop,I+=z.offsetLeft,re(z)):(ce.top=D.offsetTop+L,ce.left=D.offsetLeft+I,ce.bottom=ce.top+D.offsetHeight,ce.right=ce.left+D.offsetWidth)}(D),ce}},{key:"isInViewport",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=ce.rect,L=this.el,I=L.ownerDocument,re=I.body,ne=I.defaultView.frameElement,z=D||this.getOffsetRect(),Y=z.top,u=z.left,y=this._getFrame().getOffsetRect();return Y>=y.scrollTop&&u>=y.scrollLeft&&Y<=y.scrollBottom&&u<=ne.offsetWidth+re.scrollLeft}},{key:"scrollIntoView",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=this.getOffsetRect(),L=this.isInViewport({rect:D});if(!L||ce.force){var I=this.el;ce.behavior!=="smooth"?I.ownerDocument.defaultView.scrollTo(0,D.top):I.scrollIntoView(X({behavior:"smooth",block:"nearest"},ce))}}},{key:"reset",value:function(){var ce=this.el;this.el="",this._ensureElement(),this._setData(),(0,j.dL)(ce,this.el),this.render()}},{key:"_setData",value:function(){var ce=this.model,D=ce.components();this.$el.data({model:ce,collection:D,view:this})}},{key:"_getFrame",value:function(){return this.config.frameView}},{key:"renderChildren",value:function(){this.updateContent();var ce=this.getChildrenContainer(),D=this.childrenView||new v.Z({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});D.render(ce),this.childrenView=D;for(var L=Array.prototype.slice.call(D.el.childNodes),I=0,re=L.length;I<re;I++)ce.appendChild(L.shift())}},{key:"renderAttributes",value:function(){this.updateAttributes(),this.updateClasses()}},{key:"onAttrUpdate",value:function(){}},{key:"render",value:function(){return this.renderAttributes(),this.modelOpt.temporary||(this.renderChildren(),this.updateScript(),(0,B.setViewEl)(this.el,this),this.postRender()),this}},{key:"postRender",value:function(){this.modelOpt.temporary||this.onRender(this._clbObj())}},{key:"onRender",value:function(){}}]),me}(x().View);J.getEvents=function(){return(0,f.result)(this.prototype,"events")}},3505:(ge,ie,s)=>{s.d(ie,{Z:()=>v});var O=s(5671),H=s(3144),A=s(9340),p=s(2963),k=s(1120),d=s(2316),S=s.n(d),x=s(9050),f=s(9283);function l(w){var j=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var B,Q=(0,k.Z)(w);if(j){var X=(0,k.Z)(this).constructor;B=Reflect.construct(Q,arguments,X)}else B=Q.apply(this,arguments);return(0,p.Z)(this,B)}}var v=function(w){(0,A.Z)(B,w);var j=l(B);function B(){return(0,O.Z)(this,B),j.apply(this,arguments)}return(0,H.Z)(B,[{key:"initialize",value:function(Q){this.opts=Q||{},this.config=Q.config||{},this.em=this.config.em;var X=this.collection;this.listenTo(X,"add",this.addTo),this.listenTo(X,"reset",this.resetChildren),this.listenTo(X,"remove",this.removeChildren)}},{key:"removeChildren",value:function(Q,X){var te=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Q.views.forEach(function(se){if(se){var me=se.childrenView,ce=se.scriptContainer;me&&me.stopListening(),(0,f.L_)(ce),se.remove.apply(se)}});var U=Q.components();U.forEach(function(se){return te.removeChildren(se,X,J)})}},{key:"addTo",value:function(Q){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},te=this.config.em,J=this.collection.indexOf(Q);if(this.addToCollection(Q,null,J),te&&!X.temporary){var U=function se(me){te.trigger("component:add",me),me.components().forEach(function(ce){return se(ce)})};U(Q)}}},{key:"addToCollection",value:function(Q,X,te){this.compView||(this.compView=s(2169).Z);for(var J=this.config,U=this.opts,se=this.em,me=X||null,ce=J.frameView,D=ce===void 0?{}:ce,L=D.model&&Q.getView(D.model),I=U.componentTypes||se&&se.get("DomComponents").getTypes(),re=Q.get("type")||"default",ne=this.compView,z=0;z<I.length;z++)if(I[z].id==re){ne=I[z].view;break}var Y,u=L||new ne({model:Q,config:J,componentTypes:I});try{Y=u.render().el}catch($){Y=document.createTextNode(""),se.logError($)}if(me)me.appendChild(Y);else{var y=this.parentEl,g=y.childNodes;if((0,x.isUndefined)(te))y.appendChild(Y);else{var m=g.length==te;m&&te--,m||!g.length?y.appendChild(Y):y.insertBefore(Y,g[te])}}return Q.opt.temporary||se==null||se.trigger("component:mount",Q),Y}},{key:"resetChildren",value:function(Q){var X=this,te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=te.previousModels,U=J===void 0?[]:J;this.parentEl.innerHTML="",U.forEach(function(se){return X.removeChildren(se,X.collection)}),Q.each(function(se){return X.addToCollection(se)})}},{key:"render",value:function(Q){var X=this,te=this.el,J=document.createDocumentFragment();return this.parentEl=Q||this.el,this.collection.each(function(U){return X.addToCollection(U,J)}),te.innerHTML="",te.appendChild(J),this}}]),B}(S().View)},9524:(ge,ie,s)=>{s.d(ie,{Z:()=>Q});var O=s(5671),H=s(3144),A=s(7326),p=s(9340),k=s(2963),d=s(1120),S=s(4942),x=s(9050),f=s(1163),l=s(5311),v=s(2316);function w(X,te){var J=Object.keys(X);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(X);te&&(U=U.filter(function(se){return Object.getOwnPropertyDescriptor(X,se).enumerable})),J.push.apply(J,U)}return J}function j(X){for(var te=1;te<arguments.length;te++){var J=arguments[te]!=null?arguments[te]:{};te%2?w(Object(J),!0).forEach(function(U){(0,S.Z)(X,U,J[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(J)):w(Object(J)).forEach(function(U){Object.defineProperty(X,U,Object.getOwnPropertyDescriptor(J,U))})}return X}function B(X){var te=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var J,U=(0,d.Z)(X);if(te){var se=(0,d.Z)(this).constructor;J=Reflect.construct(U,arguments,se)}else J=U.apply(this,arguments);return(0,k.Z)(this,J)}}var Q=function(X){(0,p.Z)(J,X);var te=B(J);function J(){var U;(0,O.Z)(this,J);for(var se=arguments.length,me=new Array(se),ce=0;ce<se;ce++)me[ce]=arguments[ce];return U=te.call.apply(te,[this].concat(me)),(0,S.Z)((0,A.Z)(U),"parseStyle",(0,l.Z)().parseStyle),U}return(0,H.Z)(J,[{key:"extendStyle",value:function(U){return j(j({},this.getStyle()),U)}},{key:"getStyle",value:function(U){var se=j({},this.get("style")||{});return U&&(0,x.isString)(U)?se[U]:se}},{key:"setStyle",value:function(){var U=this,se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,x.isString)(se)&&(se=this.parseStyle(se));var ce=this.getStyle(me),D=j({},se),L=j({},D);(0,x.keys)(L).forEach(function(re){L[re]===""&&delete L[re]}),this.set("style",L,me);var I=(0,f.shallowDiff)(ce,D);return delete I.__p,(0,x.keys)(I).forEach(function(re){var ne=U.em;me.noEvent||(U.trigger("change:style:".concat(re)),ne&&(ne.trigger("styleable:change",U,re,me),ne.trigger("styleable:change:".concat(re),U,re,me)))}),D}},{key:"addStyle",value:function(U){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};typeof U=="string"?U={prop:se}:me=se||{},U=this.extendStyle(U),this.setStyle(U,me)}},{key:"removeStyle",value:function(U){var se=this.getStyle();delete se[U],this.setStyle(se)}},{key:"styleToString",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=[],me=this.getStyle(U);for(var ce in me){var D=U.important,L=(0,x.isArray)(D)?D.indexOf(ce)>=0:D,I="".concat(me[ce]).concat(L?" !important":""),re=ce.substr(0,2)=="__";I&&!re&&se.push("".concat(ce,":").concat(I,";"))}return se.join("")}},{key:"getSelectors",value:function(){return this.get("selectors")||this.get("classes")}},{key:"getSelectorsString",value:function(U){return this.selectorsToString?this.selectorsToString(U):this.getSelectors().getFullString()}},{key:"_validate",value:function(U,se){var me,ce=U.style,D=this.em||se.em,L=D==null||(me=D.get("CssComposer"))===null||me===void 0?void 0:me.getConfig().onBeforeStyle;if(ce&&L){var I=L(j({},ce));I&&(0,x.keys)(ce).map(function(re){(0,x.isUndefined)(I[re])&&delete U.style[re]}),I&&(0,x.keys)(I).map(function(re){U.style[re]=I[re]})}return!0}}]),J}(v.Model)},793:(ge,ie,s)=>{s.d(ie,{Z:()=>d});var O=s(4942),H=s(9050),A=s(2316);function p(S,x){var f=Object.keys(S);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(S);x&&(l=l.filter(function(v){return Object.getOwnPropertyDescriptor(S,v).enumerable})),f.push.apply(f,l)}return f}function k(S){for(var x=1;x<arguments.length;x++){var f=arguments[x]!=null?arguments[x]:{};x%2?p(Object(f),!0).forEach(function(l){(0,O.Z)(S,l,f[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(f)):p(Object(f)).forEach(function(l){Object.defineProperty(S,l,Object.getOwnPropertyDescriptor(f,l))})}return S}const d={types:[],initialize:function(S){var x=this,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=f.em;this.em=l,this.opts=f,this.model=function(){var w,j,B,Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Q&&Q.type){var te=x.getBaseType();w=(B=x.getType(Q.type))?B.model:te.model,j=B?B.view:te.view}else{var J=x.recognizeType(Q);w=(B=J.type).model,j=B.view,Q=J.attributes}var U=new w(Q,k(k({},X),{},{em:l}));return U.typeView=j,U};var v=this.init&&this.init.bind(this);v&&v()},recognizeType:function(S){for(var x=this.getTypes(),f=0;f<x.length;f++){var l=x[f],v=l.isType(S);if(v=typeof v=="boolean"&&v?{type:l.id}:v)return{type:l,attributes:v}}return{type:this.getBaseType(),attributes:S}},getBaseType:function(){var S=this.getTypes();return S[S.length-1]},getTypes:function(){return this.types},getType:function(S){for(var x=this.getTypes(),f=0;f<x.length;f++){var l=x[f];if(l.id===S)return l}},addType:function(S,x){var f=this.getType(S),l=this.getBaseType(),v=f?f.model:l.model,w=f?f.view:l.view,j=x.model,B=x.view,Q=x.isType;j=j instanceof A.Model||(0,H.isFunction)(j)?j:v.extend(j||{}),B=B instanceof A.View||(0,H.isFunction)(B)?B:w.extend(B||{}),!this.extendViewApi||x.model||x.view||(B=B.extend(x)),f?(f.model=j,f.view=B,f.isType=Q||f.isType):(x.id=S,x.model=j,x.view=B,x.isType=Q||function(X){if(X&&X.type==S)return!0},this.getTypes().unshift(x))}}},8659:(ge,ie,s)=>{s.d(ie,{Z:()=>l});var O=s(5671),H=s(3144),A=s(9340),p=s(2963),k=s(1120),d=s(2316),S=s.n(d);function x(v){var w=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var j,B=(0,k.Z)(v);if(w){var Q=(0,k.Z)(this).constructor;j=Reflect.construct(B,arguments,Q)}else j=B.apply(this,arguments);return(0,p.Z)(this,j)}}var f=S().$,l=function(v){(0,A.Z)(j,v);var w=x(j);function j(){var B,Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,O.Z)(this,j),B=w.call(this,Q);var X=Q.ppfx||"";return B.opts=Q,B.ppfx=X,B.em=Q.target||{},!Q.onChange&&B.listenTo(B.model,"change:value",B.handleModelChange),B}return(0,H.Z)(j,[{key:"template",value:function(){return'<span class="'.concat(this.holderClass(),'"></span>')}},{key:"inputClass",value:function(){return"".concat(this.ppfx,"field")}},{key:"holderClass",value:function(){return"".concat(this.ppfx,"input-holder")}},{key:"elementUpdated",value:function(){this.model.trigger("el:change")}},{key:"setValue",value:function(B){var Q=this.model,X=B||Q.get("defaults"),te=this.getInputEl();te&&(te.value=X)}},{key:"handleModelChange",value:function(B,Q,X){this.setValue(Q,X)}},{key:"handleChange",value:function(B){B.stopPropagation();var Q=this.getInputEl().value;this.__onInputChange(Q),this.elementUpdated()}},{key:"__onInputChange",value:function(B){this.model.set({value:B},{fromInput:1})}},{key:"getInputEl",value:function(){if(!this.inputEl){var B=this.model,Q=this.opts.type||"text",X=B.get("placeholder")||B.get("defaults")||B.get("default")||"";this.inputEl=f('<input type="'.concat(Q,'" placeholder="').concat(X,'">'))}return this.inputEl.get(0)}},{key:"render",value:function(){this.inputEl=null;var B=this.$el;return B.addClass(this.inputClass()),B.html(this.template()),B.find(".".concat(this.holderClass())).append(this.getInputEl()),this}}]),j}(S().View);l.prototype.events={change:"handleChange"}},1511:(ge,ie,s)=>{s.d(ie,{Z:()=>J});var O=s(4942),H=s(5671),A=s(3144),p=s(9340),k=s(2963),d=s(1120),S=s(2316),x=s.n(S),f=s(9050),l=s(1002),v=s(1163),w=s(8659);function j(U,se){var me=Object.keys(U);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(U);se&&(ce=ce.filter(function(D){return Object.getOwnPropertyDescriptor(U,D).enumerable})),me.push.apply(me,ce)}return me}function B(U){for(var se=1;se<arguments.length;se++){var me=arguments[se]!=null?arguments[se]:{};se%2?j(Object(me),!0).forEach(function(ce){(0,O.Z)(U,ce,me[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(me)):j(Object(me)).forEach(function(ce){Object.defineProperty(U,ce,Object.getOwnPropertyDescriptor(me,ce))})}return U}function Q(U){var se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var me,ce=(0,d.Z)(U);if(se){var D=(0,d.Z)(this).constructor;me=Reflect.construct(ce,arguments,D)}else me=ce.apply(this,arguments);return(0,k.Z)(this,me)}}var X=x().$;X&&function(U,se){if((0,v.hasWin)()){var me={beforeShow:ee,move:ee,change:ee,show:ee,hide:ee,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},ce=[],D=!!/msie/i.exec(window.navigator.userAgent),L=function(){function Ue(ct,Ot){return!!~(""+ct).indexOf(Ot)}var et=document.createElement("div").style;return et.cssText="background-color:rgba(0,0,0,.5)",Ue(et.backgroundColor,"rgba")||Ue(et.backgroundColor,"hsla")}(),I=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),re=function(){var Ue="";if(D)for(var et=1;et<=6;et++)Ue+="<div class='sp-"+et+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",Ue,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),ne="spectrum.id";U.fn.spectrum=function(Ue,et){if(typeof Ue=="string"){var ct=this,Ot=Array.prototype.slice.call(arguments,1);return this.each(function(){var yt=ce[U(this).data(ne)];if(yt){var ht=yt[Ue];if(!ht)throw new Error("Spectrum: no such method: '"+Ue+"'");Ue=="get"?ct=yt.get():Ue=="container"?ct=yt.container:Ue=="option"?ct=yt.option.apply(yt,Ot):Ue=="destroy"?(yt.destroy(),U(this).removeData(ne)):ht.apply(yt,Ot)}}),ct}return this.spectrum("destroy").each(function(){var yt=c(this,U.extend({},Ue,U(this).data()));U(this).data(ne,yt.id)})},U.fn.spectrum.load=!0,U.fn.spectrum.loadOpts={},U.fn.spectrum.draggable=R,U.fn.spectrum.defaults=me,U.fn.spectrum.inputTypeColorSupport=function Ue(){if(Ue._cachedResult===void 0){var et=U("<input type='color'/>")[0];Ue._cachedResult=et.type==="color"&&et.value!==""}return Ue._cachedResult},U.spectrum={},U.spectrum.localization={},U.spectrum.palettes={},U.fn.spectrum.processNativeColorInputs=function(){var Ue=U("input[type=color]");Ue.length&&!ue()&&Ue.spectrum({preferredFormat:"hex6"})};var z=/^[\s,#]+/,Y=/\s+$/,u=0,y=Math,g=y.round,m=y.min,$=y.max,ae=y.random,K=function Ue(et,ct){if(ct=ct||{},(et=et||"")instanceof Ue)return et;if(!(this instanceof Ue))return new Ue(et,ct);var Ot=function(yt){var ht={r:0,g:0,b:0},Ht=1,$t=!1,cn=!1;typeof yt=="string"&&(yt=function(qe){qe=qe.replace(z,"").replace(Y,"").toLowerCase();var $e,ft=!1;if(V[qe])qe=V[qe],ft=!0;else if(qe=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return($e=T.rgb.exec(qe))?{r:$e[1],g:$e[2],b:$e[3]}:($e=T.rgba.exec(qe))?{r:$e[1],g:$e[2],b:$e[3],a:$e[4]}:($e=T.hsl.exec(qe))?{h:$e[1],s:$e[2],l:$e[3]}:($e=T.hsla.exec(qe))?{h:$e[1],s:$e[2],l:$e[3],a:$e[4]}:($e=T.hsv.exec(qe))?{h:$e[1],s:$e[2],v:$e[3]}:($e=T.hsva.exec(qe))?{h:$e[1],s:$e[2],v:$e[3],a:$e[4]}:($e=T.hex8.exec(qe))?{a:tn($e[1]),r:it($e[2]),g:it($e[3]),b:it($e[4]),format:ft?"name":"hex8"}:($e=T.hex6.exec(qe))?{r:it($e[1]),g:it($e[2]),b:it($e[3]),format:ft?"name":"hex"}:($e=T.hex3.exec(qe))?{r:it($e[1]+""+$e[1]),g:it($e[2]+""+$e[2]),b:it($e[3]+""+$e[3]),format:ft?"name":"hex"}:!1}(yt)),(0,l.Z)(yt)=="object"&&(yt.hasOwnProperty("r")&&yt.hasOwnProperty("g")&&yt.hasOwnProperty("b")?(kn=yt.r,en=yt.g,Bn=yt.b,ht={r:255*Fe(kn,255),g:255*Fe(en,255),b:255*Fe(Bn,255)},$t=!0,cn=String(yt.r).substr(-1)==="%"?"prgb":"rgb"):yt.hasOwnProperty("h")&&yt.hasOwnProperty("s")&&yt.hasOwnProperty("v")?(yt.s=St(yt.s),yt.v=St(yt.v),ht=function(qe,$e,ft){qe=6*Fe(qe,360),$e=Fe($e,100),ft=Fe(ft,100);var Et=y.floor(qe),Bt=qe-Et,Dt=ft*(1-$e),zt=ft*(1-Bt*$e),Gt=ft*(1-(1-Bt)*$e),nn=Et%6;return{r:255*[ft,zt,Dt,Dt,Gt,ft][nn],g:255*[Gt,ft,ft,zt,Dt,Dt][nn],b:255*[Dt,Dt,Gt,ft,ft,zt][nn]}}(yt.h,yt.s,yt.v),$t=!0,cn="hsv"):yt.hasOwnProperty("h")&&yt.hasOwnProperty("s")&&yt.hasOwnProperty("l")&&(yt.s=St(yt.s),yt.l=St(yt.l),ht=function(qe,$e,ft){var Et,Bt,Dt;function zt(dn,un,bn){return bn<0&&(bn+=1),bn>1&&(bn-=1),bn<1/6?dn+6*(un-dn)*bn:bn<.5?un:bn<2/3?dn+(un-dn)*(2/3-bn)*6:dn}if(qe=Fe(qe,360),$e=Fe($e,100),ft=Fe(ft,100),$e===0)Et=Bt=Dt=ft;else{var Gt=ft<.5?ft*(1+$e):ft+$e-ft*$e,nn=2*ft-Gt;Et=zt(nn,Gt,qe+1/3),Bt=zt(nn,Gt,qe),Dt=zt(nn,Gt,qe-1/3)}return{r:255*Et,g:255*Bt,b:255*Dt}}(yt.h,yt.s,yt.l),$t=!0,cn="hsl"),yt.hasOwnProperty("a")&&(Ht=yt.a));var kn,en,Bn;return Ht=je(Ht),{ok:$t,format:yt.format||cn,r:m(255,$(ht.r,0)),g:m(255,$(ht.g,0)),b:m(255,$(ht.b,0)),a:Ht}}(et);this._originalInput=et,this._r=Ot.r,this._g=Ot.g,this._b=Ot.b,this._a=Ot.a,this._roundA=g(100*this._a)/100,this._format=ct.format||Ot.format,this._gradientType=ct.gradientType,this._r<1&&(this._r=g(this._r)),this._g<1&&(this._g=g(this._g)),this._b<1&&(this._b=g(this._b)),this._ok=Ot.ok,this._tc_id=u++};K.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Ue=this.toRgb();return(299*Ue.r+587*Ue.g+114*Ue.b)/1e3},setAlpha:function(Ue){return this._a=je(Ue),this._roundA=g(100*this._a)/100,this},toHsv:function(){var Ue=N(this._r,this._g,this._b);return{h:360*Ue.h,s:Ue.s,v:Ue.v,a:this._a}},toHsvString:function(){var Ue=N(this._r,this._g,this._b),et=g(360*Ue.h),ct=g(100*Ue.s),Ot=g(100*Ue.v);return this._a==1?"hsv("+et+", "+ct+"%, "+Ot+"%)":"hsva("+et+", "+ct+"%, "+Ot+"%, "+this._roundA+")"},toHsl:function(){var Ue=be(this._r,this._g,this._b);return{h:360*Ue.h,s:Ue.s,l:Ue.l,a:this._a}},toHslString:function(){var Ue=be(this._r,this._g,this._b),et=g(360*Ue.h),ct=g(100*Ue.s),Ot=g(100*Ue.l);return this._a==1?"hsl("+et+", "+ct+"%, "+Ot+"%)":"hsla("+et+", "+ct+"%, "+Ot+"%, "+this._roundA+")"},toHex:function(Ue){return oe(this._r,this._g,this._b,Ue)},toHexString:function(Ue){return"#"+this.toHex(Ue)},toHex8:function(){return de(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:g(this._r),g:g(this._g),b:g(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+g(this._r)+", "+g(this._g)+", "+g(this._b)+")":"rgba("+g(this._r)+", "+g(this._g)+", "+g(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:g(100*Fe(this._r,255))+"%",g:g(100*Fe(this._g,255))+"%",b:g(100*Fe(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+g(100*Fe(this._r,255))+"%, "+g(100*Fe(this._g,255))+"%, "+g(100*Fe(this._b,255))+"%)":"rgba("+g(100*Fe(this._r,255))+"%, "+g(100*Fe(this._g,255))+"%, "+g(100*Fe(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(M[oe(this._r,this._g,this._b,!0)]||!1)},toFilter:function(Ue){var et="#"+de(this._r,this._g,this._b,this._a),ct=et,Ot=this._gradientType?"GradientType = 1, ":"";return Ue&&(ct=K(Ue).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+Ot+"startColorstr="+et+",endColorstr="+ct+")"},toString:function(Ue){var et=!!Ue;Ue=Ue||this._format;var ct=!1,Ot=this._a<1&&this._a>=0;return et||!Ot||Ue!=="hex"&&Ue!=="hex6"&&Ue!=="hex3"&&Ue!=="name"?(Ue==="rgb"&&(ct=this.toRgbString()),Ue==="prgb"&&(ct=this.toPercentageRgbString()),Ue!=="hex"&&Ue!=="hex6"||(ct=this.toHexString()),Ue==="hex3"&&(ct=this.toHexString(!0)),Ue==="hex8"&&(ct=this.toHex8String()),Ue==="name"&&(ct=this.toName()),Ue==="hsl"&&(ct=this.toHslString()),Ue==="hsv"&&(ct=this.toHsvString()),ct||this.toHexString()):Ue==="name"&&this._a===0?this.toName():this.toRgbString()},_applyModification:function(Ue,et){var ct=Ue.apply(null,[this].concat([].slice.call(et)));return this._r=ct._r,this._g=ct._g,this._b=ct._b,this.setAlpha(ct._a),this},lighten:function(){return this._applyModification(_e,arguments)},brighten:function(){return this._applyModification(Ne,arguments)},darken:function(){return this._applyModification(Je,arguments)},desaturate:function(){return this._applyModification(Ce,arguments)},saturate:function(){return this._applyModification(we,arguments)},greyscale:function(){return this._applyModification(Ae,arguments)},spin:function(){return this._applyModification(tt,arguments)},_applyCombination:function(Ue,et){return Ue.apply(null,[this].concat([].slice.call(et)))},analogous:function(){return this._applyCombination(It,arguments)},complement:function(){return this._applyCombination(gt,arguments)},monochromatic:function(){return this._applyCombination(Ve,arguments)},splitcomplement:function(){return this._applyCombination(Lt,arguments)},triad:function(){return this._applyCombination(lt,arguments)},tetrad:function(){return this._applyCombination(Zt,arguments)}},K.fromRatio=function(Ue,et){if((0,l.Z)(Ue)=="object"){var ct={};for(var Ot in Ue)Ue.hasOwnProperty(Ot)&&(ct[Ot]=Ot==="a"?Ue[Ot]:St(Ue[Ot]));Ue=ct}return K(Ue,et)},K.equals=function(Ue,et){return!(!Ue||!et)&&K(Ue).toRgbString()==K(et).toRgbString()},K.random=function(){return K.fromRatio({r:ae(),g:ae(),b:ae()})},K.mix=function(Ue,et,ct){ct=ct===0?0:ct||50;var Ot,yt=K(Ue).toRgb(),ht=K(et).toRgb(),Ht=ct/100,$t=2*Ht-1,cn=ht.a-yt.a,kn=1-(Ot=((Ot=$t*cn==-1?$t:($t+cn)/(1+$t*cn))+1)/2),en={r:ht.r*Ot+yt.r*kn,g:ht.g*Ot+yt.g*kn,b:ht.b*Ot+yt.b*kn,a:ht.a*Ht+yt.a*(1-Ht)};return K(en)},K.readability=function(Ue,et){var ct=K(Ue),Ot=K(et),yt=ct.toRgb(),ht=Ot.toRgb(),Ht=ct.getBrightness(),$t=Ot.getBrightness(),cn=Math.max(yt.r,ht.r)-Math.min(yt.r,ht.r)+Math.max(yt.g,ht.g)-Math.min(yt.g,ht.g)+Math.max(yt.b,ht.b)-Math.min(yt.b,ht.b);return{brightness:Math.abs(Ht-$t),color:cn}},K.isReadable=function(Ue,et){var ct=K.readability(Ue,et);return ct.brightness>125&&ct.color>500},K.mostReadable=function(Ue,et){for(var ct=null,Ot=0,yt=!1,ht=0;ht<et.length;ht++){var Ht=K.readability(Ue,et[ht]),$t=Ht.brightness>125&&Ht.color>500,cn=Ht.brightness/125*3+Ht.color/500;($t&&!yt||$t&&yt&&cn>Ot||!$t&&!yt&&cn>Ot)&&(yt=$t,Ot=cn,ct=K(et[ht]))}return ct};var F,b,h,V=K.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},M=K.hexNames=function(Ue){var et={};for(var ct in Ue)Ue.hasOwnProperty(ct)&&(et[Ue[ct]]=ct);return et}(V),T=(b="[\\s|\\(]+("+(F="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",h="[\\s|\\(]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",{rgb:new RegExp("rgb"+b),rgba:new RegExp("rgba"+h),hsl:new RegExp("hsl"+b),hsla:new RegExp("hsla"+h),hsv:new RegExp("hsv"+b),hsva:new RegExp("hsva"+h),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=K,U(function(){U.fn.spectrum.load&&U.fn.spectrum.processNativeColorInputs()})}function P(Ue,et,ct,Ot){for(var yt=[],ht=0;ht<Ue.length;ht++){var Ht=Ue[ht];if(Ht){var $t=K(Ht),cn=$t.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";cn+=K.equals(et,Ht)?" sp-thumb-active":"";var kn=$t.toString(Ot.preferredFormat||"rgb"),en=L?"background-color:"+$t.toRgbString():"filter:"+$t.toFilter();yt.push('<span title="'+kn+'" data-color="'+$t.toRgbString()+'" class="'+cn+'"><span class="sp-thumb-inner" style="'+en+';"></span></span>')}else yt.push(U("<div />").append(U('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",Ot.noColorSelectedText)).html())}return"<div class='sp-cf "+ct+"'>"+yt.join("")+"</div>"}function c(Ue,et){var ct,Ot,yt,ht=function(Yt,i){var o=U.extend({},me,Yt);return o.callbacks={move:E(o.move,i),change:E(o.change,i),show:E(o.show,i),hide:E(o.hide,i),beforeShow:E(o.beforeShow,i)},o}(et,Ue),Ht=ht.flat,$t=ht.showSelectionPalette,cn=ht.localStorageKey,kn=ht.theme,en=ht.callbacks,Bn=(ct=On,Ot=10,function(){var Yt=this,i=arguments,o=function(){yt=null,ct.apply(Yt,i)};yt||(yt=setTimeout(o,Ot))}),qe=!1,$e=!1,ft=!0,Et=0,Bt=0,Dt=0,zt=0,Gt=0,nn=0,dn=0,un=0,bn=0,wn=0,En=1,An=[],Tn=[],qn={},Ft=ht.selectionPalette.slice(0),Mt=ht.maxSelectionSize,Rn="sp-dragging",Zn=null,Fn=Ue.ownerDocument,Wt=(Fn.body,U(Ue)),hn=!1,on=U(re,Fn).addClass(kn),sr=on.find(".sp-picker-container"),Ct=on.find(".sp-color"),ln=on.find(".sp-dragger"),De=on.find(".sp-hue"),Ie=on.find(".sp-slider"),vt=on.find(".sp-alpha-inner"),Nt=on.find(".sp-alpha"),rt=on.find(".sp-alpha-handle"),xt=on.find(".sp-input"),Sn=on.find(".sp-palette"),fn=on.find(".sp-initial"),jn=on.find(".sp-cancel"),$n=on.find(".sp-clear"),rr=on.find(".sp-choose"),tr=on.find(".sp-palette-toggle"),Kn=Wt.is("input"),Jn=Kn&&Wt.attr("type")==="color"&&ue(),Wn=Kn&&!Ht,Vn=Wn?U(I).addClass(kn).addClass(ht.className).addClass(ht.replacerClassName):U([]),Nn=Wn?Vn:Wt,Gn=Vn.find(".sp-preview-inner"),he=ht.color||Kn&&Wt.val(),ye=!1,C=ht.preferredFormat,W=!ht.showButtons||ht.clickoutFiresChange,le=!he,_=ht.allowEmpty&&!Jn;function fe(){if(ht.showPaletteOnly&&(ht.showPalette=!0),tr.text(ht.showPaletteOnly?ht.togglePaletteMoreText:ht.togglePaletteLessText),ht.palette){An=ht.palette.slice(0),Tn=U.isArray(An[0])?An:[An],qn={};for(var Yt=0;Yt<Tn.length;Yt++)for(var i=0;i<Tn[Yt].length;i++){var o=K(Tn[Yt][i]).toRgbString();qn[o]=!0}}on.toggleClass("sp-flat",Ht),on.toggleClass("sp-input-disabled",!ht.showInput),on.toggleClass("sp-alpha-enabled",ht.showAlpha),on.toggleClass("sp-clear-enabled",_),on.toggleClass("sp-buttons-disabled",!ht.showButtons),on.toggleClass("sp-palette-buttons-disabled",!ht.togglePaletteOnly),on.toggleClass("sp-palette-disabled",!ht.showPalette),on.toggleClass("sp-palette-only",ht.showPaletteOnly),on.toggleClass("sp-initial-disabled",!ht.showInitial),on.addClass(ht.className).addClass(ht.containerClassName),On()}function ke(){if(cn&&window.localStorage){try{var Yt=window.localStorage[cn].split(",#");Yt.length>1&&(delete window.localStorage[cn],U.each(Yt,function(i,o){Re(o)}))}catch{}try{Ft=window.localStorage[cn].split(";")}catch{}}}function Re(Yt){if($t){var i=K(Yt).toRgbString();if(!qn[i]&&U.inArray(i,Ft)===-1)for(Ft.push(i);Ft.length>Mt;)Ft.shift();if(cn&&window.localStorage)try{window.localStorage[cn]=Ft.join(";")}catch{}}}function Ze(){var Yt=sn(),i=U.map(Tn,function(o,G){return P(o,Yt,"sp-palette-row sp-palette-row-"+G,ht)});ke(),Ft&&i.push(P(function(){var o=[];if(ht.showPalette)for(var G=0;G<Ft.length;G++){var xe=K(Ft[G]).toRgbString();qn[xe]||o.push(Ft[G])}return o.reverse().slice(0,ht.maxSelectionSize)}(),Yt,"sp-palette-row sp-palette-row-selection",ht)),Sn.html(i.join(""))}function Ke(){if(ht.showInitial){var Yt=ye,i=sn();fn.html(P([Yt,i],i,"sp-palette-row-initial",ht))}}function at(){(Bt<=0||Et<=0||zt<=0)&&On(),$e=!0,on.addClass(Rn),Zn=null,Wt.trigger("dragstart.spectrum",[sn()])}function ot(){$e=!1,on.removeClass(Rn),Wt.trigger("dragstop.spectrum",[sn()])}function bt(){var Yt=xt.val();if(Yt!==null&&Yt!==""||!_){var i=K(Yt);i.isValid()?(Mn(i),ur(!0)):xt.addClass("sp-validation-error")}else Mn(null),ur(!0)}function _t(){qe?gn():Rt()}function Rt(){var Yt=U.Event("beforeShow.spectrum");if(qe)On();else if(Wt.trigger("beforeShow.spectrum",[sn()]),en.beforeShow(sn())!==!1&&!Yt.isDefaultPrevented()){(function(){for(var o=0;o<ce.length;o++)ce[o]&&ce[o].hide()})(),qe=!0;var i=U(Fn);i.bind("keydown.spectrum",Qt),i.bind("click.spectrum",an),U(window).bind("resize.spectrum",Bn),Vn.addClass("sp-active"),on.removeClass("sp-hidden"),On(),Hn(),ye=sn(),Ke(),en.show(ye),Wt.trigger("show.spectrum",[ye])}}function Qt(Yt){Yt.keyCode===27&&gn()}function an(Yt){Yt.button!=2&&($e||(W?ur(!0):Dn(),gn()))}function gn(){qe&&!Ht&&(qe=!1,U(Fn).unbind("keydown.spectrum",Qt),U(Fn).unbind("click.spectrum",an),U(window).unbind("resize.spectrum",Bn),Vn.removeClass("sp-active"),on.addClass("sp-hidden"),en.hide(sn()),Wt.trigger("hide.spectrum",[sn()]))}function Dn(){Mn(ye,!0)}function Mn(Yt,i){var o,G;K.equals(Yt,sn())?Hn():(!Yt&&_?le=!0:(le=!1,ft=!Yt,G=(o=K(Yt)).toHsv(),un=G.h%360/360,bn=G.s,wn=G.v,En=G.a),Hn(),o&&o.isValid()&&!i&&(C=ht.preferredFormat||o.getFormat()))}function sn(Yt){return Yt=Yt||{},_&&le?null:K.fromRatio({h:un,s:bn,v:wn,a:Math.round(100*En)/100},{format:Yt.format||C})}function Cn(){Hn(),en.move(sn()),Wt.trigger("move.spectrum",[sn()])}function Hn(){xt.removeClass("sp-validation-error"),Xn();var Yt=K.fromRatio({h:un,s:1,v:1});Ct.css("background-color",Yt.toHexString());var i=C;En<1&&(En!==0||i!=="name")&&(i!=="hex"&&i!=="hex3"&&i!=="hex6"&&i!=="name"||(i="rgb"));var o=sn({format:i}),G="";if(Gn.removeClass("sp-clear-display"),Gn.css("background-color","transparent"),!o&&_)Gn.addClass("sp-clear-display");else{var xe=o.toHexString(),Be=o.toRgbString();if(L||o.alpha===1?Gn.css("background-color",Be):(Gn.css("background-color","transparent"),Gn.css("filter",o.toFilter())),ht.showAlpha){var Le=o.toRgb();Le.a=0;var Qe=K(Le).toRgbString(),dt="linear-gradient(left, "+Qe+", "+xe+")";D?vt.css("filter",K(Qe).toFilter({gradientType:1},xe)):(vt.css("background","-webkit-"+dt),vt.css("background","-moz-"+dt),vt.css("background","-ms-"+dt),vt.css("background","linear-gradient(to right, "+Qe+", "+xe+")"))}G=o.toString(i)}ht.showInput&&xt.val(G),ht.showPalette&&Ze(),Ke()}function Xn(){var Yt=bn,i=wn;if(_&&le)rt.hide(),Ie.hide(),ln.hide();else{rt.show(),Ie.show(),ln.show();var o=Yt*Et,G=Bt-i*Bt;o=Math.max(-Dt,Math.min(Et-Dt,o-Dt)),G=Math.max(-Dt,Math.min(Bt-Dt,G-Dt)),ln.css({top:G+"px",left:o+"px"});var xe=En*Gt;rt.css({left:xe-nn/2+"px"});var Be=un*zt;Ie.css({top:Be-dn+"px"})}}function ur(Yt){var i=sn(),o="",G=!!ft||!K.equals(i,ye);i&&(o=i.toString(C),!qe&&Re(i)),Kn&&Wt.val(o),Yt&&G&&(en.change(i),Wt.trigger("change",[i]))}function On(){qe&&(Et=Ct.width(),Bt=Ct.height(),Dt=ln.height(),De.width(),zt=De.height(),dn=Ie.height(),Gt=Nt.width(),nn=rt.width(),Ht||(on.css("position","absolute"),ht.offset?on.offset(ht.offset):on.offset(function(Yt,i){var o=0,G=Yt.outerWidth(),xe=Yt.outerHeight(),Be=i.outerHeight(),Le=Yt[0].ownerDocument,Qe=Le.documentElement,dt=Qe.clientWidth,kt=Qe.clientHeight,Pt=U(Le).scrollLeft(),Tt=U(Le).scrollTop(),Xt=dt+Pt,Jt=kt+Tt,Kt=i.offset();return Kt.top+=Be,Kt.left-=Math.min(Kt.left,Kt.left+G>Xt&&Xt>G?Math.abs(Kt.left+G-Xt):0),Kt.top-=Math.min(Kt.top,Kt.top+xe>Jt&&Jt>xe?Math.abs(xe+Be-o):o),Kt}(on,Nn))),Xn(),ht.showPalette&&Ze(),Wt.trigger("reflow.spectrum"))}function Yn(){gn(),hn=!0,Wt.attr("disabled",!0),Nn.addClass("sp-disabled")}(function(){if(D&&on.find("*:not(input)").attr("unselectable","on"),fe(),Wn&&Wt.after(Vn).hide(),_||$n.hide(),Ht)Wt.after(on).hide();else{var Yt=ht.appendTo==="parent"?Wt.parent():U(ht.appendTo);Yt.length!==1&&(Yt=U("body")),Yt.append(on)}function i(G){return G.data&&G.data.ignore?(Mn(U(G.target).closest(".sp-thumb-el").data("color")),Cn()):(Mn(U(G.target).closest(".sp-thumb-el").data("color")),Cn(),ht.hideAfterPaletteSelect&&(ur(!0),gn())),!1}ke(),Nn.bind("click.spectrum touchstart.spectrum",function(G){hn||_t(),G.stopPropagation(),U(G.target).is("input")||G.preventDefault()}),(Wt.is(":disabled")||ht.disabled===!0)&&Yn(),on.click(q),xt.change(bt),xt.bind("paste",function(){setTimeout(bt,1)}),xt.keydown(function(G){G.keyCode==13&&bt()}),jn.text(ht.cancelText),jn.bind("click.spectrum",function(G){G.stopPropagation(),G.preventDefault(),Dn(),gn()}),$n.attr("title",ht.clearText),$n.bind("click.spectrum",function(G){G.stopPropagation(),G.preventDefault(),le=!0,Cn(),Ht&&ur(!0)}),rr.text(ht.chooseText),rr.bind("click.spectrum",function(G){G.stopPropagation(),G.preventDefault(),D&&xt.is(":focus")&&xt.trigger("change"),xt.hasClass("sp-validation-error")||(ur(!0),gn())}),tr.text(ht.showPaletteOnly?ht.togglePaletteMoreText:ht.togglePaletteLessText),tr.bind("click.spectrum",function(G){G.stopPropagation(),G.preventDefault(),ht.showPaletteOnly=!ht.showPaletteOnly,ht.showPaletteOnly||Ht||on.css("left","-="+(sr.outerWidth(!0)+5)),fe()}),R(Nt,function(G,xe,Be){En=G/Gt,le=!1,Be.shiftKey&&(En=Math.round(10*En)/10),Cn()},at,ot),R(De,function(G,xe){un=parseFloat(xe/zt),le=!1,ht.showAlpha||(En=1),Cn()},at,ot),R(Ct,function(G,xe,Be){if(Be.shiftKey){if(!Zn){var Le=bn*Et,Qe=Bt-wn*Bt,dt=Math.abs(G-Le)>Math.abs(xe-Qe);Zn=dt?"x":"y"}}else Zn=null;var kt=!Zn||Zn==="y";(!Zn||Zn==="x")&&(bn=parseFloat(G/Et)),kt&&(wn=parseFloat((Bt-xe)/Bt)),le=!1,ht.showAlpha||(En=1),Cn()},at,ot),he?(Mn(he),Hn(),C=ht.preferredFormat||K(he).getFormat(),Re(he)):Hn(),Ht&&Rt();var o=D?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Sn.delegate(".sp-thumb-el",o,i),fn.delegate(".sp-thumb-el:nth-child(1)",o,{ignore:!0},i)})();var _n={show:Rt,hide:gn,toggle:_t,reflow:On,option:function(Yt,i){return Yt===se?U.extend({},ht):i===se?ht[Yt]:(ht[Yt]=i,Yt==="preferredFormat"&&(C=ht.preferredFormat),void fe())},enable:function(){hn=!1,Wt.attr("disabled",!1),Nn.removeClass("sp-disabled")},disable:Yn,offset:function(Yt){ht.offset=Yt,On()},set:function(Yt){Mn(Yt),ur()},get:sn,destroy:function(){Wt.show(),Nn.unbind("click.spectrum touchstart.spectrum"),on.remove(),Vn.remove(),ce[_n.id]=null},container:on};return _n.id=ce.push(_n)-1,_n}function ee(){}function q(Ue){Ue.stopPropagation()}function E(Ue,et){var ct=Array.prototype.slice,Ot=ct.call(arguments,2);return function(){return Ue.apply(et,Ot.concat(ct.call(arguments)))}}function R(Ue,et,ct,Ot){et=et||function(){},ct=ct||function(){},Ot=Ot||function(){};var yt=document,ht=!1,Ht={},$t=0,cn=0,kn="ontouchstart"in window,en={};function Bn(ft){ft.stopPropagation&&ft.stopPropagation(),ft.preventDefault&&ft.preventDefault(),ft.returnValue=!1}function qe(ft){if(ht){if(D&&yt.documentMode<9&&!ft.button)return $e();var Et=ft&&ft.touches&&ft.touches[0],Bt=Et&&Et.pageX||ft.pageX,Dt=Et&&Et.pageY||ft.pageY,zt=Math.max(0,Math.min(Bt-Ht.left,cn)),Gt=Math.max(0,Math.min(Dt-Ht.top,$t));kn&&Bn(ft),et.apply(Ue,[zt,Gt,ft])}}function $e(){ht&&(U(yt).unbind(en),U(yt.body).removeClass("sp-dragging"),setTimeout(function(){Ot.apply(Ue,arguments)},0)),ht=!1}en.selectstart=Bn,en.dragstart=Bn,en["touchmove mousemove"]=qe,en["touchend mouseup"]=$e,U(Ue).bind("touchstart mousedown",function(ft){var Et=ft.which?ft.which==3:ft.button==2;Et||ht||ct.apply(Ue,arguments)!==!1&&(ht=!0,$t=U(Ue).height(),cn=U(Ue).width(),Ht=U(Ue).offset(),U(yt).bind(en),U(yt.body).addClass("sp-dragging"),qe(ft),Bn(ft))})}function ue(){return U.fn.spectrum.inputTypeColorSupport()}function be(Ue,et,ct){Ue=Fe(Ue,255),et=Fe(et,255),ct=Fe(ct,255);var Ot,yt,ht=$(Ue,et,ct),Ht=m(Ue,et,ct),$t=(ht+Ht)/2;if(ht==Ht)Ot=yt=0;else{var cn=ht-Ht;switch(yt=$t>.5?cn/(2-ht-Ht):cn/(ht+Ht),ht){case Ue:Ot=(et-ct)/cn+(et<ct?6:0);break;case et:Ot=(ct-Ue)/cn+2;break;case ct:Ot=(Ue-et)/cn+4}Ot/=6}return{h:Ot,s:yt,l:$t}}function N(Ue,et,ct){Ue=Fe(Ue,255),et=Fe(et,255),ct=Fe(ct,255);var Ot,yt,ht=$(Ue,et,ct),Ht=m(Ue,et,ct),$t=ht,cn=ht-Ht;if(yt=ht===0?0:cn/ht,ht==Ht)Ot=0;else{switch(ht){case Ue:Ot=(et-ct)/cn+(et<ct?6:0);break;case et:Ot=(ct-Ue)/cn+2;break;case ct:Ot=(Ue-et)/cn+4}Ot/=6}return{h:Ot,s:yt,v:$t}}function oe(Ue,et,ct,Ot){var yt=[mt(g(Ue).toString(16)),mt(g(et).toString(16)),mt(g(ct).toString(16))];return Ot&&yt[0].charAt(0)==yt[0].charAt(1)&&yt[1].charAt(0)==yt[1].charAt(1)&&yt[2].charAt(0)==yt[2].charAt(1)?yt[0].charAt(0)+yt[1].charAt(0)+yt[2].charAt(0):yt.join("")}function de(Ue,et,ct,Ot){var yt;return[mt((yt=Ot,Math.round(255*parseFloat(yt)).toString(16))),mt(g(Ue).toString(16)),mt(g(et).toString(16)),mt(g(ct).toString(16))].join("")}function Ce(Ue,et){et=et===0?0:et||10;var ct=K(Ue).toHsl();return ct.s-=et/100,ct.s=We(ct.s),K(ct)}function we(Ue,et){et=et===0?0:et||10;var ct=K(Ue).toHsl();return ct.s+=et/100,ct.s=We(ct.s),K(ct)}function Ae(Ue){return K(Ue).desaturate(100)}function _e(Ue,et){et=et===0?0:et||10;var ct=K(Ue).toHsl();return ct.l+=et/100,ct.l=We(ct.l),K(ct)}function Ne(Ue,et){et=et===0?0:et||10;var ct=K(Ue).toRgb();return ct.r=$(0,m(255,ct.r-g(-et/100*255))),ct.g=$(0,m(255,ct.g-g(-et/100*255))),ct.b=$(0,m(255,ct.b-g(-et/100*255))),K(ct)}function Je(Ue,et){et=et===0?0:et||10;var ct=K(Ue).toHsl();return ct.l-=et/100,ct.l=We(ct.l),K(ct)}function tt(Ue,et){var ct=K(Ue).toHsl(),Ot=(g(ct.h)+et)%360;return ct.h=Ot<0?360+Ot:Ot,K(ct)}function gt(Ue){var et=K(Ue).toHsl();return et.h=(et.h+180)%360,K(et)}function lt(Ue){var et=K(Ue).toHsl(),ct=et.h;return[K(Ue),K({h:(ct+120)%360,s:et.s,l:et.l}),K({h:(ct+240)%360,s:et.s,l:et.l})]}function Zt(Ue){var et=K(Ue).toHsl(),ct=et.h;return[K(Ue),K({h:(ct+90)%360,s:et.s,l:et.l}),K({h:(ct+180)%360,s:et.s,l:et.l}),K({h:(ct+270)%360,s:et.s,l:et.l})]}function Lt(Ue){var et=K(Ue).toHsl(),ct=et.h;return[K(Ue),K({h:(ct+72)%360,s:et.s,l:et.l}),K({h:(ct+216)%360,s:et.s,l:et.l})]}function It(Ue,et,ct){et=et||6,ct=ct||30;var Ot=K(Ue).toHsl(),yt=360/ct,ht=[K(Ue)];for(Ot.h=(Ot.h-(yt*et>>1)+720)%360;--et;)Ot.h=(Ot.h+yt)%360,ht.push(K(Ot));return ht}function Ve(Ue,et){et=et||6;for(var ct=K(Ue).toHsv(),Ot=ct.h,yt=ct.s,ht=ct.v,Ht=[],$t=1/et;et--;)Ht.push(K({h:Ot,s:yt,v:ht})),ht=(ht+$t)%1;return Ht}function je(Ue){return Ue=parseFloat(Ue),(isNaN(Ue)||Ue<0||Ue>1)&&(Ue=1),Ue}function Fe(Ue,et){(function(Ot){return typeof Ot=="string"&&Ot.indexOf(".")!=-1&&parseFloat(Ot)===1})(Ue)&&(Ue="100%");var ct=function(Ot){return typeof Ot=="string"&&Ot.indexOf("%")!=-1}(Ue);return Ue=m(et,$(0,parseFloat(Ue))),ct&&(Ue=parseInt(Ue*et,10)/100),y.abs(Ue-et)<1e-6?1:Ue%et/parseFloat(et)}function We(Ue){return m(1,$(0,Ue))}function it(Ue){return parseInt(Ue,16)}function mt(Ue){return Ue.length==1?"0"+Ue:""+Ue}function St(Ue){return Ue<=1&&(Ue=100*Ue+"%"),Ue}function tn(Ue){return it(Ue)/255}}(X);var te=function(U){var se=U.getFormat()==="name"&&U.toName(),me=U.getAlpha()==1?U.toHexString():U.toRgbString();return se||me.replace(/ /g,"")},J=function(U){(0,p.Z)(me,U);var se=Q(me);function me(){return(0,H.Z)(this,me),se.apply(this,arguments)}return(0,A.Z)(me,[{key:"template",value:function(){var ce=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(ce,`field-colorp">
        <div class="`).concat(ce,`field-colorp-c" data-colorp-c>
          <div class="`).concat(ce,`checker-bg"></div>
        </div>
      </div>
    `)}},{key:"inputClass",value:function(){var ce=this.ppfx;return"".concat(ce,"field ").concat(ce,"field-color")}},{key:"holderClass",value:function(){return"".concat(this.ppfx,"input-holder")}},{key:"remove",value:function(){w.Z.prototype.remove.apply(this,arguments),this.colorEl.spectrum("destroy")}},{key:"handleChange",value:function(ce){ce.stopPropagation();var D=ce.target.value;(0,f.isUndefined)(D)||this.__onInputChange(D)}},{key:"__onInputChange",value:function(ce){var D=this.model,L=this.opts.onChange,I=ce,re=this.getColorEl();if(re){re.spectrum("set",I);var ne=re.spectrum("get"),z=I&&te(ne);z&&(I=z)}L?L(I):D.set({value:I},{fromInput:1})}},{key:"setValue",value:function(ce){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=this.model,I=(0,f.isUndefined)(D.def)?L.get("defaults"):D.def,re=(0,f.isUndefined)(ce)?(0,f.isUndefined)(I)?"":I:ce,ne=this.getInputEl(),z=this.getColorEl(),Y=re!="none"?re:"";ne.value=re,z.get(0).style.backgroundColor=Y,(D.fromTarget||D.fromInput&&!D.avoidStore)&&(z.spectrum("set",Y),this.noneColor=re=="none")}},{key:"getColorEl",value:function(){if(!this.colorEl){var ce,D=this.em,L=this.model,I=this.opts,re=this,ne=this.ppfx,z=I.onChange,Y=X('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),u=Y.get(0).style,y=D&&D.config?D.config.el:"",g=D&&D.getConfig&&D.getConfig().colorPicker||{},m=!1,$="";this.$el.find("[data-colorp-c]").append(Y);var ae=function(K){var F=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];z?z(K,!F):(F&&L.setValueFromInput(0,!1),L.setValueFromInput(K,F))};Y.spectrum(B(B(B({color:L.getValue()||!1,containerClassName:"".concat(ne,"one-bg ").concat(ne,"two-color"),appendTo:y||"body",maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F",palette:[]},g),L.get("colorPicker")||{}),{},{move:function(K){var F=te(K);$=F,u.backgroundColor=F,ae(F,!1)},change:function(K){m=!0;var F=te(K);u.backgroundColor=F,ae(F),re.noneColor=0},show:function(K){m=!1,$="",ce=z?L.getValue({noDefault:!0}):te(K)},hide:function(){m||!ce&&!z||(re.noneColor&&(ce=""),u.backgroundColor=ce,Y.spectrum("set",ce),ae(ce,!1))}})),D&&D.on&&this.listenTo(D,"component:selected",function(){$&&ae($),m=!0,$="",Y.spectrum("hide")}),this.colorEl=Y}return this.colorEl}},{key:"render",value:function(){return w.Z.prototype.render.call(this),this.getColorEl(),this}}]),me}(w.Z)},7610:(ge,ie,s)=>{s.d(ie,{Z:()=>j});var O=s(5671),H=s(3144),A=s(7326),p=s(9340),k=s(2963),d=s(1120),S=s(2316),x=s.n(S),f=s(9050),l=s(1163),v=s(8659);function w(B){var Q=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var X,te=(0,d.Z)(B);if(Q){var J=(0,d.Z)(this).constructor;X=Reflect.construct(te,arguments,J)}else X=te.apply(this,arguments);return(0,k.Z)(this,X)}}x().$;var j=function(B){(0,p.Z)(X,B);var Q=w(X);function X(){var te,J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,O.Z)(this,X),te=Q.call(this,J),(0,f.bindAll)((0,A.Z)(te),"moveIncrement","upIncrement"),te.doc=document,te.listenTo(te.model,"change:unit",te.handleModelChange),te}return(0,H.Z)(X,[{key:"template",value:function(){var te=this.ppfx;return`
      <span class="`.concat(te,`input-holder"></span>
      <span class="`).concat(te,`field-units"></span>
      <div class="`).concat(te,`field-arrows" data-arrows>
        <div class="`).concat(te,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(te,`field-arrow-d" data-arrow-down></div>
      </div>
    `)}},{key:"inputClass",value:function(){var te=this.ppfx;return this.opts.contClass||"".concat(te,"field ").concat(te,"field-integer")}},{key:"setValue",value:function(te,J){var U=J||{},se=this.validateInputValue(te,{deepCheck:1}),me={value:se.value};(se.unit||se.force)&&(me.unit=se.unit),this.model.set(me,U),U.silent&&this.handleModelChange()}},{key:"handleChange",value:function(te){te.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()}},{key:"handleUnitChange",value:function(te){te.stopPropagation();var J=this.getUnitEl().value;this.model.set("unit",J),this.elementUpdated()}},{key:"handleKeyDown",value:function(te){te.key==="ArrowUp"&&(te.preventDefault(),this.upArrowClick()),te.key==="ArrowDown"&&(te.preventDefault(),this.downArrowClick())}},{key:"elementUpdated",value:function(){this.model.trigger("el:change")}},{key:"handleModelChange",value:function(){var te=this.model;this.getInputEl().value=te.get("value");var J=this.getUnitEl();J&&(J.value=te.get("unit")||"")}},{key:"getUnitEl",value:function(){if(!this.unitEl){var te=this.model,J=te.get("units")||[];if(J.length){var U=['<option value="" disabled hidden>-</option>'];J.forEach(function(me){var ce=me==te.get("unit")?"selected":"";U.push("<option ".concat(ce,">").concat(me,"</option>"))});var se=document.createElement("div");se.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(U.join(""),"</select>"),this.unitEl=se.firstChild}}return this.unitEl}},{key:"upArrowClick",value:function(){var te=this.model,J=te.get("step"),U=parseFloat(te.get("value"));this.setValue(this.normalizeValue(U+J)),this.elementUpdated()}},{key:"downArrowClick",value:function(){var te=this.model,J=te.get("step"),U=parseFloat(te.get("value"));this.setValue(this.normalizeValue(U-J)),this.elementUpdated()}},{key:"downIncrement",value:function(te){te.preventDefault(),this.moved=0;var J=this.model.get("value")||0;J=this.normalizeValue(J),this.current={y:te.pageY,val:J},(0,l.on)(this.doc,"mousemove",this.moveIncrement),(0,l.on)(this.doc,"mouseup",this.upIncrement)}},{key:"moveIncrement",value:function(te){this.moved=1;var J=this.model,U=J.get("step"),se=this.current,me=this.normalizeValue(se.val+(se.y-te.pageY)*U),ce=this.validateInputValue(me),D=ce.value,L=ce.unit;return this.prValue=D,J.set({value:D,unit:L},{avoidStore:1}),!1}},{key:"upIncrement",value:function(){var te=this.model,J=te.get("step");if((0,l.off)(this.doc,"mouseup",this.upIncrement),(0,l.off)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var U=this.prValue-J;te.set("value",U,{avoidStore:1}).set("value",U+J),this.elementUpdated()}}},{key:"normalizeValue",value:function(te){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=this.model,se=U.get("step"),me=0;if(isNaN(te))return J;if(te=parseFloat(te),Math.floor(te)!==te){var ce=se.toString().split(".")[1];me=ce?ce.length:0}return me?parseFloat(te.toFixed(me)):te}},{key:"validateInputValue",value:function(te){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=0,se=J||{},me=this.model,ce="",D=(0,f.isUndefined)(te)?ce:te,L=J.units||me.get("units")||[],I=me.get("unit")||L.length&&L[0]||"",re=(0,f.isUndefined)(J.max)?me.get("max"):J.max,ne=(0,f.isUndefined)(J.min)?me.get("min"):J.min,z=!!me.get("limitlessMax"),Y=!!me.get("limitlessMin");if(se.deepCheck){var u=me.get("fixedValues")||[];if(D===""&&(I=""),D){var y=new RegExp("^"+u.join("|"),"g");if(u.length&&y.test(D))D=D.match(y)[0],I="",U=1;else{var g=D+"";D+="",D=parseFloat(D.replace(",",".")),D=isNaN(D)?ce:D;var m=g.replace(D,"");(0,f.indexOf)(L,m)>=0&&(I=m)}}}return z||(0,f.isUndefined)(re)||re===""||(D=D>re?re:D),Y||(0,f.isUndefined)(ne)||ne===""||(D=D<ne?ne:D),{force:U,value:D,unit:I}}},{key:"render",value:function(){v.Z.prototype.render.call(this),this.unitEl=null;var te=this.getUnitEl();return te&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(te),this}}]),X}(v.Z);j.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"}},6602:(ge,ie,s)=>{s.d(ie,{Z:()=>w});var O=s(5671),H=s(3144),A=s(7326),p=s(9340),k=s(2963),d=s(1120),S=s(4942),x=s(9050),f=s(2316),l=s.n(f);function v(j){var B=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Q,X=(0,d.Z)(j);if(B){var te=(0,d.Z)(this).constructor;Q=Reflect.construct(X,arguments,te)}else Q=X.apply(this,arguments);return(0,k.Z)(this,Q)}}var w=function(j){(0,p.Z)(Q,j);var B=v(Q);function Q(){var X,te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=arguments.length>1?arguments[1]:void 0,U=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return(0,O.Z)(this,Q),X=B.call(this,te),(0,S.Z)((0,A.Z)(X),"itemsView",""),(0,S.Z)((0,A.Z)(X),"itemType","type"),(0,S.Z)((0,A.Z)(X),"reuseView",!1),X.config=J||te.config||{},U&&X.listenTo(X.collection,"add",X.addTo),X.items=[],X}return(0,H.Z)(Q,[{key:"addTo",value:function(X){this.add(X)}},{key:"itemViewNotFound",value:function(X){var te=this.config,J=this.ns,U=te.em,se="".concat(J?"[".concat(J,"]: "):"","'").concat(X,"' type not found");U&&U.logWarning(se)}},{key:"add",value:function(X,te){var J,U=this.config,se=this.reuseView,me=this.items,ce=this.itemsView,D=ce===void 0?{}:ce,L=te||null,I=this.itemView,re=X.get(this.itemType);D[re]?I=D[re]:!re||D[re]||(0,x.includes)(["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],re)||this.itemViewNotFound(re),J=X.view&&se?X.view:new I({model:X,config:U},U),me&&me.push(J);var ne=J.render().el;L?L.appendChild(ne):this.$el.append(ne)}},{key:"render",value:function(){var X=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(te){this.add(te,X)},this),this.$el.append(X),this.onRender(),this}},{key:"onRender",value:function(){}},{key:"onRemoveBefore",value:function(){}},{key:"onRemove",value:function(){}},{key:"remove",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},te=this.items;this.onRemoveBefore(te,X),this.clearItems(),l().View.prototype.remove.apply(this,arguments),this.onRemove(te,X)}},{key:"clearItems",value:function(){this.items}}]),Q}(l().View);w.prototype.itemView=""},4836:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>l});var O=s(5671),H=s(3144),A=s(4942),p=s(9050),k=s(1163),d={placeholder:"eg. Text here"};const S={locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:{assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",traits:{labels:{},attributes:{id:d,alt:d,title:d,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}}},messagesAdd:null};function x(v,w){var j=Object.keys(v);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(v);w&&(B=B.filter(function(Q){return Object.getOwnPropertyDescriptor(v,Q).enumerable})),j.push.apply(j,B)}return j}function f(v){for(var w=1;w<arguments.length;w++){var j=arguments[w]!=null?arguments[w]:{};w%2?x(Object(j),!0).forEach(function(B){(0,A.Z)(v,B,j[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(j)):x(Object(j)).forEach(function(B){Object.defineProperty(v,B,Object.getOwnPropertyDescriptor(j,B))})}return v}var l=function(){function v(){(0,O.Z)(this,v),(0,A.Z)(this,"name","I18n")}return(0,H.Z)(v,[{key:"init",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.config=f(f(f({},S),w),{},{messages:f(f({},S.messages),w.messages||{})});var j=this.config.messagesAdd;return j&&this.addMessages(j),this.config.detectLocale&&(this.config.locale=this._localLang()),this.em=w.em,this}},{key:"getConfig",value:function(){return this.config}},{key:"setLocale",value:function(w){var j=this.em,B=this.config,Q={value:w,valuePrev:B.locale};return j&&j.trigger("i18n:locale",Q),B.locale=w,this}},{key:"getLocale",value:function(){return this.config.locale}},{key:"getMessages",value:function(w){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=this.config.messages;return w&&!B[w]&&this._debug("'".concat(w,"' i18n lang not found"),j),w?B[w]:B}},{key:"setMessages",value:function(w){var j=this.em;return this.config.messages=w,j&&j.trigger("i18n:update",w),this}},{key:"addMessages",value:function(w){var j=this.em,B=this.config.messages;return j&&j.trigger("i18n:add",w),this.setMessages((0,k.deepMerge)(B,w)),this}},{key:"t",value:function(w){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=this.config,Q=j.params||{},X=j.l||this.getLocale(),te=j.lFlb||B.localeFallback,J=this._getMsg(w,X,j);return J||(J=this._getMsg(w,te,j)),!J&&this._debug("'".concat(w,"' i18n key not found in '").concat(X,"' lang"),j),J=J&&(0,p.isString)(J)?this._addParams(J,Q):J}},{key:"_localLang",value:function(){var w=(0,k.hasWin)()&&window.navigator||{},j=w.language||w.userLanguage;return j?j.split("-")[0]:"en"}},{key:"_addParams",value:function(w,j){var B=new RegExp("{([\\w\\d-]*)}","g");return w.replace(B,function(Q,X){return j[X]||""}).trim()}},{key:"_getMsg",value:function(w,j){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Q=this.getMessages(j,B);if(Q){var X=Q[w];return!X&&w.indexOf(".")>0&&(X=w.split(".").reduce(function(te,J){if(!(0,p.isUndefined)(te))return te[J]},Q)),X}}},{key:"_debug",value:function(w){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=this.em,Q=this.config;(j.debug||Q.debug)&&B&&B.logWarning(w)}},{key:"destroy",value:function(){this.config={},this.em={}}}]),v}()},9788:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>ne});var O,H=s(1002),A=s(4942),p=s(9050),k=s(1163),d={},S={16:!1,18:!1,17:!1,91:!1},x="all",f={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},l={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},v=function(z){return l[z]||z.toUpperCase().charCodeAt(0)},w=[];for(O=1;O<20;O++)l["f"+O]=111+O;function j(z,Y){for(var u=z.length;u--;)if(z[u]===Y)return u;return-1}function B(z,Y){if(z.length!=Y.length)return!1;for(var u=0;u<z.length;u++)if(z[u]!==Y[u])return!1;return!0}var Q={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function X(z){for(O in S)S[O]=z[Q[O]]}function te(z){var Y,u=z.keyCode,y=j(w,u);if(y>=0&&w.splice(y,1),u!=93&&u!=224||(u=91),u in S)for(Y in S[u]=!1,f)f[Y]==u&&(U[Y]=!1)}function J(){for(O in S)S[O]=!1;for(O in f)U[O]=!1}function U(z,Y,u){var y,g;y=me(z),u===void 0&&(u=Y,Y="all");for(var m=0;m<y.length;m++)g=[],(z=y[m].split("+")).length>1&&(g=ce(z),z=[z[z.length-1]]),z=z[0],(z=v(z))in d||(d[z]=[]),d[z].push({shortcut:y[m],scope:Y,method:u,key:y[m],mods:g})}for(O in f)U[O]=!1;function se(){return x||"all"}function me(z){var Y;return(Y=(z=z.replace(/\s/g,"")).split(","))[Y.length-1]==""&&(Y[Y.length-2]+=","),Y}function ce(z){for(var Y=z.slice(0,z.length-1),u=0;u<Y.length;u++)Y[u]=f[Y[u]];return Y}function D(z,Y,u){z.addEventListener?z.addEventListener(Y,u,!1):z.attachEvent&&z.attachEvent("on"+Y,function(){u(window.event)})}U.setScope=function(z){x=z||"all"},U.getScope=se,U.deleteScope=function(z){var Y,u,y;for(Y in d)for(u=d[Y],y=0;y<u.length;)u[y].scope===z?u.splice(y,1):y++},U.filter=function(z){var Y=(z.target||z.srcElement).tagName;return!(Y=="INPUT"||Y=="SELECT"||Y=="TEXTAREA")},U.isPressed=function(z){return typeof z=="string"&&(z=v(z)),j(w,z)!=-1},U.getPressedKeyCodes=function(){return w.slice(0)},U.unbind=function(z,Y){var u,y,g,m,$,ae=[];for(u=me(z),m=0;m<u.length;m++){if((y=u[m].split("+")).length>1&&(ae=ce(y)),z=y[y.length-1],z=v(z),Y===void 0&&(Y=se()),!d[z])return;for(g=0;g<d[z].length;g++)($=d[z][g]).scope===Y&&B($.mods,ae)&&(d[z][g]={})}},U.handlers=d,U.init=function(z){D(z.document,"keydown",function(Y){(function(u){var y,g,m,$,ae,K;if(y=u.keyCode,j(w,y)==-1&&w.push(y),y!=93&&y!=224||(y=91),y in S)for(m in S[y]=!0,f)f[m]==y&&(U[m]=!0);else if(X(u),U.filter.call(this,u)&&y in d){for(K=se(),$=0;$<d[y].length;$++)if((g=d[y][$]).scope==K||g.scope=="all"){for(m in ae=g.mods.length>0,S)(!S[m]&&j(g.mods,+m)>-1||S[m]&&j(g.mods,+m)==-1)&&(ae=!1);(g.mods.length!=0||S[16]||S[18]||S[17]||S[91])&&!ae||g.method(u,g)===!1&&(u.preventDefault?u.preventDefault():u.returnValue=!1,u.stopPropagation&&u.stopPropagation(),u.cancelBubble&&(u.cancelBubble=!0))}}})(Y)}),D(z.document,"keyup",te),D(z,"focus",J)};const L=U;function I(z,Y){var u=Object.keys(z);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(z);Y&&(y=y.filter(function(g){return Object.getOwnPropertyDescriptor(z,g).enumerable})),u.push.apply(u,y)}return u}function re(z){for(var Y=1;Y<arguments.length;Y++){var u=arguments[Y]!=null?arguments[Y]:{};Y%2?I(Object(u),!0).forEach(function(y){(0,A.Z)(z,y,u[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(u)):I(Object(u)).forEach(function(y){Object.defineProperty(z,y,Object.getOwnPropertyDescriptor(u,y))})}return z}(0,k.hasWin)()&&L.init(window);const ne=function(){var z={defaults:{"core:undo":{keys:"\u2318+z, ctrl+z",handler:"core:undo"},"core:redo":{keys:"\u2318+shift+z, ctrl+shift+z",handler:"core:redo"},"core:copy":{keys:"\u2318+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"\u2318+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:1}}}};return{keymaster:L,name:"Keymaps",getConfig:function(){return this.config},init:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.config=re(re({},z),Y),this.em=this.config.em,this.keymaps={},this},onLoad:function(){var Y=this.config.defaults;for(var u in Y){var y=Y[u];this.add(u,y.keys,y.handler,y.opts||{})}},add:function(Y,u,y){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},m=this.em,$=m.get("Commands"),ae=m.getEditor(),K=m.get("Canvas"),F={id:Y,keys:u,handler:y},b=this.keymaps[Y];return b&&this.remove(Y),this.keymaps[Y]=F,L(u,function(h,V){var M={event:h,h:V};if(y=(0,p.isString)(y)?$.get(y):y,!m.isEditing()&&!ae.Canvas.isInputFocused()||g.force){g.prevent&&K.getCanvasView().preventDefault(h),(0,H.Z)(y)=="object"?$.runCommand(y,M):y(ae,0,M);var T=[Y,V.shortcut,h];m.trigger.apply(m,["keymap:emit"].concat(T)),m.trigger.apply(m,["keymap:emit:".concat(Y)].concat(T))}}),m.trigger("keymap:add",F),F},get:function(Y){return this.keymaps[Y]},getAll:function(){return this.keymaps},remove:function(Y){var u=this.em,y=this.get(Y);if(y)return delete this.keymaps[Y],y.keys.split(", ").forEach(function(g){return L.unbind(g.trim())}),u&&u.trigger("keymap:remove",y),y},removeAll:function(){var Y=this;return Object.keys(this.keymaps).forEach(function(u){return Y.remove(u)}),L.handlers={},this},destroy:function(){this.removeAll(),this.keymaps={},this.em={}}}}},2450:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>U});var O=s(4942),H=s(9050),A=s(9283);const p={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}};var k=s(5671),d=s(3144),S=s(9340),x=s(2963),f=s(1120),l=s(2316);function v(se){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,D=(0,f.Z)(se);if(me){var L=(0,f.Z)(this).constructor;ce=Reflect.construct(D,arguments,L)}else ce=D.apply(this,arguments);return(0,x.Z)(this,ce)}}var w=function(se){(0,S.Z)(ce,se);var me=v(ce);function ce(){return(0,k.Z)(this,ce),me.apply(this,arguments)}return(0,d.Z)(ce,[{key:"defaults",value:function(){return{title:"",content:"",attributes:{},open:!1}}},{key:"open",value:function(){this.set("open",!0)}},{key:"close",value:function(){this.set("open",!1)}}]),ce}(l.Model);function j(se,me){var ce=Object.keys(se);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(se);me&&(D=D.filter(function(L){return Object.getOwnPropertyDescriptor(se,L).enumerable})),ce.push.apply(ce,D)}return ce}function B(se){for(var me=1;me<arguments.length;me++){var ce=arguments[me]!=null?arguments[me]:{};me%2?j(Object(ce),!0).forEach(function(D){(0,O.Z)(se,D,ce[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(ce)):j(Object(ce)).forEach(function(D){Object.defineProperty(se,D,Object.getOwnPropertyDescriptor(ce,D))})}return se}function Q(se){var me=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,D=(0,f.Z)(se);if(me){var L=(0,f.Z)(this).constructor;ce=Reflect.construct(D,arguments,L)}else ce=D.apply(this,arguments);return(0,x.Z)(this,ce)}}var X=function(se){(0,S.Z)(ce,se);var me=Q(ce);function ce(){return(0,k.Z)(this,ce),me.apply(this,arguments)}return(0,d.Z)(ce,[{key:"template",value:function(D){var L=D.pfx,I=D.ppfx,re=D.content,ne=D.title;return'<div class="'.concat(L,"dialog ").concat(I,"one-bg ").concat(I,`two-color">
      <div class="`).concat(L,`header">
        <div class="`).concat(L,'title">').concat(ne,`</div>
        <div class="`).concat(L,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(L,`content">
        <div id="`).concat(L,'c">').concat(re,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(L,'collector" style="display: none"></div>')}},{key:"events",value:function(){return{click:"onClick","click [data-close-modal]":"hide"}}},{key:"initialize",value:function(D){var L=this.model,I=D.config||{},re=I.stylePrefix||"";this.config=I,this.pfx=re,this.ppfx=I.pStylePrefix||"",this.listenTo(L,"change:open",this.updateOpen),this.listenTo(L,"change:title",this.updateTitle),this.listenTo(L,"change:content",this.updateContent)}},{key:"onClick",value:function(D){this.config.backdrop&&D.target===this.el&&this.hide()}},{key:"getCollector",value:function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector}},{key:"getContent",value:function(){var D=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(D,"content #").concat(D,"c"))),this.$content}},{key:"getTitle",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),D.$?this.$title:this.$title.get(0)}},{key:"updateContent",value:function(){var D=this.getContent(),L=D.children(),I=this.getCollector(),re=this.model.get("content");L.length&&I.append(L),D.empty().append(re)}},{key:"updateTitle",value:function(){var D=this.getTitle({$:!0});D&&D.empty().append(this.model.get("title"))}},{key:"updateOpen",value:function(){this.el.style.display=this.model.get("open")?"":"none"}},{key:"hide",value:function(){this.model.close()}},{key:"show",value:function(){this.model.open()}},{key:"updateAttr",value:function(D){var L=this.pfx,I=this.$el,re=this.el,ne=[].slice.call(re.attributes).map(function(z){return z.name});I.removeAttr(ne.join(" ")),I.attr(B(B({},D||{}),{},{class:"".concat(L,"container ").concat(D&&D.class||"").trim()}))}},{key:"render",value:function(){var D=this.$el,L=this.model.toJSON();return L.pfx=this.pfx,L.ppfx=this.ppfx,D.html(this.template(L)),this.updateAttr(),this.updateOpen(),this}}]),ce}(l.View);function te(se,me){var ce=Object.keys(se);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(se);me&&(D=D.filter(function(L){return Object.getOwnPropertyDescriptor(se,L).enumerable})),ce.push.apply(ce,D)}return ce}function J(se){for(var me=1;me<arguments.length;me++){var ce=arguments[me]!=null?arguments[me]:{};me%2?te(Object(ce),!0).forEach(function(D){(0,O.Z)(se,D,ce[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(ce)):te(Object(ce)).forEach(function(D){Object.defineProperty(se,D,Object.getOwnPropertyDescriptor(ce,D))})}return se}const U=function(){var se,me,ce={},D=function(L,I){I&&I.trigger("modal:".concat(L?"open":"close"))};return{name:"Modal",getConfig:function(){return ce},init:function(){var L=this,I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},re=(ce=J(J({},p),I)).em;this.em=re;var ne=ce.pStylePrefix;return ne&&(ce.stylePrefix=ne+ce.stylePrefix),(se=new w(ce)).on("change:open",function(z,Y){return D(Y,re)}),se.on("change",(0,H.debounce)(function(){var z=L._evData(),Y=L.getConfig().custom;(0,H.isFunction)(Y)&&Y(z),re.trigger("modal",z)})),this},_evData:function(){var L=this,I=this.getTitle(),re=this.getContent(),ne=se.attributes;return{open:ne.open,attributes:ne.attributes,title:(0,H.isString)(I)?(0,A.rw)(I):I,content:(0,H.isString)(re)?(0,A.rw)(re):re.get?re.get(0):re,close:function(){return L.close()}}},postRender:function(L){var I=L.model.getConfig().el||L.el,re=this.render();re&&re.appendTo(I)},open:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=L.attributes||{};return L.title&&this.setTitle(L.title),L.content&&this.setContent(L.content),se.set("attributes",I),se.open(),me&&me.updateAttr(I),this},close:function(){return se.close(),this},onceClose:function(L){return this.em.once("modal:close",L),this},onceOpen:function(L){return this.em.once("modal:open",L),this},isOpen:function(){return!!se.get("open")},setTitle:function(L){return se.set("title",L),this},getTitle:function(){return se.get("title")},setContent:function(L){return se.set("content"," "),se.set("content",L),this},getContent:function(){return se.get("content")},getContentEl:function(){return me.getContent().get(0)},getModel:function(){return se},render:function(){if(!this.getConfig().custom){var L=X.extend(ce.extend),I=me&&me.el;return(me=new L({el:I,model:se,config:ce})).render().$el}},destroy:function(){me&&me.remove(),this.em={}}}}},4906:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>$});var O="sw-visibility",H="export-template",A="open-sm",p="open-tm",k="open-layers",d="open-blocks",S="fullscreen",x="preview";const f={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:O,className:"fa fa-square-o",command:O,context:O,attributes:{title:"View components"}},{id:x,className:"fa fa-eye",command:x,context:x,attributes:{title:"Preview"}},{id:S,className:"fa fa-arrows-alt",command:S,context:S,attributes:{title:"Fullscreen"}},{id:H,className:"fa fa-code",command:H,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:A,className:"fa fa-paint-brush",command:A,active:!0,togglable:0,attributes:{title:"Open Style Manager"}},{id:p,className:"fa fa-cog",command:p,togglable:0,attributes:{title:"Settings"}},{id:k,className:"fa fa-bars",command:k,togglable:0,attributes:{title:"Open Layer Manager"}},{id:d,className:"fa fa-th-large",command:d,togglable:0,attributes:{title:"Open Blocks"}}]}],em:null,delayBtnsShow:300};var l=s(5671),v=s(3144),w=s(9340),j=s(2963),B=s(1120),Q=s(2316),X=s(2516);function te(ae){var K=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,b=(0,B.Z)(ae);if(K){var h=(0,B.Z)(this).constructor;F=Reflect.construct(b,arguments,h)}else F=b.apply(this,arguments);return(0,j.Z)(this,F)}}var J=function(ae){(0,w.Z)(F,ae);var K=te(F);function F(){return(0,l.Z)(this,F),K.apply(this,arguments)}return(0,v.Z)(F,[{key:"defaults",value:function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}}},{key:"initialize",value:function(b){this.btn=this.get("buttons")||[],this.buttons=new X.Z(this.btn),this.set("buttons",this.buttons)}}]),F}(Q.Model);function U(ae){var K=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,b=(0,B.Z)(ae);if(K){var h=(0,B.Z)(this).constructor;F=Reflect.construct(b,arguments,h)}else F=b.apply(this,arguments);return(0,j.Z)(this,F)}}var se=function(ae){(0,w.Z)(F,ae);var K=U(F);function F(){return(0,l.Z)(this,F),K.apply(this,arguments)}return(0,v.Z)(F)}(Q.Collection);se.prototype.model=J;var me=s(4942),ce=s(9050);function D(ae,K){var F=Object.keys(ae);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(ae);K&&(b=b.filter(function(h){return Object.getOwnPropertyDescriptor(ae,h).enumerable})),F.push.apply(F,b)}return F}function L(ae){for(var K=1;K<arguments.length;K++){var F=arguments[K]!=null?arguments[K]:{};K%2?D(Object(F),!0).forEach(function(b){(0,me.Z)(ae,b,F[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(F)):D(Object(F)).forEach(function(b){Object.defineProperty(ae,b,Object.getOwnPropertyDescriptor(F,b))})}return ae}function I(ae){var K=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,b=(0,B.Z)(ae);if(K){var h=(0,B.Z)(this).constructor;F=Reflect.construct(b,arguments,h)}else F=b.apply(this,arguments);return(0,j.Z)(this,F)}}var re=function(ae){(0,w.Z)(F,ae);var K=I(F);function F(){return(0,l.Z)(this,F),K.apply(this,arguments)}return(0,v.Z)(F,[{key:"tagName",value:function(){return this.model.get("tagName")}},{key:"events",value:function(){return{click:"clicked"}}},{key:"initialize",value:function(b){var h=this.model,V=h.get("className"),M=h.attributes,T=M.command,P=M.listen,c=b.config||{},ee=c.em;this.config=c,this.em=ee;var q=this.config.stylePrefix||"",E=this.config.pStylePrefix||"";if(this.pfx=q,this.ppfx=this.config.pStylePrefix||"",this.id=q+h.get("id"),this.activeCls="".concat(q,"active ").concat(E,"four-color"),this.disableCls="".concat(E,"disabled"),this.btnsVisCls="".concat(q,"visible"),this.className=q+"btn"+(V?" "+V:""),this.listenTo(h,"change",this.render),this.listenTo(h,"change:active updateActive",this.updateActive),this.listenTo(h,"checkActive",this.checkActive),this.listenTo(h,"change:bntsVis",this.updateBtnsVis),this.listenTo(h,"change:attributes",this.updateAttributes),this.listenTo(h,"change:className",this.updateClassName),this.listenTo(h,"change:disable",this.updateDisable),ee&&(0,ce.isString)(T)&&P){var R={fromListen:1};this.listenTo(ee,"run:".concat(T),function(){return h.set("active",!0,R)}),this.listenTo(ee,"stop:".concat(T),function(){return h.set("active",!1,R)})}ee&&ee.get&&(this.commands=ee.get("Commands"))}},{key:"updateClassName",value:function(){var b=this.model,h=this.pfx,V=b.get("className"),M=b.get("attributes").class,T="".concat(M||""," ").concat(h,"btn ").concat(V||"");this.$el.attr("class",T.trim())}},{key:"updateAttributes",value:function(){var b=this.em,h=this.model,V=this.$el,M=h.get("attributes")||{},T=b&&b.t&&b.t("panels.buttons.titles.".concat(h.id));V.attr(M),T&&V.attr({title:T}),this.updateClassName()}},{key:"updateBtnsVis",value:function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))}},{key:"updateActive",value:function(b,h){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=this.model,T=this.commands,P=this.$el,c=this.activeCls,ee=V.fromCollection,q=V.fromListen,E=M.get("context"),R=M.get("options"),ue=M.get("command"),be={};ue&&(T&&(0,ce.isString)(ue)?be=T.get(ue)||{}:(0,ce.isFunction)(ue)?be=T.create({run:ue}):ue!==null&&(0,ce.isObject)(ue)&&(be=T.create(ue)),M.get("active")?(!ee&&M.collection.deactivateAll(E,M),M.set("active",!0,{silent:!0}).trigger("checkActive"),!q&&T.runCommand(be,L(L({},R),{},{sender:M})),be.noStop&&M.set("active",!1)):(P.removeClass(c),!q&&T.stopCommand(be,L(L({},R),{},{sender:M,force:1}))))}},{key:"updateDisable",value:function(){var b=this.disableCls,h=this.model.get("disable");this.$el[h?"addClass":"removeClass"](b)}},{key:"checkActive",value:function(){var b=this.model,h=this.$el,V=this.activeCls;b.get("active")?h.addClass(V):h.removeClass(V)}},{key:"clicked",value:function(b){var h=this.model;h.get("bntsVis")||h.get("disable")||!h.get("command")||this.toggleActive()}},{key:"toggleActive",value:function(){var b=this.model,h=this.em,V=b.attributes,M=V.active,T=V.togglable;M&&!T||(b.set("active",!M),M?b.get("runDefaultCommand")&&h.runDefault():b.get("stopDefaultCommand")&&h.stopDefault())}},{key:"render",value:function(){var b=this.model,h=b.get("label"),V=this.$el;return!b.get("el")&&V.empty(),this.updateAttributes(),h&&V.append(h),this.checkActive(),this.updateDisable(),this}}]),F}(Q.View);function ne(ae){var K=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,b=(0,B.Z)(ae);if(K){var h=(0,B.Z)(this).constructor;F=Reflect.construct(b,arguments,h)}else F=b.apply(this,arguments);return(0,j.Z)(this,F)}}var z=function(ae){(0,w.Z)(F,ae);var K=ne(F);function F(){return(0,l.Z)(this,F),K.apply(this,arguments)}return(0,v.Z)(F,[{key:"initialize",value:function(b){this.opt=b||{},this.config=this.opt.config||{},this.pfx=this.config.stylePrefix||"",this.parentM=this.opt.parentM||null,this.listenTo(this.collection,"add",this.addTo),this.listenTo(this.collection,"reset remove",this.render),this.className=this.pfx+"buttons"}},{key:"addTo",value:function(b){this.addToCollection(b)}},{key:"addToCollection",value:function(b,h){var V=h||null,M=new re({el:b.get("el"),model:b,config:this.config,parentM:this.parentM}).render().el;return V?V.appendChild(M):this.$el.append(M),M}},{key:"render",value:function(){var b=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(h){this.addToCollection(h,b)},this),this.$el.append(b),this.$el.attr("class",(0,ce.result)(this,"className")),this}}]),F}(Q.View);function Y(ae,K){var F=Object.keys(ae);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(ae);K&&(b=b.filter(function(h){return Object.getOwnPropertyDescriptor(ae,h).enumerable})),F.push.apply(F,b)}return F}function u(ae){var K=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,b=(0,B.Z)(ae);if(K){var h=(0,B.Z)(this).constructor;F=Reflect.construct(b,arguments,h)}else F=b.apply(this,arguments);return(0,j.Z)(this,F)}}var y=function(ae){(0,w.Z)(F,ae);var K=u(F);function F(){return(0,l.Z)(this,F),K.apply(this,arguments)}return(0,v.Z)(F,[{key:"initialize",value:function(b){var h=b.config||{},V=this.model;this.config=h,this.pfx=h.stylePrefix||"",this.ppfx=h.pStylePrefix||"",this.buttons=V.get("buttons"),this.className=this.pfx+"panel",this.id=this.pfx+V.get("id"),this.listenTo(V,"change:appendContent",this.appendContent),this.listenTo(V,"change:content",this.updateContent),this.listenTo(V,"change:visible",this.toggleVisible),V.view=this}},{key:"appendContent",value:function(){this.$el.append(this.model.get("appendContent"))}},{key:"updateContent",value:function(){this.$el.html(this.model.get("content"))}},{key:"toggleVisible",value:function(){this.model.get("visible")?this.$el.removeClass("".concat(this.ppfx,"hidden")):this.$el.addClass("".concat(this.ppfx,"hidden"))}},{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"initResize",value:function(){var b=this.config.em,h=b?b.get("Editor"):"",V=this.model.get("resizable");if(h&&V){var M,T,P,c=V===!0?[1,1,1,1]:V,ee=c.length,q=0;ee==2?(M=c[0],P=c[0],T=c[1],q=c[1]):ee==4&&(M=c[0],T=c[1],P=c[2],q=c[3]);var E=h.Utils.Resizer.init(function(R){for(var ue=1;ue<arguments.length;ue++){var be=arguments[ue]!=null?arguments[ue]:{};ue%2?Y(Object(be),!0).forEach(function(N){(0,me.Z)(R,N,be[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(be)):Y(Object(be)).forEach(function(N){Object.defineProperty(R,N,Object.getOwnPropertyDescriptor(be,N))})}return R}({tc:M,cr:T,bc:P,cl:q,tl:0,tr:0,bl:0,br:0,appendTo:this.el,silentFrames:1,avoidContainerUpdate:1,prefix:h.getConfig().stylePrefix,onEnd:function(){b&&b.trigger("change:canvasOffset")},posFetcher:function(R,ue){var be=ue.target,N=R.style,oe=E.getConfig(),de=oe.keyWidth,Ce=oe.keyHeight,we=R.getBoundingClientRect(),Ae=be=="container",_e=N[de],Ne=N[Ce];return{left:0,top:0,width:_e&&!Ae?parseFloat(_e):we.width,height:Ne&&!Ae?parseFloat(Ne):we.height}}},V));E.blur=function(){},E.focus(this.el)}}},{key:"render",value:function(){var b=this.$el,h=this.ppfx,V="".concat(this.className," ").concat(this.id," ").concat(h,"one-bg ").concat(h,"two-color");if(b.addClass(V),this.toggleVisible(),this.buttons.length){var M=new z({collection:this.buttons,config:this.config});b.append(M.render().el)}return b.append(this.model.get("content")),this}}]),F}(Q.View);function g(ae){var K=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,b=(0,B.Z)(ae);if(K){var h=(0,B.Z)(this).constructor;F=Reflect.construct(b,arguments,h)}else F=b.apply(this,arguments);return(0,j.Z)(this,F)}}var m=function(ae){(0,w.Z)(F,ae);var K=g(F);function F(){return(0,l.Z)(this,F),K.apply(this,arguments)}return(0,v.Z)(F,[{key:"initialize",value:function(b){this.opt=b||{},this.config=this.opt.config||{},this.pfx=this.config.stylePrefix||"";var h=this.collection;this.listenTo(h,"add",this.addTo),this.listenTo(h,"reset",this.render),this.listenTo(h,"remove",this.onRemove),this.className=this.pfx+"panels"}},{key:"onRemove",value:function(b){var h=b.view;h&&h.remove()}},{key:"addTo",value:function(b){this.addToCollection(b)}},{key:"addToCollection",value:function(b,h){var V=h||null,M=this.config,T=b.get("el"),P=new y({el:T,model:b,config:M}),c=P.render().el,ee=b.get("appendTo");return T||(ee?document.querySelector(ee).appendChild(c):V?V.appendChild(c):this.$el.append(c)),P.initResize(),c}},{key:"render",value:function(){var b=this,h=this.$el,V=document.createDocumentFragment();return h.empty(),this.collection.each(function(M){return b.addToCollection(M,V)}),h.append(V),h.attr("class",this.className),this}}]),F}(Q.View);const $=function(){var ae,K,F={};return{name:"Panels",init:function(b){for(var h in F=b||{},f)h in F||(F[h]=f[h]);var V=F.pStylePrefix;return V&&(F.stylePrefix=V+F.stylePrefix),ae=new se(F.defaults),this},getPanels:function(){return ae},getPanelsEl:function(){return K&&K.el},addPanel:function(b){return ae.add(b)},removePanel:function(b){return ae.remove(b)},getPanel:function(b){var h=ae.where({id:b});return h.length?h[0]:null},addButton:function(b,h){var V=this.getPanel(b);return V?V.get("buttons").add(h):null},removeButton:function(b,h){var V=this.getPanel(b);return V&&V.get("buttons").remove(h)},getButton:function(b,h){var V=this.getPanel(b);if(V){var M=V.get("buttons").where({id:h});return M.length?M[0]:null}return null},render:function(){return K&&K.remove(),(K=new m({collection:ae,config:F})).render().el},active:function(){this.getPanels().each(function(b){b.get("buttons").each(function(h){h.get("active")&&h.trigger("updateActive")})})},disableButtons:function(){this.getPanels().each(function(b){b.get("buttons").each(function(h){h.get("disable")&&h.trigger("change:disable")})})},destroy:function(){ae.reset(),ae.stopListening(),K&&K.remove()},Panel:J}}},2516:(ge,ie,s)=>{s.d(ie,{Z:()=>l});var O=s(5671),H=s(3144),A=s(9340),p=s(2963),k=s(1120),d=s(2316);function S(v){var w=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var j,B=(0,k.Z)(v);if(w){var Q=(0,k.Z)(this).constructor;j=Reflect.construct(B,arguments,Q)}else j=B.apply(this,arguments);return(0,p.Z)(this,j)}}var x=function(v){(0,A.Z)(j,v);var w=S(j);function j(){return(0,O.Z)(this,j),w.apply(this,arguments)}return(0,H.Z)(j,[{key:"defaults",value:function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}}},{key:"initialize",value:function(B){if(this.get("buttons").length){var Q=s(2516).Z;this.set("buttons",new Q(this.get("buttons")))}}}]),j}(d.Model);function f(v){var w=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var j,B=(0,k.Z)(v);if(w){var Q=(0,k.Z)(this).constructor;j=Reflect.construct(B,arguments,Q)}else j=B.apply(this,arguments);return(0,p.Z)(this,j)}}var l=function(v){(0,A.Z)(j,v);var w=f(j);function j(){return(0,O.Z)(this,j),w.apply(this,arguments)}return(0,H.Z)(j,[{key:"deactivateAllExceptOne",value:function(B,Q){this.forEach(function(X,te){X!==B&&(X.set("active",!1),Q&&X.get("buttons").length&&X.get("buttons").deactivateAllExceptOne(B,Q))})}},{key:"deactivateAll",value:function(B,Q){var X=B||"";this.forEach(function(te){te.get("context")==X&&te!==Q&&te.set("active",!1,{fromCollection:1})})}},{key:"disableAllButtons",value:function(B){var Q=B||"";this.forEach(function(X,te){X.get("context")==Q&&X.set("disable",!0)})}},{key:"disableAllButtonsExceptOne",value:function(B,Q){this.forEach(function(X,te){X!==B&&(X.set("disable",!0),Q&&X.get("buttons").length&&X.get("buttons").disableAllButtonsExceptOne(B,Q))})}}]),j}(d.Collection);l.prototype.model=x},4424:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>J});var O=s(4942);const H={textTags:["br","b","i","u","a","ul","ol"],parserCss:null,parserHtml:null,optionsHtml:{htmlType:null,allowScripts:!1,allowUnsafeAttr:!1}};var A=s(9050),p={4:"media",5:"font-face",6:"page",7:"keyframes",11:"counter-style",12:"supports",13:"document",14:"font-feature-values",15:"viewport"},k=(0,A.keys)(p),d=["5","6","11","15"],S=["font-face","page","counter-style","viewport"],x=function(){for(var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",se=[],me=[],ce=U.split(","),D=0,L=ce.length;D<L;D++){var I=ce[D].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(I)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(I)){var re=I.split(".").filter(Boolean);me.push(re)}else se.push(I)}return{result:me,add:se}},f=function(U){for(var se=U.style,me={},ce=0,D=se.length;ce<D;ce++){var L=se[ce],I=se.getPropertyValue(L),re=se.getPropertyPriority(L);me[L]="".concat(I).concat(re?" !".concat(re):"")}return me},l=function(U){return(U.conditionText||U.media&&U.media.mediaText||U.name||U.selectorText||"").trim()},v=function(U){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ce={},D=U.length,L=U[D-1],I=L?L.split(/:(.+)/):[],re=I[1],ne=me.atRule,z=me.selectorsAdd,Y=me.mediaText,u=S.indexOf(ne)>=0;return u&&(ce.singleAtRule=1),ne&&(ce.atRuleType=ne),z&&(ce.selectorsAdd=z),Y&&(ce.mediaText=Y),re&&(U[D-1]=I[0],ce.state=re,I.splice(I.length-1,1)),ce.selectors=U,ce.style=se,ce},w=function U(se){for(var me=[],ce=se.cssRules||[],D=0,L=ce.length;D<L;D++){var I=ce[D],re=I.type.toString(),ne=0,z="",Y="",u=I.selectorText||I.keyText,y=d.indexOf(re)>=0;if(y)ne=1,z=p[re],Y=l(I);else if(k.indexOf(re)>=0){var g=U(I);Y=l(I);for(var m=0,$=g.length;m<$;m++){var ae=g[m];Y&&(ae.mediaText=Y),ae.atRuleType=p[re]}me=me.concat(g)}if(u||y){for(var K=f(I),F=x(u),b=F.add,h=void 0,V=0,M=(u=F.result).length;V<M;V++){var T=v(u[V],K,{atRule:p[re]});me.push(T),h=T}if(b.length){var P=b.join(", ");if(h)h.selectorsAdd=P;else{var c={selectors:[],selectorsAdd:P,style:K};ne&&(c.singleAtRule=ne),z&&(c.atRuleType=z),Y&&(c.mediaText=Y),me.push(c)}}}}return me};const j=function(U){var se=document.createElement("style");se.innerHTML=U,document.head.appendChild(se);var me=se.sheet;return document.head.removeChild(se),w(me)},B=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{parse:function(se){var me=this,ce=[],D=U.parserCss,L=U.em,I=L&&L.get&&L.get("Editor");return(D?D(se,I):j(se)).forEach(function(re){return ce=ce.concat(me.checkNode(re))}),L&&L.trigger("parse:css",{input:se,output:ce}),ce},checkNode:function(se){var me=se,ce=me.selectors,D=me.style;if((0,A.isString)(ce)){var L=[],I=x(ce),re=I.result,ne=I.add.join(", "),z={atRule:se.atRule,mediaText:se.params};re.length?re.forEach(function(Y){L.push(v(Y,D,z))}):L.push(v([],D,z)),ne&&(L[L.length-1].selectorsAdd=ne),se=L}return se}}};var Q=s(5311);function X(U,se){var me=Object.keys(U);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(U);se&&(ce=ce.filter(function(D){return Object.getOwnPropertyDescriptor(U,D).enumerable})),me.push.apply(me,ce)}return me}function te(U){for(var se=1;se<arguments.length;se++){var me=arguments[se]!=null?arguments[se]:{};se%2?X(Object(me),!0).forEach(function(ce){(0,O.Z)(U,ce,me[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(me)):X(Object(me)).forEach(function(ce){Object.defineProperty(U,ce,Object.getOwnPropertyDescriptor(me,ce))})}return U}const J=function(){var U,se,me={};return{compTypes:"",parserCss:null,parserHtml:null,name:"Parser",init:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(me=te(te({},H),ce)).Parser=this,U=new Q.Z(me),se=new B(me),this.em=me.em,this.parserCss=se,this.parserHtml=U,this},getConfig:function(){return me},parseHtml:function(ce){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=this.em,I=this.compTypes;return U.compTypes=L?L.get("DomComponents").getTypes():I,U.parse(ce,se,D)},parseCss:function(ce){return se.parse(ce)},destroy:function(){var ce=this;["em","parserCss","parserHtml"].forEach(function(D){return ce[D]={}})}}}},5311:(ge,ie,s)=>{s.d(ie,{Z:()=>f});var O=s(4942),H=s(1002),A=s(9050),p="text/html",k=p;const d=function(l){var v,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=new DOMParser,B=w.htmlType||k,Q=B===p,X=Q?l:"<div>".concat(l,"</div>"),te=j.parseFromString(X,B);if(Q){var J=te.head,U=te.body,se=J.querySelectorAll("script");(0,A.each)(se,function(ce){return U.appendChild(ce)});var me=[];(0,A.each)(J.children,function(ce){return me.push(ce)}),(0,A.each)(me,function(ce,D){return U.insertBefore(ce,U.children[D])}),v=U}else v=te.firstChild;return v};function S(l,v){var w=Object.keys(l);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(l);v&&(j=j.filter(function(B){return Object.getOwnPropertyDescriptor(l,B).enumerable})),w.push.apply(w,j)}return w}function x(l){for(var v=1;v<arguments.length;v++){var w=arguments[v]!=null?arguments[v]:{};v%2?S(Object(w),!0).forEach(function(j){(0,O.Z)(l,j,w[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(w)):S(Object(w)).forEach(function(j){Object.defineProperty(l,j,Object.getOwnPropertyDescriptor(w,j))})}return l}const f=function(l){var v=l,w="data-gjs-",j="parse:html";return{compTypes:"",modelAttrStart:w,splitPropsFromAttr:function(){var B=this,Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X={},te={};return(0,A.each)(Q,function(J,U){if(U.indexOf(B.modelAttrStart)===0){var se=U.replace(w,""),me=J.length,ce=J&&(0,A.isString)(J),D=ce&&J.substr(0,1),L=ce&&J.substr(me-1);J=(J=J==="true"||J)!=="false"&&J;try{J=D=="{"&&L=="}"||D=="["&&L=="]"?JSON.parse(J):J}catch{}X[se]=J}else te[U]=J}),{props:X,attrs:te}},parseStyle:function(B){for(var Q={},X=B.split(";"),te=0,J=X.length;te<J;te++){var U=X[te].trim();if(U){var se=U.split(":");Q[se[0].trim()]=se.slice(1).join(":").trim()}}return Q},parseClass:function(B){for(var Q=[],X=B.split(" "),te=0,J=X.length;te<J;te++){var U=X[te].trim();U&&Q.push(U)}return Q},parseNode:function(B){for(var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=[],te=B.childNodes,J=0,U=te.length;J<U;J++){var se=te[J],me=se.attributes||[],ce=me.length,D=X[X.length-1],L=se.childNodes.length,I=this.compTypes,re={};if(I){var ne="",z=se.getAttribute&&se.getAttribute("".concat(w,"type"));if(z)re={type:z};else{for(var Y=0;Y<I.length;Y++){var u=I[Y];if(ne=u.model.isComponent(se,Q)){(0,H.Z)(ne)!=="object"&&(ne={type:u.id});break}}re=ne}}if(!re.tagName){var y=se.tagName||"",g=se.namespaceURI||"";re.tagName=y&&g==="http://www.w3.org/1999/xhtml"?y.toLowerCase():y}ce&&(re.attributes={});for(var m=0;m<ce;m++){var $=me[m].nodeName,ae=me[m].nodeValue;if($=="style")re.style=this.parseStyle(ae);else if($=="class")re.classes=this.parseClass(ae);else{if($=="contenteditable")continue;if($.indexOf(w)===0){var K=$.replace(w,""),F=ae.length,b=ae&&ae.substr(0,1),h=ae&&ae.substr(F-1);ae=(ae=ae==="true"||ae)!=="false"&&ae;try{ae=b=="{"&&h=="}"||b=="["&&h=="]"?JSON.parse(ae):ae}catch{}re[K]=ae}else ae===""&&se[$]===!0&&(ae=!0),re.attributes[$]=ae}}if(L&&!re.components){var V=se.childNodes[0];L===1&&V.nodeType===3?(!re.type&&(re.type="text"),re.components={type:"textnode",content:V.nodeValue}):re.components=this.parseNode(se,x(x({},Q),{},{inSvg:Q.inSvg||re.type==="svg"}))}if(re.type=="textnode"){if(D&&D.type=="textnode"){D.content+=re.content;continue}if(!l.keepEmptyTextNodes){var M=se.nodeValue;if(M!=" "&&!M.trim())continue}}L||"".concat(se.outerHTML).slice(-2)!=="/>"||(re.void=!0);var T=re.components;if(!re.type&&T){for(var P=1,c=0,ee=0;ee<T.length;ee++){var q=T[ee],E=q.type;if(["text","textnode"].indexOf(E)<0&&v.textTags.indexOf(q.tagName)<0){P=0;break}E=="textnode"&&(c=1)}P&&c&&(re.type="text")}(re.tagName||re.type=="textnode")&&X.push(re)}return X},parse:function(B,Q){var X,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},J=v.em,U=J&&J.get("Config")||{},se={html:null,css:null},me=x(x({},l),te),ce=x(x({},l.optionsHtml),{},{htmlType:((X=l.optionsHtml)===null||X===void 0?void 0:X.htmlType)||l.htmlType},te),D=(0,A.isFunction)(me.parserHtml)?me.parserHtml(B,ce):d(B,ce),L=D.querySelectorAll("script"),I=L.length,re=(0,A.isUndefined)(U.allowScripts)?ce.allowScripts:U.allowScripts;if(!re)for(;I--;)L[I].parentNode.removeChild(L[I]);if(ce.allowUnsafeAttr||this.__clearUnsafeAttr(D),Q){for(var ne=D.querySelectorAll("style"),z=ne.length,Y="";z--;)Y=ne[z].innerHTML+Y,ne[z].parentNode.removeChild(ne[z]);Y&&(se.css=Q.parse(Y))}J&&J.trigger("".concat(j,":root"),{input:B,root:D});var u=this.parseNode(D,me),y=u.length!==1||v.returnArray?u:u[0];return se.html=y,J&&J.trigger(j,{input:B,output:se}),se},__clearUnsafeAttr:function(B){var Q=this,X=B.attributes||[],te=B.childNodes||[],J=[];(0,A.each)(X,function(U){var se=U.nodeName||"";se.indexOf("on")===0&&J.push(se)}),J.map(function(U){return B.removeAttribute(U)}),(0,A.each)(te,function(U){return Q.__clearUnsafeAttr(U)})}}}},2012:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>D});var O=s(5861),H=s(2982),A=s(4942),p=s(7757),k=s.n(p),d=s(1163),S=s(5671),x=s(3144),f=s(9050);function l(L,I){var re=Object.keys(L);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(L);I&&(ne=ne.filter(function(z){return Object.getOwnPropertyDescriptor(L,z).enumerable})),re.push.apply(re,ne)}return re}function v(L){for(var I=1;I<arguments.length;I++){var re=arguments[I]!=null?arguments[I]:{};I%2?l(Object(re),!0).forEach(function(ne){(0,A.Z)(L,ne,re[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(re)):l(Object(re)).forEach(function(ne){Object.defineProperty(L,ne,Object.getOwnPropertyDescriptor(re,ne))})}return L}var w=1,j=0,B=-1,Q=function(L){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"A",re=L.selection(),ne=re.anchorNode,z=re.focusNode,Y=ne==null?void 0:ne.parentNode,u=z==null?void 0:z.parentNode;return(Y==null?void 0:Y.nodeName)==I||(u==null?void 0:u.nodeName)==I},X="data-selectme",te={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(L){return L.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(L){return L.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(L){return L.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(L){return L.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(L){return L&&L.selection()&&Q(L)?w:j},result:function(L){Q(L)?L.exec("unlink"):L.insertHTML('<a href="" '.concat(X,">").concat(L.selection(),"</a>"),{select:!0})}},wrap:{icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(L){return L!=null&&L.selection()&&Q(L,"SPAN")?B:j},result:function(L){!Q(L,"SPAN")&&L.insertHTML("<span ".concat(X,">").concat(L.selection(),"</span>"),{select:!0})}}},J=function(){function L(){var I=this,re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,S.Z)(this,L);var ne=re.el,z=re.em;if(this.em=z,ne._rte)return ne._rte;ne._rte=this,this.setEl(ne),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var Y=(re.actions||[]).map(function($){var ae=$;return typeof $=="string"?ae=v({},te[$]):te[$.name]&&(ae=v(v({},te[$.name]),$)),ae}),u=Y.length?Y:Object.keys(te).map(function($){return te[$]});re.classes=v(v({},{actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"}),re.classes);var y=re.classes,g=re.actionbar;if(this.actionbar=g,this.settings=re,this.classes=y,this.actions=u,!g){var m=re.actionbarContainer;(g=document.createElement("div")).className=y.actionbar,m.appendChild(g),this.actionbar=g,u.forEach(function($){return I.addAction($)})}return re.styleWithCSS&&this.exec("styleWithCSS"),this}return(0,x.Z)(L,[{key:"destroy",value:function(){this.el=0,this.doc=0,this.actionbar=0,this.settings={},this.classes={},this.actions=[]}},{key:"setEl",value:function(I){this.el=I,this.doc=I.ownerDocument}},{key:"updateActiveActions",value:function(){var I=this;this.getActions().forEach(function(re){var ne=re.btn,z=re.update,Y=v({},I.classes),u=Y.active,y=Y.inactive,g=Y.disabled,m=re.state,$=re.name,ae=I.doc;if(ne.className=ne.className.replace(u,"").trim(),ne.className=ne.className.replace(y,"").trim(),ne.className=ne.className.replace(g,"").trim(),m)switch(m(I,ae)){case w:ne.className+=" ".concat(u);break;case j:ne.className+=" ".concat(y);break;case B:ne.className+=" ".concat(g)}else ae.queryCommandSupported($)&&ae.queryCommandState($)&&(ne.className+=" ".concat(u));z&&z(I,re)})}},{key:"enable",value:function(I){return this.enabled?this:this.__toggleEffects(!0,I)}},{key:"disable",value:function(){return this.__toggleEffects(!1)}},{key:"__toggleEffects",value:function(){var I=arguments.length>0&&arguments[0]!==void 0&&arguments[0],re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=I?d.on:d.off,z=this.el,Y=this.doc;if(this.actionbarEl().style.display=I?"":"none",z.contentEditable=!!I,ne(z,"mouseup keyup",this.updateActiveActions),ne(Y,"keydown",this.__onKeydown),ne(Y,"paste",this.__onPaste),this.enabled=I,I){var u=re.event;if(this.syncActions(),this.updateActiveActions(),u){var y=null;if(Y.caretRangeFromPoint){var g=(0,d.getPointerEvent)(u);y=Y.caretRangeFromPoint(g.clientX,g.clientY)}else u.rangeParent&&(y=Y.createRange()).setStart(u.rangeParent,u.rangeOffset);var m=Y.getSelection();m.removeAllRanges(),y&&m.addRange(y)}z.focus()}return this}},{key:"__onKeydown",value:function(I){I.key==="Enter"&&(this.doc.execCommand("insertLineBreak"),I.preventDefault())}},{key:"__onPaste",value:function(I){var re=I.clipboardData||window.clipboardData,ne=re.getData("text"),z=re.getData("text/html");if(ne&&!z){I.preventDefault();var Y=ne.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,Y)}}},{key:"syncActions",value:function(){var I=this;this.getActions().forEach(function(re){if(I.actionbar&&(!re.state||re.state&&re.state(I,I.doc)>=0)){var ne=re.event||"click";re.btn["on".concat(ne)]=function(z){re.result(I,re),I.updateActiveActions()}}})}},{key:"addAction",value:function(I){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=re.sync,z=document.createElement("span"),Y=I.icon,u=I.attributes||{};for(var y in z.className=this.classes.button,I.btn=z,u)z.setAttribute(y,u[y]);typeof Y=="string"?z.innerHTML=Y:z.appendChild(Y),this.actionbarEl().appendChild(z),ne&&(this.actions.push(I),this.syncActions())}},{key:"getActions",value:function(){return this.actions}},{key:"selection",value:function(){return this.doc.getSelection()}},{key:"exec",value:function(I){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.doc.execCommand(I,!1,re)}},{key:"actionbarEl",value:function(){return this.actionbar}},{key:"insertHTML",value:function(I){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=re.select,z=this.em,Y=this.doc,u=this.el,y=Y.getSelection();if(y&&y.rangeCount){var g=(0,d.getModel)(u),m=Y.createElement("div"),$=y.getRangeAt(0);$.deleteContents(),(0,f.isString)(I)?m.innerHTML=I:I&&m.appendChild(I),Array.prototype.slice.call(m.childNodes).forEach(function(ae){$.insertNode(ae)}),y.removeAllRanges(),y.addRange($),u.focus(),ne&&g&&(g.once("rte:disable",function(){var ae=g.find("[".concat(X,"]"))[0];ae&&(z.setSelected(ae),ae.removeAttributes(X))}),g.trigger("disable"))}}}]),L}();const U={stylePrefix:"rte-",adjustToolbar:1,actions:["bold","italic","underline","strikethrough","link","wrap"]};function se(L,I){var re=Object.keys(L);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(L);I&&(ne=ne.filter(function(z){return Object.getOwnPropertyDescriptor(L,z).enumerable})),re.push.apply(re,ne)}return re}function me(L){for(var I=1;I<arguments.length;I++){var re=arguments[I]!=null?arguments[I]:{};I%2?se(Object(re),!0).forEach(function(ne){(0,A.Z)(L,ne,re[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(re)):se(Object(re)).forEach(function(ne){Object.defineProperty(L,ne,Object.getOwnPropertyDescriptor(re,ne))})}return L}var ce="change:canvasOffset frame:scroll component:update";const D=function(){var L,I=function(){var re=L.style,ne="-1000px";re.top=ne,re.left=ne,re.display="none"};return{customRte:null,name:"RichTextEditor",getConfig:function(){return this.config},init:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ne=me(me({},U),re),z=ne.pStylePrefix;return z&&(ne.stylePrefix=z+ne.stylePrefix),this.config=ne,this.pfx=ne.stylePrefix,this.em=ne.em,this.actions=ne.actions||[],(0,d.hasWin)()?((L=document.createElement("div")).className="".concat(z,"rte-toolbar ").concat(z,"one-bg"),this.initRte(document.createElement("div")),(0,d.on)(L,"mousedown",function(Y){return Y.stopPropagation()}),this):this},destroy:function(){var re,ne,z,Y=this;(re=this.globalRte)===null||re===void 0||re.destroy(),(ne=this.customRte)===null||ne===void 0||(z=ne.destroy)===null||z===void 0||z.call(ne),L=0,["actionbar","actions","em","config","globalRte","lastEl"].map(function(u){delete Y[u]})},postRender:function(re){var ne=re.model.get("Canvas");L.style.pointerEvents="all",I(),ne.getToolsEl().appendChild(L)},initRte:function(re){var ne=this.globalRte,z=this.em,Y=this.pfx,u=this.actionbar,y=this.config,g=L,m=this.actions||(0,H.Z)(y.actions),$={actionbar:"".concat(Y,"actionbar"),button:"".concat(Y,"action"),active:"".concat(Y,"active"),inactive:"".concat(Y,"inactive"),disabled:"".concat(Y,"disabled")};return ne?(ne.em=z,ne.setEl(re)):(ne=new J({em:z,el:re,classes:$,actions:m,actionbar:u,actionbarContainer:g}),this.globalRte=ne),ne.actionbar&&(this.actionbar=ne.actionbar),ne.actions&&(this.actions=ne.actions),ne},add:function(re){var ne,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};z.name=re,(ne=this.globalRte)===null||ne===void 0||ne.addAction(z,{sync:1})},get:function(re){var ne,z;return(ne=this.globalRte)===null||ne===void 0||ne.getActions().forEach(function(Y){Y.name==re&&(z=Y)}),z},getAll:function(){var re;return(re=this.globalRte)===null||re===void 0?void 0:re.getActions()},remove:function(re){var ne=this.getAll(),z=this.get(re);if(z){var Y=z.btn,u=ne.indexOf(z);Y.parentNode.removeChild(Y),ne.splice(u,1)}return z},getToolbarEl:function(){return L},updatePosition:function(){var re=this.em.get("Canvas"),ne=L.style,z=re.getTargetToElementFixed(this.lastEl,L,{event:"rteToolbarPosUpdate",left:0});ne.top=(z.top||0)+"px",ne.left=(z.left||0)+"px"},enable:function(re,ne,z){var Y=this;return(0,O.Z)(k().mark(function u(){var y,g,m,$;return k().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return Y.lastEl=re.el,y=Y.customRte,g=Y.em,m=re.getChildrenContainer(),L.style.display="",ae.next=6,y?y.enable(m,ne):Y.initRte(m).enable(z);case 6:return $=ae.sent,g&&(setTimeout(Y.updatePosition.bind(Y),0),g.off(ce,Y.updatePosition,Y),g.on(ce,Y.updatePosition,Y),g.trigger("rte:enable",re,$)),ae.abrupt("return",$);case 9:case"end":return ae.stop()}},u)}))()},disable:function(re,ne){var z=this.em,Y=this.customRte,u=re.getChildrenContainer();Y?Y.disable(u,ne):ne&&ne.disable(),I(),z&&(z.off(ce,this.updatePosition,this),z.trigger("rte:disable",re,ne))}}}},4859:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>Y});var O=s(5861),H=s(5671),A=s(3144),p=s(7326),k=s(9340),d=s(2963),S=s(1120),x=s(4942),f=s(7757),l=s.n(f),v=s(9714);const w={id:"gjs-",type:"local",autosave:!0,autoload:!0,recovery:!1,stepsBeforeSave:1,onStore:function(u){return u},onLoad:function(u){return u},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(u){return u},onLoad:function(u){return u}}}};var j=s(1163),B=function(){function u(){(0,H.Z)(this,u)}var y,g;return(0,A.Z)(u,[{key:"store",value:(g=(0,O.Z)(l().mark(function m($){var ae,K=arguments;return l().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:ae=K.length>1&&K[1]!==void 0?K[1]:{},this.hasLocal(ae,!0)&&localStorage.setItem(ae.key,JSON.stringify($));case 2:case"end":return F.stop()}},m,this)})),function(m){return g.apply(this,arguments)})},{key:"load",value:(y=(0,O.Z)(l().mark(function m(){var $,ae,K=arguments;return l().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return $=K.length>0&&K[0]!==void 0?K[0]:{},ae={},this.hasLocal($,!0)&&(ae=JSON.parse(localStorage.getItem($.key)||"{}")),F.abrupt("return",ae);case 4:case"end":return F.stop()}},m,this)})),function(){return y.apply(this,arguments)})},{key:"hasLocal",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=arguments.length>1?arguments[1]:void 0;if(m.checkLocal&&(!(0,j.hasWin)()||!localStorage)){if($)throw new Error("localStorage not available");return!1}return!0}}]),u}(),Q=s(9050),X=s(9661);function te(u,y){var g=Object.keys(u);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(u);y&&(m=m.filter(function($){return Object.getOwnPropertyDescriptor(u,$).enumerable})),g.push.apply(g,m)}return g}function J(u){for(var y=1;y<arguments.length;y++){var g=arguments[y]!=null?arguments[y]:{};y%2?te(Object(g),!0).forEach(function(m){(0,x.Z)(u,m,g[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(g)):te(Object(g)).forEach(function(m){Object.defineProperty(u,m,Object.getOwnPropertyDescriptor(g,m))})}return u}var U=function(){function u(){(0,H.Z)(this,u)}var y,g;return(0,A.Z)(u,[{key:"store",value:(g=(0,O.Z)(l().mark(function m($){var ae,K=arguments;return l().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return ae=K.length>1&&K[1]!==void 0?K[1]:{},F.next=3,this.request(ae.urlStore,this.__props(ae,$),ae);case 3:case"end":return F.stop()}},m,this)})),function(m){return g.apply(this,arguments)})},{key:"load",value:(y=(0,O.Z)(l().mark(function m($){return l().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,this.request($.urlLoad,this.__props($),$);case 2:return ae.abrupt("return",ae.sent);case 3:case"end":return ae.stop()}},m,this)})),function(m){return y.apply(this,arguments)})},{key:"request",value:function(m){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,X.Z)(m,$).then(function(K){var F=K.text();return(K.status/200|0)==1?F:F.then(Promise.reject)}).then(function(K){var F=K&&(0,Q.isString)(K);return ae.contentTypeJson&&F?JSON.parse(K):K})}},{key:"__props",value:function(){var m,$=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ae=arguments.length>1?arguments[1]:void 0,K=$.contentTypeJson,F=$.headers||{},b=$.fetchOptions||{},h="X-Requested-With",V="Content-Type";if((0,Q.isUndefined)(F[h])&&(F[h]="XMLHttpRequest"),(0,Q.isUndefined)(F[V])&&K&&(F[V]="application/json; charset=utf-8"),ae)if(K)m=JSON.stringify(ae);else for(var M in m=new FormData,ae)m.append(M,ae[M]);var T={method:m?"POST":"GET",credentials:$.credentials,headers:F,body:m};return J(J({},T),(0,Q.isFunction)(b)?b(T):b)}}]),u}();function se(u,y){var g=Object.keys(u);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(u);y&&(m=m.filter(function($){return Object.getOwnPropertyDescriptor(u,$).enumerable})),g.push.apply(g,m)}return g}function me(u){for(var y=1;y<arguments.length;y++){var g=arguments[y]!=null?arguments[y]:{};y%2?se(Object(g),!0).forEach(function(m){(0,x.Z)(u,m,g[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(g)):se(Object(g)).forEach(function(m){Object.defineProperty(u,m,Object.getOwnPropertyDescriptor(g,m))})}return u}function ce(u){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,m=(0,S.Z)(u);if(y){var $=(0,S.Z)(this).constructor;g=Reflect.construct(m,arguments,$)}else g=m.apply(this,arguments);return(0,d.Z)(this,g)}}var D="storage:start",L="storage:after",I="storage:end",re="storage:error",ne="local",z="remote",Y=function(u){(0,k.Z)(ae,u);var y,g,m,$=ce(ae);function ae(){var K;(0,H.Z)(this,ae);for(var F=arguments.length,b=new Array(F),h=0;h<F;h++)b[h]=arguments[h];return K=$.call.apply($,[this].concat(b)),(0,x.Z)((0,p.Z)(K),"name","StorageManager"),K}return(0,A.Z)(ae,[{key:"init",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__initConfig(w,K);var F=this.getConfig();return F._disable&&(F.type=0),this.storages={},this.add(ne,new B(F)),this.add(z,new U(F)),this.setCurrent(F.type),this}},{key:"isAutosave",value:function(){return!!this.getConfig().autosave}},{key:"setAutosave",value:function(K){return this.getConfig().autosave=!!K,this}},{key:"getStepsBeforeSave",value:function(){return this.getConfig().stepsBeforeSave}},{key:"setStepsBeforeSave",value:function(K){return this.getConfig().stepsBeforeSave=K,this}},{key:"add",value:function(K,F){return this.storages[K]=F,this}},{key:"get",value:function(K){return this.storages[K]||null}},{key:"getStorages",value:function(){return this.storages}},{key:"getCurrent",value:function(){return this.getConfig().currentStorage}},{key:"setCurrent",value:function(K){return this.getConfig().currentStorage=K,this}},{key:"getCurrentStorage",value:function(){return this.get(this.getCurrent())}},{key:"getStorageOptions",value:function(K){return this.getCurrentOptions(K)}},{key:"store",value:(m=(0,O.Z)(l().mark(function K(F){var b,h,V,M,T,P=arguments;return l().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return b=P.length>1&&P[1]!==void 0?P[1]:{},h=this.getCurrentStorage(),V=me(me({},this.getCurrentOptions()),b),M=this.getRecoveryStorage(),T=this.getCurrentOptions(ne),c.prev=5,c.next=8,this.__exec(h,V,F);case 8:if(c.t0=M,!c.t0){c.next=12;break}return c.next=12,this.__exec(M,T,{});case 12:case 19:c.next=22;break;case 14:if(c.prev=14,c.t1=c.catch(5),!M){c.next=21;break}return c.next=19,this.__exec(M,T,F);case 21:throw c.t1;case 22:return c.abrupt("return",F);case 23:case"end":return c.stop()}},K,this,[[5,14]])})),function(K){return m.apply(this,arguments)})},{key:"load",value:(g=(0,O.Z)(l().mark(function K(){var F,b,h,V,M,T,P=arguments;return l().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(F=P.length>0&&P[0]!==void 0?P[0]:{},b=this.getCurrentStorage(),h=me(me({},this.getCurrentOptions()),F),!(V=this.getRecoveryStorage())){c.next=17;break}return c.next=7,this.__exec(V,this.getCurrentOptions(ne));case 7:if(T=c.sent,(0,Q.isEmpty)(T)){c.next=17;break}return c.prev=9,c.next=12,this.__askRecovery();case 12:M=T,c.next=17;break;case 15:c.prev=15,c.t0=c.catch(9);case 17:if(M){c.next=21;break}return c.next=20,this.__exec(b,h);case 20:M=c.sent;case 21:return c.abrupt("return",M||{});case 22:case"end":return c.stop()}},K,this,[[9,15]])})),function(){return g.apply(this,arguments)})},{key:"__askRecovery",value:function(){var K=this.em,F=this.getRecovery();return new Promise(function(b,h){(0,Q.isFunction)(F)?F(b,h,K==null?void 0:K.getEditor()):confirm(K==null?void 0:K.t("storageManager.recover"))?b():h()})}},{key:"getRecovery",value:function(){return this.getConfig().recovery}},{key:"getRecoveryStorage",value:function(){return this.getRecovery()&&this.getCurrent()===z&&this.get(ne)}},{key:"__exec",value:(y=(0,O.Z)(l().mark(function K(F,b,h){var V,M,T,P,c,ee,q,E;return l().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(V=h?"store":"load",M=this.getConfig(),T=M.onStore,P=M.onLoad,this.onStart(V,h),F){R.next=5;break}return R.abrupt("return",h||{});case 5:if(R.prev=5,q=(ee=this.em)===null||ee===void 0?void 0:ee.getEditor(),!h){R.next=31;break}if(R.t1=T,!R.t1){R.next=13;break}return R.next=12,T(h,q);case 12:R.t1=R.sent;case 13:if(R.t0=R.t1,R.t0){R.next=16;break}R.t0=h;case 16:if(E=R.t0,R.t3=b.onStore,!R.t3){R.next=22;break}return R.next=21,b.onStore(E,q);case 21:R.t3=R.sent;case 22:if(R.t2=R.t3,R.t2){R.next=25;break}R.t2=E;case 25:return E=R.t2,R.next=28,F.store(E,b);case 28:c=h,R.next=53;break;case 31:return R.next=33,F.load(b);case 33:if(c=R.sent,c=this.__clearKeys(c),R.t5=b.onLoad,!R.t5){R.next=40;break}return R.next=39,b.onLoad(c,q);case 39:R.t5=R.sent;case 40:if(R.t4=R.t5,R.t4){R.next=43;break}R.t4=c;case 43:if(c=R.t4,R.t7=P,!R.t7){R.next=49;break}return R.next=48,P(c,q);case 48:R.t7=R.sent;case 49:if(R.t6=R.t7,R.t6){R.next=52;break}R.t6=c;case 52:c=R.t6;case 53:this.onAfter(V,c),this.onEnd(V,c),R.next=61;break;case 57:throw R.prev=57,R.t8=R.catch(5),this.onError(V,R.t8),R.t8;case 61:return R.abrupt("return",c);case 62:case"end":return R.stop()}},K,this,[[5,57]])})),function(K,F,b){return y.apply(this,arguments)})},{key:"__clearKeys",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=this.getConfig(),b=new RegExp("^".concat(F.id)),h={};for(var V in K){var M=V.replace(b,"");h[M]=K[V]}return h}},{key:"getCurrentOptions",value:function(K){var F=this.getConfig(),b=K||this.getCurrent();return F.options[b]||{}}},{key:"onStart",value:function(K,F){var b=this.em;b&&(b.trigger(D),K&&b.trigger("".concat(D,":").concat(K),F))}},{key:"onAfter",value:function(K,F){var b=this.em;b&&(b.trigger(L),b.trigger("".concat(L,":").concat(K),F),b.trigger("storage:".concat(K),F))}},{key:"onEnd",value:function(K,F){var b=this.em;b&&(b.trigger(I),K&&b.trigger("".concat(I,":").concat(K),F))}},{key:"onError",value:function(K,F){var b=this.em;b&&(b.trigger(re,F),K&&b.trigger("".concat(re,":").concat(K),F),this.onEnd(K,F))}},{key:"canAutoload",value:function(){return this.getCurrentStorage()&&this.getConfig().autoload}},{key:"destroy",value:function(){this.__destroy(),this.storages={}}}]),ae}(v.Z)},2326:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>ye,evAll:()=>xt,evCustom:()=>Gn,evLayerSelect:()=>Vn,evPfx:()=>Sn,evProp:()=>tr,evPropAdd:()=>Kn,evPropRemove:()=>Jn,evPropUp:()=>Wn,evSector:()=>fn,evSectorAdd:()=>jn,evSectorRemove:()=>$n,evSectorUpdate:()=>rr,evTarget:()=>Nn});var O=s(2982),H=s(4942),A=s(9050),p=s(1163),k=s(9304),d=s(2316),S=s.n(d);const x={sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]};var f=s(4925),l=s(5671),v=s(3144),w=s(9340),j=s(2963),B=s(1120),Q=s(793),X=["partial"];function te(C,W){var le=Object.keys(C);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(C);W&&(_=_.filter(function(fe){return Object.getOwnPropertyDescriptor(C,fe).enumerable})),le.push.apply(le,_)}return le}function J(C){for(var W=1;W<arguments.length;W++){var le=arguments[W]!=null?arguments[W]:{};W%2?te(Object(le),!0).forEach(function(_){(0,H.Z)(C,_,le[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(le)):te(Object(le)).forEach(function(_){Object.defineProperty(C,_,Object.getOwnPropertyDescriptor(le,_))})}return C}function U(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var se=function(C){(0,w.Z)(le,C);var W=U(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"initialize",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.em=fe.em;var ke=this.get("id")||"",Re=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(Re||ke).replace(/ /g,"-"));var Ze=this.get("property");!this.get("id")&&this.set("id",Ze),!Re&&this.set("name",(0,p.capitalize)(Ze).replace(/-/g," ")),this.on("change",this.__upTargets),le.callInit(this,_,fe)}},{key:"__getParentProp",value:function(){var _,fe;return(_=this.collection)===null||_===void 0||(fe=_.opts)===null||fe===void 0?void 0:fe.parentProp}},{key:"__upTargets",value:function(_){var fe=this,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Re=this.em,Ze=Re.get("StyleManager"),Ke=this.getName(),at=ke.__clear,ot=at?"":this.__getFullValue(ke),bt=this.__getParentProp(),_t=this.changedAttributes(),Rt=(0,A.keys)(_t).reduce(function(sn,Cn){return sn[Cn]=fe.previous(Cn),sn},{}),Qt=[].concat((0,O.Z)((0,A.keys)(this.__getClearProps())),["__p"]),an=(0,A.keys)(_t),gn=!ke.__up&&!bt&&(at||Qt.some(function(sn){return an.indexOf(sn)>=0})),Dn=this.get("onChange"),Mn={property:this,from:Rt,to:_t,value:ot,opts:ke};Ze.__trgEv(Ze.events.propertyUpdate,Mn),Dn&&Dn(Mn),gn&&this.__upTargetsStyle((0,H.Z)({},Ke,ot),ke)}},{key:"__upTargetsStyle",value:function(_,fe){var ke,Re=(ke=this.em)===null||ke===void 0?void 0:ke.get("StyleManager");Re==null||Re.addStyleTargets(J(J({},_),{},{__p:!!fe.avoidStore}),fe)}},{key:"_up",value:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};fe.noTarget&&(fe.__up=!0);var ke=fe.partial,Re=(0,f.Z)(fe,X);return _.__p=!(!Re.avoidStore&&!ke),this.set(_,J(J({},Re),{},{avoidStore:_.__p}))}},{key:"up",value:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.set(_,J(J({},fe),{},{__up:!0}))}},{key:"init",value:function(){}},{key:"getId",value:function(){return this.get("id")}},{key:"getType",value:function(){return this.get("type")}},{key:"getName",value:function(){return this.get("property")}},{key:"getLabel",value:function(){var _,fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ke=fe.locale,Re=ke===void 0||ke,Ze=this.getId(),Ke=this.get("name")||this.get("label");return Re&&((_=this.em)===null||_===void 0?void 0:_.t("styleManager.properties.".concat(Ze)))||Ke}},{key:"getValue",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=_.noDefault,ke=this.get("value");return this.hasValue()||fe?ke:this.getDefaultValue()}},{key:"hasValue",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=_.noParent,ke=fe&&this.getParentTarget(),Re=this.get("value");return!(0,A.isUndefined)(Re)&&Re!==""&&!ke}},{key:"hasValueParent",value:function(){return this.hasValue()&&!this.hasValue({noParent:!0})}},{key:"getStyle",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=this.getName(),ke=_.camelCase?(0,p.camelCase)(fe):fe;return(0,H.Z)({},ke,this.__getFullValue(_))}},{key:"getDefaultValue",value:function(){var _=this.get("default");return"".concat((0,A.isUndefined)(_)?this.get("defaults"):_)}},{key:"upValue",value:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=_===null||_===""?this.__getClearProps():this.__parseValue(_,fe);return this._up(ke,fe)}},{key:"isVisible",value:function(){return!!this.get("visible")}},{key:"clear",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._up(this.__getClearProps(),J(J({},_),{},{__clear:!0}))}},{key:"canClear",value:function(){var _=this.getParent();return _?_.__canClearProp(this):this.hasValue({noParent:!0})}},{key:"getParent",value:function(){return this.__getParentProp()||null}},{key:"isFull",value:function(){return!!this.get("full")}},{key:"__parseValue",value:function(_,fe){return this.parseValue(_,fe)}},{key:"__getClearProps",value:function(){return{value:""}}},{key:"setValue",value:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Re=this.parseValue(_),Ze=!fe;!Ze&&this.set({value:void 0},{avoidStore:Ze,silent:!0}),this.set(Re,J({avoidStore:Ze},ke))}},{key:"setValueFromInput",value:function(_,fe){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.setValue(_,fe,J(J({},ke),{},{fromInput:1}))}},{key:"parseValue",value:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke={value:_},Re="!important";if((0,A.isString)(_)&&_.indexOf(Re)!==-1&&(ke.value=_.replace(Re,"").trim(),ke.important=1),!this.get("functionName")&&!fe.complete)return ke;var Ze=[],Ke="".concat(ke.value),at=Ke.indexOf("(")+1,ot=Ke.lastIndexOf(")"),bt=Ke.substring(0,at-1);if(bt&&(ke.functionName=bt),Ze.push(at),ot>=0&&Ze.push(ot),ke.value=String.prototype.substring.apply(Ke,Ze),fe.numeric){var _t=parseFloat(ke.value);ke.unit=ke.value.replace(_t,""),ke.value=_t}return ke}},{key:"__getFullValue",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=_.withDefault;return!this.hasValue()&&fe?this.getDefaultValue():this.getFullValue()}},{key:"getFullValue",value:function(_){var fe=this.get("functionName"),ke=this.getDefaultValue(),Re=(0,A.isUndefined)(_)?this.get("value"):_,Ze=!(0,A.isUndefined)(Re)&&Re!=="";if(Re&&ke&&Re===ke)return ke;if(fe&&Ze){var Ke=fe==="url"?"'".concat(Re.replace(/'|"/g,""),"'"):Re;Re="".concat(fe,"(").concat(Ke,")")}return Ze&&this.get("important")&&(Re="".concat(Re," !important")),Re||""}},{key:"__setParentTarget",value:function(_){this.up({parentTarget:_})}},{key:"getParentTarget",value:function(){return this.get("parentTarget")||null}},{key:"__parseFn",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",fe=_.indexOf("(")+1,ke=_.lastIndexOf(")");return{name:_.substring(0,fe-1).trim(),value:String.prototype.substring.apply(_,[fe,ke>=0?ke:void 0]).trim()}}},{key:"__checkVisibility",value:function(_){var fe=_.target,ke=_.component,Re=_.sectors,Ze=ke||fe;if(!Ze)return!1;var Ke=this.getId(),at=this.getName(),ot=this.get("toRequire"),bt=this.get("requires"),_t=this.get("requiresParent"),Rt=Ze.get("unstylable"),Qt=Ze.get("stylable-require"),an=Ze.get("stylable");if((0,A.isArray)(an)&&(an=an.indexOf(at)>=0),(0,A.isArray)(Rt)&&(an=Rt.indexOf(at)<0),ot&&(an=!fe||Qt&&(Qt.indexOf(Ke)>=0||Qt.indexOf(at)>=0)),Re&&bt){var gn=(0,A.keys)(bt);Re.forEach(function(Cn){Cn.getProperties().forEach(function(Hn){if((0,A.includes)(gn,Hn.id)){var Xn=bt[Hn.id];an=an&&(0,A.includes)(Xn,Hn.get("value"))}})})}if(_t){var Dn=ke&&ke.parent(),Mn=Dn&&Dn.getEl();if(Mn){var sn=(0,p.hasWin)()?window.getComputedStyle(Mn):{};(0,A.each)(_t,function(Cn,Hn){an=an&&sn[Hn]&&(0,A.includes)(Cn,sn[Hn])})}else an=!1}return!!an}}]),le}(d.Model);function me(C,W){var le=Object.keys(C);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(C);W&&(_=_.filter(function(fe){return Object.getOwnPropertyDescriptor(C,fe).enumerable})),le.push.apply(le,_)}return le}function ce(C){for(var W=1;W<arguments.length;W++){var le=arguments[W]!=null?arguments[W]:{};W%2?me(Object(le),!0).forEach(function(_){(0,H.Z)(C,_,le[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(le)):me(Object(le)).forEach(function(_){Object.defineProperty(C,_,Object.getOwnPropertyDescriptor(le,_))})}return C}function D(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}se.callParentInit=function(C,W,le){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};C.prototype.initialize.apply(W,[le,J(J({},_),{},{skipInit:1})])},se.callInit=function(C,W){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!le.skipInit&&C.init(W,le)},se.getDefaults=function(){return(0,A.result)(this.prototype,"defaults")},se.prototype.defaults={name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],onChange:null,full:0,important:0,toRequire:0,requires:null,requiresParent:null,parentTarget:null};var L=function(C){return C==="integer"||C==="number"},I=function(C){(0,w.Z)(le,C);var W=D(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"defaults",value:function(){return ce(ce({},se.getDefaults()),{},{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})}},{key:"initialize",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};se.callParentInit(se,this,_,fe);var ke=this.em,Re=new nn(this.get("properties")||[],{em:ke,parentProp:this});this.set("properties",Re,{silent:1}),this.listenTo(Re,"change",this.__upProperties),se.callInit(this,_,fe)}},{key:"getProperties",value:function(){return(0,O.Z)(this.get("properties").models)}},{key:"getProperty",value:function(_){return this.get("properties").filter(function(fe){return fe.getId()===_||fe.getName()===_})[0]||null}},{key:"getPropertyAt",value:function(_){return this.get("properties").at(_)}},{key:"isDetached",value:function(){return!!this.get("detached")}},{key:"getValues",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=_.byName;return this.getProperties().reduce(function(ke,Re){return ke[fe?Re.getName():Re.getId()]="".concat(Re.__getFullValue()),ke},{})}},{key:"getSeparator",value:function(){return this.getSplitSeparator()}},{key:"getJoin",value:function(){return this.__getJoin()}},{key:"getStyleFromProps",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=this.getName(),ke=this.__getJoin(),Re=this.get("toStyle"),Ze=this.getValues(),Ke={};if(Re)Ke=Re(Ze,{join:ke,name:fe,property:this});else if(Ze=this.getValues({byName:!0}),this.isDetached())Ke=Ze;else{var at=this.getProperties().map(function(ot){return ot.__getFullValue({withDefault:1})}).filter(Boolean).join(ke);Ke=(0,H.Z)({},fe,at)}return this.isDetached()?Ke[fe]="":(Ke[fe]=Ke[fe]||"",Ke=ce(ce({},Ke),this.getProperties().reduce(function(ot,bt){return ot[bt.getName()]="",ot},{}))),_.camelCase?Object.keys(Ke).reduce(function(ot,bt){return ot[camelCase(bt)]=Ke[bt],ot},{}):Ke}},{key:"getSplitSeparator",value:function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))}},{key:"__upProperties",value:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!fe.__up&&!fe.__clearIn){var ke=this.__getParentProp();if(ke)return ke.__upProperties(this,fe);this.__upTargetsStyleProps(fe,_)}}},{key:"__upTargetsStyleProps",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=arguments.length>1?arguments[1]:void 0,ke=this.getStyleFromProps();if(this.isDetached()&&fe){var Re=fe.getName();ke=(0,H.Z)({},Re,ke[Re])}this.__upTargetsStyle(ke,_)}},{key:"_up",value:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.__setProperties(this.__getSplitValue(_.value),fe),se.prototype._up.call(this,_,fe)}},{key:"getStyle",value:function(_){return this.getStyleFromProps(_)}},{key:"__getFullValue",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.isDetached()||_.__clear?"":this.getStyleFromProps()[this.getName()]||""}},{key:"__getJoin",value:function(){var _=this.get("join");return(0,A.isString)(_)?_:this.get("separator")}},{key:"__styleHasProps",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=this.getName(),ke=this.getProperties(),Re=ke.map(function(Ke){return Ke.getName()}),Ze=[fe].concat((0,O.Z)(Re));return Ze.some(function(Ke){return!(0,A.isUndefined)(_[Ke])&&_[Ke]!==""})}},{key:"__splitValue",value:function(_,fe){return _.split(fe).map(function(ke){return ke.trim()}).filter(Boolean)}},{key:"__splitStyleName",value:function(_,fe,ke){return this.__splitValue(_[fe]||"",ke)}},{key:"__getSplitValue",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=fe.byName,Re=this.getProperties(),Ze=Re.length===4&&Re.every(function(ot){return L(ot.getType())}),Ke=this.__splitValue(_,this.getSplitSeparator()),at={};return Re.forEach(function(ot,bt){var _t=Ke[bt],Rt=(0,A.isUndefined)(_t)?"":_t;if(Ze){var Qt=Ke.length;Rt=Ke[bt]||Ke[bt%Qt+(Qt!=1&&Qt%2?1:0)]||Rt}var an=ke?ot.getName():ot.getId();at[an]=Rt||""}),at}},{key:"__getPropsFromStyle",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.__styleHasProps(_))return null;var ke=fe.byName,Re=this.getName(),Ze=this.getProperties(),Ke=this.getSplitSeparator(),at=this.get("fromStyle"),ot=at?at(_,{property:this,name:Re,separator:Ke}):{};return at||(ot=this.__getSplitValue(_[Re]||"",{byName:ke}),Ze.forEach(function(bt){var _t=_[bt.getName()],Rt=ke?bt.getName():bt.getId();(0,A.isUndefined)(_t)||_t===""||(ot[Rt]=_t)})),ot}},{key:"__setProperties",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.getProperties().forEach(function(Re){var Ze=_[Re.getId()];Re.__getFullValue()!==Ze&&Re.upValue(Ze,fe)});var ke=(0,A.keys)(_).map(function(Re){return _[Re]}).join(" ");this.set("value",ke,{silent:!0})}},{key:"clear",value:function(){var _=this;return this.getProperties().map(function(fe){return fe.clear({__clearIn:!_.isDetached()})}),se.prototype.clear.call(this)}},{key:"hasValue",value:function(_){return this.getProperties().some(function(fe){return fe.hasValue(_)})}},{key:"getFullValue",value:function(){return this.__getFullValue()}},{key:"__canClearProp",value:function(_){return this.isDetached()&&_.hasValue({noParent:!0})}}]),le}(se);function re(C,W){var le=Object.keys(C);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(C);W&&(_=_.filter(function(fe){return Object.getOwnPropertyDescriptor(C,fe).enumerable})),le.push.apply(le,_)}return le}function ne(C){for(var W=1;W<arguments.length;W++){var le=arguments[W]!=null?arguments[W]:{};W%2?re(Object(le),!0).forEach(function(_){(0,H.Z)(C,_,le[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(le)):re(Object(le)).forEach(function(_){Object.defineProperty(C,_,Object.getOwnPropertyDescriptor(le,_))})}return C}function z(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var Y=function(C){(0,w.Z)(le,C);var W=z(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"defaults",value:function(){return{values:{}}}},{key:"initialize",value:function(){var _=this.collection;this.prop=_==null?void 0:_.prop}},{key:"getId",value:function(){return this.cid}},{key:"getIndex",value:function(){var _=this.collection;return _?_.indexOf(this):-1}},{key:"getValues",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=this.get("values");return _.camelCase?Object.keys(fe).reduce(function(ke,Re){return ke[(0,p.camelCase)(Re)]=fe[Re],ke},{}):fe}},{key:"getLabel",value:function(){var _;return(_=this.prop)===null||_===void 0?void 0:_.getLayerLabel(this)}},{key:"isSelected",value:function(){var _;return((_=this.prop)===null||_===void 0?void 0:_.getSelectedLayer())===this}},{key:"select",value:function(){var _;return(_=this.prop)===null||_===void 0?void 0:_.selectLayer(this)}},{key:"remove",value:function(){var _;return(_=this.prop)===null||_===void 0?void 0:_.removeLayer(this)}},{key:"move",value:function(_){var fe;return(fe=this.prop)===null||fe===void 0?void 0:fe.moveLayer(this,_)}},{key:"getStylePreview",value:function(){var _,fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(_=this.prop)===null||_===void 0?void 0:_.getStylePreview(this,fe)}},{key:"hasPreview",value:function(){var _;return!((_=this.prop)===null||_===void 0||!_.get("preview"))}},{key:"upValues",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.set("values",ne(ne({},this.getValues()),_))}}]),le}(d.Model);function u(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var y=function(C){(0,w.Z)(le,C);var W=u(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"initialize",value:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prop=fe.prop}}]),le}(d.Collection);y.prototype.model=Y;var g=["__layers"];function m(C,W){var le=Object.keys(C);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(C);W&&(_=_.filter(function(fe){return Object.getOwnPropertyDescriptor(C,fe).enumerable})),le.push.apply(le,_)}return le}function $(C){for(var W=1;W<arguments.length;W++){var le=arguments[W]!=null?arguments[W]:{};W%2?m(Object(le),!0).forEach(function(_){(0,H.Z)(C,_,le[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(le)):m(Object(le)).forEach(function(_){Object.defineProperty(C,_,Object.getOwnPropertyDescriptor(le,_))})}return C}function ae(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var K=/,(?![^\(]*\))/,F=/\s(?![^(]*\))/,b=function(C){(0,w.Z)(le,C);var W=ae(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"defaults",value:function(){return $($({},I.getDefaults()),{},{layers:[],layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})}},{key:"initialize",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};I.callParentInit(I,this,_,fe);var ke=this.get("layers"),Re=new y(ke,{prop:this});Re.property=this,Re.properties=this.get("properties"),this.set("layers",Re,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(Re,"add remove",this.__upLayers),I.callInit(this,_,fe)}},{key:"getLayers",value:function(){return this.__getLayers().models}},{key:"__getLayers",value:function(){return this.get("layers")}},{key:"getLayer",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.__getLayers().at(_)||null}},{key:"getSelectedLayer",value:function(){var _=this.get("selectedLayer");return _&&_.getIndex()>=0?_:null}},{key:"selectLayer",value:function(_){return this.set("selectedLayer",_,{__select:!0})}},{key:"selectLayerAt",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,fe=this.getLayer(_);return fe&&this.selectLayer(fe)}},{key:"moveLayer",value:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ke=_?_.getIndex():-1;ke>=0&&(0,A.isNumber)(fe)&&fe>=0&&fe<this.getLayers().length&&ke!==fe&&(this.removeLayer(_),this.__getLayers().add(_,{at:fe}))}},{key:"addLayer",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke={};this.getProperties().forEach(function(Ze){var Ke=Ze.getId(),at=_[Ke];ke[Ke]=(0,A.isUndefined)(at)?Ze.getDefaultValue():at});var Re=this.get("layers").push({values:ke},fe);return Re}},{key:"removeLayer",value:function(_){return this.get("layers").remove(_)}},{key:"removeLayerAt",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,fe=this.getLayer(_);return fe?this.removeLayer(fe):null}},{key:"getLayerLabel",value:function(_){var fe="";if(_){var ke=this.get("layerLabel"),Re=_.getValues(),Ze=_.getIndex();if(ke)fe=ke(_,{index:Ze,values:Re,property:this});else{var Ke=[];this.getProperties().map(function(at){Ke.push(Re[at.getId()])}),fe=Ke.filter(Boolean).join(" ")}}return fe}},{key:"getStyleFromLayer",value:function(_){var fe,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Re=this.__getJoin(),Ze=this.__getJoinLayers(),Ke=this.get("toStyle"),at=this.getName(),ot=_.getValues();if(Ke)fe=Ke(ot,{join:Re,joinLayers:Ze,name:at,layer:_,property:this});else{var bt=this.getProperties().map(function(_t){var Rt=_t.getName(),Qt=ot[_t.getId()],an=(0,A.isUndefined)(Qt)?_t.getDefaultValue():Qt;if(ke.number&&L(_t.getType())){var gn=_t.parseValue(Qt,ke.number);an="".concat(gn.value).concat(gn.unit)}return{name:Rt,value:an}});fe=this.isDetached()?bt.reduce(function(_t,Rt){return _t[Rt.name]=Rt.value,_t},{}):(0,H.Z)({},this.getName(),bt.map(function(_t){return _t.value}).join(Re))}return ke.camelCase?Object.keys(fe).reduce(function(_t,Rt){return _t[(0,p.camelCase)(Rt)]=fe[Rt],_t},{}):fe}},{key:"getStylePreview",value:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke={},Re=this.get("preview");return Re&&(ke=this.getStyleFromLayer(_,fe)),ke}},{key:"getLayerSeparator",value:function(){var _=this.get("layerSeparator");return(0,A.isString)(_)?new RegExp("".concat(_,"(?![^\\(]*\\))")):_}},{key:"__upProperties",value:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=this.getSelectedLayer();ke&&(ke.upValues((0,H.Z)({},_.getId(),_.__getFullValue())),fe.__up||this.__upTargetsStyleProps(fe))}},{key:"__upLayers",value:function(_,fe,ke){this.__upTargetsStyleProps(ke||fe)}},{key:"__upTargets",value:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!fe.__select)return se.prototype.__upTargets.call(this,_,fe)}},{key:"__upTargetsStyleProps",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__upTargetsStyle(this.getStyleFromLayers(),_)}},{key:"__upTargetsStyle",value:function(_,fe){return se.prototype.__upTargetsStyle.call(this,_,fe)}},{key:"__upSelected",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=_.noEvent,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Re=this.em.get("StyleManager"),Ze=this.getSelectedLayer(),Ke=Ze==null?void 0:Ze.getValues();Ke&&this.getProperties().forEach(function(at){var ot,bt=(ot=Ke[at.getId()])!==null&&ot!==void 0?ot:"";at.__getFullValue()!==bt&&at.upValue(bt,$($({},ke),{},{__up:!0}))}),!fe&&Re.__trgEv(Re.events.layerSelect,{property:this})}},{key:"_up",value:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=_.__layers,Re=ke===void 0?[]:ke,Ze=(0,f.Z)(_,g);return!this.isDetached()&&this.__setLayers(Re),this.__upSelected({noEvent:!0},fe),se.prototype._up.call(this,Ze,fe)}},{key:"__setLayers",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],fe=this.__getLayers(),ke=_.map(function(Re){return{values:Re}});fe.length===ke.length?ke.map(function(Re,Ze){var Ke;return(Ke=fe.at(Ze))===null||Ke===void 0?void 0:Ke.upValues(Re.values)}):this.__getLayers().reset(ke),this.__upSelected({noEvent:!0})}},{key:"__parseValue",value:function(_){var fe=this,ke=this.parseValue(_);return ke.__layers=_.split(K).map(function(Re){return Re.trim()}).map(function(Re){return fe.__parseLayer(Re)}).filter(Boolean),ke}},{key:"__parseLayer",value:function(_){var fe=this.get("parseLayer"),ke=_.split(F),Re=this.getProperties();return fe?fe({value:_,values:ke}):Re.reduce(function(Ze,Ke,at){var ot=ke[at];return Ze[Ke.getId()]=(0,A.isUndefined)(ot)?Ke.getDefaultValue():ot,Ze},{})}},{key:"__getLayersFromStyle",value:function(){var _=this,fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.__styleHasProps(fe))return null;var ke=this.getName(),Re=this.getProperties(),Ze=this.getLayerSeparator(),Ke=this.get("fromStyle"),at=Ke?Ke(fe,{property:this,name:ke,separatorLayers:Ze}):[];if(!Ke){var ot=this.__splitStyleName(fe,ke,Ze).map(function(bt){return bt.split(_.getSplitSeparator())}).map(function(bt){var _t={};return Re.forEach(function(Rt,Qt){var an=bt[Qt];_t[Rt.getId()]=(0,A.isUndefined)(an)?Rt.getDefaultValue():an}),_t});Re.forEach(function(bt){var _t=bt.getId();_.__splitStyleName(fe,bt.getName(),Ze).map(function(Rt){return(0,H.Z)({},_t,Rt||bt.getDefaultValue())}).forEach(function(Rt,Qt){ot[Qt]=ot[Qt]?$($({},ot[Qt]),Rt):Rt})}),at=ot}return(0,A.isArray)(at)?at:[at]}},{key:"getStyle",value:function(_){return this.getStyleFromLayers(_)}},{key:"getStyleFromLayers",value:function(_){var fe=this,ke={},Re=this.getName(),Ze=this.getLayers(),Ke=this.getProperties();if(Ze.map(function(ot){return fe.getStyleFromLayer(ot,_)}).forEach(function(ot){(0,A.keys)(ot).map(function(bt){ke[bt]||(ke[bt]=[]),ke[bt].push(ot[bt])})}),(0,A.keys)(ke).map(function(ot){ke[ot]=ke[ot].join(fe.__getJoinLayers())}),this.isDetached())ke[Re]="",!Ze.length&&Ke.map(function(ot){ke[ot.getName()]=""});else{var at=Ke.reduce(function(ot,bt){return ot[bt.getName()]="",ot},{});ke[Re]=ke[Re]||"",ke=$($({},ke),at)}return ke}},{key:"__getJoinLayers",value:function(){var _=this.get("layerJoin"),fe=this.get("layerSeparator");return _||((0,A.isString)(fe)?fe:_)}},{key:"__getFullValue",value:function(){return this.get("detached")?"":this.getStyleFromLayers()[this.getName()]}},{key:"hasValue",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=_.noParent,ke=fe&&this.getParentTarget();return this.getLayers().length>0&&!ke}},{key:"clear",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.__getLayers().reset(),this.__upTargetsStyleProps(_),se.prototype.clear.call(this)}},{key:"__canClearProp",value:function(){return!1}}]),le}(I),h=["complete","partial"];function V(C,W){var le=Object.keys(C);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(C);W&&(_=_.filter(function(fe){return Object.getOwnPropertyDescriptor(C,fe).enumerable})),le.push.apply(le,_)}return le}function M(C){for(var W=1;W<arguments.length;W++){var le=arguments[W]!=null?arguments[W]:{};W%2?V(Object(le),!0).forEach(function(_){(0,H.Z)(C,_,le[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(le)):V(Object(le)).forEach(function(_){Object.defineProperty(C,_,Object.getOwnPropertyDescriptor(le,_))})}return C}function T(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var P="data-clear-style",c=function(C){(0,w.Z)(le,C);var W=T(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"template",value:function(){var _=this.pfx,fe=this.ppfx;return`
      <div class="`.concat(_,`label" data-sm-label></div>
      <div class="`).concat(fe,`fields" data-sm-fields></div>
    `)}},{key:"templateLabel",value:function(_){var fe=this.pfx,ke=this.em,Re=_.parent,Ze=_.attributes,Ke=Ze.icon,at=Ke===void 0?"":Ke,ot=Ze.info,bt=ot===void 0?"":ot,_t=ke==null?void 0:ke.getConfig().icons,Rt=(_t==null?void 0:_t.close)||"";return`
      <span class="`.concat(fe,"icon ").concat(at,'" title="').concat(bt,`">
        `).concat(_.getLabel(),`
      </span>
      `).concat(Re?"":'<div class="'.concat(fe,'clear" style="display: none" ').concat(P,">").concat(Rt,"</div>"),`
    `)}},{key:"templateInput",value:function(_){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(_.getDefaultValue(),`"/>
      </div>
    `)}},{key:"initialize",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,A.bindAll)(this,"__change","__updateStyle");var fe=_.config||{},ke=fe.em;this.config=fe,this.em=ke,this.pfx=fe.stylePrefix||"",this.ppfx=fe.pStylePrefix||"",this.__destroyFn=this.destroy?this.destroy.bind(this):function(){};var Re=this.model;Re.view=this,this.onValueChange=(0,A.debounce)(this.onValueChange.bind(this),10),this.updateStatus=(0,A.debounce)(this.updateStatus.bind(this)),this.listenTo(Re,"destroy remove",this.remove),this.listenTo(Re,"change:visible",this.updateVisibility),this.listenTo(Re,"change:name change:className change:full",this.render),this.listenTo(Re,"change:value",this.onValueChange),this.listenTo(Re,"change:parentTarget",this.updateStatus),this.listenTo(ke,"change:device",this.onValueChange);var Ze=this.init&&this.init.bind(this);Ze&&Ze()}},{key:"remove",value:function(){var _=this;d.View.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(fe){return _[fe]=null}),this.__destroyFn(this._getClbOpts())}},{key:"updateStatus",value:function(){var _,fe=this.model,ke=this.pfx,Re=this.ppfx,Ze=this.config,Ke="".concat(Re,"four-color"),at="".concat(Re,"color-warn"),ot=this.$el.children(".".concat(ke,"label")),bt=this.getClearEl(),_t=bt?bt.style:{};ot.removeClass("".concat(Ke," ").concat(at)),_t.display="none",fe.hasValue({noParent:!0})&&Ze.highlightChanged?(ot.addClass(Ke),Ze.clearProperties&&(_t.display="")):fe.hasValue()&&Ze.highlightComputed&&ot.addClass(at),(_=this.parent)===null||_===void 0||_.updateStatus()}},{key:"clear",value:function(_){_&&_.stopPropagation(),this.model.clear()}},{key:"getClearEl",value:function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(P,"]"))),this.clearEl}},{key:"inputValueChanged",value:function(_){_&&_.stopPropagation(),this.emit||this.model.upValue(_.target.value)}},{key:"onValueChange",value:function(_,fe){this.setValue(this.model.getFullValue()),this.updateStatus()}},{key:"setValue",value:function(_){var fe=this.model,ke=(0,A.isUndefined)(_)||_===""?fe.getDefaultValue():_;if(this.update)return this.__update(ke);this.__setValueInput(ke)}},{key:"__setValueInput",value:function(_){var fe=this.getInputEl();fe&&(fe.value=_)}},{key:"getInputEl",value:function(){return this.input||(this.input=this.el.querySelector("input")),this.input}},{key:"updateVisibility",value:function(){this.el.style.display=this.model.isVisible()?"":"none"}},{key:"clearCached",value:function(){this.clearEl=null,this.input=null,this.$input=null}},{key:"__unset",value:function(){var _=this.unset&&this.unset.bind(this);_&&_(this._getClbOpts())}},{key:"__update",value:function(_){var fe=this.update&&this.update.bind(this);fe&&fe(M(M({},this._getClbOpts()),{},{value:_}))}},{key:"__change",value:function(){for(var _=this.emit&&this.emit.bind(this),fe=arguments.length,ke=new Array(fe),Re=0;Re<fe;Re++)ke[Re]=arguments[Re];_&&_.apply(void 0,[this._getClbOpts()].concat(ke))}},{key:"__updateStyle",value:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=fe.complete,Re=fe.partial,Ze=((0,f.Z)(fe,h),this.model),Ke=ke!==!1&&Re!==!0;(0,p.isObject)(_)?Ze.__upTargetsStyle(_,{avoidStore:!Ke}):Ze.upValue(_,{partial:!Ke})}},{key:"_getClbOpts",value:function(){var _=this.model;return{el:this.el,createdEl:this.createdEl,property:_,props:_.attributes,change:this.__change,updateStyle:this.__updateStyle}}},{key:"render",value:function(){this.clearCached();var _=this.pfx,fe=this.model,ke=this.el,Re=this.$el,Ze=fe.getName(),Ke=fe.getType(),at=fe.get("className")||"",ot="".concat(_,"property"),bt=Ke==="number"?"".concat(_).concat(Ke," ").concat(_,"integer"):"".concat(_).concat(Ke);this.createdEl&&this.__destroyFn(this._getClbOpts()),Re.empty().append(this.template(fe)),Re.find("[data-sm-label]").append(this.templateLabel(fe));var _t=this.create&&this.create.bind(this);this.createdEl=_t&&_t(this._getClbOpts()),Re.find("[data-sm-fields]").append(this.createdEl||this.templateInput(fe)),ke.className="".concat(ot," ").concat(bt," ").concat(ot,"__").concat(Ze," ").concat(at).trim(),ke.className+=fe.isFull()?" ".concat(ot,"--full"):"";var Rt=this.onRender&&this.onRender.bind(this);Rt&&Rt(),this.setValue(fe.getValue())}}]),le}(d.View);c.prototype.events=(0,H.Z)({change:"inputValueChanged"},"click [".concat(P,"]"),"clear");var ee=s(9283);function q(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var E=function(C){(0,w.Z)(le,C);var W=q(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"initialize",value:function(_){this.config=_.config||{},this.pfx=this.config.stylePrefix||"",this.properties=[],this.parent=_.parent;var fe=this.collection;this.listenTo(fe,"add",this.addTo),this.listenTo(fe,"reset",this.render)}},{key:"addTo",value:function(_,fe,ke){this.add(_,null,ke)}},{key:"add",value:function(_,fe){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Re=this.parent,Ze=this.config,Ke=fe||this.el,at=new _.typeView({model:_,config:Ze});Re&&(at.parent=Re),at.render();var ot=at.el;this.properties.push(at),(0,ee.$Q)(Ke,ot,ke.at)}},{key:"remove",value:function(){d.View.prototype.remove.apply(this,arguments),this.clearItems()}},{key:"clearItems",value:function(){this.properties.forEach(function(_){return _.remove()}),this.properties=[]}},{key:"render",value:function(){var _=this,fe=this.$el,ke=this.pfx;this.clearItems();var Re=document.createDocumentFragment();return this.collection.forEach(function(Ze){return _.add(Ze,Re)}),fe.empty(),fe.append(Re),fe.attr("class","".concat(ke,"properties")),this}}]),le}(d.View);function R(C,W){var le=Object.keys(C);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(C);W&&(_=_.filter(function(fe){return Object.getOwnPropertyDescriptor(C,fe).enumerable})),le.push.apply(le,_)}return le}function ue(C){for(var W=1;W<arguments.length;W++){var le=arguments[W]!=null?arguments[W]:{};W%2?R(Object(le),!0).forEach(function(_){(0,H.Z)(C,_,le[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(le)):R(Object(le)).forEach(function(_){Object.defineProperty(C,_,Object.getOwnPropertyDescriptor(le,_))})}return C}function be(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var N=function(C){(0,w.Z)(le,C);var W=be(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"templateInput",value:function(){var _=this.pfx;return`
      <div class="`.concat(_,"field ").concat(_,`composite">
        <span id="`).concat(_,`input-holder"></span>
      </div>
    `)}},{key:"remove",value:function(){var _;(_=this.props)===null||_===void 0||_.remove(),c.prototype.remove.apply(this,arguments)}},{key:"onValueChange",value:function(){}},{key:"onRender",value:function(){var _=this.model,fe=this.pfx,ke=_.get("properties");if(ke.length&&!this.props){var Re=_.isDetached(),Ze=new E({config:ue(ue({},this.config),{},{highlightComputed:Re,highlightChanged:Re}),collection:ke,parent:this});Ze.render(),this.$el.find("#".concat(fe,"input-holder")).append(Ze.el),this.props=Ze}}},{key:"clearCached",value:function(){c.prototype.clearCached.apply(this,arguments),this.props=null}}]),le}(c);function oe(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var de=function(C){(0,w.Z)(le,C);var W=oe(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"events",value:function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}}},{key:"template",value:function(){var _=this.pfx,fe=this.ppfx,ke=this.em,Re=ke==null?void 0:ke.getConfig().icons,Ze=(Re==null?void 0:Re.close)||"",Ke=(Re==null?void 0:Re.move)||"";return`
      <div class="`.concat(_,`label-wrp">
        <div id="`).concat(_,'move" class="').concat(fe,`no-touch-actions" data-move-layer>
          `).concat(Ke,`
        </div>
        <div id="`).concat(_,`label" data-label></div>
        <div id="`).concat(_,'preview-box" class="').concat(_,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(_,'preview" class="').concat(_,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(_,'close-layer" class="').concat(_,`btn-close" data-close-layer>
          `).concat(Ze,`
        </div>
      </div>
      <div id="`).concat(_,`inputs" data-properties></div>
    `)}},{key:"initialize",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=this.model,ke=_.config||{};this.em=ke.em,this.config=ke,this.sorter=_.sorter,this.pfx=ke.stylePrefix||"",this.ppfx=ke.pStylePrefix||"",this.propertyView=_.propertyView;var Re=this.propertyView.model;this.listenTo(fe,"destroy remove",this.remove),this.listenTo(fe,"change:values",this.updateLabel),this.listenTo(Re,"change:selectedLayer",this.updateVisibility),fe.view=this,fe.set({droppable:0,draggable:1}),this.$el.data("model",fe)}},{key:"initSorter",value:function(){var _;(_=this.sorter)===null||_===void 0||_.startSort(this.el)}},{key:"removeItem",value:function(_){_&&_.stopPropagation(),this.model.remove()}},{key:"select",value:function(){this.model.select()}},{key:"getPropertiesWrapper",value:function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl}},{key:"getPreviewEl",value:function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl}},{key:"getLabelEl",value:function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl}},{key:"updateLabel",value:function(){var _=this.model,fe=_.getLabel();if(this.getLabelEl().innerHTML=fe,_.hasPreview()){var ke=this.getPreviewEl(),Re=_.getStylePreview({number:{min:-3,max:3}}),Ze=(0,A.keys)(Re).map(function(Ke){return"".concat(Ke,":").concat(Re[Ke])}).join(";");ke.setAttribute("style",Ze)}}},{key:"updateVisibility",value:function(){var _=this.pfx,fe=this.model,ke=this.propertyView,Re=this.getPropertiesWrapper(),Ze=fe.isSelected();Re.style.display=Ze?"":"none",this.$el[Ze?"addClass":"removeClass"]("".concat(_,"active")),Ze&&Re.appendChild(ke.props.el)}},{key:"render",value:function(){var _=this.el,fe=this.pfx,ke=this.model;return _.innerHTML=this.template(),_.className="".concat(fe,"layer"),ke.hasPreview()&&(_.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this}}]),le}(d.View);function Ce(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var we=function(C){(0,w.Z)(le,C);var W=Ce(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"initialize",value:function(_){var fe=this.collection,ke=_.config||{},Re=ke.em,Ze=ke.stylePrefix||"",Ke=ke.pStylePrefix||"";this.config=ke,this.pfx=Ze,this.ppfx=Ke,this.propertyView=_.propertyView,this.className="".concat(Ze,"layers ").concat(Ke,"field"),this.listenTo(fe,"add",this.addTo),this.listenTo(fe,"reset",this.reset),this.items=[];var at=Re?Re.get("Utils"):"";this.sorter=at?new at.Sorter({container:this.el,ignoreViewChildren:1,containerSel:".".concat(Ze,"layers"),itemSel:".".concat(Ze,"layer"),pfx:ke.pStylePrefix}):"",fe.view=this,this.$el.data("model",fe),this.$el.data("collection",fe)}},{key:"addTo",value:function(_){var fe=this.collection.indexOf(_);this.addToCollection(_,null,fe)}},{key:"addToCollection",value:function(_,fe,ke){var Re=fe||null,Ze=this.propertyView,Ke=this.config,at=this.sorter,ot=this.$el,bt=new de({model:_,config:Ke,sorter:at,propertyView:Ze}),_t=bt.render().el;if(this.items.push(bt),Re)Re.appendChild(_t);else if(ke!==void 0){var Rt="before";ot.children().length===ke&&(ke--,Rt="after"),ke<0?ot.append(_t):ot.children().eq(ke)[Rt](_t)}else ot.append(_t);return _t}},{key:"reset",value:function(_,fe){this.clearItems(fe),this.render()}},{key:"remove",value:function(){this.clearItems(),d.View.prototype.remove.apply(this,arguments)}},{key:"clearItems",value:function(){this.items.forEach(function(_){return _.remove()}),this.items=[]}},{key:"render",value:function(){var _=this,fe=this.$el,ke=this.sorter,Re=document.createDocumentFragment();return fe.empty(),this.collection.forEach(function(Ze){return _.addToCollection(Ze,Re)}),fe.append(Re),fe.attr("class",this.className),ke&&(ke.plh=null),this}}]),le}(d.View);function Ae(C,W){var le=Object.keys(C);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(C);W&&(_=_.filter(function(fe){return Object.getOwnPropertyDescriptor(C,fe).enumerable})),le.push.apply(le,_)}return le}function _e(C){for(var W=1;W<arguments.length;W++){var le=arguments[W]!=null?arguments[W]:{};W%2?Ae(Object(le),!0).forEach(function(_){(0,H.Z)(C,_,le[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(le)):Ae(Object(le)).forEach(function(_){Object.defineProperty(C,_,Object.getOwnPropertyDescriptor(le,_))})}return C}function Ne(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var Je=function(C){(0,w.Z)(le,C);var W=Ne(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"events",value:function(){return _e(_e({},N.prototype.events),{},{"click [data-add-layer]":"addLayer",change:""})}},{key:"templateInput",value:function(){var _=this.pfx,fe=this.em,ke=fe==null?void 0:fe.getConfig().icons,Re=(ke==null?void 0:ke.plus)||"+";return`
      <div class="`.concat(_,"field ").concat(_,`stack">
        <button type="button" id="`).concat(_,`add" data-add-layer>
          `).concat(Re,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)}},{key:"init",value:function(){var _=this.model;this.listenTo(_.__getLayers(),"change reset",this.updateStatus)}},{key:"addLayer",value:function(){this.model.addLayer({},{at:0})}},{key:"setValue",value:function(){}},{key:"remove",value:function(){var _;(_=this.layersView)===null||_===void 0||_.remove(),N.prototype.remove.apply(this,arguments)}},{key:"clearCached",value:function(){N.prototype.clearCached.apply(this,arguments),this.layersView=null}},{key:"onRender",value:function(){var _=this.model,fe=this.el,ke=this.config,Re=_.get("properties");if(Re.length&&!this.props){var Ze=new E({config:_e(_e({},ke),{},{highlightComputed:!1,highlightChanged:!1}),collection:Re,parent:this});Ze.render();var Ke=new we({collection:_.__getLayers(),config:ke,propertyView:this});Ke.render(),fe.querySelector("[data-layers-wrapper]").appendChild(Ke.el),this.props=Ze,this.layersView=Ke}}}]),le}(N);function tt(C,W){var le=Object.keys(C);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(C);W&&(_=_.filter(function(fe){return Object.getOwnPropertyDescriptor(C,fe).enumerable})),le.push.apply(le,_)}return le}function gt(C){for(var W=1;W<arguments.length;W++){var le=arguments[W]!=null?arguments[W]:{};W%2?tt(Object(le),!0).forEach(function(_){(0,H.Z)(C,_,le[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(le)):tt(Object(le)).forEach(function(_){Object.defineProperty(C,_,Object.getOwnPropertyDescriptor(le,_))})}return C}function lt(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var Zt=function(C){(0,w.Z)(le,C);var W=lt(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"events",value:function(){return gt(gt({},c.prototype.events),{},{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})}},{key:"templateInput",value:function(){var _,fe=this.pfx,ke=this.em,Re=(_=this.em)===null||_===void 0?void 0:_.getConfig().icons,Ze=Re==null?void 0:Re.close;return`
      <div class="`.concat(fe,"field ").concat(fe,`file">
        <div id='`).concat(fe,`input-holder'>
          <div class="`).concat(fe,`btn-c">
            <button class="`).concat(fe,'btn" id="').concat(fe,`images" type="button" data-open-assets>
              `).concat(ke.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(fe,'preview-box" class="').concat(fe,`preview-file" data-preview-box>
          <div id="`).concat(fe,'preview-file" class="').concat(fe,`preview-file-cnt" data-preview></div>
          <div id="`).concat(fe,'close" class="').concat(fe,'preview-file-close" data-clear-asset>').concat(Ze,`</div>
        </div>
      </div>
    `)}},{key:"__setValueInput",value:function(_){var fe=this.model,ke=this.el,Re=fe.getDefaultValue(),Ze=ke.querySelector("[data-preview-box]"),Ke=ke.querySelector("[data-preview]");Ze.style.display=_&&_!==Re?"":"none",Ke.style.backgroundImage=_||fe.getDefaultValue()}},{key:"openAssetManager",value:function(){var _,fe=this,ke=(_=this.em)===null||_===void 0?void 0:_.get("AssetManager");ke==null||ke.open({select:function(Re,Ze){var Ke=(0,A.isString)(Re)?Re:Re.get("src");fe.model.upValue(Ke,{partial:!Ze}),Ze&&ke.close()},types:["image"],accept:"image/*"})}}]),le}(c);function Lt(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var It=function(C){(0,w.Z)(le,C);var W=Lt(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"templateInput",value:function(){return""}},{key:"init",value:function(){var _=this.model;this.listenTo(_,"change:unit",this.onValueChange),this.listenTo(_,"change:units",this.render)}},{key:"setValue",value:function(){}},{key:"onRender",value:function(){var _=this.ppfx,fe=this.model,ke=this.el;if(!this.inputInst){var Re=fe.input;Re.ppfx=_,Re.render(),ke.querySelector(".".concat(_,"fields")).appendChild(Re.el),this.input=Re.inputEl.get(0),this.inputInst=Re}}},{key:"clearCached",value:function(){c.prototype.clearCached.apply(this,arguments),this.inputInst=null}}]),le}(c),Ve=s(1511);function je(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var Fe=function(C){(0,w.Z)(le,C);var W=je(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"setValue",value:function(_){var fe;(fe=this.inputInst)===null||fe===void 0||fe.setValue(_,{fromTarget:1,def:this.model.getDefaultValue()})}},{key:"remove",value:function(){var _=this;It.prototype.remove.apply(this,arguments);var fe=this.inputInst;fe&&fe.remove&&fe.remove(),["inputInst","$color"].forEach(function(ke){return _[ke]=null})}},{key:"__handleChange",value:function(_,fe){this.model.upValue(_,{partial:fe})}},{key:"onRender",value:function(){if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var _=this.ppfx,fe=this.model,ke=this.em,Re=this.el,Ze=new Ve.Z({target:ke,model:fe,ppfx:_,onChange:this.__handleChange}).render();Re.querySelector(".".concat(_,"fields")).appendChild(Ze.el),this.input=Ze.inputEl.get(0),this.inputInst=Ze}}}]),le}(It);function We(C,W){var le=Object.keys(C);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(C);W&&(_=_.filter(function(fe){return Object.getOwnPropertyDescriptor(C,fe).enumerable})),le.push.apply(le,_)}return le}function it(C){for(var W=1;W<arguments.length;W++){var le=arguments[W]!=null?arguments[W]:{};W%2?We(Object(le),!0).forEach(function(_){(0,H.Z)(C,_,le[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(le)):We(Object(le)).forEach(function(_){Object.defineProperty(C,_,Object.getOwnPropertyDescriptor(le,_))})}return C}function mt(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var St=function(C){(0,w.Z)(le,C);var W=mt(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"defaults",value:function(){return it(it({},se.getDefaults()),{},{options:[],full:0})}},{key:"getOptions",value:function(){var _=this.attributes,fe=_.options,ke=_.list;return(fe&&fe.length?fe:ke)||[]}},{key:"getOption",value:function(_){var fe=this,ke=_||this.getValue();return this.getOptions().filter(function(Re){return fe.getOptionId(Re)===ke})[0]||null}},{key:"setOptions",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.set("options",_),this}},{key:"addOption",value:function(_){if(_){var fe=this.getOptions();this.setOptions([].concat((0,O.Z)(fe),[_]))}return this}},{key:"getOptionId",value:function(_){return(0,p.isDef)(_.id)?_.id:_.value}},{key:"getOptionLabel",value:function(_){var fe,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Re=ke.locale,Ze=Re===void 0||Re,Ke=((0,A.isString)(_)?this.getOption(_):_)||{},at=this.getOptionId(Ke),ot=Ke.label||Ke.name||at,bt=this.getId();return Ze&&((fe=this.em)===null||fe===void 0?void 0:fe.t("styleManager.options.".concat(bt,".").concat(at)))||ot}},{key:"initialize",value:function(){for(var _=arguments.length,fe=new Array(_),ke=0;ke<_;ke++)fe[ke]=arguments[ke];se.prototype.initialize.apply(this,fe),this.listenTo(this,"change:options",this.__onOptionChange)}},{key:"__onOptionChange",value:function(){this.set("list",this.get("options"))}}]),le}(se);function tn(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var Ue=function(C){(0,w.Z)(le,C);var W=tn(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"templateInput",value:function(){var _=this.pfx,fe=this.ppfx;return`
      <div class="`.concat(fe,"field ").concat(fe,`select">
        <span id="`).concat(_,`input-holder"></span>
        <div class="`).concat(fe,`sel-arrow">
          <div class="`).concat(fe,`d-s-arrow"></div>
        </div>
      </div>
    `)}},{key:"initialize",value:function(){for(var _=arguments.length,fe=new Array(_),ke=0;ke<_;ke++)fe[ke]=arguments[ke];c.prototype.initialize.apply(this,fe),this.listenTo(this.model,"change:options",this.updateOptions)}},{key:"updateOptions",value:function(){this.input=null,this.onRender()}},{key:"onRender",value:function(){var _=this.model,fe=this.pfx,ke=_.getOptions();if(!this.input){var Re=[];ke.forEach(function(Ke){var at=_.getOptionId(Ke),ot=_.getOptionLabel(at),bt=Ke.style?Ke.style.replace(/"/g,"&quot;"):"",_t=bt?'style="'.concat(bt,'"'):"",Rt=at.replace(/"/g,"&quot;");Re.push('<option value="'.concat(Rt,'" ').concat(_t,">").concat(ot,"</option>"))});var Ze=this.el.querySelector("#".concat(fe,"input-holder"));Ze.innerHTML="<select>".concat(Re.join(""),"</select>"),this.input=Ze.firstChild}}},{key:"__setValueInput",value:function(_){var fe=this.model,ke=this.getInputEl(),Re=fe.getOptions()[0],Ze=Re?fe.getOptionId(Re):"";ke&&(ke.value=_||Ze)}}]),le}(c);function et(C,W){var le=Object.keys(C);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(C);W&&(_=_.filter(function(fe){return Object.getOwnPropertyDescriptor(C,fe).enumerable})),le.push.apply(le,_)}return le}function ct(C){for(var W=1;W<arguments.length;W++){var le=arguments[W]!=null?arguments[W]:{};W%2?et(Object(le),!0).forEach(function(_){(0,H.Z)(C,_,le[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(le)):et(Object(le)).forEach(function(_){Object.defineProperty(C,_,Object.getOwnPropertyDescriptor(le,_))})}return C}function Ot(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var yt=function(C){(0,w.Z)(le,C);var W=Ot(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"defaults",value:function(){return ct(ct({},St.getDefaults()),{},{full:1})}}]),le}(St);function ht(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var Ht=function(C){(0,w.Z)(le,C);var W=ht(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"templateInput",value:function(){var _=this.ppfx;return'<div class="'.concat(_,"field ").concat(_,'field-radio"></div>')}},{key:"onRender",value:function(){var _=this.pfx,fe=this.ppfx,ke=this.model,Re="".concat(fe,"radio-item-label"),Ze=ke.getName(),Ke=ke.getOptions(),at="".concat(_,"radio ").concat(_,"radio-").concat(Ze),ot=ke.cid;if(!this.input){var bt=[];Ke.forEach(function(Rt){var Qt=Rt.className?"".concat(Rt.className," ").concat(_,"icon ").concat(Re):"",an=ke.getOptionId(Rt),gn="".concat(Ze,"-").concat(an,"-").concat(ot),Dn=Qt?"":ke.getOptionLabel(an),Mn=Rt.title?'title="'.concat(Rt.title,'"'):"",sn=ke.getValue()===an?"checked":"";bt.push(`
          <div class="`.concat(fe,`radio-item">
            <input type="radio" class="`).concat(at,'" id="').concat(gn,'" name="').concat(Ze,"-").concat(ot,'" value="').concat(an,'" ').concat(sn,`/>
            <label class="`).concat(Qt||Re,'" ').concat(Mn,' for="').concat(gn,'">').concat(Dn,`</label>
          </div>
        `))});var _t=this.el.querySelector(".".concat(fe,"field"));_t.innerHTML='<div class="'.concat(fe,'radio-items">').concat(bt.join(""),"</div>"),this.input=_t.firstChild}}},{key:"__setValueInput",value:function(_){var fe,ke=this.model,Re=_||ke.getDefaultValue(),Ze=(fe=this.getInputEl())===null||fe===void 0?void 0:fe.querySelector('[value="'.concat(Re,'"]'));Ze&&(Ze.checked=!0)}}]),le}(Ue),$t=s(7610);function cn(C,W){var le=Object.keys(C);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(C);W&&(_=_.filter(function(fe){return Object.getOwnPropertyDescriptor(C,fe).enumerable})),le.push.apply(le,_)}return le}function kn(C){for(var W=1;W<arguments.length;W++){var le=arguments[W]!=null?arguments[W]:{};W%2?cn(Object(le),!0).forEach(function(_){(0,H.Z)(C,_,le[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(le)):cn(Object(le)).forEach(function(_){Object.defineProperty(C,_,Object.getOwnPropertyDescriptor(le,_))})}return C}function en(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var Bn=function(C){(0,w.Z)(le,C);var W=en(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"defaults",value:function(){return kn(kn({},se.getDefaults()),{},{units:[],unit:"",min:"",max:"",step:1})}},{key:"getUnits",value:function(){return this.get("units")||[]}},{key:"getUnit",value:function(){return this.get("unit")}},{key:"getMin",value:function(){return this.get("min")}},{key:"getMax",value:function(){return this.get("max")}},{key:"getStep",value:function(){return this.get("step")}},{key:"upUnit",value:function(_,fe){return this._up({unit:_},fe)}},{key:"initialize",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};se.callParentInit(se,this,_,fe);var ke=this.get("unit"),Re=this.get("units");this.input=(0,p.hasWin)()&&new $t.Z({model:this}),Re.length&&!ke&&this.set("unit",Re[0],{silent:1}),se.callInit(this,_,fe)}},{key:"__getClearProps",value:function(){return kn(kn({},se.prototype.__getClearProps()),{},{unit:""})}},{key:"parseValue",value:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=se.prototype.parseValue.apply(this,arguments),Re=this.input.validateInputValue(ke.value,kn({deepCheck:1},fe)),Ze=Re.value,Ke=Re.unit;return ke.value=Ze,ke.unit=Ke,ke}},{key:"getFullValue",value:function(){var _=this.get("value"),fe=this.get("unit");return _=(0,A.isUndefined)(_)?"":_,fe=!(0,A.isUndefined)(fe)&&_?fe:"",_="".concat(_).concat(fe),se.prototype.getFullValue.apply(this,[_])}}]),le}(se);function qe(C,W){var le=Object.keys(C);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(C);W&&(_=_.filter(function(fe){return Object.getOwnPropertyDescriptor(C,fe).enumerable})),le.push.apply(le,_)}return le}function $e(C){for(var W=1;W<arguments.length;W++){var le=arguments[W]!=null?arguments[W]:{};W%2?qe(Object(le),!0).forEach(function(_){(0,H.Z)(C,_,le[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(le)):qe(Object(le)).forEach(function(_){Object.defineProperty(C,_,Object.getOwnPropertyDescriptor(le,_))})}return C}function ft(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var Et=function(C){(0,w.Z)(le,C);var W=ft(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"defaults",value:function(){return $e($e({},Bn.getDefaults()),{},{showInput:1})}}]),le}(Bn);function Bt(C,W){var le=Object.keys(C);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(C);W&&(_=_.filter(function(fe){return Object.getOwnPropertyDescriptor(C,fe).enumerable})),le.push.apply(le,_)}return le}function Dt(C){for(var W=1;W<arguments.length;W++){var le=arguments[W]!=null?arguments[W]:{};W%2?Bt(Object(le),!0).forEach(function(_){(0,H.Z)(C,_,le[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(le)):Bt(Object(le)).forEach(function(_){Object.defineProperty(C,_,Object.getOwnPropertyDescriptor(le,_))})}return C}function zt(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var Gt=function(C){(0,w.Z)(le,C);var W=zt(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"events",value:function(){return Dt(Dt({},It.prototype.events),{},{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})}},{key:"templateInput",value:function(_){var fe=this.ppfx;return`
      <div class="`.concat(fe,"field ").concat(fe,`field-range">
        <input type="range" min="`).concat(_.get("min"),'" max="').concat(_.get("max"),'" step="').concat(_.get("step"),`"/>
      </div>
    `)}},{key:"getSliderEl",value:function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider}},{key:"inputValueChanged",value:function(){this.model.upValue(this.getSliderEl().value)}},{key:"inputValueChangedSoft",value:function(){this.model.upValue(this.getSliderEl().value,{partial:!0})}},{key:"setValue",value:function(_){var fe=this.model,ke=fe.parseValue(_);this.getSliderEl().value=_===""?fe.getDefaultValue():parseFloat(ke.value),It.prototype.setValue.apply(this,arguments)}},{key:"onRender",value:function(){It.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")}},{key:"clearCached",value:function(){It.prototype.clearCached.apply(this,arguments),this.slider=null}}]),le}(It);const nn=S().Collection.extend(Q.Z).extend({extendViewApi:1,init:function(){var C=this.opts,W=this.em,le=C.module||(W==null?void 0:W.get("StyleManager"));le&&(le.__listenAdd(this,le.events.propertyAdd),le.__listenRemove(this,le.events.propertyRemove))},types:[{id:"stack",model:b,view:Je,isType:function(C){if(C&&C.type=="stack")return C}},{id:"composite",model:I,view:N,isType:function(C){if(C&&C.type=="composite")return C}},{id:"file",model:se,view:Zt,isType:function(C){if(C&&C.type=="file")return C}},{id:"color",model:se,view:Fe,isType:function(C){if(C&&C.type=="color")return C}},{id:"select",model:St,view:Ue,isType:function(C){if(C&&C.type=="select")return C}},{id:"radio",model:yt,view:Ht,isType:function(C){if(C&&C.type=="radio")return C}},{id:"slider",model:Et,view:Gt,isType:function(C){if(C&&C.type=="slider")return C}},{id:"integer",model:Bn,view:It,isType:function(C){if(C&&C.type=="integer")return C}},{id:"number",model:Bn,view:It,isType:function(C){if(C&&C.type=="number")return C}},{id:"base",model:se,view:c,isType:function(C){return C.type="base",C}}]});var dn=["extend"];function un(C,W){var le=Object.keys(C);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(C);W&&(_=_.filter(function(fe){return Object.getOwnPropertyDescriptor(C,fe).enumerable})),le.push.apply(le,_)}return le}function bn(C){for(var W=1;W<arguments.length;W++){var le=arguments[W]!=null?arguments[W]:{};W%2?un(Object(le),!0).forEach(function(_){(0,H.Z)(C,_,le[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(le)):un(Object(le)).forEach(function(_){Object.defineProperty(C,_,Object.getOwnPropertyDescriptor(le,_))})}return C}function wn(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var En=function(C){(0,w.Z)(le,C);var W=wn(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"defaults",value:function(){return{id:"",name:"",open:!0,visible:!0,buildProps:"",extendBuilded:1,properties:[]}}},{key:"initialize",value:function(_){var fe=this,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Re=ke.em;this.em=Re;var Ze=_||{},Ke=this.buildProperties(Ze.buildProps),at=this.get("name")||"",ot=[];!this.get("id")&&this.set("id",at.replace(/ /g,"_").toLowerCase()),ot=(ot=Ke?this.extendProperties(Ke):this.get("properties").map(function(_t){return(0,A.isString)(_t)?fe.buildProperties(_t)[0]:_t}).filter(Boolean)).map(function(_t){return fe.checkExtend(_t)});var bt=new nn(ot,{em:Re});bt.sector=this,this.set("properties",bt)}},{key:"getId",value:function(){return this.get("id")}},{key:"getName",value:function(){var _,fe=this.getId();return((_=this.em)===null||_===void 0?void 0:_.t("styleManager.sectors.".concat(fe)))||this.get("name")}},{key:"setName",value:function(_){return this.set("name",_)}},{key:"isOpen",value:function(){return!!this.get("open")}},{key:"setOpen",value:function(_){return this.set("open",_)}},{key:"isVisible",value:function(){return!!this.get("visible")}},{key:"getProperties",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=this.get("properties"),ke=fe.models?(0,O.Z)(fe.models):fe;return ke.filter(function(Re){var Ze=!0;return _.withValue&&(Ze=Re.hasValue({noParent:!0})),_.withParentValue&&(Ze=!Re.hasValue({noParent:!0})&&Re.hasValue()),Ze})}},{key:"getProperty",value:function(_){return this.getProperties().filter(function(fe){return fe.get("id")===_})[0]||null}},{key:"addProperty",value:function(_,fe){return this.get("properties").add(this.checkExtend(_),fe)}},{key:"extendProperties",value:function(_,fe,ke){for(var Re=_.length,Ze=fe||this.get("properties"),Ke=this.get("extendBuilded"),at=[],ot=0,bt=Ze.length;ot<bt;ot++){for(var _t=Ze[ot],Rt=0,Qt=0;Qt<Re;Qt++){var an=_[Qt];if(!(_t.property!=an.property&&_t.id!=an.property)){var gn=_t.properties;gn&&gn.length&&(_t.properties=this.extendProperties(an.properties||[],gn,1)),_[Qt]=Ke?(0,A.extend)(an,_t):_t,at[Qt]=_[Qt],Rt=1}}Rt||(_.push(_t),at.push(_t))}return ke?at.filter(function(Dn){return Dn}):_}},{key:"checkExtend",value:function(_){var fe=((0,A.isString)(_)?{extend:_}:_)||{},ke=fe.extend,Re=(0,f.Z)(fe,dn);return ke?bn(bn({},this.buildProperties([ke])[0]||{}),Re):_}},{key:"buildProperties",value:function(_){var fe,ke=_||[];if(!ke.length)return[];var Re=(fe=this.em)===null||fe===void 0?void 0:fe.get("StyleManager").builtIn;return Re==null?void 0:Re.build(ke)}}]),le}(d.Model);function An(C,W){var le=Object.keys(C);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(C);W&&(_=_.filter(function(fe){return Object.getOwnPropertyDescriptor(C,fe).enumerable})),le.push.apply(le,_)}return le}function Tn(C){for(var W=1;W<arguments.length;W++){var le=arguments[W]!=null?arguments[W]:{};W%2?An(Object(le),!0).forEach(function(_){(0,H.Z)(C,_,le[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(le)):An(Object(le)).forEach(function(_){Object.defineProperty(C,_,Object.getOwnPropertyDescriptor(le,_))})}return C}function qn(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var Ft=function(C){(0,w.Z)(le,C);var W=qn(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"initialize",value:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=fe.module,Re=fe.em;this.em=Re,this.module=ke,this.listenTo(this,"reset",this.onReset)}},{key:"model",value:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=fe.collection.em;return new En(_,Tn(Tn({},fe),{},{em:ke}))}},{key:"onReset",value:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=fe.previousModels||[];ke.forEach(function(Re){return Re.get("properties").reset()})}}]),le}(d.Collection),Mt=s(885),Rn=["extend"];function Zn(C,W){var le=Object.keys(C);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(C);W&&(_=_.filter(function(fe){return Object.getOwnPropertyDescriptor(C,fe).enumerable})),le.push.apply(le,_)}return le}function Fn(C){for(var W=1;W<arguments.length;W++){var le=arguments[W]!=null?arguments[W]:{};W%2?Zn(Object(le),!0).forEach(function(_){(0,H.Z)(C,_,le[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(le)):Zn(Object(le)).forEach(function(_){Object.defineProperty(C,_,Object.getOwnPropertyDescriptor(le,_))})}return C}var Wt,hn=function(C){return C.map(function(W){return{id:W}})},on=function(){function C(){(0,l.Z)(this,C),this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var W=", sans-serif",le=["flex-start","flex-end","center"],_=[].concat(le,["baseline","stretch"]);this.optsBgSize=hn(["auto","cover","contain"]),this.optsBgAttach=hn(["scroll","fixed","local"]),this.optsBgRepeat=hn(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=hn(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=hn(["visible","hidden","scroll","auto"]),this.optsDir=hn(["row","row-reverse","column","column-reverse"]),this.opstDisplay=hn(["block","inline","inline-block","flex","none"]),this.optsTransitFn=hn(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=hn(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=hn(["none","left","right"]),this.optsPos=hn(["static","relative","absolute","fixed"]),this.optsTextAlign=hn(["left","center","right","justify"]),this.optsFlexAlign=hn(_),this.optsJustCont=hn([].concat(le,["space-between","space-around","space-evenly"])),this.optsAlignCont=hn([].concat(le,["space-between","space-around","stretch"])),this.optsAlignSelf=hn(["auto"].concat((0,O.Z)(_))),this.optsTransitProp=hn(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=hn(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=hn(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+W,"Arial Black, Gadget"+W,"Brush Script MT"+W,"Comic Sans MS, cursive"+W,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+W,"Impact, Charcoal"+W,"Lucida Sans Unicode, Lucida Grande"+W,"Tahoma, Geneva"+W,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+W,"Verdana, Geneva"+W].map(function(fe){return{id:fe,label:fe.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return(0,v.Z)(C,[{key:"__sub",value:function(W){var le=this;return function(){return W.map(function(_){if((0,A.isString)(_))return le.get(_);var fe=_.extend,ke=(0,f.Z)(_,Rn);return Fn(Fn({},le.get(fe)),ke)})}}},{key:"init",value:function(){var W=this,le=this.fixedValues,_=this.requireFlex,fe=this.typeNumber;return this.props={},[["text-shadow-h",{type:fe,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:le},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:_},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:fe,default:"0",requiresParent:_}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black"}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:_},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:_},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(ke,Re){var Ze=Re.values,Ke=Ze["box-shadow-h"],at=Ze["box-shadow-v"],ot=Ze["box-shadow-blur"],bt=Ze["box-shadow-spread"];return"".concat(Ke," ").concat(at," ").concat(ot," ").concat(bt)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(ke,Re){var Ze=Re.values,Ke=Ze["text-shadow-h"],at=Ze["text-shadow-v"],ot=Ze["text-shadow-blur"];return"".concat(Ke," ").concat(at," ").concat(ot)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(ke,Re){var Ze=Re.values;return[Ze["background-repeat-sub"]||"",Ze["background-position-sub"]||"",Ze["background-attachment-sub"]||"",Ze["background-size-sub"]||""].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(ke,Re){var Ze=Re.property,Ke=ke[Re.name]||"",at=Ze.getLayerSeparator();return Ke?Ke.split(at).map(function(ot){var bt=Ze.__parseFn(ot);return{name:bt.name,value:bt.value}}):[]},toStyle:function(ke,Re){var Ze=Re.name;return(0,H.Z)({},Ze,"".concat(ke.name,"(").concat(ke.value,")"))},properties:[{property:"name",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(ke){var Re=ke.property;if(ke.to.value){var Ze=Fn({},Re.getOption().propValue||{}),Ke=Re.getParent().getProperty("value"),at=Ke.getUnit();(!at||(Ze==null?void 0:Ze.units.indexOf(at))<0)&&(Ze.unit=(Ze==null?void 0:Ze.units[0])||""),Ke.up(Ze)}}},{property:"value",type:this.typeNumber,default:"0",full:!0}]}]].forEach(function(ke){var Re=(0,Mt.Z)(ke,3),Ze=Re[0],Ke=Re[1],at=Re[2];W.add(Ze,Ke||{},{from:at})}),this}},{key:"add",value:function(W){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},fe=_.from||"",ke=this.props[fe||W]||{},Re=Fn(Fn({},ke),{},{property:W},le);return Re.properties&&(0,A.isFunction)(Re.properties)&&(Re.properties=Re.properties()),this.props[W]=Re,Re}},{key:"get",value:function(W){return this.props[W]||null}},{key:"build",value:function(W){var le=this,_=[];return((0,A.isString)(W)?[W]:W).forEach(function(fe){_.push(le.get(fe)||{property:fe})}),_}}]),C}(),sr=s(168),Ct=s(7539);function ln(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var De=function(C){(0,w.Z)(le,C);var W=ln(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"template",value:function(_){var fe,ke=_.pfx,Re=_.label,Ze=(fe=this.em)===null||fe===void 0?void 0:fe.getConfig().icons,Ke=(Ze==null?void 0:Ze.caret)||"",at="".concat(ke,"sector-");return(0,Ct.Z)(Wt||(Wt=(0,sr.Z)([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),at,at,Ke,at,Re)}},{key:"events",value:function(){return{"click [data-sector-title]":"toggle"}}},{key:"initialize",value:function(_){var fe=_.config||{},ke=this.model,Re=fe.em;this.config=fe,this.em=Re,this.pfx=fe.stylePrefix||"",this.listenTo(ke,"destroy remove",this.remove),this.listenTo(ke,"change:open",this.updateOpen),this.listenTo(ke,"change:visible",this.updateVisibility)}},{key:"updateOpen",value:function(){var _=this.$el,fe=this.model,ke=this.pfx,Re=fe.isOpen();_[Re?"addClass":"removeClass"]("".concat(ke,"open")),this.getPropertiesEl().style.display=Re?"":"none"}},{key:"updateVisibility",value:function(){this.el.style.display=this.model.isVisible()?"":"none"}},{key:"getPropertiesEl",value:function(){var _=this.$el,fe=this.pfx;return _.find(".".concat(fe,"properties")).get(0)}},{key:"toggle",value:function(){var _=this.model;_.setOpen(!_.get("open"))}},{key:"renderProperties",value:function(){var _=this.model,fe=this.config,ke=_.get("properties");if(ke){var Re=new E({collection:ke,config:fe});this.$el.append(Re.render().el)}}},{key:"render",value:function(){var _=this.pfx,fe=this.model,ke=this.$el,Re=fe.getId(),Ze=fe.getName();return ke.html(this.template({pfx:_,label:Ze})),this.renderProperties(),ke.attr("class","".concat(_,"sector ").concat(_,"sector__").concat(Re," no-select")),this.updateOpen(),this}}]),le}(d.View);function Ie(C){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var le,_=(0,B.Z)(C);if(W){var fe=(0,B.Z)(this).constructor;le=Reflect.construct(_,arguments,fe)}else le=_.apply(this,arguments);return(0,j.Z)(this,le)}}var vt=function(C){(0,w.Z)(le,C);var W=Ie(le);function le(){return(0,l.Z)(this,le),W.apply(this,arguments)}return(0,v.Z)(le,[{key:"initialize",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=_.module,ke=_.config,Re=ke===void 0?{}:ke,Ze=this.collection;this.pfx=Re.stylePrefix||"",this.ppfx=Re.pStylePrefix||"",this.config=Re,this.module=fe,this.listenTo(Ze,"add",this.addTo),this.listenTo(Ze,"reset",this.render)}},{key:"remove",value:function(){var _=this;d.View.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(fe){return _[fe]={}})}},{key:"addTo",value:function(_,fe){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.addToCollection(_,null,ke)}},{key:"addToCollection",value:function(_,fe){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Re=this.config,Ze=this.el,Ke=fe||Ze,at=new De({model:_,config:Re}).render().el;return(0,ee.$Q)(Ke,at,ke.at),at}},{key:"render",value:function(){var _=this,fe=this.$el,ke=this.pfx,Re=this.ppfx;fe.empty();var Ze=document.createDocumentFragment();return this.collection.each(function(Ke){return _.addToCollection(Ke,Ze)}),fe.append(Ze),fe.addClass("".concat(ke,"sectors ").concat(Re,"one-bg ").concat(Re,"two-color")),this}}]),le}(d.View);function Nt(C,W){var le=Object.keys(C);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(C);W&&(_=_.filter(function(fe){return Object.getOwnPropertyDescriptor(C,fe).enumerable})),le.push.apply(le,_)}return le}function rt(C){for(var W=1;W<arguments.length;W++){var le=arguments[W]!=null?arguments[W]:{};W%2?Nt(Object(le),!0).forEach(function(_){(0,H.Z)(C,_,le[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(le)):Nt(Object(le)).forEach(function(_){Object.defineProperty(C,_,Object.getOwnPropertyDescriptor(le,_))})}return C}var xt="style",Sn="".concat(xt,":"),fn="".concat(Sn,"sector"),jn="".concat(fn,":add"),$n="".concat(fn,":remove"),rr="".concat(fn,":update"),tr="".concat(Sn,"property"),Kn="".concat(tr,":add"),Jn="".concat(tr,":remove"),Wn="".concat(tr,":update"),Vn="".concat(Sn,"layer:select"),Nn="".concat(Sn,"target"),Gn="".concat(Sn,"custom"),he=function(C){return C||C===0};const ye=function(){var C,W,le;return rt(rt({},k.Z),{},{Sector:En,events:{all:xt,sectorAdd:jn,sectorRemove:$n,sectorUpdate:rr,propertyAdd:Kn,propertyRemove:Jn,propertyUpdate:Wn,layerSelect:Vn,target:Nn,custom:Gn},name:"StyleManager",init:function(){var _=this,fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,A.bindAll)(this,"__clearStateTarget"),this.__initConfig(x,fe);var ke=this.config,Re=ke.em,Ze=ke.pStylePrefix;Ze&&(ke.stylePrefix=Ze+ke.stylePrefix),this.builtIn=new on,C=new nn([],{em:Re,module:this}),W=new Ft([],rt(rt({},ke),{},{module:this}));var Ke=new d.Model({targets:[]});this.model=Ke,this.__listenAdd(W,jn),this.__listenRemove(W,$n),this.__listenUpdate(W,rr);var at="component:toggled component:update:classes change:state change:device frame:resized selector:type",ot=(0,A.debounce)(function(){return _.__upSel()});Ke.listenTo(Re,at,ot),Ke.listenTo(Re,"component:toggled",this.__clearStateTarget);var bt=(0,A.debounce)(function(){_.__upProps(),_.__trgCustom()});Ke.listenTo(Re,"styleable:change undo redo",bt);var _t=(0,A.debounce)(function(){return _.__trgCustom()});return Ke.listenTo(Re,"".concat(Vn," ").concat(Nn),_t),Ke.on("change:lastTarget",function(){return Re.trigger(Nn,_.getSelected())}),this},__upSel:function(){this.select(this.em.getSelectedAll())},__trgCustom:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__ctn=this.__ctn||_.container,this.em.trigger(this.events.custom,{container:this.__ctn})},__trgEv:function(_){for(var fe,ke=arguments.length,Re=new Array(ke>1?ke-1:0),Ze=1;Ze<ke;Ze++)Re[Ze-1]=arguments[Ze];(fe=this.em).trigger.apply(fe,[_].concat(Re))},__clearStateTarget:function(){var _=this,fe=this.em,ke=this.__getStateTarget();ke&&(fe==null||fe.skip(function(){fe.get("CssComposer").remove(ke),_.model.set({stateTarget:null})}))},onLoad:function(){W.add(this.config.sectors,{silent:!0})},postRender:function(){this.__appendTo()},addSector:function(_,fe){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Re=this.getSector(_);return Re||(fe.id=_,Re=W.add(fe,ke)),Re},getSector:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=W.where({id:_})[0];return!ke&&fe.warn&&this._logNoSector(_),ke||null},getSectors:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=W&&W.models?_.array?(0,O.Z)(W.models):W:[];return _.visible?fe.filter(function(ke){return ke.isVisible()}):fe},removeSector:function(_){return this.getSectors().remove(this.getSector(_,{warn:1}))},addProperty:function(_,fe){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Re=this.getSector(_,{warn:1}),Ze=null;return Re&&(Ze=Re.addProperty(fe,ke)),Ze},getProperty:function(_,fe){var ke,Re=this.getSector(_,{warn:1});return Re&&(ke=Re.get("properties").filter(function(Ze){return Ze.get("property")===fe||Ze.get("id")===fe})[0]),ke||null},getProperties:function(_){var fe=null,ke=this.getSector(_,{warn:1});return ke&&(fe=ke.get("properties")),fe},removeProperty:function(_,fe){var ke=this.getProperties(_);return ke?ke.remove(this.getProperty(_,fe)):null},select:function(_){var fe=this,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Re=this.em,Ze=(0,A.isArray)(_)?_:[_],Ke=ke.stylable,at=Re.get("CssComposer"),ot=[];Ze.filter(Boolean).forEach(function(gn){var Dn=gn;if((0,A.isString)(gn)){var Mn=at.getRule(gn)||at.setRule(gn);!(0,A.isUndefined)(Ke)&&Mn.set({stylable:Ke}),Dn=Mn}ot.push(Dn)});var bt=ke.component||ot.filter(function(gn){return(0,p.isComponent)(gn)}).reverse()[0];ot=ot.map(function(gn){return fe.getModelToStyle(gn)});var _t=Re.getState(),Rt=ot.slice().reverse()[0],Qt=this.getParentRules(Rt,{state:_t,component:bt}),an=this.__getStateTarget();return Re.skip(function(){var gn;if(_t&&Rt!=null&&(gn=Rt.getState)!==null&&gn!==void 0&&gn.call(Rt)){var Dn=Rt.getStyle();an?an.setStyle(Dn):an=at.getAll().add({selectors:"gjs-selected",style:Dn,shallow:!0,important:!0})}else an&&(at.remove(an),an=null)}),this.model.set({targets:ot,lastTarget:Rt,lastTargetParents:Qt,stateTarget:an,component:bt}),this.__upProps(ke),ot},getSelected:function(){return this.model.get("lastTarget")||null},getSelectedAll:function(){return this.model.get("targets")},getSelectedParents:function(){return this.model.get("lastTargetParents")||[]},__getStateTarget:function(){return this.model.get("stateTarget")||null},addStyleTargets:function(_,fe){this.getSelectedAll().map(function(Ze){return Ze.addStyle(_,fe)});var ke=this.getSelected(),Re=this.__getStateTarget();ke&&(Re==null||Re.setStyle(ke.getStyle(),fe))},getBuiltIn:function(_){return this.builtIn.get(_)},getBuiltInAll:function(){return this.builtIn.props},addBuiltIn:function(_,fe){return this.builtIn.add(_,fe)},getModelToStyle:function(_){var fe,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Re=this.em,Ze=ke.skipAdd;if(Re&&(fe=_)!==null&&fe!==void 0&&fe.toHTML){var Ke,at=Re.getConfig(),ot=Re.get("UndoManager"),bt=Re.get("CssComposer"),_t=Re.get("SelectorManager"),Rt=_t?_t.getConfig():{},Qt=at.devicePreviewMode?"":Re.get("state"),an=_.get("classes"),gn=an.getStyleable(),Dn=gn.length,Mn=!Rt.componentFirst||ke.useClasses,sn={noCount:1},Cn={state:Qt,addOpts:sn};if(ot.stop(),Dn&&Mn){var Hn=Re.getCurrentMedia();(Ke=bt.get(gn,Qt,Hn))||Ze||(Ke=bt.add(gn,Qt,Hn,{},sn))}else if(at.avoidInlineStyle){var Xn=_.getId();!(Ke=bt.getIdRule(Xn,Cn))&&!Ze&&(Ke=bt.setIdRule(Xn,{},Cn)),_.is("wrapper")&&Ke.set("wrapper",1,sn)}Ke&&(_=Ke),ot.start()}return _},getParentRules:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=fe.state,Re=fe.component,Ze=this.em,Ke=[];if(Ze&&_){var at=Re,ot=Ze.get("CssComposer"),bt=Ze.get("CodeManager").getGenerator("css"),_t=_.toHTML?_:_.getComponent(),Rt={combination:!0,array:!0},Qt=[],an=[],gn=[];_t?(Qt=ot.getRules("#".concat(_t.getId())),gn=(an=at?ot.getRules(at.getSelectors().getFullName(Rt)):[]).concat(Qt)):(Qt=at?ot.getRules("#".concat(at.getId())):[],an=ot.getRules(_.getSelectors().getFullName(Rt)),gn=Qt.concat(an));var Dn=gn.filter(function(Mn){return(0,A.isUndefined)(ke)?1:Mn.get("state")===ke}).sort(bt.sortRules).reverse();Ke=Dn.slice(Dn.indexOf(_)+1)}return Ke},addType:function(_,fe){C.addType(_,fe)},getType:function(_){return C.getType(_)},getTypes:function(){return C.getTypes()},createType:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=fe.model,Re=ke===void 0?{}:ke,Ze=fe.view,Ke=Ze===void 0?{}:Ze,at=this.config,ot=this.getType(_);if(ot)return new ot.view(rt({model:new ot.model(Re),config:at},Ke))},render:function(){var _=this.config,fe=this.em,ke=le&&le.el;return(le=new vt({el:ke,em:fe,config:_,collection:W,module:this})).render().el},_logNoSector:function(_){var fe=this.em;fe&&fe.logWarning("'".concat(_,"' sector not found"))},__upProps:function(_){var fe=this,ke=this.getSelected();if(ke){var Re=this.model.get("component"),Ze=this.getSelectedParents(),Ke=ke.getStyle(),at=Ze.map(function(ot){return{target:ot,style:ot.getStyle()}});W.map(function(ot){ot.getProperties().map(function(bt){fe.__upProp(bt,Ke,at,_)})}),W.forEach(function(ot){var bt=ot.getProperties();bt.forEach(function(Rt){var Qt=Rt.__checkVisibility({target:ke,component:Re,sectors:W});Rt.set("visible",Qt)});var _t=bt.some(function(Rt){return Rt.isVisible()});ot.set("visible",_t)})}},__upProp:function(_,fe,ke,Re){var Ze=this,Ke=_.getName(),at=fe[Ke],ot=he(at),bt=_.getType()==="stack",_t=_.getType()==="composite",Rt=rt(rt({},Re),{},{__up:!0}),Qt=!_t&&!bt,an=bt?_.__getLayersFromStyle(fe):[],gn=_t?_.__getPropsFromStyle(fe):{},Dn=ot?at:null,Mn=null;if(bt&&an===null||_t&&gn===null){var sn=bt?"__getLayersFromStyle":"__getPropsFromStyle",Cn=ke.filter(function(_n){return _[sn](_n.style)!==null})[0];if(Cn){Dn=Cn.style[Ke],Mn=Cn.target;var Hn=_[sn](Cn.style);bt?an=Hn:gn=Hn}}else if(!ot){Dn=null;var Xn=ke.filter(function(_n){return he(_n.style[Ke])})[0];Xn&&(Dn=Xn.style[Ke],Mn=Xn.target)}if(_.__setParentTarget(Mn),Qt&&_.__getFullValue()!==Dn&&_.upValue(Dn,Rt),bt&&_.__setLayers(an||[]),_t){var ur=_.getProperties();if(_.isDetached()){var On=_.__getPropsFromStyle(fe,{byName:!0})||{},Yn=ke.map(function(_n){return rt(rt({},_n),{},{style:_.__getPropsFromStyle(_n.style,{byName:!0})||{}})});ur.map(function(_n){return Ze.__upProp(_n,On,Yn,Re)})}else _.__setProperties(gn||{},Rt),_.getProperties().map(function(_n){return _n.__setParentTarget(Mn)})}},destroy:function(){[C,W].forEach(function(_){_.reset(),_.stopListening()}),le&&le.remove(),this.em={},this.config={},this.builtIn={},this.model={}}})}},6388:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>M,evAll:()=>b,evCustom:()=>V,evPfx:()=>h});var O=s(4942),H=s(9050),A=s(9304),p=s(2316),k=s.n(p);const d={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}]};var S=s(5671),x=s(3144),f=s(7326),l=s(9340),v=s(2963),w=s(1120),j=s(6602),B=s(885),Q=s(1163);function X(T,P){var c=Object.keys(T);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(T);P&&(ee=ee.filter(function(q){return Object.getOwnPropertyDescriptor(T,q).enumerable})),c.push.apply(c,ee)}return c}function te(T){for(var P=1;P<arguments.length;P++){var c=arguments[P]!=null?arguments[P]:{};P%2?X(Object(c),!0).forEach(function(ee){(0,O.Z)(T,ee,c[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(c)):X(Object(c)).forEach(function(ee){Object.defineProperty(T,ee,Object.getOwnPropertyDescriptor(c,ee))})}return T}function J(T){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,ee=(0,w.Z)(T);if(P){var q=(0,w.Z)(this).constructor;c=Reflect.construct(ee,arguments,q)}else c=ee.apply(this,arguments);return(0,v.Z)(this,c)}}var U=k().$,se=function(T){(0,l.Z)(c,T);var P=J(c);function c(){var ee,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,S.Z)(this,c),ee=P.call(this,q),(0,O.Z)((0,f.Z)(ee),"events",{}),(0,O.Z)((0,f.Z)(ee),"appendInput",!0);var E=q.config,R=E===void 0?{}:E,ue=(0,f.Z)(ee),be=ue.model,N=ue.eventCapture,oe=be.target,de=be.attributes.type;ee.config=R,ee.em=R.em,ee.pfx=R.stylePrefix||"",ee.ppfx=R.pStylePrefix||"",ee.target=oe;var Ce=(0,f.Z)(ee),we=Ce.ppfx;return ee.clsField="".concat(we,"field ").concat(we,"field-").concat(de),[["change:value",ee.onValueChange],["remove",ee.removeView]].forEach(function(Ae){var _e=(0,B.Z)(Ae,2),Ne=_e[0],Je=_e[1];be.off(Ne,Je),ee.listenTo(be,Ne,Je)}),be.view=(0,f.Z)(ee),ee.listenTo(be,"change:label",ee.render),ee.listenTo(be,"change:placeholder",ee.rerender),ee.events={},N.forEach(function(Ae){return ee.events[Ae]="onChange"}),ee.delegateEvents(),ee.init(),ee}return(0,x.Z)(c,[{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"templateLabel",value:function(){var ee=this.ppfx,q=this.getLabel();return'<div class="'.concat(ee,'label" title="').concat(q,'">').concat(q,"</div>")}},{key:"templateInput",value:function(){var ee=this.clsField;return'<div class="'.concat(ee,'" data-input></div>')}},{key:"getClbOpts",value:function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}}},{key:"removeView",value:function(){this.remove(),this.removed()}},{key:"init",value:function(){}},{key:"removed",value:function(){}},{key:"onRender",value:function(){}},{key:"onUpdate",value:function(){}},{key:"onEvent",value:function(){}},{key:"onChange",value:function(ee){var q=this.getInputElem();q&&!(0,H.isUndefined)(q.value)&&this.model.set("value",q.value),this.onEvent(te(te({},this.getClbOpts()),{},{event:ee}))}},{key:"getValueForTarget",value:function(){return this.model.get("value")}},{key:"setInputValue",value:function(ee){var q=this.getInputElem();q&&(q.value=ee)}},{key:"onValueChange",value:function(ee,q){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(E.fromTarget)this.setInputValue(ee.get("value")),this.postUpdate();else{var R=this.getValueForTarget();ee.setTargetValue(R,E)}}},{key:"renderLabel",value:function(){var ee=this.$el,q=this.target,E=this.getLabel(),R=this.templateLabel(q);this.createLabel&&(R=this.createLabel({label:E,component:q,trait:this})||""),ee.find("[data-label]").append(R)}},{key:"getLabel",value:function(){var ee=this.em,q=this.model.attributes,E=q.label,R=q.name;return ee.t("traitManager.traits.labels.".concat(R))||(0,Q.capitalize)(E||R).replace(/-/g," ")}},{key:"getComponent",value:function(){return this.target}},{key:"getInputEl",value:function(){if(!this.$input){var ee=this.em,q=this.model,E=q,R=q.attributes.name,ue=E.get("placeholder")||E.get("default")||"",be=E.get("type")||"text",N=E.get("min"),oe=E.get("max"),de=this.getModelValue(),Ce=U('<input type="'.concat(be,'" placeholder="').concat(ue,'">')),we=ee.t("traitManager.traits.attributes.".concat(R))||{};Ce.attr(we),(0,H.isUndefined)(de)||(E.set({value:de},{silent:!0}),Ce.prop("value",de)),N&&Ce.prop("min",N),oe&&Ce.prop("max",oe),this.$input=Ce}return this.$input.get(0)}},{key:"getInputElem",value:function(){var ee=this.input,q=this.$input;return ee||q&&q.get&&q.get(0)||this.getElInput()}},{key:"getModelValue",value:function(){var ee,q=this.model,E=this.target,R=q.get("name");if(q.get("changeProp"))ee=E.get(R);else{var ue=E.get("attributes");ee=q.get("value")||ue[R]}return(0,H.isUndefined)(ee)?"":ee}},{key:"getElInput",value:function(){return this.elInput}},{key:"renderField",value:function(){var ee=this.$el,q=this.appendInput,E=this.model,R=ee.find("[data-input]"),ue=R[R.length-1],be=E.el;be||(be=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,H.isString)(be)?(ue.innerHTML=be,this.elInput=ue.firstChild):(q?ue.appendChild(be):ue.insertBefore(be,ue.firstChild),this.elInput=be),E.el=this.elInput}},{key:"hasLabel",value:function(){var ee=this.model.attributes.label;return!this.noLabel&&ee!==!1}},{key:"rerender",value:function(){this.model.el=null,this.render()}},{key:"postUpdate",value:function(){this.onUpdate(this.getClbOpts())}},{key:"render",value:function(){var ee=this.$el,q=this.pfx,E=this.ppfx,R=this.model.attributes,ue=R.type,be=R.id,N=this.hasLabel&&this.hasLabel(),oe="".concat(q,"trait");this.$input=null;var de='<div class="'.concat(oe," ").concat(oe,"--").concat(ue,`">
      `).concat(N?'<div class="'.concat(E,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(E,"field-wrp ").concat(E,"field-wrp--").concat(ue,`" data-input>
        `).concat(this.templateInput?(0,H.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return ee.empty().append(de),N&&this.renderLabel(),this.renderField(),this.el.className="".concat(oe,"__wrp ").concat(oe,"__wrp-").concat(be),this.postUpdate(),this.onRender(this.getClbOpts()),this}}]),c}(k().View);function me(T){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,ee=(0,w.Z)(T);if(P){var q=(0,w.Z)(this).constructor;c=Reflect.construct(ee,arguments,q)}else c=ee.apply(this,arguments);return(0,v.Z)(this,c)}}se.prototype.eventCapture=["change"];var ce=function(T){(0,l.Z)(c,T);var P=me(c);function c(){var ee,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=arguments.length>1?arguments[1]:void 0;(0,S.Z)(this,c),ee=P.call(this,q),(0,O.Z)((0,f.Z)(ee),"reuseView",!0),ee.itemsView=E;var R=q.config||{},ue=R.stylePrefix||"",be=q.editor;return ee.config=R,ee.em=be,ee.pfx=ue,ee.ppfx=R.pStylePrefix||"",ee.className="".concat(ue,"traits"),ee.listenTo(be,"component:toggled",ee.updatedCollection),ee.updatedCollection(),ee}return(0,x.Z)(c,[{key:"updatedCollection",value:function(){var ee=this.ppfx,q=this.className,E=this.em.getSelected();this.el.className="".concat(q," ").concat(ee,"one-bg ").concat(ee,"two-color"),this.collection=E?E.get("traits"):[],this.render()}}]),c}(j.Z);function D(T){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,ee=(0,w.Z)(T);if(P){var q=(0,w.Z)(this).constructor;c=Reflect.construct(ee,arguments,q)}else c=ee.apply(this,arguments);return(0,v.Z)(this,c)}}ce.prototype.itemView=se;var L=k().$,I=function(T){(0,l.Z)(c,T);var P=D(c);function c(){var ee,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,S.Z)(this,c),(ee=P.call(this,q)).listenTo(ee.model,"change:options",ee.rerender),ee}return(0,x.Z)(c,[{key:"templateInput",value:function(){var ee=this.ppfx,q=this.clsField;return'<div class="'.concat(q,`">
      <div data-input></div>
      <div class="`).concat(ee,`sel-arrow">
        <div class="`).concat(ee,`d-s-arrow"></div>
      </div>
    </div>`)}},{key:"getInputEl",value:function(){if(!this.$input){var ee=this.model,q=this.em,E=ee.get("name"),R=ee.get("options")||[],ue=[],be="<select>";R.forEach(function(de){var Ce,we,Ae,_e="";(0,H.isString)(de)?(Ce=de,we=de):(Ce=de.name||de.label||de.value,we="".concat((0,H.isUndefined)(de.value)?de.id:de.value).replace(/"/g,"&quot;"),_e+=(Ae=de.style?de.style.replace(/"/g,"&quot;"):"")?' style="'.concat(Ae,'"'):"");var Ne=q.t("traitManager.traits.options.".concat(E,".").concat(we))||Ce;be+='<option value="'.concat(we,'"').concat(_e,">").concat(Ne,"</option>"),ue.push(we)}),be+="</select>",this.$input=L(be);var N=ee.getTargetValue(),oe=ue.indexOf(N)>=0?N:ee.get("default");!(0,H.isUndefined)(oe)&&this.$input.val(oe)}return this.$input.get(0)}}]),c}(se);function re(T){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,ee=(0,w.Z)(T);if(P){var q=(0,w.Z)(this).constructor;c=Reflect.construct(ee,arguments,q)}else c=ee.apply(this,arguments);return(0,v.Z)(this,c)}}var ne=function(T){(0,l.Z)(c,T);var P=re(c);function c(){var ee;(0,S.Z)(this,c);for(var q=arguments.length,E=new Array(q),R=0;R<q;R++)E[R]=arguments[R];return ee=P.call.apply(P,[this].concat(E)),(0,O.Z)((0,f.Z)(ee),"appendInput",!1),ee}return(0,x.Z)(c,[{key:"templateInput",value:function(){var ee=this.ppfx,q=this.clsField;return'<label class="'.concat(q,`" data-input>
    <i class="`).concat(ee,`chk-icon"></i>
  </label>`)}},{key:"onChange",value:function(){var ee=this.getInputElem().checked;this.model.set("value",this.getCheckedValue(ee))}},{key:"getCheckedValue",value:function(ee){var q=ee,E=this.model.attributes,R=E.valueTrue,ue=E.valueFalse;return q&&!(0,H.isUndefined)(R)&&(q=R),q||(0,H.isUndefined)(ue)||(q=ue),q}},{key:"getInputEl",value:function(){for(var ee=!this.$input,q=arguments.length,E=new Array(q),R=0;R<q;R++)E[R]=arguments[R];var ue=se.prototype.getInputEl.apply(this,E);if(ee){var be,N,oe=this.model,de=this.target,Ce=oe.attributes,we=(Ce.valueTrue,Ce.valueFalse),Ae=oe.get("name");oe.get("changeProp")?N=be=de.get(Ae):be=!(!(N=de.get("attributes")[Ae])&&N!==""),(0,H.isUndefined)(we)||N!==we||(be=!1),ue.checked=be}return ue}}]),c}(se),z=s(7610);function Y(T){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,ee=(0,w.Z)(T);if(P){var q=(0,w.Z)(this).constructor;c=Reflect.construct(ee,arguments,q)}else c=ee.apply(this,arguments);return(0,v.Z)(this,c)}}var u=function(T){(0,l.Z)(c,T);var P=Y(c);function c(){return(0,S.Z)(this,c),P.apply(this,arguments)}return(0,x.Z)(c,[{key:"getValueForTarget",value:function(){var ee=this.model,q=ee.attributes,E=q.value,R=q.unit;return(0,H.isUndefined)(E)||E===""?ee.get("default"):E+R}},{key:"getInputEl",value:function(){if(!this.input){var ee=this.ppfx,q=this.model,E=this.getModelValue(),R=new z.Z({contClass:"".concat(ee,"field-int"),type:"number",model:q,ppfx:ee});this.input=R.render(),this.$input=this.input.inputEl,this.$unit=this.input.unitEl,q.set("value",E,{fromTarget:1}),this.$input.val(E),this.input=R.el}return this.input}}]),c}(se),y=s(1511);function g(T){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,ee=(0,w.Z)(T);if(P){var q=(0,w.Z)(this).constructor;c=Reflect.construct(ee,arguments,q)}else c=ee.apply(this,arguments);return(0,v.Z)(this,c)}}var m=function(T){(0,l.Z)(c,T);var P=g(c);function c(){var ee;(0,S.Z)(this,c);for(var q=arguments.length,E=new Array(q),R=0;R<q;R++)E[R]=arguments[R];return ee=P.call.apply(P,[this].concat(E)),(0,O.Z)((0,f.Z)(ee),"templateInput",""),ee}return(0,x.Z)(c,[{key:"getInputEl",value:function(){if(!this.input){var ee=this.model,q=this.getModelValue(),E=new y.Z({model:ee,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}).render();E.setValue(q,{fromTarget:1}),this.input=E.el}return this.input}}]),c}(se);function $(T){var P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,ee=(0,w.Z)(T);if(P){var q=(0,w.Z)(this).constructor;c=Reflect.construct(ee,arguments,q)}else c=ee.apply(this,arguments);return(0,v.Z)(this,c)}}var ae=function(T){(0,l.Z)(c,T);var P=$(c);function c(){var ee;(0,S.Z)(this,c);for(var q=arguments.length,E=new Array(q),R=0;R<q;R++)E[R]=arguments[R];return ee=P.call.apply(P,[this].concat(E)),(0,O.Z)((0,f.Z)(ee),"eventCapture",["click button"]),(0,O.Z)((0,f.Z)(ee),"templateInput",""),ee}return(0,x.Z)(c,[{key:"onChange",value:function(){this.handleClick()}},{key:"handleClick",value:function(){var ee=this.model,q=this.em,E=ee.get("command");E&&((0,H.isString)(E)?q.get("Commands").run(E):E(q.get("Editor"),ee))}},{key:"renderLabel",value:function(){this.model.get("label")&&se.prototype.renderLabel.apply(this,arguments)}},{key:"getInputEl",value:function(){var ee=this.model,q=this.ppfx,E=ee.props(),R=E.labelButton,ue=E.text,be=E.full,N=R||ue,oe="".concat(q,"btn");return'<button type="button" class="'.concat(oe,"-prim").concat(be?" ".concat(oe,"--full"):"",'">').concat(N,"</button>")}}]),c}(se);function K(T,P){var c=Object.keys(T);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(T);P&&(ee=ee.filter(function(q){return Object.getOwnPropertyDescriptor(T,q).enumerable})),c.push.apply(c,ee)}return c}function F(T){for(var P=1;P<arguments.length;P++){var c=arguments[P]!=null?arguments[P]:{};P%2?K(Object(c),!0).forEach(function(ee){(0,O.Z)(T,ee,c[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(c)):K(Object(c)).forEach(function(ee){Object.defineProperty(T,ee,Object.getOwnPropertyDescriptor(c,ee))})}return T}var b="trait",h="".concat(b,":"),V="".concat(h,"custom");const M=function(){var T={text:se,number:u,select:I,checkbox:ne,color:m,button:ae};return F(F({},A.Z),{},{TraitsView:ce,events:{all:b,custom:V},name:"TraitManager",init:function(){var P=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__initConfig(d,c);var ee=this.config,q=new p.Model;this.model=q;var E=this.em,R=ee.pStylePrefix;this.types=F({},T),R&&(ee.stylePrefix="".concat(R).concat(ee.stylePrefix));var ue=(0,H.debounce)(function(){return P.__upSel()});q.listenTo(E,"component:toggled",ue);var be=(0,H.debounce)(function(){return P.__onUp()});return q.listenTo(E,"trait:update",be),this},__upSel:function(){this.select(this.em.getSelected())},__onUp:function(){this.select(this.getSelected())},select:function(P){var c=P?P.getTraits():[];this.model.set({component:P,traits:c}),this.__trgCustom()},getSelected:function(){return this.model.get("component")||null},getCurrent:function(){return this.model.get("traits")||[]},__trgCustom:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__ctn=this.__ctn||P.container,this.em.trigger(this.events.custom,{container:this.__ctn})},postRender:function(){this.__appendTo()},getTraitsViewer:function(){return this.view},addType:function(P,c){var ee=this.getType("text");this.types[P]=ee.extend(c)},getType:function(P){return this.getTypes()[P]},getTypes:function(){return this.types},render:function(){var P=this.view,c=this.getConfig(),ee=P&&P.el;return P=new ce({el:ee,collection:[],editor:c.em,config:c},this.getTypes()),this.view=P,P.el},destroy:function(){this.__destroy()}})}},8202:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>x});var O=s(2982),H=s(4942),A=s(3410),p=s.n(A),k=s(9050);function d(f,l){var v=Object.keys(f);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(f);l&&(w=w.filter(function(j){return Object.getOwnPropertyDescriptor(f,j).enumerable})),v.push.apply(v,w)}return v}function S(f){for(var l=1;l<arguments.length;l++){var v=arguments[l]!=null?arguments[l]:{};l%2?d(Object(v),!0).forEach(function(w){(0,H.Z)(f,w,v[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(v)):d(Object(v)).forEach(function(w){Object.defineProperty(f,w,Object.getOwnPropertyDescriptor(v,w))})}return f}const x=function(){var f,l,v,w,j={maximumStackLength:500,trackSelection:1},B=function(X){return X.avoidStore||X.noUndo},Q=function(X){return Object.keys(X.changedAttributes())};return{name:"UndoManager",init:function(){var X=this,te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};v=S(S({},j),te),f=v.em,this.em=f,v._disable&&(v=S(S({},v),{},{maximumStackLength:0}));var J=!0;return(l=new(p())(S({track:!0,register:[]},v))).changeUndoType("change",{condition:function(U){var se=U.get("_undo");if(se){var me=U.get("_undoexc");if((0,k.isArray)(me)&&Q(U).some(function(ce){return me.indexOf(ce)>=0}))return!1;if((0,k.isBoolean)(se)||(0,k.isArray)(se)&&Q(U).some(function(ce){return se.indexOf(ce)>=0}))return!0}return!1},on:function(U,se,me){!w&&(w=U.previousAttributes());var ce=me||se||{};if(ce.noUndo&&setTimeout(function(){w=null}),!B(ce)){var D=U.toJSON({fromUndo:J}),L={object:U,before:w,after:D};if(w=null,!(0,k.isEmpty)(D))return L}}}),l.changeUndoType("add",{on:function(U,se){var me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!B(me)&&X.isRegistered(se))return{object:se,before:void 0,after:U,options:S(S({},me),{},{fromUndo:J})}}}),l.changeUndoType("remove",{on:function(U,se){var me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!B(me)&&X.isRegistered(se))return{object:se,before:U,after:void 0,options:S(S({},me),{},{fromUndo:J})}}}),l.changeUndoType("reset",{undo:function(U,se){U.reset(se,{fromUndo:J})},redo:function(U,se,me){U.reset(me,{fromUndo:J})},on:function(U){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!B(se)&&X.isRegistered(U))return{object:U,before:se.previousModels,after:(0,O.Z)(U.models),options:S(S({},se),{},{fromUndo:J})}}}),l.on("undo redo",function(){f.trigger("change:canvasOffset"),f.getSelectedAll().map(function(U){return U.trigger("rerender:layer")})}),["undo","redo"].forEach(function(U){return l.on(U,function(){return f.trigger(U)})}),this},postLoad:function(){v.trackSelection&&f&&this.add(f.get("selected"))},getConfig:function(){return v},add:function(X){return l.register(X),this},remove:function(X){return l.unregister(X),this},removeAll:function(){return l.unregisterAll(),this},start:function(){return l.startTracking(),this},stop:function(){return l.stopTracking(),this},undo:function(){var X=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return!f.isEditing()&&l.undo(X),this},undoAll:function(){return l.undoAll(),this},redo:function(){var X=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return!f.isEditing()&&l.redo(X),this},redoAll:function(){return l.redoAll(),this},hasUndo:function(){return l.isAvailable("undo")},hasRedo:function(){return l.isAvailable("redo")},isRegistered:function(X){return!!this.getInstance().objectRegistry.isRegistered(X)},getStack:function(){return l.stack},getStackGroup:function(){var X=[],te=[];return this.getStack().forEach(function(J){var U=J.get("magicFusionIndex");te.indexOf(U)<0&&(te.push(U),X.push(J))}),X},skip:function(X){this.stop(),X(),this.start()},getGroupedStack:function(){var X={},te=this.getStack();return te.forEach(function(J,U){var se=J.get("magicFusionIndex"),me=function(ce,D){var L=ce.attributes,I=L.type,re=L.after,ne=L.before,z=L.object,Y=L.options;return{index:D,type:I,after:re,before:ne,object:z,options:Y===void 0?{}:Y}}(J,U);X[se]?X[se].push(me):X[se]=[me]}),Object.keys(X).map(function(J){var U=X[J];return{index:U[U.length-1].index,actions:U,labels:(0,k.unique)(U.reduce(function(se,me){var ce,D=(ce=me.options)===null||ce===void 0?void 0:ce.action;return D&&se.push(D),se},[]))}})},goToGroup:function(X){var te=this;if(X){var J=this.getPointer(),U=X.index-J;(0,k.times)(Math.abs(U),function(){te[U<0?"undo":"redo"](!1)})}},getPointer:function(){return this.getStack().pointer},clear:function(){return l.clear(),this},getInstance:function(){return l},destroy:function(){this.clear().removeAll(),this.em={}}}}},5610:(ge,ie,s)=>{s.d(ie,{Z:()=>x});var O=s(4942),H=s(5671),A=s(3144),p=s(9050),k=s(1163);function d(f,l){var v=Object.keys(f);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(f);l&&(w=w.filter(function(j){return Object.getOwnPropertyDescriptor(f,j).enumerable})),v.push.apply(v,w)}return v}function S(f){for(var l=1;l<arguments.length;l++){var v=arguments[l]!=null?arguments[l]:{};l%2?d(Object(v),!0).forEach(function(w){(0,O.Z)(f,w,v[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(v)):d(Object(v)).forEach(function(w){Object.defineProperty(f,w,Object.getOwnPropertyDescriptor(v,w))})}return f}var x=function(){function f(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,H.Z)(this,f),this.opts={container:null,onStart:null,onDrag:null,onEnd:null,setPosition:null,getPosition:null,guidesStatic:null,guidesTarget:null,snapOffset:5,doc:0,scale:1},(0,p.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(l),this.delta={x:0,y:0},this}return(0,A.Z)(f,[{key:"setOptions",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.opts=S(S({},this.opts),l)}},{key:"toggleDrag",value:function(l){var v=this.getDocumentEl(),w=this.getContainerEl(),j=this.getWindowEl(),B=l?"on":"off",Q={on:k.on,off:k.off};Q[B](w,"mousemove dragover",this.drag),Q[B](v,"mouseup dragend touchend",this.stop),Q[B](v,"keydown",this.keyHandle),Q[B](j,"scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var l=this.lastScroll,v=this.delta,w=this.getScrollInfo(),j={x:w.x-l.x,y:w.y-l.y};this.move(v.x+j.x,v.y+j.y),this.lastScrollDiff=j}},{key:"start",value:function(l){var v=this.opts,w=v.onStart;this.toggleDrag(1),this.startPointer=this.getPointerPos(l),this.guidesStatic=(0,p.result)(v,"guidesStatic")||[],this.guidesTarget=(0,p.result)(v,"guidesTarget")||[],(0,p.isFunction)(w)&&w(l,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff={x:0,y:0},this.globScrollDiff={x:0,y:0},this.drag(l)}},{key:"drag",value:function(l){var v=this,w=this.opts,j=this.lastScrollDiff,B=this.globScrollDiff,Q=w.onDrag,X=this.startPointer,te=this.getPointerPos(l),J={x:B.x+j.x,y:B.y+j.y};this.globScrollDiff=J;var U={x:te.x-X.x+J.x,y:te.y-X.y+J.y};this.lastScrollDiff={x:0,y:0};var se=this.lockedAxis;(se=l.shiftKey?!se&&this.detectAxisLock(U.x,U.y):null)==="x"?U.x=X.x:se==="y"&&(U.y=X.y);var me=function(ne){["x","y"].forEach(function(z){return ne[z]=ne[z]*(0,p.result)(w,"scale")}),v.delta=ne,v.move(ne.x,ne.y),(0,p.isFunction)(Q)&&Q(l,v)},ce=S({},U);if(this.currentPointer=te,this.lockedAxis=se,this.lastScroll=this.getScrollInfo(),me(U),this.guidesTarget.length){var D=this.snapGuides(ce),L=D.newDelta,I=D.trgX,re=D.trgY;(I||re)&&me(L)}l.which===0&&this.stop(l)}},{key:"snapGuides",value:function(l){var v=this,w=l,j=this.trgX,B=this.trgY;return this.guidesTarget.forEach(function(Q){Q.x&&v.trgX||Q.y&&v.trgY||(Q.active=0,v.guidesStatic.forEach(function(X){if(!(Q.y&&X.x||Q.x&&X.y)){var te=Q.y&&X.y,J=te?"y":"x",U=Q[J],se=X[J],me=l[J],ce=te?B:j;if(v.isPointIn(U,se)&&(0,p.isUndefined)(ce)){var D=me-(U-se);v.setGuideLock(Q,D)}}}))}),j=this.trgX,B=this.trgY,["x","y"].forEach(function(Q){var X=Q.toUpperCase(),te=v["trg".concat(X)];te&&!v.isPointIn(l[Q],te.lock)&&(v.setGuideLock(te,null),te=null),te&&!(0,p.isUndefined)(te.lock)&&(w[Q]=te.lock)}),{newDelta:w,trgX:this.trgX,trgY:this.trgY}}},{key:"isPointIn",value:function(l,v){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=w.offset,B=j||this.opts.snapOffset;return l>=v&&l<=v+B||l<=v&&l>=v-B}},{key:"setGuideLock",value:function(l,v){var w=(0,p.isUndefined)(l.x)?"Y":"X",j="trg".concat(w);return v!==null?(l.active=1,l.lock=v,this[j]=l):(delete l.active,delete l.lock,delete this[j]),l}},{key:"stop",value:function(l){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=this.delta,j=v.cancel,B=j?0:w.x,Q=j?0:w.y;this.toggleDrag(),this.lockedAxis=null,this.move(B,Q,1);var X=this.opts.onEnd;(0,p.isFunction)(X)&&X(l,this,{cancelled:j})}},{key:"keyHandle",value:function(l){(0,k.isEscKey)(l)&&this.stop(l,{cancel:1})}},{key:"move",value:function(l,v,w){var j=this.el,B=this.opts,Q=this.startPosition;if(Q){var X=B.setPosition,te=Q.x+l,J=Q.y+v;this.position={x:te,y:J,end:w},(0,p.isFunction)(X)&&X(this.position),j&&(j.style.left="".concat(te,"px"),j.style.top="".concat(J,"px"))}}},{key:"getContainerEl",value:function(){var l=this.opts.container;return l?[l]:this.getDocumentEl()}},{key:"getWindowEl",value:function(){return this.getContainerEl().map(function(l){var v=l.ownerDocument||l;return v.defaultView||v.parentWindow})}},{key:"getDocumentEl",value:function(l){var v=this.opts.doc;if(l=l||this.el,!this.docs){var w=[document];l&&w.push(l.ownerDocument),v&&w.push(v),this.docs=w}return this.docs}},{key:"getPointerPos",value:function(l){var v=this.opts.getPointerPosition,w=(0,k.getPointerEvent)(l);return v?v(l):{x:w.clientX,y:w.clientY}}},{key:"getStartPosition",value:function(){var l=this.el,v=this.opts.getPosition,w={x:0,y:0};return(0,p.isFunction)(v)?w=v():l&&(w={x:parseFloat(l.style.left),y:parseFloat(l.style.top)}),w}},{key:"getScrollInfo",value:function(){var l=this.opts.doc,v=l&&l.body;return{y:v?v.scrollTop:0,x:v?v.scrollLeft:0}}},{key:"detectAxisLock",value:function(l,v){var w=l,j=v,B=Math.abs(w),Q=Math.abs(j);return j>=B||j<=-B?"x":w>Q||w<-Q?"y":void 0}}]),f}()},2579:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>Ve});var O=typeof document<"u"?document:null,H=typeof window<"u"?window:null,A=Array.prototype,p=A.filter,k=A.indexOf,d=A.map,S=A.push,x=A.reverse,f=A.slice,l=A.splice,v=/^#[\w-]*$/,w=/^\.[\w-]*$/,j=/<.+>/,B=/^\w+$/;function Q(je,Fe){return Fe===void 0&&(Fe=O),w.test(je)?Fe.getElementsByClassName(je.slice(1)):B.test(je)?Fe.getElementsByTagName(je):Fe.querySelectorAll(je)}function X(je,Fe){if(Fe===void 0&&(Fe=O),je){if(je.__cash)return je;var We=je;if(re(je)){if(Fe.__cash&&(Fe=Fe[0]),!(We=v.test(je)?Fe.getElementById(je.slice(1)):j.test(je)?Zt(je):Q(je,Fe)))return}else if(I(je))return this.ready(je);(We.nodeType||We===H)&&(We=[We]),this.length=We.length;for(var it=0,mt=this.length;it<mt;it++)this[it]=We[it]}}function te(je,Fe){return new X(je,Fe)}var J=te.fn=te.prototype=X.prototype={constructor:te,__cash:!0,length:0,splice:l};J.get=function(je){return je===void 0?f.call(this):this[je<0?je+this.length:je]},J.eq=function(je){return te(this.get(je))},J.first=function(){return this.eq(0)},J.last=function(){return this.eq(-1)},J.map=function(je){return te(d.call(this,function(Fe,We){return je.call(Fe,We,Fe)}))},J.slice=function(){return te(f.apply(this,arguments))};var U=/(?:^\w|[A-Z]|\b\w)/g,se=/[\s-_]+/g;function me(je){return je.replace(U,function(Fe,We){return Fe[We?"toUpperCase":"toLowerCase"]()}).replace(se,"")}function ce(je,Fe){for(var We=0,it=je.length;We<it&&Fe.call(je[We],je[We],We,je)!==!1;We++);}te.camelCase=me,te.each=ce,J.each=function(je){return ce(this,function(Fe,We){return je.call(Fe,We,Fe)}),this},J.removeProp=function(je){return this.each(function(Fe,We){delete We[je]})},te.extend=J.extend=function(je){je===void 0&&(je=this);for(var Fe=arguments,We=Fe.length,it=We<2?0:1;it<We;it++)for(var mt in Fe[it])je[mt]=Fe[it][mt];return je};var D=1;function L(je,Fe){var We=je&&(je.matches||je.webkitMatchesSelector||je.mozMatchesSelector||je.msMatchesSelector||je.oMatchesSelector);return!!We&&We.call(je,Fe)}function I(je){return typeof je=="function"}function re(je){return typeof je=="string"}function ne(je){return!isNaN(parseFloat(je))&&isFinite(je)}te.guid=D,te.matches=L,te.isFunction=I,te.isString=re,te.isNumeric=ne;var z=Array.isArray;function Y(je){return re(je)?function(Fe,We){return L(We,je)}:je.__cash?function(Fe,We){return je.is(We)}:function(Fe,We,it){return We===it}}te.isArray=z,J.prop=function(je,Fe){if(je){if(re(je))return arguments.length<2?this[0]&&this[0][je]:this.each(function(it,mt){mt[je]=Fe});for(var We in je)this.prop(We,je[We]);return this}},J.filter=function(je){if(!je)return te();var Fe=I(je)?je:Y(je);return te(p.call(this,function(We,it){return Fe.call(We,it,We,je)}))};var u=/\S+/g;function y(je){return re(je)&&je.match(u)||[]}function g(je){return je.filter(function(Fe,We,it){return it.indexOf(Fe)===We})}function m(je,Fe,We){if(je.nodeType===1){var it=H.getComputedStyle(je,null);return Fe?We?it.getPropertyValue(Fe):it[Fe]:it}}function $(je,Fe){return parseInt(m(je,Fe),10)||0}J.hasClass=function(je){var Fe=y(je),We=!1;return Fe.length&&this.each(function(it,mt){return!(We=mt.classList.contains(Fe[0]))}),We},J.removeAttr=function(je){var Fe=y(je);return Fe.length?this.each(function(We,it){ce(Fe,function(mt){it.removeAttribute(mt)})}):this},J.attr=function(je,Fe){if(je){if(re(je)){if(arguments.length<2){if(!this[0])return;var We=this[0].getAttribute(je);return We===null?void 0:We}return Fe===null?this.removeAttr(je):this.each(function(mt,St){St.setAttribute(je,Fe)})}for(var it in je)this.attr(it,je[it]);return this}},J.toggleClass=function(je,Fe){var We=y(je),it=Fe!==void 0;return We.length?this.each(function(mt,St){ce(We,function(tn){it?Fe?St.classList.add(tn):St.classList.remove(tn):St.classList.toggle(tn)})}):this},J.addClass=function(je){return this.toggleClass(je,!0)},J.removeClass=function(je){return arguments.length?this.toggleClass(je,!1):this.attr("class","")},te.unique=g,J.add=function(je,Fe){return te(g(this.get().concat(te(je,Fe).get())))};var ae=/^--/;function K(je){return ae.test(je)}var F={},b=O&&O.createElement("div"),h=b?b.style:{},V=["webkit","moz","ms","o"];function M(je,Fe){if(Fe===void 0&&(Fe=K(je)),Fe)return je;if(!F[je]){var We=me(je),it=""+We.charAt(0).toUpperCase()+We.slice(1);ce((We+" "+V.join(it+" ")+it).split(" "),function(mt){if(mt in h)return F[je]=mt,!1})}return F[je]}te.prefixedProp=M;var T={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function P(je,Fe,We){return We===void 0&&(We=K(je)),We||T[je]||!ne(Fe)?Fe:Fe+"px"}J.css=function(je,Fe){if(re(je)){var We=K(je);return je=M(je,We),arguments.length<2?this[0]&&m(this[0],je,We):je?(Fe=P(je,Fe,We),this.each(function(mt,St){St.nodeType===1&&(We?St.style.setProperty(je,Fe):St.style[je]=Fe)})):this}for(var it in je)this.css(it,je[it]);return this};var c="__cashData",ee=/^data-(.*)/;function q(je){return je.__cashData=je.__cashData||{}}function E(je,Fe){var We=q(je);if(Fe){if(!(Fe in We)){var it=je.dataset?je.dataset[Fe]||je.dataset[me(Fe)]:te(je).attr("data-"+Fe);if(it!==void 0){try{it=JSON.parse(it)}catch{}We[Fe]=it}}return We[Fe]}return We}function R(je,Fe){return $(je,"border"+(Fe?"Left":"Top")+"Width")+$(je,"padding"+(Fe?"Left":"Top"))+$(je,"padding"+(Fe?"Right":"Bottom"))+$(je,"border"+(Fe?"Right":"Bottom")+"Width")}function ue(je,Fe){for(var We=0,it=Fe.length;We<it;We++)if(je.indexOf(Fe[We])<0)return!1;return!0}function be(je,Fe,We){ce(je[We],function(it){it[0];var mt=it[1];Fe.removeEventListener(We,mt)}),delete je[We]}te.hasData=function(je){return c in je},J.data=function(je,Fe){var We=this;if(!je)return this[0]?(ce(this[0].attributes,function(mt){var St=mt.name.match(ee);St&&We.data(St[1])}),E(this[0])):void 0;if(re(je))return Fe===void 0?this[0]&&E(this[0],je):this.each(function(mt,St){return function(tn,Ue,et){q(tn)[Ue]=et}(St,je,Fe)});for(var it in je)this.data(it,je[it]);return this},J.removeData=function(je){return this.each(function(Fe,We){return function(it,mt){mt===void 0?delete it.__cashData:delete q(it)[mt]}(We,je)})},ce(["Width","Height"],function(je){J["inner"+je]=function(){if(this[0])return this[0]===H?H["inner"+je]:this[0]["client"+je]}}),ce(["width","height"],function(je,Fe){J[je]=function(We){return this[0]?arguments.length?(We=parseInt(We,10),this.each(function(it,mt){if(mt.nodeType===1){var St=m(mt,"boxSizing");mt.style[je]=P(je,We+(St==="border-box"?R(mt,!Fe):0))}})):this[0]===H?this[0][me("outer-"+je)]:this[0].getBoundingClientRect()[je]-R(this[0],!Fe):We===void 0?void 0:this}}),ce(["Width","Height"],function(je,Fe){J["outer"+je]=function(We){if(this[0])return this[0]===H?H["outer"+je]:this[0]["offset"+je]+(We?$(this[0],"margin"+(Fe?"Top":"Left"))+$(this[0],"margin"+(Fe?"Bottom":"Right")):0)}});function N(je){return je.__cashEvents=je.__cashEvents||{}}function oe(je){var Fe=je.split(".");return[Fe[0],Fe.slice(1).sort()]}function de(je,Fe,We,it){var mt=N(je);if(Fe){var St=mt[Fe];if(!St)return;it&&(it.guid=it.guid||D++),mt[Fe]=St.filter(function(tn){var Ue=tn[0],et=tn[1];if(it&&et.guid!==it.guid||!ue(Ue,We))return!0;je.removeEventListener(Fe,et)})}else if(We&&We.length)for(Fe in mt)de(je,Fe,We,it);else for(Fe in mt)be(mt,je,Fe)}J.off=function(je,Fe){var We=this;return je===void 0?this.each(function(it,mt){return de(mt)}):ce(y(je),function(it){var mt=oe(it),St=mt[0],tn=mt[1];We.each(function(Ue,et){return de(et,St,tn,Fe)})}),this},J.on=function(je,Fe,We,it){var mt=this;if(!re(je)){for(var St in je)this.on(St,Fe,je[St]);return this}return I(Fe)&&(We=Fe,Fe=!1),ce(y(je),function(tn){var Ue=oe(tn),et=Ue[0],ct=Ue[1];mt.each(function(Ot,yt){var ht=function Ht($t){if(!$t.namespace||ue(ct,$t.namespace.split("."))){var cn=yt;if(Fe){for(var kn=$t.target;!L(kn,Fe);)if(kn===yt||!(kn=kn.parentNode))return;cn=kn}$t.namespace=$t.namespace||"";var en=We.call(cn,$t,$t.data);it&&de(yt,et,ct,Ht),en===!1&&($t.preventDefault(),$t.stopPropagation())}};ht.guid=We.guid=We.guid||D++,function(Ht,$t,cn,kn){kn.guid=kn.guid||D++;var en=N(Ht);en[$t]=en[$t]||[],en[$t].push([cn,kn]),Ht.addEventListener($t,kn)}(yt,et,ct,ht)})}),this},J.one=function(je,Fe,We){return this.on(je,Fe,We,!0)},J.ready=function(je){var Fe=function(){return je(te)};return O.readyState!=="loading"?setTimeout(Fe):O.addEventListener("DOMContentLoaded",Fe),this},J.trigger=function(je,Fe){var We=je;if(re(je)){var it=oe(je),mt=it[0],St=it[1];(We=O.createEvent("HTMLEvents")).initEvent(mt,!0,!0),We.namespace=St.join(".")}return We.data=Fe,this.each(function(tn,Ue){Ue.dispatchEvent(We)})};var Ce=/select-one/i,we=/select-multiple/i;function Ae(je){var Fe=je.type;return Ce.test(Fe)?function(We){return We.selectedIndex<0?null:We.options[We.selectedIndex].value}(je):we.test(Fe)?function(We){var it=[];return ce(We.options,function(mt){!mt.selected||mt.disabled||mt.parentNode.disabled||it.push(mt.value)}),it}(je):je.value}var _e=/%20/g,Ne=/file|reset|submit|button|image/i,Je=/radio|checkbox/i;J.serialize=function(){var je="";return this.each(function(Fe,We){ce(We.elements||[We],function(it){if(!it.disabled&&it.name&&it.tagName!=="FIELDSET"&&!Ne.test(it.type)&&(!Je.test(it.type)||it.checked)){var mt=Ae(it);mt!==void 0&&ce(z(mt)?mt:[mt],function(St){je+=function(tn,Ue){return"&"+encodeURIComponent(tn)+"="+encodeURIComponent(Ue).replace(_e,"+")}(it.name,St)})}})}),je.substr(1)},J.val=function(je){return je===void 0?this[0]&&Ae(this[0]):this.each(function(Fe,We){var it=we.test(We.type),mt=je===null?it?[]:"":je;it&&z(mt)?ce(We.options,function(St){St.selected=mt.indexOf(St.value)>=0}):We.value=mt})},J.clone=function(){return this.map(function(je,Fe){return Fe.cloneNode(!0)})},J.detach=function(){return this.each(function(je,Fe){Fe.parentNode&&Fe.parentNode.removeChild(Fe)})};var tt,gt=/^\s*<(\w+)[^>]*>/,lt=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/;function Zt(je){if(function(){if(!tt){var it=O.createElement("table"),mt=O.createElement("tr");tt={"*":O.createElement("div"),tr:O.createElement("tbody"),td:mt,th:mt,thead:it,tbody:it,tfoot:it}}}(),!re(je))return[];if(lt.test(je))return[O.createElement(RegExp.$1)];var Fe=gt.test(je)&&RegExp.$1,We=tt[Fe]||tt["*"];return We.innerHTML=je,te(We.childNodes).detach().get()}function Lt(je,Fe,We){if(Fe!==void 0){var it=re(Fe);!it&&Fe.length?ce(Fe,function(mt){return Lt(je,mt,We)}):ce(je,it?function(mt){mt.insertAdjacentHTML(We?"afterbegin":"beforeend",Fe)}:function(mt,St){return function(tn,Ue,et){et?tn.insertBefore(Ue,tn.childNodes[0]):tn.appendChild(Ue)}(mt,St?Fe.cloneNode(!0):Fe,We)})}}te.parseHTML=Zt,J.empty=function(){var je=this[0];if(je)for(;je.firstChild;)je.removeChild(je.firstChild);return this},J.append=function(){var je=this;return ce(arguments,function(Fe){Lt(je,Fe)}),this},J.appendTo=function(je){return Lt(te(je),this),this},J.html=function(je){if(je===void 0)return this[0]&&this[0].innerHTML;var Fe=je.nodeType?je[0].outerHTML:je;return this.each(function(We,it){it.innerHTML=Fe})},J.insertAfter=function(je){var Fe=this;return te(je).each(function(We,it){var mt=it.parentNode;Fe.each(function(St,tn){mt.insertBefore(We?tn.cloneNode(!0):tn,it.nextSibling)})}),this},J.after=function(){var je=this;return ce(x.apply(arguments),function(Fe){x.apply(te(Fe).slice()).insertAfter(je)}),this},J.insertBefore=function(je){var Fe=this;return te(je).each(function(We,it){var mt=it.parentNode;Fe.each(function(St,tn){mt.insertBefore(We?tn.cloneNode(!0):tn,it)})}),this},J.before=function(){var je=this;return ce(arguments,function(Fe){te(Fe).insertBefore(je)}),this},J.prepend=function(){var je=this;return ce(arguments,function(Fe){Lt(je,Fe,!0)}),this},J.prependTo=function(je){return Lt(te(je),x.apply(this.slice()),!0),this},J.remove=function(){return this.detach().off()},J.replaceWith=function(je){var Fe=this;return this.each(function(We,it){var mt=it.parentNode;if(mt){var St=We?te(je).clone():te(je);if(!St[0])return Fe.remove(),!1;mt.replaceChild(St[0],it),te(St[0]).after(St.slice(1))}})},J.replaceAll=function(je){return te(je).replaceWith(this),this},J.text=function(je){return je===void 0?this[0]?this[0].textContent:"":this.each(function(Fe,We){We.textContent=je})};var It=O&&O.documentElement;J.offset=function(){var je=this[0];if(je){var Fe=je.getBoundingClientRect();return{top:Fe.top+H.pageYOffset-It.clientTop,left:Fe.left+H.pageXOffset-It.clientLeft}}},J.offsetParent=function(){return te(this[0]&&this[0].offsetParent)},J.position=function(){var je=this[0];if(je)return{left:je.offsetLeft,top:je.offsetTop}},J.children=function(je){var Fe=[];return this.each(function(We,it){S.apply(Fe,it.children)}),Fe=te(g(Fe)),je?Fe.filter(function(We,it){return L(it,je)}):Fe},J.contents=function(){var je=[];return this.each(function(Fe,We){S.apply(je,We.tagName==="IFRAME"?[We.contentDocument]:We.childNodes)}),te(je.length&&g(je))},J.find=function(je){for(var Fe=[],We=0,it=this.length;We<it;We++){var mt=Q(je,this[We]);mt.length&&S.apply(Fe,mt)}return te(Fe.length&&g(Fe))},J.has=function(je){var Fe=re(je)?function(We,it){return!!Q(je,it).length}:function(We,it){return it.contains(je)};return this.filter(Fe)},J.is=function(je){if(!je||!this[0])return!1;var Fe=Y(je),We=!1;return this.each(function(it,mt){return!(We=Fe(it,mt,je))}),We},J.next=function(){return te(this[0]&&this[0].nextElementSibling)},J.not=function(je){if(!je||!this[0])return this;var Fe=Y(je);return this.filter(function(We,it){return!Fe(We,it,je)})},J.parent=function(){var je=[];return this.each(function(Fe,We){We&&We.parentNode&&je.push(We.parentNode)}),te(g(je))},J.index=function(je){var Fe=je?te(je)[0]:this[0],We=je?this:te(Fe).parent().children();return k.call(We,Fe)},J.closest=function(je){return je&&this[0]?this.is(je)?this.filter(je):this.parent().closest(je):te()},J.parents=function(je){var Fe,We=[];return this.each(function(it,mt){for(Fe=mt;Fe&&Fe.parentNode&&Fe!==O.body.parentNode;)Fe=Fe.parentNode,(!je||je&&L(Fe,je))&&We.push(Fe)}),te(g(We))},J.prev=function(){return te(this[0]&&this[0].previousElementSibling)},J.siblings=function(){var je=this[0];return this.parent().children().filter(function(Fe,We){return We!==je})};const Ve=te},9283:(ge,ie,s)=>{s.d(ie,{$Q:()=>l,FW:()=>S,G1:()=>A,L_:()=>k,Mx:()=>p,R3:()=>v,SJ:()=>Q,dL:()=>f,pn:()=>x,rw:()=>j,sE:()=>d,t3:()=>B,ut:()=>w});var O=s(9050),H="attributes",A="transitionend oTransitionEnd transitionend webkitTransitionEnd",p=function(X){return X&&X.nodeType===9},k=function(X){var te=X&&X.parentNode;te&&te.removeChild(X)},d=function(X,te){return X.querySelectorAll(te)},S=function(X){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return X&&X.setAttribute&&(0,O.each)(te,function(J,U){return X.setAttribute(U,J)})},x=function(X){return X&&!!(X.offsetWidth||X.offsetHeight||X.getClientRects().length)},f=function(X,te){X.parentNode.replaceChild(te,X)},l=function(X,te,J){var U=X.childNodes,se=U.length,me=(0,O.isUndefined)(J)?se:J;(0,O.isString)(te)&&(X.insertAdjacentHTML("beforeEnd",te),te=X.lastChild,X.removeChild(te)),me>=se?X.appendChild(te):X.insertBefore(te,U[me])},v=function(X,te){return l(X,te)},w=function(X){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",J=arguments.length>2?arguments[2]:void 0,U=document.createElement(X);return te&&(0,O.each)(te,function(se,me){return U.setAttribute(me,se)}),J&&((0,O.isString)(J)?U.innerHTML=J:U.appendChild(J)),U},j=function(X){return document.createTextNode(X)},B=function(X,te){var J,U=X.type;try{J=new window[te](U,X)}catch{(J=document.createEvent(te)).initEvent(U,!0,!0)}return J._parentEvent=X,U.indexOf("key")===0&&(J.keyCodeVal=X.keyCode,["keyCode","which"].forEach(function(se){Object.defineProperty(J,se,{get:function(){return this.keyCodeVal}})})),J},Q=function(X){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],J=Array.isArray(te)?te:[te];J.forEach(function(U){var se=U.tag||"div",me=U[H]||{},ce=document.createElement(se);(0,O.each)(me,function(D,L){ce.setAttribute(L,D)}),X.appendChild(ce)})}},9661:(ge,ie,s)=>{s.d(ie,{Z:()=>Q});var O=s(1002);const H=function(X){var te=this.constructor;return this.then(function(J){return te.resolve(X()).then(function(){return J})},function(J){return te.resolve(X()).then(function(){return te.reject(J)})})},A=function(X){return new this(function(te,J){if(!X||X.length===void 0)return J(new TypeError((0,O.Z)(X)+" "+X+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var U=Array.prototype.slice.call(X);if(U.length===0)return te([]);var se=U.length;function me(D,L){if(L&&((0,O.Z)(L)==="object"||typeof L=="function")){var I=L.then;if(typeof I=="function")return void I.call(L,function(re){me(D,re)},function(re){U[D]={status:"rejected",reason:re},--se==0&&te(U)})}U[D]={status:"fulfilled",value:L},--se==0&&te(U)}for(var ce=0;ce<U.length;ce++)me(ce,U[ce])})};var p=setTimeout;function k(X){return Boolean(X&&X.length!==void 0)}function d(){}function S(X){if(!(this instanceof S))throw new TypeError("Promises must be constructed via new");if(typeof X!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],j(X,this)}function x(X,te){for(;X._state===3;)X=X._value;X._state!==0?(X._handled=!0,S._immediateFn(function(){var J=X._state===1?te.onFulfilled:te.onRejected;if(J!==null){var U;try{U=J(X._value)}catch(se){return void l(te.promise,se)}f(te.promise,U)}else(X._state===1?f:l)(te.promise,X._value)})):X._deferreds.push(te)}function f(X,te){try{if(te===X)throw new TypeError("A promise cannot be resolved with itself.");if(te&&((0,O.Z)(te)==="object"||typeof te=="function")){var J=te.then;if(te instanceof S)return X._state=3,X._value=te,void v(X);if(typeof J=="function")return void j((U=J,se=te,function(){U.apply(se,arguments)}),X)}X._state=1,X._value=te,v(X)}catch(me){l(X,me)}var U,se}function l(X,te){X._state=2,X._value=te,v(X)}function v(X){X._state===2&&X._deferreds.length===0&&S._immediateFn(function(){X._handled||S._unhandledRejectionFn(X._value)});for(var te=0,J=X._deferreds.length;te<J;te++)x(X,X._deferreds[te]);X._deferreds=null}function w(X,te,J){this.onFulfilled=typeof X=="function"?X:null,this.onRejected=typeof te=="function"?te:null,this.promise=J}function j(X,te){var J=!1;try{X(function(U){J||(J=!0,f(te,U))},function(U){J||(J=!0,l(te,U))})}catch(U){if(J)return;J=!0,l(te,U)}}S.prototype.catch=function(X){return this.then(null,X)},S.prototype.then=function(X,te){var J=new this.constructor(d);return x(this,new w(X,te,J)),J},S.prototype.finally=H,S.all=function(X){return new S(function(te,J){if(!k(X))return J(new TypeError("Promise.all accepts an array"));var U=Array.prototype.slice.call(X);if(U.length===0)return te([]);var se=U.length;function me(D,L){try{if(L&&((0,O.Z)(L)==="object"||typeof L=="function")){var I=L.then;if(typeof I=="function")return void I.call(L,function(re){me(D,re)},J)}U[D]=L,--se==0&&te(U)}catch(re){J(re)}}for(var ce=0;ce<U.length;ce++)me(ce,U[ce])})},S.allSettled=A,S.resolve=function(X){return X&&(0,O.Z)(X)==="object"&&X.constructor===S?X:new S(function(te){te(X)})},S.reject=function(X){return new S(function(te,J){J(X)})},S.race=function(X){return new S(function(te,J){if(!k(X))return J(new TypeError("Promise.race accepts an array"));for(var U=0,se=X.length;U<se;U++)S.resolve(X[U]).then(te,J)})},S._immediateFn=typeof setImmediate=="function"&&function(X){setImmediate(X)}||function(X){p(X,0)},S._unhandledRejectionFn=function(X){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",X)};const B=S;(0,s(1163).hasWin)()&&(window.Promise=window.Promise||B);const Q=typeof fetch=="function"?fetch.bind():function(X,te){return new B(function(J,U){var se=new XMLHttpRequest;for(var me in se.open(te.method||"get",X),se.withCredentials=te.credentials=="include",te.headers||{})se.setRequestHeader(me,te.headers[me]);se.onload=function(ce){return J({status:se.status,statusText:se.statusText,text:function(){return B.resolve(se.responseText)}})},se.onerror=U,se.upload&&te.onProgress&&(se.upload.onprogress=te.onProgress),te.body?se.send(te.body):se.send()})}},6718:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>ce});var O=s(4942),H=s(5610),A=s(2316),p=s.n(A),k=s(9050),d=s(1163);function S(D,L){var I=Object.keys(D);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(D);L&&(re=re.filter(function(ne){return Object.getOwnPropertyDescriptor(D,ne).enumerable})),I.push.apply(I,re)}return I}function x(D){for(var L=1;L<arguments.length;L++){var I=arguments[L]!=null?arguments[L]:{};L%2?S(Object(I),!0).forEach(function(re){(0,O.Z)(D,re,I[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(I)):S(Object(I)).forEach(function(re){Object.defineProperty(D,re,Object.getOwnPropertyDescriptor(I,re))})}return D}var f=p().$,l=function(){};const v=p().View.extend({initialize:function(D){this.opt=D||{},(0,k.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var L=D||{};this.elT=0,this.elL=0,this.borderOffset=L.borderOffset||10;var I=L.container;this.el=typeof I=="string"?document.querySelector(I):I,this.$el=f(this.el),this.containerSel=L.containerSel||"div",this.itemSel=L.itemSel||"div",this.draggable=L.draggable||!0,this.nested=L.nested||0,this.pfx=L.pfx||"",this.ppfx=L.ppfx||"",this.freezeClass=L.freezeClass||this.pfx+"freezed",this.onStart=L.onStart||l,this.onEndMove=L.onEndMove||"",this.customTarget=L.customTarget,this.onEnd=L.onEnd,this.direction=L.direction||"v",this.onMoveClb=L.onMove||"",this.relative=L.relative||0,this.ignoreViewChildren=L.ignoreViewChildren||0,this.ignoreModels=L.ignoreModels||0,this.plh=L.placer||"",this.wmargin=L.wmargin||0,this.offTop=L.offsetTop||0,this.offLeft=L.offsetLeft||0,this.document=L.document||document,this.$document=f(this.document),this.dropContent=null,this.em=L.em||null,this.dragHelper=null,this.canvasRelative=L.canvasRelative||0,this.selectOnEnd=!L.avoidSelectOnEnd,this.scale=L.scale,this.activeTextModel=null,this.em&&this.em.on&&(this.em.on("change:canvasOffset",this.updateOffset),this.updateOffset())},getScale:function(){return(0,k.result)(this,scale)||1},getContainerEl:function(D){if(D&&(this.el=D),!this.el){var L=this.opt.container;this.el=typeof L=="string"?document.querySelector(L):L,this.$el=f(this.el)}return this.el},getDocuments:function(D){var L=this.em,I=D?D.ownerDocument:L&&L.get("Canvas").getBody().ownerDocument,re=[document];return I&&re.push(I),re},updateOffset:function(){var D,L=((D=this.em)===null||D===void 0?void 0:D.get("canvasOffset"))||{};this.offTop=L.top,this.offLeft=L.left},setDropContent:function(D){this.dropModel=null,this.dropContent=D},updateTextViewCursorPosition:function(D){var L=this.em;if(L){var I=L.get("Canvas"),re=I.getDocument(),ne=null;if(re.caretRangeFromPoint){var z=(0,d.getPointerEvent)(D);ne=re.caretRangeFromPoint(z.clientX,z.clientY)}else D.rangeParent&&(ne=re.createRange()).setStart(D.rangeParent,D.rangeOffset);var Y=I.getWindow().getSelection();I.getFrameEl().focus(),Y.removeAllRanges(),ne&&Y.addRange(ne),this.setContentEditable(this.activeTextModel,!0)}},setContentEditable:function(D,L){if(D){var I=D.getEl();I.contentEditable!=L&&(I.contentEditable=L)}},toggleSortCursor:function(D){var L=this.em,I=L&&L.get("Canvas");I&&(D?I.startAutoscroll():I.stopAutoscroll())},setDragHelper:function(D,L){for(var I=L||"",re=D.cloneNode(1),ne=D.getBoundingClientRect(),z=getComputedStyle(D),Y="",u=0;u<z.length;u++){var y=z[u];Y+="".concat(y,":").concat(z.getPropertyValue(y),";")}document.body.appendChild(re),re.className+=" ".concat(this.pfx,"bdrag"),re.setAttribute("style",Y),this.dragHelper=re,re.style.width="".concat(ne.width,"px"),re.style.height="".concat(ne.height,"px"),I&&this.moveDragHelper(I),this.em&&f(this.em.get("Canvas").getBody().ownerDocument).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper),f(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},moveDragHelper:function(D){var L=D.target.ownerDocument;if(this.dragHelper&&L){var I=D.pageY,re=D.pageX,ne=0,z=0,Y=(L.defaultView||L.parentWindow).frameElement,u=this.dragHelper.style;if(Y){var y=Y.getBoundingClientRect();ne=y.top+document.documentElement.scrollTop,z=y.left+document.documentElement.scrollLeft,I=D.clientY,re=D.clientX}u.top=I+ne+"px",u.left=re+z+"px"}},matches:function(D,L,I){return d.matches.call(D,L)},closest:function(D,L){if(D){for(var I=D.parentNode;I&&I.nodeType===1;){if(this.matches(I,L))return I;I=I.parentNode}return null}},offset:function(D){var L=D.getBoundingClientRect();return{top:L.top+document.body.scrollTop,left:L.left+document.body.scrollLeft}},createPlaceholder:function(){var D=this.pfx,L=document.createElement("div"),I=document.createElement("div");return L.className=D+"placeholder",L.style.display="none",L.style["pointer-events"]="none",I.className=D+"placeholder-int",L.appendChild(I),L},startSort:function(D){var L,I,re,ne,z,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=this.em,y=this.itemSel,g=this.containerSel,m=this.plh,$=this.getContainerEl(Y.container),ae=this.getDocuments(D);this.dropModel=null,this.target=null,this.prevTarget=null,this.moved=0,D&&!this.matches(D,"".concat(y,", ").concat(g))&&(D=this.closest(D,y)),this.sourceEl=D,m||(this.plh=this.createPlaceholder(),$.appendChild(this.plh)),D&&((z=this.getSourceModel(D))&&z.set&&z.set("status","freezed"),this.srcModel=z),(0,d.on)($,"mousemove dragover",this.onMove),(0,d.on)(ae,"mouseup dragend touchend",this.endMove),(0,d.on)(ae,"keydown",this.rollback),this.onStart({sorter:this,target:z,parent:z&&((L=(I=z).parent)===null||L===void 0?void 0:L.call(I)),index:z&&((re=(ne=z).index)===null||re===void 0?void 0:re.call(ne))}),u==null||u.clearSelection(),this.toggleSortCursor(1),u==null||u.trigger("sorter:drag:start",D,z)},getTargetModel:function(D){var L=D||this.target;return f(L).data("model")},getSourceModel:function(D){var L=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},re=I.target,ne=I.avoidChildren,z=ne===void 0?1:ne,Y=this.em,u=this.sourceEl,y=D||u,g=this.dropModel,m=this.dropContent,$=function(b){return b&&re&&b.opt&&b.opt.avoidChildren&&L.isTextableActive(b,re)};if(m&&Y){if($(g)&&(g=null),!g){var ae=Y.get("DomComponents").getComponents(),K={avoidChildren:z,avoidStore:1,avoidUpdateStyle:1},F=ae.add(m,x(x({},K),{},{temporary:1}));if(g=(g=ae.remove(F,K))instanceof Array?g[0]:g,this.dropModel=g,$(g))return this.getSourceModel(y,{target:re,avoidChildren:0})}return g}return y&&f(y).data("model")},selectTargetModel:function(D,L){if(!(D instanceof p().Collection||L&&L===D)){var I=this.targetModel;I&&I!==this.srcModel&&I.set("status",""),D&&D.set&&(D.set("status","selected-parent"),this.targetModel=D)}},onMove:function(D){var L=D,I=this.em,re=this.onMoveClb,ne=this.plh,z=this.customTarget;this.moved=1;var Y=ne.style.display;Y&&Y!=="none"||(ne.style.display="block");var u=this.offset(this.el);this.elT=this.wmargin?Math.abs(u.top):u.top,this.elL=this.wmargin?Math.abs(u.left):u.left;var y=D.pageY-this.elT+this.el.scrollTop,g=D.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&I){var m=I.get("Canvas").getMouseRelativeCanvas(D,{noScroll:1});g=m.x,y=m.y}this.rX=g,this.rY=y,this.eventMove=D;var $=this.getSourceModel(),ae=z?z({sorter:this,event:D}):D.target,K=this.dimsFromTarget(ae,g,y),F=this.target,b=F&&this.getTargetModel(F);if(this.selectTargetModel(b,$),b||(ne.style.display="none"),F){this.lastDims=K;var h=this.findPosition(K,g,y);this.isTextableActive($,b)?(this.activeTextModel=b,ne.style.display="none",this.lastPos=h,this.updateTextViewCursorPosition(L)):(this.disableTextable(),this.activeTextModel=null,this.lastPos&&this.lastPos.index==h.index&&this.lastPos.method==h.method||(this.movePlaceholder(this.plh,K,h,this.prevTargetDim),this.$plh||(this.$plh=f(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=h)),(0,k.isFunction)(re)&&re({event:D,target:$,parent:b,index:h.index+(h.method=="after"?1:0)}),I&&I.trigger("sorter:drag",{target:F,targetModel:b,sourceModel:$,dims:K,pos:h,x:g,y})}},isTextableActive:function(D,L){return D&&D.get&&D.get("textable")&&L&&L.is("text")},disableTextable:function(){var D=this.activeTextModel;D&&D.getView().disableEditing(),this.setContentEditable(D,!1)},isInFlow:function(D,L){if(!D)return!1;L=L||document.body;var I=D;return I.offsetHeight,!!this.styleInFlow(I,L)},styleInFlow:function(D,L){if(!(0,d.isTextNode)(D)){var I=D.style||{},re=f(D),ne=L&&f(L);if(!I.overflow||I.overflow==="visible"){var z=re.css("float");if(!(z&&z!=="none"||ne&&ne.css("display")=="flex"&&ne.css("flex-direction")!=="column")){switch(I.position){case"static":case"relative":case"":break;default:return}switch(D.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(re.css("display")){case"block":case"list-item":case"table":case"flex":return!0}}}}},validTarget:function(D,L){var I=this.getTargetModel(D),re=this.getSourceModel(L,{target:I}),ne={valid:!0,src:L=re&&re.view&&re.view.el,srcModel:re,trg:D=I&&I.view&&I.view.el,trgModel:I};if(!L||!D)return ne.valid=!1,ne;var z=re.get("draggable");if((0,k.isFunction)(z)){var Y=z(re,I);ne.dragInfo=Y,ne.draggable=Y,z=Y}else z=z instanceof Array?z.join(", "):z,ne.dragInfo=z,z=(0,k.isString)(z)?this.matches(D,z):z,ne.draggable=z;var u=I.get("droppable");if((0,k.isFunction)(u)){var y=u(re,I);ne.droppable=y,ne.dropInfo=y,u=y}else u=(u=u instanceof p().Collection?1:u)instanceof Array?u.join(", "):u,ne.dropInfo=u,u=(0,k.isString)(u)?this.matches(L,u):u,u=z&&this.isTextableActive(re,I)?1:u,ne.droppable=u;return u&&z||(ne.valid=!1),ne},dimsFromTarget:function(D,L,I){var re=this.em,ne=[];if(!D||(this.matches(D,"".concat(this.itemSel,", ").concat(this.containerSel))||(D=this.closest(D,this.itemSel)),this.draggable instanceof Array&&(D=this.closest(D,this.draggable.join(","))),!D))return ne;if(this.prevTarget&&this.prevTarget!=D&&(this.prevTarget=null),!this.prevTarget){this.targetP=this.closest(D,this.containerSel);var z=this.validTarget(D);if(re&&re.trigger("sorter:drag:validation",z),!z.valid&&this.targetP)return this.dimsFromTarget(this.targetP,L,I);this.prevTarget=D,this.prevTargetDim=this.getDim(D),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(D)}if(this.prevTarget==D&&(ne=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,L,I)||!this.nested&&!this.cacheDims.length){var Y=this.targetP;Y&&this.validTarget(Y).valid&&(ne=this.cacheDimsP,this.target=Y)}return this.lastPos=null,ne},getTargetFromEl:function(D){var L,I=D,re=this.targetPrev,ne=this.em,z=this.containerSel,Y=this.itemSel;if(this.matches(I,"".concat(Y,", ").concat(z))||(I=this.closest(I,Y)),this.draggable instanceof Array&&(I=this.closest(I,this.draggable.join(","))),re&&re!=I&&(this.targetPrev=""),!this.targetPrev){L=this.closest(I,z);var u=this.validTarget(I);if(ne&&ne.trigger("sorter:drag:validation",u),!u.valid&&L)return this.getTargetFromEl(L);this.targetPrev=I}return this.nearElBorders(I)&&(L=this.closest(I,z))&&this.validTarget(L).valid&&(I=L),I},nearElBorders:function(D){var L=D.getBoundingClientRect(),I=D.ownerDocument.body,re=this.getCurrentPos(),ne=re.x,z=re.y,Y=L.top+I.scrollTop,u=L.left+I.scrollLeft,y=L.width,g=L.height;if(z<Y+10||z>Y+g-10||ne<u+10||ne>u+y-10)return 1},getCurrentPos:function(){var D=this.eventMove;return{x:D.pageX||0,y:D.pageY||0}},getDim:function(D){var L,I,re,ne,z=this.em,Y=this.canvasRelative,u=z&&z.get("Canvas"),y=u?u.getElementOffsets(D):{};if(Y&&z){var g=u.getElementPos(D,{noScroll:1});L=g.top,I=g.left,re=g.height,ne=g.width}else{var m=this.offset(D);L=this.relative?D.offsetTop:m.top-(this.wmargin?-1:1)*this.elT,I=this.relative?D.offsetLeft:m.left-(this.wmargin?-1:1)*this.elL,re=D.offsetHeight,ne=D.offsetWidth}return{top:L,left:I,height:re,width:ne,offsets:y}},getChildrenDim:function(D){var L=this,I=[];if(!D)return I;var re=this.getTargetModel(D);if(re&&re.view&&!this.ignoreViewChildren){var ne=re.getCurrentView?re.getCurrentView():re.view;D=ne.getChildrenContainer()}return(0,k.each)(D.children,function(z,Y){var u=(0,d.getModel)(z,f),y=u&&u.index?u.index():Y;if((0,d.isTextNode)(z)||L.matches(z,L.itemSel)){var g=L.getDim(z),m=L.direction;m=m=="v"||m!="h"&&L.isInFlow(z,D),g.dir=m,g.el=z,g.indexEl=y,I.push(g)}}),I},nearBorders:function(D,L,I){var re=0,ne=this.borderOffset,z=L||0,Y=I||0,u=D.top,y=D.left,g=D.height,m=D.width;return(u+ne>Y||Y>u+g-ne||y+ne>z||z>y+m-ne)&&(re=1),!!re},findPosition:function(D,L,I){for(var re={index:0,indexEl:0,method:"before"},ne=0,z=0,Y=0,u=0,y=0,g=0,m=0,$=0,ae=D.length;$<ae;$++){var K=m=D[$],F=K.top,b=K.left,h=K.height,V=K.width;if(g=F+h,u=b+V/2,y=F+h/2,!(z&&b>z||Y&&y>=Y||ne&&b+V<ne))if(re.index=$,re.indexEl=m.indexEl,m.dir){if(I<y){re.method="before";break}re.method="after"}else I<g&&(Y=g),L<u?(z=u,re.method="before"):(ne=u,re.method="after")}return re},movePlaceholder:function(D,L,I,re){var ne=0,z=0,Y=0,u=0,y="px",g=I.method,m=L[I.index];if(D.classList.remove("vertical"),D.classList.add("horizontal"),m){var $=m.top,ae=m.left,K=m.height,F=m.width;m.dir?(Y=F+y,u="auto",ne=g=="before"?$-0:$+K-0,z=ae):(Y="auto",u=K-0+y,ne=$+0,z=g=="before"?ae-0:ae+F-0,D.classList.remove("horizontal"),D.classList.add("vertical"))}else{if(!this.nested)return void(D.style.display="none");if(re){var b=re.offsets||{},h=b.paddingTop||5,V=b.paddingLeft||5;ne=re.top+h,z=re.left+V,Y=parseInt(re.width)-2*V+y,u="auto"}}D.style.top=ne+y,D.style.left=z+y,Y&&(D.style.width=Y),u&&(D.style.height=u)},parents:function(D){return D?[D].concat(this.parents(D.parent())):[]},sort:function(D,L){var I=D.parents.filter(function(ne){return L.parents.includes(ne)})[0];if(!I)return L.model.index()-D.model.index();var re=D.parents[D.parents.indexOf(I)-1];return L.parents[L.parents.indexOf(I)-1].index()-re.index()},endMove:function(D){var L,I=this,re=this.sourceEl,ne=[],z=this.getDocuments(),Y=this.getContainerEl(),u=this.onEndMove,y=this.onEnd,g=this.target,m=this.lastPos;if((0,d.off)(Y,"mousemove dragover",this.onMove),(0,d.off)(z,"mouseup dragend touchend",this.endMove),(0,d.off)(z,"keydown",this.rollback),this.plh.style.display="none",re&&(L=this.getSourceModel(),this.selectOnEnd&&L&&L.set&&(L.set("status",""),L.set("status","selected"))),this.moved&&g){var $=this.toMove,ae=(0,k.isArray)($)?$:$?[$]:[re],K=0;ae.length===1?ne.push(this.move(g,ae[0],m)):ae.map(function(h){return{model:h,parents:I.parents(h)}}).sort(this.sort).forEach(function(h){var V=h.model,M=V.index(),T=V.parent().getEl();ne.push(I.move(g,V,x(x({},m),{},{indexEl:m.indexEl-K,index:m.index-K}))),T===g&&M<=m.index&&K++})}this.plh&&(this.plh.style.display="none");var F=this.dragHelper;if(F&&(F.parentNode.removeChild(F),this.dragHelper=null),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),this.toMove=null,this.eventMove=0,this.dropModel=null,(0,k.isFunction)(u)){var b={target:L,parent:L&&L.parent(),index:L&&L.index()};ne.length?ne.forEach(function(h){return u(h,I,b)}):u(null,this,x(x({},b),{},{cancelled:1}))}(0,k.isFunction)(y)&&y({sorter:this})},move:function(D,L,I){var re,ne,z=this.em,Y=this.dropContent,u=(0,d.getElement)(L),y=[],g=I.method==="after"?I.indexEl+1:I.indexEl,m=this.validTarget(D,u),$=f(D).data("collection"),ae=m.trgModel,K=m.srcModel,F=m.draggable,b=ae instanceof p().Collection?1:m.droppable;if($&&b&&F){var h={at:g,action:"move-component"},V=this.isTextableActive(K,ae);if(Y)re=(0,k.isFunction)(Y)?Y():Y,h.avoidUpdateStyle=!0,h.action="add-component";else{var M=K.collection.indexOf(K),T=$===K.collection;(!T||!(M===g||M===g-1)||V)&&(re=K.collection.remove(K,{temporary:!0}),T&&g>M&&(h.at=g-1))}re&&(V?(delete h.at,ne=ae.getView().insertComponent(re,h)):ne=$.add(re,h)),this.dropContent=null,this.prevTarget=null}else if(z){var P=m.dropInfo||(ae==null?void 0:ae.get("droppable")),c=m.dragInfo||(K==null?void 0:K.get("draggable"));!$&&y.push("Target collection not found"),!b&&P&&y.push("Target is not droppable, accepts [".concat(P,"]")),!F&&c&&y.push("Component not draggable, acceptable by [".concat(c,"]")),z.logWarning("Invalid target position",{errors:y,model:K,context:"sorter",target:ae})}return z==null||z.trigger("sorter:drag:end",{targetCollection:$,modelToDrop:re,warns:y,validResult:m,dst:D,srcEl:u}),ne},rollback:function(D){(0,d.off)(this.getDocuments(),"keydown",this.rollback),(D.which||D.keyCode)==27&&(this.moved=0,this.endMove())}});var w=s(5671),j=s(3144);function B(D,L){var I=Object.keys(D);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(D);L&&(re=re.filter(function(ne){return Object.getOwnPropertyDescriptor(D,ne).enumerable})),I.push.apply(I,re)}return I}function Q(D){for(var L=1;L<arguments.length;L++){var I=arguments[L]!=null?arguments[L]:{};L%2?B(Object(I),!0).forEach(function(re){(0,O.Z)(D,re,I[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(I)):B(Object(I)).forEach(function(re){Object.defineProperty(D,re,Object.getOwnPropertyDescriptor(I,re))})}return D}var X={mousePosFetcher:null,updateTarget:null,ratioDefault:0,posFetcher:null,onStart:null,onMove:null,onEnd:null,onUpdateContainer:function(){},step:1,minDim:10,maxDim:"",unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:1,silentFrames:0,avoidContainerUpdate:0,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:1,tc:1,tr:1,cl:1,cr:1,bl:1,bc:1,br:1},te=function(D,L){var I=L||window,re=D.getBoundingClientRect();return{left:re.left+I.pageXOffset,top:re.top+I.pageYOffset,width:re.width,height:re.height}},J=function(){function D(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,w.Z)(this,D),this.setOptions(L),(0,k.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop"),this}return(0,j.Z)(D,[{key:"getConfig",value:function(){return this.opts}},{key:"setOptions",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.opts=(0,k.defaults)(L,X),this.setup()}},{key:"setup",value:function(){var L=this.opts,I=L.prefix||"",re=L.appendTo||document.body,ne=this.container;for(ne||((ne=document.createElement("div")).className="".concat(I,"resizer-c"),re.appendChild(ne),this.container=ne);ne.firstChild;)ne.removeChild(ne.firstChild);var z={};for(var Y in["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(y){return z[y]=L[y]?function(g,m){var $=m.prefix||"",ae=document.createElement("i");return ae.className=$+"resizer-h "+$+"resizer-h-"+g,ae.setAttribute("data-"+$+"handler",g),ae}(y,L):""}),z){var u=z[Y];u&&ne.appendChild(u)}this.handlers=z,this.mousePosFetcher=L.mousePosFetcher,this.updateTarget=L.updateTarget,this.posFetcher=L.posFetcher,this.onStart=L.onStart,this.onMove=L.onMove,this.onEnd=L.onEnd,this.onUpdateContainer=L.onUpdateContainer}},{key:"toggleFrames",value:function(L){if(this.opts.silentFrames){var I=document.querySelectorAll("iframe");(0,k.each)(I,function(re){return re.style.pointerEvents=L?"none":""})}}},{key:"isHandler",value:function(L){var I=this.handlers;for(var re in I)if(I[re]===L)return!0;return!1}},{key:"getFocusedEl",value:function(){return this.el}},{key:"getParentEl",value:function(){return this.el.parentElement}},{key:"getDocumentEl",value:function(){return[this.el.ownerDocument,document]}},{key:"getElementPos",value:function(L){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},re=this.posFetcher||"";return re?re(L,I):te(L)}},{key:"focus",value:function(L){L&&L===this.el||(this.el=L,this.updateContainer({forceShow:1}),(0,d.on)(this.getDocumentEl(),"mousedown",this.handleMouseDown))}},{key:"blur",value:function(){this.container.style.display="none",this.el&&((0,d.off)(this.getDocumentEl(),"mousedown",this.handleMouseDown),this.el=null)}},{key:"start",value:function(L){if(L.button===0){L.preventDefault(),L.stopPropagation();var I=this.el,re=this.getParentEl(),ne=this.opts||{},z="data-"+ne.prefix+"handler",Y=this.getElementPos(I,{target:"el"}),u=this.getElementPos(re);this.handlerAttr=L.target.getAttribute(z),this.clickedHandler=L.target,this.startDim={t:Y.top,l:Y.left,w:Y.width,h:Y.height},this.rectDim={t:Y.top,l:Y.left,w:Y.width,h:Y.height},this.startPos={x:L.clientX,y:L.clientY},this.parentDim={t:u.top,l:u.left,w:u.width,h:u.height};var y=this.getDocumentEl();this.docs=y,(0,d.on)(y,"mousemove",this.move),(0,d.on)(y,"keydown",this.handleKeyDown),(0,d.on)(y,"mouseup",this.stop),(0,k.isFunction)(this.onStart)&&this.onStart(L,{docs:y,config:ne,el:I,resizer:this}),this.toggleFrames(1),this.move(L)}}},{key:"move",value:function(L){var I=this.onMove,re=this.mousePosFetcher,ne=re?re(L):{x:L.clientX,y:L.clientY};this.currentPos=ne,this.delta={x:ne.x-this.startPos.x,y:ne.y-this.startPos.y},this.keys={shift:L.shiftKey,ctrl:L.ctrlKey,alt:L.altKey},this.rectDim=this.calc(this),this.updateRect(0),I&&I(L),L.which===0&&this.stop(L)}},{key:"stop",value:function(L){var I=this.opts,re=this.docs||this.getDocumentEl();(0,d.off)(re,"mousemove",this.move),(0,d.off)(re,"keydown",this.handleKeyDown),(0,d.off)(re,"mouseup",this.stop),this.updateRect(1),this.toggleFrames(),(0,k.isFunction)(this.onEnd)&&this.onEnd(L,{docs:re,config:I}),delete this.docs}},{key:"updateRect",value:function(L){var I=this.el,re=this.opts,ne=this.rectDim,z=this.updateTarget,Y=this.getSelectedHandler(),u=re.unitHeight,y=re.unitWidth,g=re.keyWidth,m=re.keyHeight;if((0,k.isFunction)(z))z(I,ne,{store:L,selectedHandler:Y,resizer:this,config:re});else{var $=I.style;$[g]=ne.w+y,$[m]=ne.h+u}this.updateContainer()}},{key:"updateContainer",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=this.opts,re=this.container,ne=this.el,z=re.style;!I.avoidContainerUpdate&&ne&&L.forceShow&&(z.display="block"),this.onUpdateContainer({el:re,resizer:this,opts:Q(Q({},I),L)})}},{key:"getSelectedHandler",value:function(){var L=this.handlers;if(this.selectedHandler){for(var I in L)if(L[I]===this.selectedHandler)return I}}},{key:"handleKeyDown",value:function(L){L.keyCode===27&&(this.rectDim=this.startDim,this.stop(L))}},{key:"handleMouseDown",value:function(L){var I=L.target;this.isHandler(I)?(this.selectedHandler=I,this.start(L)):I!==this.el&&(this.selectedHandler="",this.blur())}},{key:"calc",value:function(L){var I,re=this.opts||{},ne=re.step,z=this.startDim,Y=re.minDim,u=re.maxDim,y=L.delta.x,g=L.delta.y,m=this.parentDim.w,$=this.parentDim.h,ae=this.opts.unitWidth,K=this.opts.unitHeight,F=ae==="%"?z.w/100*m:z.w,b=K==="%"?z.h/100*$:z.h,h={t:0,l:0,w:F,h:b};if(L){var V=L.handlerAttr;~V.indexOf("r")&&(I=ae==="%"?(0,d.normalizeFloat)((F+y*ne)/m*100,.01):(0,d.normalizeFloat)(F+y*ne,ne),I=Math.max(Y,I),u&&(I=Math.min(u,I)),h.w=I),~V.indexOf("b")&&(I=K==="%"?(0,d.normalizeFloat)((b+g*ne)/$*100,.01):(0,d.normalizeFloat)(b+g*ne,ne),I=Math.max(Y,I),u&&(I=Math.min(u,I)),h.h=I),~V.indexOf("l")&&(I=ae==="%"?(0,d.normalizeFloat)((F-y*ne)/m*100,.01):(0,d.normalizeFloat)(F-y*ne,ne),I=Math.max(Y,I),u&&(I=Math.min(u,I)),h.w=I),~V.indexOf("t")&&(I=K==="%"?(0,d.normalizeFloat)((b-g*ne)/$*100,.01):(0,d.normalizeFloat)(b-g*ne,ne),I=Math.max(Y,I),u&&(I=Math.min(u,I)),h.h=I);var M=re.ratioDefault?!L.keys.shift:L.keys.shift;if(V.indexOf("c")<0&&M){var T=z.w/z.h;h.w/h.h>T?h.h=Math.round(h.w/T):h.w=Math.round(h.h*T)}return~V.indexOf("l")&&(h.l=z.w-h.w),~V.indexOf("t")&&(h.t=z.h-h.h),h}}}]),D}();const U={init:function(D){return new J(D)}};function se(D,L){var I=Object.keys(D);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(D);L&&(re=re.filter(function(ne){return Object.getOwnPropertyDescriptor(D,ne).enumerable})),I.push.apply(I,re)}return I}function me(D){for(var L=1;L<arguments.length;L++){var I=arguments[L]!=null?arguments[L]:{};L%2?se(Object(I),!0).forEach(function(re){(0,O.Z)(D,re,I[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(I)):se(Object(I)).forEach(function(re){Object.defineProperty(D,re,Object.getOwnPropertyDescriptor(I,re))})}return D}const ce=function(){return{name:"Utils",init:function(){return this},destroy:function(){},Sorter:v,Resizer:U,Dragger:H.Z,helpers:me({},d)}}},7904:(ge,ie,s)=>{s.d(ie,{Z:()=>p});var O,H=s(2316),A=(O=function(k,d){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,x){S.__proto__=x}||function(S,x){for(var f in x)Object.prototype.hasOwnProperty.call(x,f)&&(S[f]=x[f])},O(k,d)},function(k,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function S(){this.constructor=k}O(k,d),k.prototype=d===null?Object.create(d):(S.prototype=d.prototype,new S)});const p=function(k){function d(S,x,f){var l=k.call(this,x,f)||this;return l._module=S,l}return A(d,k),Object.defineProperty(d.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),d}(s.n(H)().Model)},6434:(ge,ie,s)=>{s.d(ie,{O:()=>f,Z:()=>x});var O,H=s(9050),A=s(1163),p=(O=function(l,v){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,j){w.__proto__=j}||function(w,j){for(var B in j)Object.prototype.hasOwnProperty.call(j,B)&&(w[B]=j[B])},O(l,v)},function(l,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function w(){this.constructor=l}O(l,v),l.prototype=v===null?Object.create(v):(w.prototype=v.prototype,new w)}),k=function(){return k=Object.assign||function(l){for(var v,w=1,j=arguments.length;w<j;w++)for(var B in v=arguments[w])Object.prototype.hasOwnProperty.call(v,B)&&(l[B]=v[B]);return l},k.apply(this,arguments)},d=function(l,v,w){if(w||arguments.length===2)for(var j,B=0,Q=v.length;B<Q;B++)!j&&B in v||(j||(j=Array.prototype.slice.call(v,0,B)),j[B]=v[B]);return l.concat(j||Array.prototype.slice.call(v))},S=function(){function l(v,w,j){this.cls=[],this.isPrivate=!1,this._em=v,this._name=w;var B=this.name.charAt(0).toLowerCase()+this.name.slice(1),Q=(0,H.isUndefined)(v.config[B])?v.config[this.name]:v.config[B],X=Q===!0?{}:Q||{};X.pStylePrefix=v.config.pStylePrefix||"",(0,H.isUndefined)(Q)||Q||(X._disable=1),X.em=v,this._config=(0,A.deepMerge)(j||{},X)}return Object.defineProperty(l.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),l.prototype.init=function(v){},l.prototype.postLoad=function(v){},Object.defineProperty(l.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),l.prototype.getConfig=function(v){return v?this.config[v]:this.config},l.prototype.__logWarn=function(v,w){w===void 0&&(w={}),this.em.logWarning("[".concat(this.name,"]: ").concat(v),w)},l.prototype.__appendTo=function(){var v=this.getConfig().appendTo;if(v){var w=(0,H.isElement)(v)?v:document.querySelector(v);if(!w)return this.__logWarn('"appendTo" element not found');w.appendChild(this.render())}},l}();const x=S;var f=function(l){function v(w,j,B,Q){var X=l.call(this,w,j)||this;return X.cls=[],X.private=!1,X.all=B,X.events=Q,X.__initListen(),X}return p(v,l),v.prototype.postLoad=function(w){},v.prototype.render=function(){},v.prototype.getProjectData=function(w){var j={},B=this.storageKey;return B&&(j[B]=w||this.getAll()),j},v.prototype.loadProjectData=function(w,j){w===void 0&&(w={}),j===void 0&&(j={});var B=j.all,Q=j.onResult,X=j.reset,te=this.storageKey,J={action:"load"},U=B||this.all,se=w[te];if(typeof se=="string")try{se=JSON.parse(se)}catch{this.__logWarn("Data parsing failed",{input:se})}return X&&se&&U.reset(void 0,J),Q?se&&Q(se,J):se&&(0,A.isDef)(se.length)&&U.reset(se,J),se},v.prototype.clear=function(w){w===void 0&&(w={});var j=this.all;return j&&j.reset(void 0,w),this},v.prototype.getAll=function(){return d([],this.all.models,!0)},v.prototype.getAllMap=function(){return this.getAll().reduce(function(w,j){return w[j.get(j.idAttribute)]=j,w},{})},v.prototype.__initListen=function(w){w===void 0&&(w={});var j=this,B=j.all,Q=j.em,X=j.events;B&&Q&&B.on("add",function(te,J,U){return Q.trigger(X.add,te,U)}).on("remove",function(te,J,U){return Q.trigger(X.remove,te,U)}).on("change",function(te,J){return Q.trigger(X.update,te,te.changedAttributes(),J)}).on("all",this.__catchAllEvent,this),this.cls=[B].concat(w.collections||[]),(w.propagate||[]).forEach(function(te){var J=te.entity,U=te.event;J.on("all",function(se,me,ce,D){var L=k({event:se},D||ce);[Q,B].map(function(I){return I.trigger(U,me,L)})})})},v.prototype.__remove=function(w,j){var B=this;j===void 0&&(j={});var Q=this.em,X=isString(w)?this.get(w):w,te=function(){return X&&B.all.remove(X,j),X};return!j.silent&&(Q==null||Q.trigger(this.events.removeBefore,X,te,j)),!j.abort&&te()},v.prototype.__catchAllEvent=function(w,j,B,Q){var X=this.em,te=this.events,J=Q||B;X&&te.all&&X.trigger(te.all,{event:w,model:j,options:J}),this.__onAllEvent()},v.prototype.__appendTo=function(){var w=this.config.appendTo;if(w){var j=(0,H.isElement)(w)?w:document.querySelector(w);if(!j)return this.__logWarn('"appendTo" element not found');j.appendChild(this.render())}},v.prototype.__onAllEvent=function(){},v.prototype._createId=function(w){w===void 0&&(w=16);var j,B=this.getAll().length+w,Q=this.getAllMap();do j=(0,A.createId)(B);while(Q[j]);return j},v.prototype.__listenAdd=function(w,j){var B=this;w.on("add",function(Q,X,te){return B.em.trigger(j,Q,te)})},v.prototype.__listenRemove=function(w,j){var B=this;w.on("remove",function(Q,X,te){return B.em.trigger(j,Q,te)})},v.prototype.__listenUpdate=function(w,j){var B=this;w.on("change",function(Q,X){return B.em.trigger(j,Q,Q.changedAttributes(),X)})},v.prototype.__destroy=function(){var w;this.cls.forEach(function(j){j.stopListening(),j.reset()}),(w=this.view)===null||w===void 0||w.remove(),this.view=void 0},v}(S)},6840:(ge,ie,s)=>{s.d(ie,{Z:()=>l});var O,H=s(9050),A=s(2316),p=s(1163),k=(O=function(v,w){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,B){j.__proto__=B}||function(j,B){for(var Q in B)Object.prototype.hasOwnProperty.call(B,Q)&&(j[Q]=B[Q])},O(v,w)},function(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function j(){this.constructor=v}O(v,w),v.prototype=w===null?Object.create(w):(j.prototype=w.prototype,new j)}),d=function(){return d=Object.assign||function(v){for(var w,j=1,B=arguments.length;j<B;j++)for(var Q in w=arguments[j])Object.prototype.hasOwnProperty.call(w,Q)&&(v[Q]=w[Q]);return v},d.apply(this,arguments)},S=function(v,w,j){if(j||arguments.length===2)for(var B,Q=0,X=w.length;Q<X;Q++)!B&&Q in w||(B||(B=Array.prototype.slice.call(w,0,Q)),B[Q]=w[Q]);return v.concat(B||Array.prototype.slice.call(w))},x="__aw",f="__ah";const l=function(v){function w(j,B){var Q=v.call(this,j)||this,X=B.em,te=Q.attributes,J=te.styles,U=te.component,se=X.get("DomComponents"),me=se.getConfig(),ce=X.get("CssComposer").getAll(),D={};Q.em=X;var L={em:X,config:me,frame:Q,idMap:D};if(!(0,p.isComponent)(U)){var I=(0,p.isObject)(U)?U:{components:U};!I.type&&(I.type="wrapper");var re=se.getType("wrapper").model;Q.set("component",new re(I,L))}return J?(0,p.isObject)(J)||(Object.keys(D).length&&Array.isArray(J)&&J.forEach(function(ne){var z=ne.selectors;if(z&&z.length==1){var Y=z[0],u=Y.name&&Y.type===2&&Y;if(u&&D[u.name])u.name=D[u.name];else if((0,H.isString)(Y)&&Y[0]==="#"){var y=Y.substring(1);y&&D[y]&&(z[0]="#".concat(D[y]))}}}),ce.add(J),Q.set("styles",ce)):Q.set("styles",ce),!j.width&&Q.set(x,1),!j.height&&Q.set(f,1),Q}return k(w,v),w.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",_undo:!0,_undoexc:["changesCount"]}},w.prototype.onRemove=function(){this.getComponent().remove({root:1})},w.prototype.changesUp=function(j){j===void 0&&(j={}),j.temporary||j.noCount||j.avoidStore||this.set("changesCount",this.get("changesCount")+1)},w.prototype.getComponent=function(){return this.get("component")},w.prototype.getStyles=function(){return this.get("styles")},w.prototype.disable=function(){this.trigger("disable")},w.prototype.remove=function(){this.view=void 0;var j=this.collection;return j&&j.remove(this)},w.prototype.getHead=function(){var j=this.get("head")||[];return S([],j,!0)},w.prototype.setHead=function(j){return this.set("head",S([],j,!0))},w.prototype.addHeadItem=function(j){var B=this.getHead();B.push(j),this.setHead(B)},w.prototype.getHeadByAttr=function(j,B,Q){return this.getHead().filter(function(X){return X.attributes&&X.attributes[j]==B&&(!Q||Q===X.tag)})[0]},w.prototype.removeHeadByAttr=function(j,B,Q){var X=this.getHead(),te=this.getHeadByAttr(j,B,Q),J=X.indexOf(te);J>=0&&(X.splice(J,1),this.setHead(X))},w.prototype.addLink=function(j){var B="link";!this.getHeadByAttr("href",j,B)&&this.addHeadItem({tag:B,attributes:{href:j,rel:"stylesheet"}})},w.prototype.removeLink=function(j){this.removeHeadByAttr("href",j,"link")},w.prototype.addScript=function(j){var B="script";!this.getHeadByAttr("src",j,B)&&this.addHeadItem({tag:B,attributes:{src:j}})},w.prototype.removeScript=function(j){this.removeHeadByAttr("src",j,"script")},w.prototype.getPage=function(){var j;return(j=this.collection)===null||j===void 0?void 0:j.page},w.prototype._emitUpdated=function(j){j===void 0&&(j={}),this.em.trigger("frame:updated",d({frame:this},j))},w.prototype.toJSON=function(j){j===void 0&&(j={});var B=A.Model.prototype.toJSON.call(this,j),Q=(0,H.result)(this,"defaults");return j.fromUndo&&delete B.component,delete B.styles,delete B.changesCount,B.__aw&&delete B.width,B.__ah&&delete B.height,(0,H.forEach)(B,function(X,te){te.indexOf("_")===0&&delete B[te]}),(0,H.forEach)(Q,function(X,te){B[te]===X&&delete B[te]}),(0,H.forEach)(["attributes","head"],function(X){(0,H.isEmpty)(B[X])&&delete B[X]}),B},w}(A.Model)},3560:(ge,ie,s)=>{s.d(ie,{Z:()=>k});var O,H=s(9050),A=s(2316),p=(O=function(d,S){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,f){x.__proto__=f}||function(x,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(x[l]=f[l])},O(d,S)},function(d,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function x(){this.constructor=d}O(d,S),d.prototype=S===null?Object.create(S):(x.prototype=S.prototype,new x)});const k=function(d){function S(x){var f=d.call(this,x)||this;return f.loadedItems=0,f.itemsToLoad=0,(0,H.bindAll)(f,"itemLoaded"),f.on("reset",f.onReset),f.on("remove",f.onRemove),f}return p(S,d),S.prototype.onReset=function(x,f){var l=this;((f==null?void 0:f.previousModels)||[]).map(function(v){return l.onRemove(v)})},S.prototype.onRemove=function(x){x==null||x.onRemove()},S.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},S.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},S.prototype.listenToLoadItems=function(x){var f=this;this.forEach(function(l){return l[x?"on":"off"]("loaded",f.itemLoaded)})},S}(A.Collection)},5819:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>Gn});var O=s(9050);const H={stylePrefix:"comp-",components:[],draggableComponents:1,processor:0,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]};var A=s(7375),p=s(8431),k=s(2169),d=s(5671),S=s(3144),x=s(9340),f=s(2963),l=s(1120);function v(he){var ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,W=(0,l.Z)(he);if(ye){var le=(0,l.Z)(this).constructor;C=Reflect.construct(W,arguments,le)}else C=W.apply(this,arguments);return(0,f.Z)(this,C)}}var w=function(he){(0,x.Z)(C,he);var ye=v(C);function C(){return(0,d.Z)(this,C),ye.apply(this,arguments)}return(0,S.Z)(C,[{key:"tagName",value:function(){return"div"}}]),C}(k.Z),j=s(3505),B=s(4942),Q=s(1163);function X(he,ye){var C=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),C.push.apply(C,W)}return C}function te(he){for(var ye=1;ye<arguments.length;ye++){var C=arguments[ye]!=null?arguments[ye]:{};ye%2?X(Object(C),!0).forEach(function(W){(0,B.Z)(he,W,C[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(C)):X(Object(C)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(C,W))})}return he}const J=A.ZP.extend({defaults:te(te({},A.ZP.prototype.defaults),{},{type:"cell",tagName:"td",draggable:["tr"]})},{isComponent:function(he){return["td","th"].indexOf((0,Q.toLowerCase)(he.tagName))>=0}}),U=k.Z.extend({});function se(he,ye){var C=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),C.push.apply(C,W)}return C}function me(he){for(var ye=1;ye<arguments.length;ye++){var C=arguments[ye]!=null?arguments[ye]:{};ye%2?se(Object(C),!0).forEach(function(W){(0,B.Z)(he,W,C[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(C)):se(Object(C)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(C,W))})}return he}const ce=A.ZP.extend({defaults:me(me({},A.ZP.prototype.defaults),{},{tagName:"tr",draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},{isComponent:function(he){return(0,Q.toLowerCase)(he.tagName)==="tr"}}),D=k.Z.extend({});function L(he,ye){var C=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),C.push.apply(C,W)}return C}function I(he){for(var ye=1;ye<arguments.length;ye++){var C=arguments[ye]!=null?arguments[ye]:{};ye%2?L(Object(C),!0).forEach(function(W){(0,B.Z)(he,W,C[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(C)):L(Object(C)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(C,W))})}return he}var re="table";const ne=A.ZP.extend({defaults:I(I({},A.ZP.prototype.defaults),{},{type:re,tagName:re,droppable:["tbody","thead","tfoot"]}),initialize:function(he,ye){A.ZP.prototype.initialize.apply(this,arguments);var C=this.get("components");!C.length&&C.add({type:"tbody"})}},{isComponent:function(he){return(0,Q.toLowerCase)(he.tagName)===re}}),z=k.Z.extend({events:{}});function Y(he,ye){var C=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),C.push.apply(C,W)}return C}function u(he){for(var ye=1;ye<arguments.length;ye++){var C=arguments[ye]!=null?arguments[ye]:{};ye%2?Y(Object(C),!0).forEach(function(W){(0,B.Z)(he,W,C[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(C)):Y(Object(C)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(C,W))})}return he}var y="tbody";const g=A.ZP.extend({defaults:u(u({},A.ZP.prototype.defaults),{},{type:y,tagName:y,draggable:["table"],droppable:["tr"],columns:1,rows:1}),initialize:function(he,ye){A.ZP.prototype.initialize.apply(this,arguments);var C=this.get("components"),W=this.get("columns"),le=this.get("rows");if(!C.length){for(var _=[];le--;){for(var fe=[],ke=W;ke--;)fe.push({type:"cell",classes:["cell"]});_.push({type:"row",classes:["row"],components:fe})}C.add(_)}}},{isComponent:function(he){return(0,Q.toLowerCase)(he.tagName)===y}});function m(he,ye){var C=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),C.push.apply(C,W)}return C}function $(he){for(var ye=1;ye<arguments.length;ye++){var C=arguments[ye]!=null?arguments[ye]:{};ye%2?m(Object(C),!0).forEach(function(W){(0,B.Z)(he,W,C[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(C)):m(Object(C)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(C,W))})}return he}var ae="thead";const K=g.extend({defaults:$($({},g.prototype.defaults),{},{type:ae,tagName:ae})},{isComponent:function(he){return(0,Q.toLowerCase)(he.tagName)===ae}}),F=k.Z.extend({});function b(he){var ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,W=(0,l.Z)(he);if(ye){var le=(0,l.Z)(this).constructor;C=Reflect.construct(W,arguments,le)}else C=W.apply(this,arguments);return(0,f.Z)(this,C)}}var h=function(he){(0,x.Z)(C,he);var ye=b(C);function C(){return(0,d.Z)(this,C),ye.apply(this,arguments)}return(0,S.Z)(C)}(k.Z);function V(he,ye){var C=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),C.push.apply(C,W)}return C}function M(he){for(var ye=1;ye<arguments.length;ye++){var C=arguments[ye]!=null?arguments[ye]:{};ye%2?V(Object(C),!0).forEach(function(W){(0,B.Z)(he,W,C[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(C)):V(Object(C)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(C,W))})}return he}var T="tfoot";const P=g.extend({defaults:M(M({},g.prototype.defaults),{},{type:T,tagName:T})},{isComponent:function(he){return(0,Q.toLowerCase)(he.tagName)===T}}),c=k.Z.extend({});function ee(he,ye){var C=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),C.push.apply(C,W)}return C}function q(he){for(var ye=1;ye<arguments.length;ye++){var C=arguments[ye]!=null?arguments[ye]:{};ye%2?ee(Object(C),!0).forEach(function(W){(0,B.Z)(he,W,C[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(C)):ee(Object(C)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(C,W))})}return he}var E='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"';const R=A.ZP.extend({defaults:q(q({},A.ZP.prototype.defaults),{},{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(E,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(E,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""}),initialize:function(he,ye){A.ZP.prototype.initialize.apply(this,arguments);var C=this.get("attributes"),W=C.src;W&&this.set("src",W,{silent:1})},initToolbar:function(){for(var he=arguments.length,ye=new Array(he),C=0;C<he;C++)ye[C]=arguments[C];A.ZP.prototype.initToolbar.apply(this,ye);var W=this.em;if(W){var le=W.get("Commands"),_="image-editor";if(le.has(_)){for(var fe=!1,ke=this.get("toolbar"),Re=0;Re<ke.length;Re++)if(ke[Re].command==="image-editor"){fe=!0;break}fe||(ke.push({attributes:{class:"fa fa-pencil"},command:_}),this.set("toolbar",ke))}}},getAttrToHTML:function(){for(var he=arguments.length,ye=new Array(he),C=0;C<he;C++)ye[C]=arguments[C];var W=A.ZP.prototype.getAttrToHTML.apply(this,ye),le=this.getSrcResult();return le&&(W.src=le),W},getSrcResult:function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ye=this.get(he.fallback?"fallback":"src")||"",C=ye;return ye&&ye.substr(0,4)==="<svg"&&(C="data:image/svg+xml;base64,".concat(window.btoa(ye))),C},isDefaultSrc:function(){return this.get("src")===(0,O.result)(this,"defaults").src},toJSON:function(){for(var he=arguments.length,ye=new Array(he),C=0;C<he;C++)ye[C]=arguments[C];var W=A.ZP.prototype.toJSON.apply(this,ye);return W.attributes&&W.src===W.attributes.src&&delete W.src,W},parseUri:function(he){var ye=document.createElement("a");ye.href=he;for(var C={},W=ye.search.substring(1).split("&"),le=0;le<W.length;le++){var _=W[le].split("="),fe=decodeURIComponent(_[0]);fe&&(C[fe]=decodeURIComponent(_[1]))}return{hostname:ye.hostname,pathname:ye.pathname,protocol:ye.protocol,search:ye.search,hash:ye.hash,port:ye.port,query:C}}},{isComponent:function(he){return(0,Q.toLowerCase)(he.tagName)==="img"}});function ue(he,ye){var C=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),C.push.apply(C,W)}return C}function be(he){for(var ye=1;ye<arguments.length;ye++){var C=arguments[ye]!=null?arguments[ye]:{};ye%2?ue(Object(C),!0).forEach(function(W){(0,B.Z)(he,W,C[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(C)):ue(Object(C)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(C,W))})}return he}const N=R.extend({defaults:be(be({},R.prototype.defaults),{},{type:"map",src:"",void:0,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:A.ZP.prototype.defaults.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:1},{type:"select",label:"Map type",name:"mapType",changeProp:1,options:[{value:"q",name:"Roadmap"},{value:"w",name:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:"1",max:"20",changeProp:1}]}),initialize:function(he,ye){this.get("src")?this.parseFromSrc():this.updateSrc(),R.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:address change:zoom change:mapType",this.updateSrc)},updateSrc:function(){this.set("src",this.getMapUrl())},getMapUrl:function(){var he=this,ye=he.get("address"),C=he.get("zoom"),W=he.get("mapType");ye=ye?"&q="+ye:"",C=C?"&z="+C:"",W=W?"&t="+W:"";var le=he.get("mapUrl")+"?"+ye+C+W;return le+="&output=embed"},parseFromSrc:function(){var he=this.parseUri(this.get("src")).query;he.q&&this.set("address",he.q),he.z&&this.set("zoom",he.z),he.t&&this.set("mapType",he.t)}},{isComponent:function(he){var ye="";return(0,Q.toLowerCase)(he.tagName)=="iframe"&&/maps\.google\.com/.test(he.src)&&(ye={type:"map",src:he.src}),ye}});function oe(he){var ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,W=(0,l.Z)(he);if(ye){var le=(0,l.Z)(this).constructor;C=Reflect.construct(W,arguments,le)}else C=W.apply(this,arguments);return(0,f.Z)(this,C)}}var de=function(he){(0,x.Z)(C,he);var ye=oe(C);function C(){return(0,d.Z)(this,C),ye.apply(this,arguments)}return(0,S.Z)(C,[{key:"tagName",value:function(){return"img"}},{key:"events",value:function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}}},{key:"initialize",value:function(W){k.Z.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()}},{key:"fetchFile",value:function(){if(!this.modelOpt.temporary){var W=this.model,le=this.em,_=W.get("file");if(_&&le){var fe=le.get("AssetManager").FileUploader();fe==null||fe.uploadFile({dataTransfer:{files:[_]}},function(ke){var Re=ke&&ke.data&&ke.data[0],Ze=Re&&((0,O.isString)(Re)?Re:Re.src);Ze&&W.set({src:Ze})}),W.set("file","")}}}},{key:"updateSrc",value:function(){var W=this.model,le=this.classEmpty,_=this.$el,fe=W.getSrcResult(),ke=fe&&!W.isDefaultSrc();W.addAttributes({src:fe}),_[ke?"removeClass":"addClass"](le)}},{key:"onActive",value:function(W){W&&W.stopPropagation();var le=this.em,_=this.model,fe=le&&le.get("AssetManager");fe&&_.get("editable")&&fe.open({select:function(ke,Re){_.set({src:ke.getSrc()}),Re&&fe.close()},target:_,types:["image"],accept:"image/*"})}},{key:"onError",value:function(){var W=this.model.getSrcResult({fallback:1});W&&(this.el.src=W)}},{key:"onLoad",value:function(){this.em.trigger("change:canvasOffset")}},{key:"noDrag",value:function(W){return W.preventDefault(),!1}},{key:"render",value:function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var W=this.$el,le=this.model,_=W.attr("class")||"";return!le.get("src")&&W.attr("class","".concat(_," ").concat(this.classEmpty).trim()),this.postRender(),this}}]),C}(k.Z);function Ce(he){var ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,W=(0,l.Z)(he);if(ye){var le=(0,l.Z)(this).constructor;C=Reflect.construct(W,arguments,le)}else C=W.apply(this,arguments);return(0,f.Z)(this,C)}}var we=function(he){(0,x.Z)(C,he);var ye=Ce(C);function C(){return(0,d.Z)(this,C),ye.apply(this,arguments)}return(0,S.Z)(C,[{key:"tagName",value:function(){return"div"}},{key:"events",value:function(){return{}}},{key:"initialize",value:function(W){de.prototype.initialize.apply(this,arguments),this.classEmpty=this.ppfx+"plh-map"}},{key:"updateSrc",value:function(){this.getIframe().src=this.model.get("src")}},{key:"getIframe",value:function(){if(!this.iframe){var W=document.createElement("iframe");W.src=this.model.get("src"),W.frameBorder=0,W.style.height="100%",W.style.width="100%",W.className=this.ppfx+"no-pointer",this.iframe=W}return this.iframe}},{key:"render",value:function(){for(var W=arguments.length,le=new Array(W),_=0;_<W;_++)le[_]=arguments[_];return de.prototype.render.apply(this,le),this.updateClasses(),this.el.appendChild(this.getIframe()),this}}]),C}(de);function Ae(he,ye){var C=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),C.push.apply(C,W)}return C}function _e(he){for(var ye=1;ye<arguments.length;ye++){var C=arguments[ye]!=null?arguments[ye]:{};ye%2?Ae(Object(C),!0).forEach(function(W){(0,B.Z)(he,W,C[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(C)):Ae(Object(C)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(C,W))})}return he}function Ne(he){var ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,W=(0,l.Z)(he);if(ye){var le=(0,l.Z)(this).constructor;C=Reflect.construct(W,arguments,le)}else C=W.apply(this,arguments);return(0,f.Z)(this,C)}}var Je=function(he){(0,x.Z)(C,he);var ye=Ne(C);function C(){return(0,d.Z)(this,C),ye.apply(this,arguments)}return(0,S.Z)(C)}(A.ZP);function tt(he,ye){var C=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),C.push.apply(C,W)}return C}function gt(he){for(var ye=1;ye<arguments.length;ye++){var C=arguments[ye]!=null?arguments[ye]:{};ye%2?tt(Object(C),!0).forEach(function(W){(0,B.Z)(he,W,C[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(C)):tt(Object(C)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(C,W))})}return he}function lt(he){var ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,W=(0,l.Z)(he);if(ye){var le=(0,l.Z)(this).constructor;C=Reflect.construct(W,arguments,le)}else C=W.apply(this,arguments);return(0,f.Z)(this,C)}}Je.prototype.defaults=_e(_e({},A.ZP.getDefaults()),{},{type:"text",droppable:!1,editable:!0});var Zt="link",Lt=function(he){(0,x.Z)(C,he);var ye=lt(C);function C(){return(0,d.Z)(this,C),ye.apply(this,arguments)}return(0,S.Z)(C)}(Je);Lt.prototype.defaults=gt(gt({},Je.getDefaults()),{},{type:Zt,tagName:"a",traits:["title","href","target"]}),Lt.isComponent=function(he){var ye,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,Q.toLowerCase)(he.tagName)==="a"){var W=C.textTags||[];ye={type:Zt,editable:!1};var le=he.childNodes,_=le.length;_||delete ye.editable,(0,O.forEach)(le,function(fe){var ke=fe.tagName;(fe.nodeType==3&&fe.textContent.trim()!==""||ke&&W.indexOf((0,Q.toLowerCase)(ke))>=0)&&delete ye.editable})}return ye};var It=s(5861),Ve=s(7757),je=s.n(Ve);function Fe(he,ye){var C=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),C.push.apply(C,W)}return C}function We(he){for(var ye=1;ye<arguments.length;ye++){var C=arguments[ye]!=null?arguments[ye]:{};ye%2?Fe(Object(C),!0).forEach(function(W){(0,B.Z)(he,W,C[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(C)):Fe(Object(C)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(C,W))})}return he}function it(he){var ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,W=(0,l.Z)(he);if(ye){var le=(0,l.Z)(this).constructor;C=Reflect.construct(W,arguments,le)}else C=W.apply(this,arguments);return(0,f.Z)(this,C)}}var mt=k.Z.prototype,St=function(he){(0,x.Z)(le,he);var ye,C,W=it(le);function le(){return(0,d.Z)(this,le),W.apply(this,arguments)}return(0,S.Z)(le,[{key:"events",value:function(){return{dblclick:"onActive",input:"onInput"}}},{key:"initialize",value:function(_){mt.initialize.apply(this,arguments),(0,O.bindAll)(this,"disableEditing","onDisable");var fe=this.model,ke=this.em;this.listenTo(fe,"focus",this.onActive),this.listenTo(fe,"change:content",this.updateContentText),this.listenTo(fe,"sync:content",this.syncContent),this.rte=ke&&ke.get("RichTextEditor")}},{key:"updateContentText",value:function(_,fe){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!ke.fromDisable&&this.disableEditing()}},{key:"canActivate",value:function(){var _,fe=this.model,ke=this.rteEnabled,Re=this.em,Ze=(Re==null?void 0:Re.getEditing())===fe,Ke=!0,at=!1;if((ke||!fe.get("editable")||Ze||(at=fe.isChildOf("text")))&&(Ke=!1,at&&!fe.get("textable"))){for(var ot=fe.parent();ot&&!ot.isInstanceOf("text");)ot=ot.parent();ot&&ot.get("editable")?_=ot:Ke=!0}return{result:Ke,delegate:_}}},{key:"onActive",value:(C=(0,It.Z)(je().mark(function _(fe){var ke,Re,Ze,Ke,at,ot,bt;return je().wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:if(Re=this.rte,Ze=this.em,Ke=this.canActivate(),at=Ke.result,ot=Ke.delegate,at){_t.next=5;break}return ot&&(fe==null||(bt=fe.stopPropagation)===null||bt===void 0||bt.call(fe),Ze.setSelected(ot),ot.trigger("active",fe)),_t.abrupt("return");case 5:if(fe==null||(ke=fe.stopPropagation)===null||ke===void 0||ke.call(fe),this.lastContent=this.getContent(),!Re){_t.next=17;break}return _t.prev=8,_t.next=11,Re.enable(this,this.activeRte,{event:fe});case 11:this.activeRte=_t.sent,_t.next=17;break;case 14:_t.prev=14,_t.t0=_t.catch(8),Ze.logError(_t.t0);case 17:this.toggleEvents(1);case 18:case"end":return _t.stop()}},_,this,[[8,14]])})),function(_){return C.apply(this,arguments)})},{key:"onDisable",value:function(){this.disableEditing()}},{key:"disableEditing",value:(ye=(0,It.Z)(je().mark(function _(){var fe,ke,Re,Ze,Ke,at,ot=arguments;return je().wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:if(fe=ot.length>0&&ot[0]!==void 0?ot[0]:{},ke=this.model,Re=this.rte,Ze=this.activeRte,Ke=this.em,at=ke&&ke.get("editable"),!Re){bt.next=13;break}return bt.prev=4,bt.next=7,Re.disable(this,Ze);case 7:bt.next=12;break;case 9:bt.prev=9,bt.t0=bt.catch(4),Ke.logError(bt.t0);case 12:at&&this.getContent()!==this.lastContent&&(this.syncContent(fe),this.lastContent="");case 13:this.toggleEvents();case 14:case"end":return bt.stop()}},_,this,[[4,9]])})),function(){return ye.apply(this,arguments)})},{key:"getContent",value:function(){var _=this.activeRte;return _&&typeof _.getContent=="function"?_.getContent():this.getChildrenContainer().innerHTML}},{key:"syncContent",value:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=this.model,ke=this.rte,Re=this.rteEnabled;if(Re||_.force){var Ze=this.getContent(),Ke=fe.components(),at=We({fromDisable:1},_);fe.set("content","",at),ke.customRte?(Ke.length&&Ke.reset(null,_),fe.set("content",Ze,at)):Ke.resetFromString(Ze,_)}}},{key:"insertComponent",value:function(_){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=this.model,Re=this.el,Ze=Re.ownerDocument,Ke=Ze.getSelection();if(Ke!=null&&Ke.rangeCount){var at,ot=Ke.getRangeAt(0),bt=ot.startContainer,_t=ot.startOffset,Rt=(0,Q.getModel)(bt),Qt=[];if(Rt&&(at=Rt.is)!==null&&at!==void 0&&at.call(Rt,"textnode")){var an=Rt.collection;an.forEach(function(Mn){if(Mn===Rt){var sn="textnode",Cn=Mn.get("content");Qt.push({type:sn,content:Cn.slice(0,_t)}),Qt.push(_),Qt.push({type:sn,content:Cn.slice(_t)})}else Qt.push(Mn)});var gn=Qt.filter(Boolean),Dn=gn.indexOf(_);return an.reset(gn,fe),an.at(Dn)}}return ke.append(_,fe)}},{key:"onInput",value:function(){var _=this.em,fe="component",ke=["".concat(fe,":update"),"".concat(fe,":input")].join(" ");_&&_.trigger(ke,this.model)}},{key:"disablePropagation",value:function(_){_.stopPropagation()}},{key:"toggleEvents",value:function(_){var fe=this.em,ke=this.model,Re=this.$el,Ze={on:Q.on,off:Q.off},Ke=_?"on":"off";fe.setEditing(_?this:0),this.rteEnabled=!!_;var at=[this.el.ownerDocument,document];if(Ze.off(at,"mousedown",this.onDisable),Ze[Ke](at,"mousedown",this.onDisable),fe[Ke]("toolbar:run:before",this.onDisable),ke&&(ke[Ke]("removed",this.onDisable),ke.trigger("rte:".concat(_?"enable":"disable"))),Re&&Re.off("mousedown",this.disablePropagation),Re&&Re[Ke]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var ot=this.el;ot;)ot.draggable=!_,(ot=ot.parentNode)&&ot.tagName=="BODY"&&(ot=0)}}]),le}(k.Z);function tn(he){var ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,W=(0,l.Z)(he);if(ye){var le=(0,l.Z)(this).constructor;C=Reflect.construct(W,arguments,le)}else C=W.apply(this,arguments);return(0,f.Z)(this,C)}}var Ue=function(he){(0,x.Z)(C,he);var ye=tn(C);function C(){return(0,d.Z)(this,C),ye.apply(this,arguments)}return(0,S.Z)(C,[{key:"render",value:function(){for(var W=arguments.length,le=new Array(W),_=0;_<W;_++)le[_]=arguments[_];return St.prototype.render.apply(this,le),this.el.addEventListener("click",this.prevDef,!0),this}}]),C}(St);function et(he,ye){var C=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),C.push.apply(C,W)}return C}function ct(he){for(var ye=1;ye<arguments.length;ye++){var C=arguments[ye]!=null?arguments[ye]:{};ye%2?et(Object(C),!0).forEach(function(W){(0,B.Z)(he,W,C[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(C)):et(Object(C)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(C,W))})}return he}var Ot="label";const yt=Je.extend({defaults:ct(ct({},Je.prototype.defaults),{},{type:Ot,tagName:Ot,traits:["id","title","for"]})},{isComponent:function(he){return(0,Q.toLowerCase)(he.tagName)===Ot}});function ht(he){var ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,W=(0,l.Z)(he);if(ye){var le=(0,l.Z)(this).constructor;C=Reflect.construct(W,arguments,le)}else C=W.apply(this,arguments);return(0,f.Z)(this,C)}}var Ht=function(he){(0,x.Z)(C,he);var ye=ht(C);function C(){return(0,d.Z)(this,C),ye.apply(this,arguments)}return(0,S.Z)(C,[{key:"tagName",value:function(){return"span"}}]),C}(Ue);function $t(he,ye){var C=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),C.push.apply(C,W)}return C}function cn(he){for(var ye=1;ye<arguments.length;ye++){var C=arguments[ye]!=null?arguments[ye]:{};ye%2?$t(Object(C),!0).forEach(function(W){(0,B.Z)(he,W,C[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(C)):$t(Object(C)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(C,W))})}return he}var kn="video",en="yt",Bn="vi",qe="ytnc";const $e=R.extend({defaults:cn(cn({},R.prototype.defaults),{},{type:kn,tagName:kn,videoId:"",void:0,provider:"so",ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:0,poster:"",muted:0,autoplay:0,controls:1,color:"",list:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}}),initialize:function(he,ye){this.em=ye.em,this.get("src")&&this.parseFromSrc(),this.updateTraits(),this.listenTo(this,"change:provider",this.updateTraits),this.listenTo(this,"change:videoId change:provider",this.updateSrc),R.prototype.initialize.apply(this,arguments)},updateTraits:function(){var he,ye="iframe";switch(this.get("provider")){case en:case qe:he=this.getYoutubeTraits();break;case Bn:he=this.getVimeoTraits();break;default:ye="video",he=this.getSourceTraits()}this.set({tagName:ye},{silent:1}),this.set({traits:he}),this.em.trigger("component:toggled")},parseFromSrc:function(){var he=this.get("provider"),ye=this.parseUri(this.get("src")),C=ye.query;switch(he){case en:case qe:case Bn:var W=ye.pathname.split("/").pop();this.set("videoId",W),C.list&&this.set("list",C.list),C.autoplay&&this.set("autoplay",1),C.loop&&this.set("loop",1),parseInt(C.controls)===0&&this.set("controls",0),C.color&&this.set("color",C.color),C.rel==="0"&&this.set("rel",0),C.modestbranding==="1"&&this.set("modestbranding",1)}},updateSrc:function(){var he="";switch(this.get("provider")){case en:he=this.getYoutubeSrc();break;case qe:he=this.getYoutubeNoCookieSrc();break;case Bn:he=this.getVimeoSrc()}this.set({src:he})},getAttrToHTML:function(){for(var he=arguments.length,ye=new Array(he),C=0;C<he;C++)ye[C]=arguments[C];var W=R.prototype.getAttrToHTML.apply(this,ye),le=this.get("provider");switch(le){case en:case qe:case Bn:break;default:this.get("loop")&&(W.loop="loop"),this.get("autoplay")&&(W.autoplay="autoplay"),this.get("controls")&&(W.controls="controls")}return W},getProviderTrait:function(){return{type:"select",label:"Provider",name:"provider",changeProp:1,options:[{value:"so",name:"HTML5 Source"},{value:en,name:"Youtube"},{value:qe,name:"Youtube (no cookie)"},{value:Bn,name:"Vimeo"}]}},getSourceTraits:function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:1},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},getYoutubeTraits:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:1},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:1}]},getVimeoTraits:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:1},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait()]},getAutoplayTrait:function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:1}},getLoopTrait:function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:1}},getControlsTrait:function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:1}},getYoutubeSrc:function(){var he=this.get("videoId"),ye=this.get("ytUrl"),C=this.get("list");return ye+=he+(he.indexOf("?")<0?"?":""),ye+=C?"&list=".concat(C):"",ye+=this.get("autoplay")?"&autoplay=1":"",ye+=this.get("controls")?"":"&controls=0&showinfo=0",ye+=this.get("loop")?"&loop=1&playlist=".concat(he):"",ye+=this.get("rel")?"":"&rel=0",ye+=this.get("modestbranding")?"&modestbranding=1":""},getYoutubeNoCookieSrc:function(){var he=this.getYoutubeSrc();return he=he.replace(this.get("ytUrl"),this.get("ytncUrl"))},getVimeoSrc:function(){var he=this.get("viUrl");return he+=this.get("videoId")+"?",he+=this.get("autoplay")?"&autoplay=1":"",he+=this.get("loop")?"&loop=1":"",he+=this.get("controls")?"":"&title=0&portrait=0&badge=0",he+=this.get("color")?"&color="+this.get("color"):""}},{isComponent:function(he){var ye="",C=he.tagName,W=he.src,le=/youtube\.com\/embed/.test(W),_=/youtube-nocookie\.com\/embed/.test(W),fe=/player\.vimeo\.com\/video/.test(W),ke=le||_||fe;return((0,Q.toLowerCase)(C)==kn||(0,Q.toLowerCase)(C)=="iframe"&&ke)&&(ye={type:"video"},W&&(ye.src=W),ke&&(le?ye.provider=en:_?ye.provider=qe:fe&&(ye.provider=Bn))),ye}});function ft(he){var ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,W=(0,l.Z)(he);if(ye){var le=(0,l.Z)(this).constructor;C=Reflect.construct(W,arguments,le)}else C=W.apply(this,arguments);return(0,f.Z)(this,C)}}var Et=function(he){(0,x.Z)(C,he);var ye=ft(C);function C(){return(0,d.Z)(this,C),ye.apply(this,arguments)}return(0,S.Z)(C,[{key:"tagName",value:function(){return"div"}},{key:"events",value:function(){return{}}},{key:"initialize",value:function(W){k.Z.prototype.initialize.apply(this,arguments);var le=this.model,_=["loop","autoplay","controls","color","rel","modestbranding","poster"],fe=_.map(function(ke){return"change:".concat(ke)}).join(" ");this.listenTo(le,"change:provider",this.updateProvider),this.listenTo(le,"change:src",this.updateSrc),this.listenTo(le,fe,this.updateVideo)}},{key:"updateProvider",value:function(){var W=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(W))}},{key:"updateSrc",value:function(){var W=this.model,le=this.videoEl;if(le){var _=W.get("provider"),fe=W.get("src");switch(_){case"yt":fe=W.getYoutubeSrc();break;case"ytnc":fe=W.getYoutubeNoCookieSrc();break;case"vi":fe=W.getVimeoSrc()}le.src=fe}}},{key:"updateVideo",value:function(){var W=this.model.get("provider"),le=this.videoEl,_=this.model;switch(W){case"yt":case"ytnc":case"vi":this.model.trigger("change:videoId");break;default:le.loop=_.get("loop"),le.autoplay=_.get("autoplay"),le.controls=_.get("controls"),le.poster=_.get("poster")}}},{key:"renderByProvider",value:function(W){var le;switch(W){case"yt":le=this.renderYoutube();break;case"ytnc":le=this.renderYoutubeNoCookie();break;case"vi":le=this.renderVimeo();break;default:le=this.renderSource()}return this.videoEl=le,le}},{key:"renderSource",value:function(){var W=document.createElement("video");return W.src=this.model.get("src"),this.initVideoEl(W),W}},{key:"renderYoutube",value:function(){var W=document.createElement("iframe");return W.src=this.model.getYoutubeSrc(),W.frameBorder=0,W.setAttribute("allowfullscreen",!0),this.initVideoEl(W),W}},{key:"renderYoutubeNoCookie",value:function(){var W=document.createElement("iframe");return W.src=this.model.getYoutubeNoCookieSrc(),W.frameBorder=0,W.setAttribute("allowfullscreen",!0),this.initVideoEl(W),W}},{key:"renderVimeo",value:function(){var W=document.createElement("iframe");return W.src=this.model.getVimeoSrc(),W.frameBorder=0,W.setAttribute("allowfullscreen",!0),this.initVideoEl(W),W}},{key:"initVideoEl",value:function(W){W.className=this.ppfx+"no-pointer",W.style.height="100%",W.style.width="100%"}},{key:"render",value:function(){for(var W=arguments.length,le=new Array(W),_=0;_<W;_++)le[_]=arguments[_];de.prototype.render.apply(this,le),this.updateClasses();var fe=this.model.get("provider");return this.el.appendChild(this.renderByProvider(fe)),this.updateVideo(),this}}]),C}(de);function Bt(he,ye){var C=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),C.push.apply(C,W)}return C}function Dt(he){for(var ye=1;ye<arguments.length;ye++){var C=arguments[ye]!=null?arguments[ye]:{};ye%2?Bt(Object(C),!0).forEach(function(W){(0,B.Z)(he,W,C[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(C)):Bt(Object(C)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(C,W))})}return he}var zt="script";const Gt=A.ZP.extend({defaults:Dt(Dt({},A.ZP.prototype.defaults),{},{type:zt,tagName:zt,droppable:!1,draggable:!1,layerable:!1})},{isComponent:function(he){if((0,Q.toLowerCase)(he.tagName)==zt){var ye={type:zt};return he.src&&(ye.src=he.src,ye.onload=he.onload),ye}}});function nn(he){var ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,W=(0,l.Z)(he);if(ye){var le=(0,l.Z)(this).constructor;C=Reflect.construct(W,arguments,le)}else C=W.apply(this,arguments);return(0,f.Z)(this,C)}}var dn=function(he){(0,x.Z)(C,he);var ye=nn(C);function C(){return(0,d.Z)(this,C),ye.apply(this,arguments)}return(0,S.Z)(C,[{key:"tagName",value:function(){return"script"}},{key:"events",value:function(){return{}}},{key:"render",value:function(){var W=this.model,le=this.em,_=W.get("src"),fe=le&&le.get("scriptCount"),ke=fe||0,Re="";if(_){var Ze=W.get("onload"),Ke="script".concat(ke),at="script".concat(ke+1),ot="".concat(Ke,"Start"),bt="".concat(at,"Start");Re=`
        var `.concat(Ke,` = document.createElement('script');
        `).concat(Ke,`.onload = function() {
          `).concat(Ze?"".concat(Ze,`();
`):"",`
          typeof `).concat(bt," == 'function' && ").concat(bt,`();
        };
        `).concat(Ke,".src = '").concat(_,`';
        function `).concat(ot,"() { document.body.appendChild(").concat(Ke,`); };
        `).concat(ke?"":"".concat(ot,"();"),`
      `),le&&le.set("scriptCount",ke+1)}else Re=W.__innerHTML();return this.el.innerHTML=Re,this.postRender(),this}}]),C}(de);function un(he,ye){var C=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),C.push.apply(C,W)}return C}function bn(he){for(var ye=1;ye<arguments.length;ye++){var C=arguments[ye]!=null?arguments[ye]:{};ye%2?un(Object(C),!0).forEach(function(W){(0,B.Z)(he,W,C[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(C)):un(Object(C)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(C,W))})}return he}var wn="svg";const En=A.ZP.extend({defaults:bn(bn({},A.ZP.prototype.defaults),{},{type:wn,tagName:wn,highlightable:0,resizable:{ratioDefault:1}}),getName:function(){var he=this.get("tagName"),ye=this.get("custom-name");return he=he.charAt(0).toUpperCase()+he.slice(1),ye||he}},{isComponent:function(he){return(0,Q.toLowerCase)(he.tagName)===wn}});function An(he,ye){var C=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),C.push.apply(C,W)}return C}function Tn(he){for(var ye=1;ye<arguments.length;ye++){var C=arguments[ye]!=null?arguments[ye]:{};ye%2?An(Object(C),!0).forEach(function(W){(0,B.Z)(he,W,C[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(C)):An(Object(C)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(C,W))})}return he}const qn=En.extend({defaults:Tn(Tn({},En.prototype.defaults),{},{selectable:!1,hoverable:!1,layerable:!1})},{isComponent:function(he){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return!!ye.inSvg}});function Ft(he){var ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,W=(0,l.Z)(he);if(ye){var le=(0,l.Z)(this).constructor;C=Reflect.construct(W,arguments,le)}else C=W.apply(this,arguments);return(0,f.Z)(this,C)}}var Mt=function(he){(0,x.Z)(C,he);var ye=Ft(C);function C(){return(0,d.Z)(this,C),ye.apply(this,arguments)}return(0,S.Z)(C,[{key:"_createElement",value:function(W){return document.createElementNS("http://www.w3.org/2000/svg",W)}}]),C}(k.Z);function Rn(he,ye){var C=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),C.push.apply(C,W)}return C}function Zn(he){for(var ye=1;ye<arguments.length;ye++){var C=arguments[ye]!=null?arguments[ye]:{};ye%2?Rn(Object(C),!0).forEach(function(W){(0,B.Z)(he,W,C[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(C)):Rn(Object(C)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(C,W))})}return he}const Fn=A.ZP.extend({defaults:Zn(Zn({},A.ZP.prototype.defaults),{},{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0}),toHTML:function(){var he=this.parent(),ye=this.get("content");return he&&he.is("script")?ye:(0,Q.escape)(ye)}},{isComponent:function(he){var ye="";return he.nodeType===3&&(ye={type:"textnode",content:he.textContent}),ye}});function Wt(he,ye){var C=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),C.push.apply(C,W)}return C}const hn=Fn.extend({defaults:function(he){for(var ye=1;ye<arguments.length;ye++){var C=arguments[ye]!=null?arguments[ye]:{};ye%2?Wt(Object(C),!0).forEach(function(W){(0,B.Z)(he,W,C[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(C)):Wt(Object(C)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(C,W))})}return he}({},Fn.prototype.defaults),toHTML:function(){return"<!--".concat(this.get("content"),"-->")}},{isComponent:function(he){if(he.nodeType==8)return{tagName:"NULL",type:"comment",content:he.textContent}}});function on(he){var ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,W=(0,l.Z)(he);if(ye){var le=(0,l.Z)(this).constructor;C=Reflect.construct(W,arguments,le)}else C=W.apply(this,arguments);return(0,f.Z)(this,C)}}var sr=function(he){(0,x.Z)(C,he);var ye=on(C);function C(){return(0,d.Z)(this,C),ye.apply(this,arguments)}return(0,S.Z)(C,[{key:"initialize",value:function(){k.Z.prototype.initialize.apply(this,arguments)}},{key:"_setAttributes",value:function(){}},{key:"renderAttributes",value:function(){}},{key:"updateStatus",value:function(){}},{key:"updateClasses",value:function(){}},{key:"setAttribute",value:function(){}},{key:"updateAttributes",value:function(){}},{key:"initClasses",value:function(){}},{key:"initComponents",value:function(){}},{key:"delegateEvents",value:function(){}},{key:"_createElement",value:function(){return document.createTextNode("")}},{key:"render",value:function(){var W=this.model,le=this.el;return W.opt.temporary||(le.textContent=W.get("content")),this}}]),C}(k.Z);function Ct(he){var ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,W=(0,l.Z)(he);if(ye){var le=(0,l.Z)(this).constructor;C=Reflect.construct(W,arguments,le)}else C=W.apply(this,arguments);return(0,f.Z)(this,C)}}var ln=function(he){(0,x.Z)(C,he);var ye=Ct(C);function C(){return(0,d.Z)(this,C),ye.apply(this,arguments)}return(0,S.Z)(C,[{key:"_createElement",value:function(){return document.createComment(this.model.get("content"))}}]),C}(sr);function De(he,ye){var C=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),C.push.apply(C,W)}return C}function Ie(he){for(var ye=1;ye<arguments.length;ye++){var C=arguments[ye]!=null?arguments[ye]:{};ye%2?De(Object(C),!0).forEach(function(W){(0,B.Z)(he,W,C[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(C)):De(Object(C)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(C,W))})}return he}function vt(he){var ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,W=(0,l.Z)(he);if(ye){var le=(0,l.Z)(this).constructor;C=Reflect.construct(W,arguments,le)}else C=W.apply(this,arguments);return(0,f.Z)(this,C)}}var Nt=function(he){(0,x.Z)(C,he);var ye=vt(C);function C(){return(0,d.Z)(this,C),ye.apply(this,arguments)}return(0,S.Z)(C,[{key:"defaults",value:function(){return Ie(Ie({},A.ZP.getDefaults()),{},{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})}},{key:"__postAdd",value:function(){var W=this.em&&this.em.get("UndoManager");return W&&!this.__hasUm&&W.add(this),A.ZP.prototype.__postAdd.call(this,arguments)}},{key:"__postRemove",value:function(){var W=this.em&&this.em.get("UndoManager");return W&&W.remove(this),A.ZP.prototype.__postRemove.call(this,arguments)}}]),C}(A.ZP);function rt(he,ye){var C=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(le){return Object.getOwnPropertyDescriptor(he,le).enumerable})),C.push.apply(C,W)}return C}function xt(he){for(var ye=1;ye<arguments.length;ye++){var C=arguments[ye]!=null?arguments[ye]:{};ye%2?rt(Object(C),!0).forEach(function(W){(0,B.Z)(he,W,C[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(C)):rt(Object(C)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(C,W))})}return he}Nt.isComponent=function(){return!1};var Sn="iframe";const fn=A.ZP.extend({defaults:function(){return xt(xt({},A.ZP.prototype.defaults),{},{type:Sn,tagName:Sn,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})}},{isComponent:function(he){return(0,Q.toLowerCase)(he.tagName)===Sn}});var jn=s(9283);function $n(he){var ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,W=(0,l.Z)(he);if(ye){var le=(0,l.Z)(this).constructor;C=Reflect.construct(W,arguments,le)}else C=W.apply(this,arguments);return(0,f.Z)(this,C)}}var rr,tr=function(he){(0,x.Z)(C,he);var ye=$n(C);function C(){return(0,d.Z)(this,C),ye.apply(this,arguments)}return(0,S.Z)(C,[{key:"tagName",value:function(){return"div"}},{key:"initialize",value:function(){for(var W=arguments.length,le=new Array(W),_=0;_<W;_++)le[_]=arguments[_];k.Z.prototype.initialize.apply(this,le),this.listenTo(this.model,"change:attributes:src",this.updateSrc)}},{key:"updateSrc",value:function(){var W=(0,jn.sE)(this.el,"iframe")[0];W&&(0,jn.FW)(W,{src:this.__getSrc()})}},{key:"render",value:function(){for(var W=arguments.length,le=new Array(W),_=0;_<W;_++)le[_]=arguments[_];k.Z.prototype.render.apply(this,le);var fe=(0,jn.ut)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(fe),this}},{key:"__getSrc",value:function(){return this.model.getAttributes().src||""}}]),C}(k.Z.extend),Kn=s(6434),Jn=(rr=function(he,ye){return rr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,W){C.__proto__=W}||function(C,W){for(var le in W)Object.prototype.hasOwnProperty.call(W,le)&&(C[le]=W[le])},rr(he,ye)},function(he,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Class extends value "+String(ye)+" is not a constructor or null");function C(){this.constructor=he}rr(he,ye),he.prototype=ye===null?Object.create(ye):(C.prototype=ye.prototype,new C)}),Wn=function(){return Wn=Object.assign||function(he){for(var ye,C=1,W=arguments.length;C<W;C++)for(var le in ye=arguments[C])Object.prototype.hasOwnProperty.call(ye,le)&&(he[le]=ye[le]);return he},Wn.apply(this,arguments)},Vn=function(he,ye){var C={};for(var W in he)Object.prototype.hasOwnProperty.call(he,W)&&ye.indexOf(W)<0&&(C[W]=he[W]);if(he!=null&&typeof Object.getOwnPropertySymbols=="function"){var le=0;for(W=Object.getOwnPropertySymbols(he);le<W.length;le++)ye.indexOf(W[le])<0&&Object.prototype.propertyIsEnumerable.call(he,W[le])&&(C[W[le]]=he[W[le]])}return C},Nn=function(he){function ye(C){var W=he.call(this,C,"DomComponents",new p.Z(void 0,{em:C}))||this;for(var le in W.componentTypes=[{id:"cell",model:J,view:U},{id:"row",model:ce,view:D},{id:"table",model:ne,view:z},{id:"thead",model:K,view:F},{id:"tbody",model:g,view:h},{id:"tfoot",model:P,view:c},{id:"map",model:N,view:we},{id:"link",model:Lt,view:Ue},{id:"label",model:yt,view:Ht},{id:"video",model:$e,view:Et},{id:"image",model:R,view:de},{id:"script",model:Gt,view:dn},{id:"svg-in",model:qn,view:Mt},{id:"svg",model:En,view:Mt},{id:"iframe",model:fn,view:tr},{id:"comment",model:hn,view:ln},{id:"textnode",model:Fn,view:sr},{id:"text",model:Je,view:St},{id:"wrapper",model:Nt,view:w},{id:"default",model:A.ZP,view:k.Z}],W.componentsById={},W.Component=A.ZP,W.Components=p.Z,W.ComponentsView=j.Z,W.storageKey="components",C&&(W.config.components=C.config.components||W.config.components),H)le in W.config||(W.config[le]=H[le]);var _=W.config.pStylePrefix;if(_&&(W.config.stylePrefix=_+W.config.stylePrefix),C){W.config.modal=C.get("Modal")||"",W.config.am=C.get("AssetManager")||"",C.get("Parser").compTypes=W.componentTypes,C.on("change:componentHovered",W.componentHovered,W);var fe=C.get("selected");C.listenTo(fe,"add",function(ke,Re,Ze){return W.selectAdd(fe.getComponent(ke),Ze)}),C.listenTo(fe,"remove",function(ke,Re,Ze){return W.selectRemove(fe.getComponent(ke),Ze)})}return W}return Jn(ye,he),ye.prototype.load=function(C){var W=this;return this.loadProjectData(C,{onResult:function(le){var _=W.getWrapper();if(_||(W.em.get("PageManager").add({},{select:!0}),_=W.getWrapper()),(0,O.isArray)(le))le.length&&_.components(le);else{var fe=le.components,ke=fe===void 0?[]:fe,Re=Vn(le,["components"]);_.set(Re),_.components(ke)}}})},ye.prototype.store=function(){return{}},ye.prototype.getComponent=function(){var C=this.em.get("PageManager").getSelected(),W=C&&C.getMainFrame();return W&&W.getComponent()},ye.prototype.getWrapper=function(){return this.getComponent()},ye.prototype.getComponents=function(){var C=this.getWrapper();return C&&C.get("components")},ye.prototype.addComponent=function(C,W){return W===void 0&&(W={}),this.getComponents().add(C,W)},ye.prototype.render=function(){var C;return(C=this.componentView)===null||C===void 0?void 0:C.render().el},ye.prototype.clear=function(C){C===void 0&&(C={});var W=this.getComponents();return W==null||W.filter(Boolean).forEach(function(le){return le.remove(C)}),this},ye.prototype.setComponents=function(C,W){W===void 0&&(W={}),this.clear(W).addComponent(C,W)},ye.prototype.addType=function(C,W){var le=this.em,_=W.model,fe=_===void 0?{}:_,ke=W.view,Re=ke===void 0?{}:ke,Ze=W.isComponent,Ke=W.extend,at=W.extendView,ot=W.extendFn,bt=ot===void 0?[]:ot,_t=W.extendFnView,Rt=_t===void 0?[]:_t,Qt=this.getType(C),an=this.getType(Ke),gn=this.getType(at),Dn=an||Qt||this.getType("default"),Mn=Dn.model,sn=gn?gn.view:Dn.view,Cn=function(Xn,ur,On){return Xn.reduce(function(Yn,_n){var Yt=ur[_n],i=On.prototype[_n];return Yt&&i&&(Yn[_n]=function(){for(var o=[],G=0;G<arguments.length;G++)o[G]=arguments[G];i.bind(this).apply(void 0,o),Yt.bind(this).apply(void 0,o)}),Yn},{})};typeof fe=="object"&&(W.model=Mn.extend(Wn(Wn(Wn({},fe),Cn(bt,fe,Mn)),{defaults:Wn(Wn({},(0,O.result)(Mn.prototype,"defaults")||{}),(0,O.result)(fe,"defaults")||{})}),{isComponent:!Qt||an||Ze?Ze||function(){return 0}:Mn.isComponent})),typeof Re=="object"&&(W.view=sn.extend(Wn(Wn({},Re),Cn(Rt,Re,sn)))),Qt?(Qt.model=W.model,Qt.view=W.view):(W.id=C,this.componentTypes.unshift(W));var Hn="component:type:".concat(Qt?"update":"add");return le==null||le.trigger(Hn,Qt||W),this},ye.prototype.getType=function(C){for(var W=this.componentTypes,le=0;le<W.length;le++)if(W[le].id==C)return W[le]},ye.prototype.removeType=function(C){var W=this.componentTypes,le=this.getType(C);if(le){var _=W.indexOf(le);return W.splice(_,1),le}},ye.prototype.getTypes=function(){return this.componentTypes},ye.prototype.selectAdd=function(C,W){var le=this;W===void 0&&(W={}),C&&(C.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(_){return le.em.trigger(_,C,W)}))},ye.prototype.selectRemove=function(C,W){var le=this;W===void 0&&(W={}),C&&(this.em,C.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(_){return le.em.trigger(_,C,W)}))},ye.prototype.componentHovered=function(){var C=this.em,W=C.get("componentHovered"),le=C.previous("componentHovered"),_="hovered";le&&le.get("status")==_&&le.set({status:"",state:""}),W&&(0,O.isEmpty)(W.get("status"))&&W.set("status",_)},ye.prototype.getShallowWrapper=function(){var C=this.shallow,W=this.em;if(!C&&W){var le=W.shallow;if(!le)return;var _=le.get("DomComponents");if(_.componentTypes=this.componentTypes,C=_.getWrapper()){var fe=[A.GN,A.xH].join(" ");C.on(fe,(0,O.debounce)(function(){return C==null?void 0:C.components("")},100))}this.shallow=C}return C},ye.prototype.canMove=function(C,W,le){var _=le||le===0?le:null,fe={result:!1,reason:0,target:C,source:null};if(!W)return fe;var ke=W.toHTML?W:null;if(!ke){var Re=this.getShallowWrapper();ke=Re==null?void 0:Re.append(W)[0]}if(fe.source=ke,!ke)return fe;var Ze=ke.get("draggable");if((0,O.isFunction)(Ze))Ze=!!Ze(ke,C,_);else{var Ke=C.getEl();Ze=(0,O.isArray)(Ze)?Ze.join(","):Ze,Ze=(0,O.isString)(Ze)?Ke==null?void 0:Ke.matches(Ze):Ze}if(!Ze)return Wn(Wn({},fe),{reason:1});var at=C.get("droppable");return(0,O.isFunction)(at)?at=!!at(ke,C,_):at===!1&&C.isInstanceOf("text")&&ke.get("textable")?at=!0:(Ke=ke.getEl(),at=(0,O.isArray)(at)?at.join(","):at,at=(0,O.isString)(at)?Ke==null?void 0:Ke.matches(at):at),Wn(Wn({},fe),at?{result:!0}:{reason:2})},ye.prototype.allById=function(){return this.componentsById},ye.prototype.getById=function(C){return this.componentsById[C]||null},ye.prototype.destroy=function(){var C,W=this.allById();Object.keys(W).forEach(function(le){return W[le]&&W[le].remove()}),(C=this.componentView)===null||C===void 0||C.remove(),[this.em,this.componentsById,this.componentView].forEach(function(le){return{}})},ye}(Kn.O);const Gn=Nn},6764:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>Y,evAll:()=>me,evComponent:()=>L,evPfx:()=>ce,evRoot:()=>D});var O=s(9050),H=s(7904),A=s(6434),p=s(1163);const k={stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,onInit:function(){},onRender:function(){},extend:{}};var d,S=s(2316),x=(d=function(u,y){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var $ in m)Object.prototype.hasOwnProperty.call(m,$)&&(g[$]=m[$])},d(u,y)},function(u,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function g(){this.constructor=u}d(u,y),u.prototype=y===null?Object.create(y):(g.prototype=y.prototype,new g)});const f=function(u){function y(){return u!==null&&u.apply(this,arguments)||this}return x(y,u),Object.defineProperty(y.prototype,"pfx",{get:function(){return this.model.module.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"ppfx",{get:function(){return this.pfx+this.model.module.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"em",{get:function(){return this.model.module.em},enumerable:!1,configurable:!0}),y}(s.n(S)().View);var l=s(2169),v=s(7375),w=function(){var u=function(y,g){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,$){m.__proto__=$}||function(m,$){for(var ae in $)Object.prototype.hasOwnProperty.call($,ae)&&(m[ae]=$[ae])},u(y,g)};return function(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function m(){this.constructor=y}u(y,g),y.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),j=function(u){function y(g){g===void 0&&(g={});var m=u.call(this,g)||this;m.items=[],m.opt=g;var $=g.config||{};m.config=$,m.parentView=g.parentView;var ae=$.stylePrefix||"",K=$.pStylePrefix||"",F=m.collection;m.listenTo(F,"add",m.addTo),m.listenTo(F,"reset resetNavigator",m.render),m.listenTo(F,"remove",m.removeChildren),m.className="".concat(ae,"layers");var b=$.em;if($.sortable&&!m.opt.sorter){var h=b.get("Utils");m.opt.sorter=new h.Sorter({container:$.sortContainer||m.el,containerSel:".".concat(m.className),itemSel:".".concat(ae,"layer"),ignoreViewChildren:1,onEndMove:function(V,M,T){var P=M.getSourceModel();b.setSelected(P,{forceChange:1}),b.trigger("".concat(v.OA,":end"),T)},avoidSelectOnEnd:1,nested:1,ppfx:K,pfx:ae})}return m.$el.data("collection",F),g.parent&&m.$el.data("model",g.parent),m}return w(y,u),y.prototype.removeChildren=function(g){var m=g.viewLayer;m&&(m.remove(),delete g.viewLayer)},y.prototype.addTo=function(g){var m=this.collection.indexOf(g);this.addToCollection(g,null,m)},y.prototype.addToCollection=function(g,m,$){var ae=this,K=ae.parentView,F=ae.opt,b=ae.config,h=F.ItemView,V=F.opened,M=F.module,T=m||null,P=new h({ItemView:h,level:F.level,model:g,parentView:K,config:b,sorter:F.sorter,opened:V,module:M}),c=P.render().el;if(T)T.appendChild(c);else if($!==void 0){var ee="before";this.$el.children().length==$&&($--,ee="after"),$<0?this.$el.append(c):this.$el.children().eq($)[ee](c)}else this.$el.append(c);return this.items.push(P),c},y.prototype.remove=function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];return f.prototype.remove.apply(this,g),this.items.map(function($){return $.remove()}),this},y.prototype.render=function(){var g=this,m=document.createDocumentFragment(),$=this.el;return $.innerHTML="",this.collection.each(function(ae){return g.addToCollection(ae,m)}),$.appendChild(m),$.className=this.className,this},y}(f);const B=j;var Q=function(){var u=function(y,g){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,$){m.__proto__=$}||function(m,$){for(var ae in $)Object.prototype.hasOwnProperty.call($,ae)&&(m[ae]=$[ae])},u(y,g)};return function(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function m(){this.constructor=y}u(y,g),y.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),X="contentEditable",te=function(u){function y(g){var m=u.call(this,g)||this;(0,O.bindAll)(m,"__render"),m.opt=g,m.module=g.module;var $=g.config||{},ae=$.onInit;m.config=$,m.sorter=g.sorter||"",m.parentView=g.parentView;var K=m.pfx,F=m.ppfx,b=m.model,h=b.get("components"),V=b.get("type")||"default";return m.listenTo(h,"remove add reset",m.checkChildren),[["change:status",m.updateStatus],["change:open",m.updateOpening],["change:layerable",m.updateLayerable],["change:style:display",m.updateVisibility],["rerender:layer",m.render],["change:name change:custom-name",m.updateName]].forEach(function(M){return m.listenTo(b,M[0],M[1])}),m.className="".concat(K,"layer ").concat(K,"layer__t-").concat(V," no-select ").concat(F,"two-color"),m.inputNameCls="".concat(F,"layer-name"),m.clsTitleC="".concat(K,"layer-title-c"),m.clsTitle="".concat(K,"layer-title"),m.clsCaret="".concat(K,"layer-caret"),m.clsCount="".concat(K,"layer-count"),m.clsMove="".concat(K,"layer-move"),m.clsChildren="".concat(K,"layer-children"),m.clsNoChild="".concat(K,"layer-no-chld"),m.clsEdit="".concat(m.inputNameCls,"--edit"),m.clsNoEdit="".concat(m.inputNameCls,"--no-edit"),m.$el.data("model",b),m.$el.data("collection",h),b.viewLayer=m,ae.bind(m)({component:b,render:m.__render,listenTo:m.listenTo}),m}return Q(y,u),y.prototype.events=function(){return{"mousedown [data-toggle-move]":"startSort","touchstart [data-toggle-move]":"startSort","click [data-toggle-visible]":"toggleVisibility","click [data-toggle-open]":"toggleOpening","click [data-toggle-select]":"handleSelect","mouseover [data-toggle-select]":"handleHover","mouseout [data-toggle-select]":"handleHoverOut","dblclick [data-name]":"handleEdit","keydown [data-name]":"handleEditKey","focusout [data-name]":"handleEditEnd"}},y.prototype.template=function(g){var m=this,$=m.pfx,ae=m.ppfx,K=m.config,F=m.clsNoEdit,b=m.module,h=m.opt,V=K.hidable,M=b.getComponents(g).length,T=M?"":this.clsNoChild,P="".concat(this.clsTitle," ").concat(T),c="".concat(this.clsTitleC," ").concat(ae,"one-bg"),ee="".concat(this.clsCaret," fa fa-chevron-right"),q="".concat(this.inputNameCls," ").concat(F," ").concat(ae,"no-app"),E=h.level+1,R="".concat(30+10*E,"px"),ue=g.getName(),be=g.getIcon(),N="".concat($,"layer");return`
      `.concat(V?'<i class="'.concat($,"layer-vis fa fa-eye ").concat(b.isVisible(g)?"":"fa-eye-slash",'" data-toggle-visible></i>'):"",`
      <div class="`).concat(c,`">
        <div class="`).concat(P,'" style="padding-left: ').concat(R,`" data-toggle-select>
          <div class="`).concat($,'layer-title-inn" title="').concat(ue,`">
            <i class="`).concat(ee,`" data-toggle-open></i>
            `).concat(be?'<span class="'.concat(N,'__icon">').concat(be,"</span>"):"",`
            <span class="`).concat(q,'" data-name>').concat(ue,`</span>
          </div>
        </div>
      </div>
      <div class="`).concat(this.clsCount,'" data-count>').concat(M||"",`</div>
      <div class="`).concat(this.clsMove,`" data-toggle-move>
        <i class="fa fa-arrows"></i>
      </div>
      <div class="`).concat(this.clsChildren,'"></div>')},Object.defineProperty(y.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),y.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},y.prototype.getVisibilityEl=function(){return this.eyeEl||(this.eyeEl=this.$el.children(".".concat(this.pfx,"layer-vis"))),this.eyeEl},y.prototype.updateVisibility=function(){var g=this,m=g.pfx,$=g.model,ae=g.module,K="".concat(m,"layer-hidden"),F=ae.isVisible($)?"removeClass":"addClass";this.$el[F](K),this.getVisibilityEl()[F]("fa-eye-slash")},y.prototype.toggleVisibility=function(g){g==null||g.stopPropagation();var m=this.module,$=this.model;m.setVisible($,!m.isVisible($))},y.prototype.handleEdit=function(g){g==null||g.stopPropagation();var m=this,$=m.em,ae=m.$el,K=m.clsNoEdit,F=m.clsEdit,b=this.getInputName();b[X]="true",b.focus(),document.execCommand("selectAll",!1),$.setEditing(!0),ae.find(".".concat(this.inputNameCls)).removeClass(K).addClass(F)},y.prototype.handleEditKey=function(g){g.stopPropagation(),((0,p.isEscKey)(g)||(0,p.isEnterKey)(g))&&this.handleEditEnd(g)},y.prototype.handleEditEnd=function(g){g==null||g.stopPropagation();var m=this,$=m.em,ae=m.$el,K=m.clsNoEdit,F=m.clsEdit,b=this.getInputName(),h=b.textContent;b.scrollLeft=0,b[X]="false",this.setName(h,{component:this.model,propName:"custom-name"}),$.setEditing(!1),ae.find(".".concat(this.inputNameCls)).addClass(K).removeClass(F)},y.prototype.setName=function(g,m){var $=m.propName;this.model.set($,g)},y.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},y.prototype.updateOpening=function(){var g=this.$el,m=this.model,$="open",ae="fa-chevron-down",K=this.getCaret();this.module.isOpen(m)?(g.addClass($),K.addClass(ae)):(g.removeClass($),K.removeClass(ae))},y.prototype.toggleOpening=function(g){var m=this.model,$=this.module;g==null||g.stopImmediatePropagation(),m.get("components").length&&$.setOpen(m,!$.isOpen(m))},y.prototype.handleSelect=function(g){g==null||g.stopPropagation();var m=this.module,$=this.model;m.setLayerData($,{selected:!0},{event:g})},y.prototype.handleHover=function(g){g==null||g.stopPropagation();var m=this.module,$=this.model;m.setLayerData($,{hovered:!0})},y.prototype.handleHoverOut=function(g){g==null||g.stopPropagation();var m=this.module,$=this.model;m.setLayerData($,{hovered:!1})},y.prototype.startSort=function(g){g.stopPropagation();var m=this.em,$=this.sorter;g.button&&g.button!==0||$&&($.onStart=function(ae){return m.trigger("".concat(v.OA,":start"),ae)},$.onMoveClb=function(ae){return m.trigger(v.OA,ae)},$.startSort(g.target))},y.prototype.updateStatus=function(){l.Z.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:1}])},y.prototype.checkChildren=function(){var g=this,m=g.model,$=g.clsNoChild,ae=g.$el,K=g.module,F=K.getComponents(m).length,b=ae.children(".".concat(this.clsTitleC)).children(".".concat(this.clsTitle)),h=this.cnt;h||(h=ae.children("[data-count]").get(0),this.cnt=h),b[F?"removeClass":"addClass"]($),h&&(h.innerHTML=F||""),!F&&K.setOpen(m,!1)},y.prototype.getCaret=function(){return this.caret&&this.caret.length||(this.caret=this.$el.children(".".concat(this.clsTitleC)).find(".".concat(this.clsCaret))),this.caret},y.prototype.setRoot=function(g){g=(0,O.isString)(g)?this.em.getWrapper().find(g)[0]:g;var m=(0,p.getModel)(g,0);m&&(this.stopListening(),this.model=m,this.initialize(this.opt),this._rendered&&this.render())},y.prototype.updateLayerable=function(){(this.parentView||this).render()},y.prototype.__clearItems=function(){var g;(g=this.items)===null||g===void 0||g.remove()},y.prototype.remove=function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];return f.prototype.remove.apply(this,g),this.__clearItems(),this},y.prototype.render=function(){var g=this,m=g.model,$=g.config,ae=g.pfx,K=g.ppfx,F=g.opt,b=g.sorter;this.__clearItems();var h=F.opened,V=F.module,M=F.ItemView,T=!V.__isLayerable(m),P=this.$el.empty(),c=F.level+1;delete this.inputName,this.items=new B({ItemView:M,collection:m.get("components"),config:$,sorter:b,opened:h,parentView:this,parent:m,level:c,module:V});var ee=this.items.render().$el;return $.showWrapper||c!==1?(P.html(this.template(m)),P.find(".".concat(this.clsChildren)).append(ee)):P.append(ee),m.get("draggable")&&$.sortable||P.children(".".concat(this.clsMove)).remove(),!V.isVisible(m)&&(this.className+=" ".concat(ae,"hide")),T&&(this.className+=" ".concat(K,"hidden")),P.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.__render(),this._rendered=!0,this},y.prototype.__render=function(){var g=this,m=g.model,$=g.config,ae={component:m,el:g.el};$.onRender.bind(this)(ae),this.em.trigger("layer:render",ae)},y}(f);const J=te;var U=function(){var u=function(y,g){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,$){m.__proto__=$}||function(m,$){for(var ae in $)Object.prototype.hasOwnProperty.call($,ae)&&(m[ae]=$[ae])},u(y,g)};return function(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function m(){this.constructor=y}u(y,g),y.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}(),se=function(){return se=Object.assign||function(u){for(var y,g=1,m=arguments.length;g<m;g++)for(var $ in y=arguments[g])Object.prototype.hasOwnProperty.call(y,$)&&(u[$]=y[$]);return u},se.apply(this,arguments)},me="layer",ce="".concat(me,":"),D="".concat(ce,"root"),L="".concat(ce,"component"),I={all:me,root:D,component:L},re={mediaText:""},ne=["open","status","locked","custom-name","components","classes"].map(function(u){return"component:update:".concat(u)}).join(" "),z=function(u){function y(g){var m=u.call(this,g,"LayerManager",k)||this;return m.events=I,(0,O.bindAll)(m,"componentChanged","__onRootChange","__onComponent"),m.model=new H.Z(m,{opened:{}}),m.config.stylePrefix=m.config.pStylePrefix,m}return U(y,u),y.prototype.onLoad=function(){var g=this,m=this,$=m.em,ae=m.config,K=m.model;K.listenTo($,"component:selected",this.componentChanged),K.on("change:root",this.__onRootChange),K.listenTo($,ne,this.__onComponent),this.componentChanged(),K.listenToOnce($,"load",function(){g.setRoot(ae.root),g.__appendTo()})},y.prototype.setRoot=function(g){var m=this.em.getWrapper(),$=(0,p.isComponent)(g)?g:m;return g&&(0,O.isString)(g)&&(0,p.hasWin)()&&($=m.find(g)[0]||m),this.model.set("root",$),$},y.prototype.getRoot=function(){return this.model.get("root")},y.prototype.getLayerData=function(g){var m=g.get("status");return{name:g.getName(),open:this.isOpen(g),selected:m==="selected",hovered:m==="hovered",visible:this.isVisible(g),locked:this.isLocked(g),components:this.getComponents(g)}},y.prototype.setLayerData=function(g,m,$){$===void 0&&($={});var ae=this.em,K=this.config,F=m.open,b=m.selected,h=m.hovered,V=m.visible,M=m.locked,T=m.name,P=se({fromLayers:!0},$);if((0,p.isDef)(F)&&this.setOpen(g,F),(0,p.isDef)(b))if(b){ae.setSelected(g,P);var c=K.scrollCanvas;c&&g.views.forEach(function(ee){return ee.scrollIntoView(c)})}else ae.removeSelected(g,P);(0,p.isDef)(h)&&K.showHover&&(h?ae.setHovered(g,P):ae.setHovered(null,P)),(0,p.isDef)(V)&&V!==this.isVisible(g)&&this.setVisible(g,V),(0,p.isDef)(M)&&this.setLocked(g,M),(0,p.isDef)(T)&&this.setName(g,T)},y.prototype.getComponents=function(g){var m=this;return g.components().filter(function($){return m.__isLayerable($)})},y.prototype.setOpen=function(g,m){g.set("open",m)},y.prototype.isOpen=function(g){return!!g.get("open")},y.prototype.setVisible=function(g,m){var $="__prev-display",ae=g.getStyle(re),K=ae.display;if(m){var F=g.get($);delete ae.display,F&&(ae.display=F,g.unset($))}else K&&g.set($,K),ae.display="none";g.setStyle(ae,re),this.updateLayer(g),this.em.trigger("component:toggled")},y.prototype.isVisible=function(g){return(m=g.getStyle(re))===void 0&&(m={}),(m.display||"").trim().indexOf("none")!==0;var m},y.prototype.setLocked=function(g,m){g.set("locked",m)},y.prototype.isLocked=function(g){return g.get("locked")},y.prototype.setName=function(g,m){g.set("custom-name",m)},y.prototype.getAll=function(){return this.view},y.prototype.componentChanged=function(g,m){var $;if(m===void 0&&(m={}),!m.fromLayers){var ae=this.em,K=this.config.scrollLayers,F=this.model.get("opened"),b=ae.getSelected(),h=b==null?void 0:b.parent();for(var V in F)F[V].set("open",!1),delete F[V];for(;h;)h.set("open",!0),F[h.cid]=h,h=h.parent();if(b&&K){var M=($=b.viewLayer)===null||$===void 0?void 0:$.el;M==null||M.scrollIntoView(K)}}},y.prototype.render=function(){var g,m,$=this.config,ae=this.model,K=J.extend($.extend);return this.view=new K({el:(g=this.view)===null||g===void 0?void 0:g.el,ItemView:K,level:0,config:$,opened:ae.get("opened"),model:this.getRoot(),module:this}),(m=this.view)===null||m===void 0?void 0:m.render().el},y.prototype.destroy=function(){var g;(g=this.view)===null||g===void 0||g.remove()},y.prototype.__onRootChange=function(){var g,m=this.getRoot();(g=this.view)===null||g===void 0||g.setRoot(m),this.em.trigger(D,m)},y.prototype.__onComponent=function(g){this.updateLayer(g)},y.prototype.__isLayerable=function(g){var m=g.get("tagName");return(!this.config.hideTextnode||!g.is("textnode")&&m!=="br")&&g.get("layerable")},y.prototype.updateLayer=function(g,m){this.em.trigger(L,g,m)},y}(A.Z);const Y=z},7948:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>z,evAll:()=>Q,evPageAdd:()=>se,evPageAddBefore:()=>me,evPageRemove:()=>ce,evPageRemoveBefore:()=>D,evPageSelect:()=>te,evPageSelectBefore:()=>J,evPageUpdate:()=>U,evPfx:()=>X});var O,H=s(9050),A=s(1163),p=s(7904),k=s(6434),d=s(2316),S=s(3560),x=s(6840),f=(O=function(Y,u){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(y[m]=g[m])},O(Y,u)},function(Y,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function y(){this.constructor=Y}O(Y,u),Y.prototype=u===null?Object.create(u):(y.prototype=u.prototype,new y)});const l=function(Y){function u(y,g){g===void 0&&(g={});var m=Y.call(this,y,g)||this,$=g.em,ae={};m.em=$,y.frames||(ae.component=y.component,ae.styles=y.styles,["component","styles"].map(function(h){return m.unset(h)}));var K=y.frames||[ae],F=new S.Z(K==null?void 0:K.map(function(h){return new x.Z(h,g)}));F.page=m,m.set("frames",F),!m.getId()&&m.set("id",$==null?void 0:$.get("PageManager")._createId());var b=$==null?void 0:$.get("UndoManager");return b==null||b.add(F),m}return f(u,Y),u.prototype.defaults=function(){return{frames:[],_undo:!0}},u.prototype.onRemove=function(){this.get("frames").reset()},u.prototype.getFrames=function(){return this.get("frames")},u.prototype.getId=function(){return this.id},u.prototype.getName=function(){return this.get("name")},u.prototype.setName=function(y){return this.set({name:y})},u.prototype.getAllFrames=function(){return this.getFrames().models||[]},u.prototype.getMainFrame=function(){return this.getFrames().at(0)},u.prototype.getMainComponent=function(){var y=this.getMainFrame();return y==null?void 0:y.getComponent()},u.prototype.toJSON=function(y){y===void 0&&(y={});var g=d.Model.prototype.toJSON.call(this,y),m=(0,H.result)(this,"defaults");return(0,H.forEach)(g,function($,ae){ae.indexOf("_")===0&&delete g[ae]}),(0,H.forEach)(m,function($,ae){g[ae]===$&&delete g[ae]}),g},u}(d.Model);var v=function(){var Y=function(u,y){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var $ in m)Object.prototype.hasOwnProperty.call(m,$)&&(g[$]=m[$])},Y(u,y)};return function(u,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function g(){this.constructor=u}Y(u,y),u.prototype=y===null?Object.create(y):(g.prototype=y.prototype,new g)}}(),w=function(){return w=Object.assign||function(Y){for(var u,y=1,g=arguments.length;y<g;y++)for(var m in u=arguments[y])Object.prototype.hasOwnProperty.call(u,m)&&(Y[m]=u[m]);return Y},w.apply(this,arguments)};const j=function(Y){function u(y,g){var m=Y.call(this,y)||this;return m.on("reset",m.onReset),m.on("remove",m.onRemove),m.model=function($,ae){return ae===void 0&&(ae={}),new l($,w(w({},ae),{em:g}))},m}return v(u,Y),u.prototype.onReset=function(y,g){var m,$=this;(m=g==null?void 0:g.previousModels)===null||m===void 0||m.map(function(ae){return $.onRemove(ae)})},u.prototype.onRemove=function(y){y==null||y.onRemove()},u}(d.Collection);var B=function(){var Y=function(u,y){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var $ in m)Object.prototype.hasOwnProperty.call(m,$)&&(g[$]=m[$])},Y(u,y)};return function(u,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function g(){this.constructor=u}Y(u,y),u.prototype=y===null?Object.create(y):(g.prototype=y.prototype,new g)}}(),Q="page",X="".concat(Q,":"),te="".concat(X,"select"),J="".concat(te,":before"),U="".concat(X,"update"),se="".concat(X,"add"),me="".concat(se,":before"),ce="".concat(X,"remove"),D="".concat(ce,":before"),L="change:selected",I="main",re={all:Q,select:te,selectBefore:J,update:U,add:se,addBefore:me,remove:ce,removeBefore:D},ne=function(Y){function u(y){var g=Y.call(this,y,"PageManager",new j([],y),re)||this;g.storageKey="pages",(0,H.bindAll)(g,"_onPageChange");var m=new p.Z({_undo:!0});return g.model=m,g.pages.on("reset",function($){return $.at(0)&&g.select($.at(0))}),g.pages.on("all",g.__onChange,g),m.on(L,g._onPageChange),g}return B(u,Y),Object.defineProperty(u.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),u.prototype.__onChange=function(y,g,m,$){var ae=$||m;this.em.trigger(Q,{event:y,page:g,options:ae})},u.prototype.onLoad=function(){var y,g=this,m=this.pages,$={silent:!0};m.add(((y=this.config.pages)===null||y===void 0?void 0:y.map(function(K){return new l(K,{em:g.em,config:g.config})}))||[],$);var ae=m.length?this.getMain():this.add({type:I},$);ae&&this.select(ae,$)},u.prototype._onPageChange=function(y,g,m){var $=this.em,ae=$.get("LayerManager"),K=g.getMainComponent();ae&&K&&ae.setRoot(K),$.trigger(te,g,y.previous("selected")),this.__onChange(L,g,m)},u.prototype.postLoad=function(){var y=this.em,g=this.model,m=y.get("UndoManager");m&&m.add(g),m&&m.add(this.pages)},u.prototype.add=function(y,g){var m=this;g===void 0&&(g={});var $=this.em;y.id=y.id||this._createId();var ae=function(){var K=m.pages.add(new l(y,{em:m.em,config:m.config}),g);return g.select&&m.select(K),K};return!g.silent&&$.trigger(me,y,ae,g),!g.abort&&ae()},u.prototype.remove=function(y,g){var m=this;g===void 0&&(g={});var $=this.em,ae=(0,H.isString)(y)?this.get(y):y,K=function(){return ae&&m.pages.remove(ae,g),ae};return!g.silent&&$.trigger(D,ae,K,g),!g.abort&&K()},u.prototype.get=function(y){return this.pages.filter(function(g){return g.get(g.idAttribute)===y})[0]},u.prototype.getMain=function(){var y=this.pages;return y.filter(function(g){return g.get("type")===I})[0]||y.at(0)},u.prototype.getAllWrappers=function(){var y=this.getAll();return(0,H.unique)((0,H.flatten)(y.map(function(g){return g.getAllFrames().map(function(m){return m.getComponent()})})))},u.prototype.select=function(y,g){g===void 0&&(g={});var m=(0,H.isString)(y)?this.get(y):y;return m&&(this.em.trigger(J,m,g),this.model.set("selected",m,g)),this},u.prototype.getSelected=function(){return this.model.get("selected")},u.prototype.destroy=function(){var y=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(g){return y[g]=0})},u.prototype.store=function(){return this.getProjectData()},u.prototype.load=function(y){return this.loadProjectData(y,{all:this.pages,reset:!0})},u.prototype._createId=function(){var y,g=this.getAll().length+16,m=this.getAllMap();do y=(0,A.createId)(g);while(m[y]);return y},u}(k.O);const z=ne},3463:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>K,evAdd:()=>u,evAll:()=>z,evCustom:()=>$,evPfx:()=>Y,evRemove:()=>g,evRemoveBefore:()=>m,evState:()=>ae,evUpdate:()=>y});var O=s(9050),H=s(1163),A=s(9714),p=s(2316);const k={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],escapeName:0,selectedName:0,iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',render:0,componentFirst:!1,custom:!1};var d,S=s(5963),x=s(966),f=(d=function(F,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,V){h.__proto__=V}||function(h,V){for(var M in V)Object.prototype.hasOwnProperty.call(V,M)&&(h[M]=V[M])},d(F,b)},function(F,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function h(){this.constructor=F}d(F,b),F.prototype=b===null?Object.create(b):(h.prototype=b.prototype,new h)}),l=function(F){function b(){return F!==null&&F.apply(this,arguments)||this}return f(b,F),b.prototype.defaults=function(){return{name:"",label:""}},b.prototype.getName=function(){return this.get("name")},b.prototype.getLabel=function(){return this.get("label")||this.getName()},b}(p.Model);const v=l;l.prototype.idAttribute="name";var w=function(){var F=function(b,h){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,M){V.__proto__=M}||function(V,M){for(var T in M)Object.prototype.hasOwnProperty.call(M,T)&&(V[T]=M[T])},F(b,h)};return function(b,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function V(){this.constructor=b}F(b,h),b.prototype=h===null?Object.create(h):(V.prototype=h.prototype,new V)}}(),j="contentEditable";const B=function(F){function b(h){h===void 0&&(h={});var V=F.call(this,h)||this,M=h.config||{};return V.config=M,V.module=h.module,V.coll=h.coll||null,V.pfx=M.stylePrefix||"",V.ppfx=M.pStylePrefix||"",V.em=M.em,V.listenTo(V.model,"change:active",V.updateStatus),V}return w(b,F),b.prototype.template=function(){var h=this,V=h.pfx,M=h.model,T=h.config,P=M.get("label")||"";return`
      <span id="`.concat(V,'checkbox" class="').concat(V,`tag-status" data-tag-status></span>
      <span id="`).concat(V,'tag-label" data-tag-name>').concat(P,`</span>
      <span id="`).concat(V,'close" class="').concat(V,`tag-close" data-tag-remove>
        `).concat(T.iconTagRemove,`
      </span>
    `)},b.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},b.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},b.prototype.startEditTag=function(){var h=this.em,V=this.getInputEl();V[j]="true",V.focus(),h&&h.setEditing(1)},b.prototype.endEditTag=function(){var h=this.model,V=this.getInputEl(),M=V.textContent,T=this.em,P=T&&T.get("SelectorManager");if(V[j]="false",T&&T.setEditing(0),P){var c=P.escapeName(M);P.get(c)?V.innerText=h.get("label"):h.set({name:c,label:M})}},b.prototype.changeStatus=function(){var h=this.model;h.set("active",!h.get("active"))},b.prototype.removeTag=function(){this.module.removeSelected(this.model)},b.prototype.updateStatus=function(){var h=this,V=h.model,M=h.$el,T=h.config,P=T.iconTagOn,c=T.iconTagOff,ee=M.find("[data-tag-status]");V.get("active")?(ee.html(P),M.removeClass("opac50")):(ee.html(c),M.addClass("opac50"))},b.prototype.render=function(){var h=this.pfx,V=this.ppfx;return this.$el.html(this.template()),this.$el.attr("class","".concat(h,"tag ").concat(V,"three-bg")),this.updateStatus(),this},b}(p.View);var Q=s(7539),X=function(){var F=function(b,h){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,M){V.__proto__=M}||function(V,M){for(var T in M)Object.prototype.hasOwnProperty.call(M,T)&&(V[T]=M[T])},F(b,h)};return function(b,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function V(){this.constructor=b}F(b,h),b.prototype=h===null?Object.create(h):(V.prototype=h.prototype,new V)}}(),te=function(F,b){return Object.defineProperty?Object.defineProperty(F,"raw",{value:b}):F.raw=b,F};const J=function(F){function b(h){h===void 0&&(h={});var V=F.call(this,h)||this;V.config=h.config||{},V.pfx=V.config.stylePrefix||"",V.ppfx=V.config.pStylePrefix||"",V.className=V.pfx+"tags",V.stateInputId=V.pfx+"states",V.stateInputC=V.pfx+"input-c",V.states=V.config.states||[];var M=V.config.em,T=V.collection;V.target=M;var P=M.get("SelectorManager");return V.module=P,V.em=M,V.componentChanged=(0,O.debounce)(V.componentChanged.bind(V),0),V.checkSync=(0,O.debounce)(V.checkSync.bind(V),0),V.listenTo(M,"component:toggled component:update:classes",V.componentChanged),V.listenTo(M,"styleManager:update",V.componentChanged),V.listenTo(M,"component:update:classes change:state",V.__handleStateChange),V.listenTo(M,"styleable:change change:device",V.checkSync),V.listenTo(T,"add",V.addNew),V.listenTo(T,"reset",V.renderClasses),V.listenTo(T,"remove",V.tagRemoved),V.listenTo(P.getAll(),P.events.state,(0,O.debounce)(function(){return V.renderStates()},0)),V.delegateEvents(),V}return X(b,F),b.prototype.template=function(h){var V=h.labelInfo,M=h.labelHead,T=h.iconSync,P=h.iconAdd,c=h.pfx,ee=h.ppfx;return`
    <div id="`.concat(c,'up" class="').concat(c,`header">
      <div id="`).concat(c,'label" class="').concat(c,'header-label">').concat(M,`</div>
      <div id="`).concat(c,'status-c" class="').concat(c,`header-status">
        <span id="`).concat(c,`input-c" data-states-c>
          <div class="`).concat(ee,"field ").concat(ee,`select">
            <span id="`).concat(ee,`input-holder">
              <select id="`).concat(c,`states" data-states></select>
            </span>
            <div class="`).concat(ee,`sel-arrow">
              <div class="`).concat(ee,`d-s-arrow"></div>
            </div>
          </div>
        </span>
      </div>
    </div>
    <div id="`).concat(c,'tags-field" class="').concat(ee,`field">
      <div id="`).concat(c,`tags-c" data-selectors></div>
      <input id="`).concat(c,`new" data-input/>
      <span id="`).concat(c,'add-tag" class="').concat(c,"tags-btn ").concat(c,`tags-btn__add" data-add>
        `).concat(P,`
      </span>
      <span class="`).concat(c,"tags-btn ").concat(c,`tags-btn__sync" style="display: none" data-sync-style>
        `).concat(T,`
      </span>
    </div>
    <div class="`).concat(c,`sels-info">
      <div class="`).concat(c,'label-sel">').concat(V,`:</div>
      <div class="`).concat(c,`sels" data-selected></div>
    </div>`)},b.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},b.prototype.syncStyle=function(){var h,V=this.em,M=this.getTarget(),T=V.get("CssComposer"),P=this.getCommonSelectors({opts:{noDisabled:1}}),c=V.get("state"),ee=V.getCurrentMedia(),q=[],E=T.get(P,c,ee)||T.add(P,c,ee);this.getTargets().forEach(function(R){var ue=T.getIdRule(R.getId(),{state:c,mediaText:ee});h=ue.getStyle(),ue.setStyle({}),q.push(ue)}),h&&E.addStyle(h),V.trigger("component:toggled"),V.trigger("component:sync-style",{component:M,selectors:P,mediaText:ee,rule:E,ruleComponents:q,state:c})},b.prototype.tagRemoved=function(h){this.updateStateVis()},b.prototype.addNew=function(h){this.addToClasses(h)},b.prototype.startNewTag=function(){var h,V;(h=this.$addBtn)===null||h===void 0||h.css({display:"none"}),(V=this.$input)===null||V===void 0||V.show().focus()},b.prototype.endNewTag=function(){var h,V;(h=this.$addBtn)===null||h===void 0||h.css({display:""}),(V=this.$input)===null||V===void 0||V.hide().val("")},b.prototype.onInputKeyUp=function(h){var V;h.keyCode===13?(h.preventDefault(),this.addNewTag((V=this.$input)===null||V===void 0?void 0:V.val())):h.keyCode===27&&this.endNewTag()},b.prototype.checkStates=function(){var h=this.em.getState(),V=this.getStates();V&&V.val(h)},b.prototype.componentChanged=function(h){var V=(h===void 0?{}:h).targets;this.updateSelection(V)},b.prototype.updateSelection=function(h){var V=h||this.getTargets(),M=[];return(V=(0,O.isArray)(V)?V:[V])&&V.length&&(M=this.getCommonSelectors({targets:V}),this.checkSync({validSelectors:M})),this.collection.reset(M),this.updateStateVis(V),this.module.__trgCustom(),M},b.prototype.getCommonSelectors=function(h){var V=h===void 0?{}:h,M=V.targets,T=V.opts,P=T===void 0?{}:T,c=M||this.getTargets();return this.module.__getCommonSelectors(c,P)},b.prototype._commonSelectors=function(){for(var h,V=[],M=0;M<arguments.length;M++)V[M]=arguments[M];return(h=this.module).__common.apply(h,V)},b.prototype.checkSync=function(){var h,V=this,M=V.$btnSyncEl,T=V.config,P=V.collection,c=this.getTarget();if(c&&T.componentFirst&&P.length){var ee=c.getStyle();h=!(0,O.isEmpty)(ee)}M&&M[h?"show":"hide"]()},b.prototype.getTarget=function(){return this.target.getSelected()},b.prototype.getTargets=function(){return this.target.getSelectedAll()},b.prototype.updateStateVis=function(h){var V=this.em,M=V&&V.getConfig().avoidInlineStyle,T=this.collection.length||M?"":"none";this.getStatesC().css("display",T),this.updateSelector(h)},b.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},b.prototype.updateSelector=function(h){var V=this,M=this.el.querySelector("[data-selected]"),T=[],P=h||this.getTargets();(P=(0,O.isArray)(P)?P:[P]).forEach(function(c){return T.push(V.__getName(c))}),M&&(M.innerHTML=T.join(", ")),this.checkStates()},b.prototype.__getName=function(h){var V,M=this,T=M.pfx,P=M.config,c=M.em,ee=P.selectedName,q=P.componentFirst;if((0,O.isString)(h))V=(0,Q.Z)(U||(U=te(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),T,h);else{var E=h==null?void 0:h.getSelectors();if(!E)return"";var R=E.getStyleable(),ue=c.get("state"),be=h.getId?(0,Q.Z)(se||(se=te(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),T,h.getName(),T,h.getId()):"";V=(V=this.collection.getFullString(R))?(0,Q.Z)(me||(me=te(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),T,V):h.get("selectorsAdd")||be,V=q&&be?be:V,V+=ue?(0,Q.Z)(ce||(ce=te(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),T,ue):"",V=ee?ee({result:V,state:ue,target:h}):V}return V&&'<span class="'.concat(T,'sel">').concat(V,"</span>")},b.prototype.stateChanged=function(h){var V=this.em,M=h.target.value;V.set("state",M)},b.prototype.addNewTag=function(h){var V=h.trim();V&&(this.module.addSelected({label:V}),this.endNewTag())},b.prototype.addToClasses=function(h,V){var M=V,T=this.getClasses(),P=new B({model:h,config:this.config,coll:this.collection,module:this.module}).render().el;return M?M.appendChild(P):T.append(P),P},b.prototype.renderClasses=function(){var h=this,V=document.createDocumentFragment(),M=this.getClasses();M.empty(),this.collection.each(function(T){return h.addToClasses(T,V)}),M.append(V)},b.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},b.prototype.getStates=function(){if(!this.$states){var h=this.$el.find("[data-states]");this.$states=h[0]&&h}return this.$states},b.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},b.prototype.renderStates=function(){var h=this.module,V=this.em,M=V.t("selectorManager.emptyState"),T=h.getStates().map(function(c){var ee=V.t("selectorManager.states.".concat(c.id))||c.getLabel()||c.id;return'<option value="'.concat(c.id,'">').concat(ee,"</option>")}).join(""),P=this.getStates();P&&P.html('<option value="">'.concat(M,"</option>").concat(T)),this.checkStates()},b.prototype.render=function(){var h=this,V=h.em,M=h.pfx,T=h.ppfx,P=h.config,c=h.$el,ee=h.el,q=P.render,E={iconSync:P.iconSync,iconAdd:P.iconAdd,labelHead:V.t("selectorManager.label"),labelInfo:V.t("selectorManager.selected"),ppfx:T,pfx:M,el:ee};c.html(this.template(E));var R=q&&q(E);return R&&R!==ee&&c.empty().append(R),this.$input=c.find("[data-input]"),this.$addBtn=c.find("[data-add]"),this.$classes=c.find("#"+M+"tags-c"),this.$btnSyncEl=c.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),c.attr("class","".concat(this.className," ").concat(T,"one-bg ").concat(T,"two-color")),this},b}(p.View);var U,se,me,ce,D=function(){var F=function(b,h){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,M){V.__proto__=M}||function(V,M){for(var T in M)Object.prototype.hasOwnProperty.call(M,T)&&(V[T]=M[T])},F(b,h)};return function(b,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function V(){this.constructor=b}F(b,h),b.prototype=h===null?Object.create(h):(V.prototype=h.prototype,new V)}}(),L=function(){return L=Object.assign||function(F){for(var b,h=1,V=arguments.length;h<V;h++)for(var M in b=arguments[h])Object.prototype.hasOwnProperty.call(b,M)&&(F[M]=b[M]);return F},L.apply(this,arguments)},I=function(F,b,h){if(h||arguments.length===2)for(var V,M=0,T=b.length;M<T;M++)!V&&M in b||(V||(V=Array.prototype.slice.call(b,0,M)),V[M]=b[M]);return F.concat(V||Array.prototype.slice.call(b))},re=function(F){return(0,O.isString)(F)&&F[0]=="#"},ne=function(F){return(0,O.isString)(F)&&F[0]=="."},z="selector",Y="".concat(z,":"),u="".concat(Y,"add"),y="".concat(Y,"update"),g="".concat(Y,"remove"),m="".concat(g,":before"),$="".concat(Y,"custom"),ae="".concat(Y,"state");const K=function(F){function b(){var h=F!==null&&F.apply(this,arguments)||this;return h.name="SelectorManager",h.Selector=S.Z,h.Selectors=x.Z,h.events={all:z,update:y,add:u,remove:g,removeBefore:m,state:ae,custom:$},h.__update=(0,O.debounce)(function(){h.__trgCustom()},0),h}return D(b,F),b.prototype.init=function(h){var V=this;h===void 0&&(h={}),this.__initConfig(k,h);var M=this.getConfig(),T=this.em,P=M.pStylePrefix;return P&&(M.stylePrefix=P+M.stylePrefix),this.all=new x.Z(M.selectors),this.selected=new x.Z([],{em:T,config:M}),this.states=new p.Collection(M.states.map(function(c){return new v(c)}),{model:v}),this.model=new p.Model({cFirst:M.componentFirst,_undo:!0}),this.__initListen({collections:[this.states,this.selected],propagate:[{entity:this.states,event:this.events.state}]}),T.on("change:state",function(c,ee){return T.trigger(ae,ee)}),this.model.on("change:cFirst",function(c,ee){return T.trigger("selector:type",ee)}),this.model.listenTo(T,"component:toggled component:update:classes change:device styleManager:update selector:state selector:type",function(){return V.__update()}),this},b.prototype.__trgCustom=function(h){this.em.trigger(this.events.custom,this.__customData(h))},b.prototype.__customData=function(h){h===void 0&&(h={});var V=h.container;return{states:this.getStates(),selected:this.getSelected(),container:V}},b.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},b.prototype.select=function(h,V){V===void 0&&(V={});var M=Array.isArray(h)?h:[h],T=this.em.get("StyleManager").select(M,V),P=this.selectorTags,c=T.filter(function(ee){return ee}).map(function(ee){return(0,H.isComponent)(ee)||(0,H.isRule)(ee)&&!ee.get("selectorsAdd")?ee:ee.getSelectorsString()});return P&&P.componentChanged({targets:c}),this},b.prototype.addSelector=function(h,V,M){V===void 0&&(V={}),M===void 0&&(M={});var T=L({},V);(0,O.isObject)(h)?T=h:T.name=h,re(T.name)?(T.name=T.name.substr(1),T.type=S.Z.TYPE_ID):ne(T.name)&&(T.name=T.name.substr(1)),T.label&&!T.name&&(T.name=this.escapeName(T.label));var P=T.name,c=this.getConfig(),ee=this.getAll(),q=this.em,E=P?this.get(P,T.type):ee.where(T)[0];if(!E){var R=T instanceof S.Z?T:new S.Z(T,L(L({},M),{config:c,em:q}));return ee.add(R,M)}return E},b.prototype.getSelector=function(h,V){return V===void 0&&(V=S.Z.TYPE_CLASS),re(h)?(h=h.substr(1),V=S.Z.TYPE_ID):ne(h)&&(h=h.substr(1)),this.getAll().where({name:h,type:V})[0]},b.prototype.add=function(h,V){var M=this;V===void 0&&(V={});var T=(0,O.isString)(h)?{}:V;return(0,O.isArray)(h)?h.map(function(P){return M.addSelector(P,V,T)}):this.addSelector(h,V,T)},b.prototype.addClass=function(h){var V=this,M=[];return(0,O.isString)(h)&&(h=h.trim().split(" ")),h.forEach(function(T){return M.push(V.addSelector(T))}),M},b.prototype.get=function(h,V){var M=this;if((0,O.isArray)(h)){var T=[];return h.map(function(P){return M.getSelector(P)}).filter(function(P){return P}).forEach(function(P){return T.indexOf(P)<0&&T.push(P)}),T}return this.getSelector(h,V)||null},b.prototype.remove=function(h,V){return this.__remove(h,V)},b.prototype.setState=function(h){return this.em.setState(h),this},b.prototype.getState=function(){return this.em.getState()},b.prototype.getStates=function(){return I([],this.states.models,!0)},b.prototype.setStates=function(h,V){return this.states.reset(h.map(function(M){return new v(M)}),V)},b.prototype.getSelected=function(){return this.__getCommon()},b.prototype.addSelected=function(h){var V=this.add(h);this.em.getSelectedAll().forEach(function(M){M.getSelectors().add(V)})},b.prototype.removeSelected=function(h){this.em.getSelectedAll().forEach(function(V){!h.get("protected")&&V&&V.getSelectors().remove(h)})},b.prototype.getSelectedTargets=function(){return this.em.get("StyleManager").getSelectedAll()},b.prototype.setComponentFirst=function(h){this.getConfig().componentFirst=h,this.model.set({cFirst:h})},b.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},b.prototype.escapeName=function(h){var V=this.getConfig().escapeName;return V?V(h):S.Z.escapeName(h)},b.prototype.render=function(h){this.em;var V=this.selectorTags,M=this.getConfig(),T=V&&V.el;return this.selected.reset(h),this.selectorTags=new J({el:T,collection:this.selected,module:this,config:M}),this.selectorTags.render().el},b.prototype.destroy=function(){var h=this.selectorTags;this.model.stopListening(),this.__destroy(),h==null||h.remove(),this.selectorTags=void 0},b.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},b.prototype.__getCommonSelectors=function(h,V){V===void 0&&(V={});var M=h.map(function(T){return T.getSelectors&&T.getSelectors().getValid(V)}).filter(Boolean);return this.__common.apply(this,M)},b.prototype.__common=function(){for(var h=this,V=[],M=0;M<arguments.length;M++)V[M]=arguments[M];return V.length?V.length===1?V[0]:V.length===2?V[0].filter(function(T){return V[1].indexOf(T)>=0}):V.slice(1).reduce(function(T,P){return h.__common(T,P)},V[0]):[]},b}(A.Z)},5963:(ge,ie,s)=>{s.d(ie,{Z:()=>d});var O,H=s(9050),A=s(2316),p=(O=function(S,x){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(f[v]=l[v])},O(S,x)},function(S,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function f(){this.constructor=S}O(S,x),S.prototype=x===null?Object.create(x):(f.prototype=x.prototype,new f)}),k=function(S){function x(f,l){l===void 0&&(l={});var v=S.call(this,f,l)||this,w=l.config,j=w===void 0?{}:w,B=v.get("name"),Q=v.get("label");B?Q||v.set("label",B):v.set("name",Q);var X=v.get("name"),te=j.escapeName,J=te?te(X):x.escapeName(X);return v.set("name",J),v.em=l.em,v}return p(x,S),x.prototype.defaults=function(){return{name:"",label:"",type:1,active:!0,private:!1,protected:!1,_undo:!0}},x.prototype.isId=function(){return this.get("type")===2},x.prototype.isClass=function(){return this.get("type")===1},x.prototype.getFullName=function(f){f===void 0&&(f={});var l=f.escape,v=this.get("name"),w="";switch(this.get("type")){case 1:w=".";break;case 2:w="#"}return w+(l?l(v):v)},x.prototype.toString=function(){return this.getFullName()},x.prototype.getLabel=function(){return this.get("label")},x.prototype.setLabel=function(f){return this.set("label",f)},x.prototype.getActive=function(){return this.get("active")},x.prototype.setActive=function(f){return this.set("active",f)},x.prototype.toJSON=function(f){f===void 0&&(f={});var l=this.em,v=A.Model.prototype.toJSON.call(this,[f]),w=(0,H.result)(this,"defaults");if(l&&l.getConfig().avoidDefaults){(0,H.forEach)(w,function(B,Q){v[Q]===B&&delete v[Q]}),v.label===v.name&&delete v.label;var j=(0,H.keys)(v).length;j===1&&v.name&&(v=v.name),j===2&&v.name&&v.type&&(v=this.getFullName())}return v},x.escapeName=function(f){return"".concat(f).trim().replace(/([^a-z0-9\w-\:]+)/gi,"-")},x.TYPE_CLASS=1,x.TYPE_ID=2,x}(A.Model);const d=k;k.prototype.idAttribute="name"},966:(ge,ie,s)=>{s.d(ie,{Z:()=>x});var O,H=s(9050),A=s(2316),p=s(5963),k=(O=function(f,l){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,w){v.__proto__=w}||function(v,w){for(var j in w)Object.prototype.hasOwnProperty.call(w,j)&&(v[j]=w[j])},O(f,l)},function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function v(){this.constructor=f}O(f,l),f.prototype=l===null?Object.create(l):(v.prototype=l.prototype,new v)}),d=function(f,l){return f.reduce(function(v,w,j){return v.concat(d(f.slice(j+1),"".concat(l).concat(w)))},[l])},S=function(f){function l(){return f!==null&&f.apply(this,arguments)||this}return k(l,f),l.prototype.modelId=function(v){return"".concat(v.name,"_").concat(v.type||p.Z.TYPE_CLASS)},l.prototype.getStyleable=function(){return(0,H.filter)(this.models,function(v){return v.get("active")&&!v.get("private")})},l.prototype.getValid=function(v){var w=(v===void 0?{}:v).noDisabled;return(0,H.filter)(this.models,function(j){return!j.get("private")}).filter(function(j){return w?j.get("active"):1})},l.prototype.getFullString=function(v,w){w===void 0&&(w={});var j=[];return(v||this).forEach(function(B){return j.push(B.getFullName(w))}),w.sort&&j.sort(),j.join("").trim()},l.prototype.getFullName=function(v){v===void 0&&(v={});var w=v.combination,j=v.array,B=[],Q=this.map(function(X){return X.getFullName(v)}).sort();return w?Q.forEach(function(X,te){B=B.concat(d(Q.slice(te+1),X))}):B=Q,j?B:w?B.join(","):B.join("")},l}(A.Collection);const x=S;S.prototype.model=p.Z},7539:(ge,ie,s)=>{s.d(ie,{Z:()=>H});var O=s(1163);function H(A){for(var p=[],k=1;k<arguments.length;k++)p[k-1]=arguments[k];var d=A.raw;return d.reduce(function(S,x,f){var l=p[f-1],v=d[f-1];return Array.isArray(l)?l=l.join(""):v&&v.slice(-1)==="$"?S=S.slice(0,-1):l=(0,O.escape)(l),S+l+x})}},1163:(ge,ie,s)=>{s.r(ie),s.d(ie,{appendStyles:()=>v,camelCase:()=>te,capitalize:()=>K,createId:()=>M,deepMerge:()=>re,escape:()=>I,find:()=>L,getElRect:()=>z,getElement:()=>se,getGlobal:()=>d,getKeyChar:()=>y,getKeyCode:()=>u,getModel:()=>ne,getPointerEvent:()=>Y,getUiClass:()=>l,getUnitFromValue:()=>Q,getViewEl:()=>h,hasDnd:()=>U,hasWin:()=>k,isCommentNode:()=>ce,isComponent:()=>F,isDef:()=>p,isEmptyObj:()=>ae,isEnterKey:()=>m,isEscKey:()=>g,isObject:()=>$,isRule:()=>b,isTaggableNode:()=>D,isTextNode:()=>me,matches:()=>f,normalizeFloat:()=>J,off:()=>B,on:()=>j,setViewEl:()=>V,shallowDiff:()=>w,toLowerCase:()=>S,upFirst:()=>X});var O=s(9050),H=function(){return H=Object.assign||function(T){for(var P,c=1,ee=arguments.length;c<ee;c++)for(var q in P=arguments[c])Object.prototype.hasOwnProperty.call(P,q)&&(T[q]=P[q]);return T},H.apply(this,arguments)},A=function(T,P,c){if(c||arguments.length===2)for(var ee,q=0,E=P.length;q<E;q++)!ee&&q in P||(ee||(ee=Array.prototype.slice.call(P,0,q)),ee[q]=P[q]);return T.concat(ee||Array.prototype.slice.call(P))},p=function(T){return T!==void 0},k=function(){return typeof window<"u"},d=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:s.g},S=function(T){return(T||"").toLowerCase()},x=k()?window.Element.prototype:{},f=x.matches||x.webkitMatchesSelector||x.mozMatchesSelector||x.msMatchesSelector,l=function(T,P){var c=T.getConfig(),ee=c.stylePrefix;return[c.customUI&&"".concat(ee,"cui"),P].filter(function(q){return q}).join(" ")},v=function(T,P){P===void 0&&(P={});var c=(0,O.isArray)(T)?A([],T,!0):[T];if(c.length){var ee=c.shift();if(ee&&(!P.unique||!document.querySelector('link[href="'.concat(ee,'"]')))){var q=document.head,E=document.createElement("link");E.href=ee,E.rel="stylesheet",P.prepand?q.insertBefore(E,q.firstChild):q.appendChild(E)}v(c)}},w=function(T,P){var c={},ee=(0,O.keys)(P);for(var q in T)if(T.hasOwnProperty(q)){var E=T[q],R=P[q];ee.indexOf(q)>=0?E!==R&&(c[q]=R):c[q]=null}for(var q in P)P.hasOwnProperty(q)&&(0,O.isUndefined)(T[q])&&(c[q]=P[q]);return c},j=function(T,P,c,ee){var q=P.split(/\s+/);T=T instanceof Array?T:[T];for(var E=function(ue){T.forEach(function(be){return be&&be.addEventListener(q[ue],c,ee)})},R=0;R<q.length;++R)E(R)},B=function(T,P,c,ee){var q=P.split(/\s+/);T=T instanceof Array?T:[T];for(var E=function(ue){T.forEach(function(be){return be&&be.removeEventListener(q[ue],c,ee)})},R=0;R<q.length;++R)E(R)},Q=function(T){return T.replace(parseFloat(T),"")},X=function(T){return T[0].toUpperCase()+T.toLowerCase().slice(1)},te=function(T){return T.replace(/-./g,function(P){return P[1].toUpperCase()})},J=function(T,P,c){P===void 0&&(P=1),c===void 0&&(c=0);var ee=0;if(isNaN(T))return c;if(T=parseFloat(T),Math.floor(T)!==T){var q=P.toString().split(".")[1];ee=q?q.length:0}return ee?parseFloat(T.toFixed(ee)):T},U=function(T){return"draggable"in document.createElement("i")&&(T?T.get("Config").nativeDnD:1)},se=function(T){return(0,O.isElement)(T)||me(T)?T:T&&T.getEl?T.getEl():void 0},me=function(T){return T&&T.nodeType===3},ce=function(T){return T&&T.nodeType===8},D=function(T){return T&&!me(T)&&!ce(T)},L=function(T,P){var c=null;return T.some(function(ee,q){return P(ee,q,T)?(c=ee,1):0}),c},I=function(T){return T===void 0&&(T=""),"".concat(T).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},re=function(){for(var T=[],P=0;P<arguments.length;P++)T[P]=arguments[P];for(var c=H({},T[0]),ee=1;ee<T.length;ee++){var q=H({},T[ee]);for(var E in q){var R=c[E],ue=q[E];$(R)&&$(ue)?c[E]=re(R,ue):c[E]=ue}}return c},ne=function(T,P){var c=T;return!P&&T&&T.__cashData?c=T.__cashData.model:(0,O.isElement)(T)&&(c=P(T).data("model")),c},z=function(T){var P,c={top:0,left:0,width:0,height:0};if(!T)return c;if(me(T)){var ee=document.createRange();ee.selectNode(T),P=ee.getBoundingClientRect(),ee.detach()}return P||(T.getBoundingClientRect?T.getBoundingClientRect():c)},Y=function(T){return T.touches&&T.touches[0]?T.touches[0]:T},u=function(T){return T.which||T.keyCode},y=function(T){return String.fromCharCode(u(T))},g=function(T){return u(T)===27},m=function(T){return u(T)===13},$=function(T){return T!==null&&!Array.isArray(T)&&typeof T=="object"},ae=function(T){return Object.keys(T).length<=0},K=function(T){return T&&T.charAt(0).toUpperCase()+T.substring(1)},F=function(T){return T&&T.toHTML},b=function(T){return T&&T.toCSS},h=function(T){return T.__gjsv},V=function(T,P){T.__gjsv=P},M=function(T){T===void 0&&(T=16);for(var P="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",ee=c.length,q=0;q<T;q++)P+=c.charAt(Math.floor(Math.random()*ee));return P}},5666:ge=>{var ie=function(s){var O,H=Object.prototype,A=H.hasOwnProperty,p=typeof Symbol=="function"?Symbol:{},k=p.iterator||"@@iterator",d=p.asyncIterator||"@@asyncIterator",S=p.toStringTag||"@@toStringTag";function x(y,g,m){return Object.defineProperty(y,g,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[g]}try{x({},"")}catch{x=function(g,m,$){return g[m]=$}}function f(y,g,m,$){var ae=g&&g.prototype instanceof X?g:X,K=Object.create(ae.prototype),F=new z($||[]);return K._invoke=function(b,h,V){var M=v;return function(T,P){if(M===j)throw new Error("Generator is already running");if(M===B){if(T==="throw")throw P;return u()}for(V.method=T,V.arg=P;;){var c=V.delegate;if(c){var ee=I(c,V);if(ee){if(ee===Q)continue;return ee}}if(V.method==="next")V.sent=V._sent=V.arg;else if(V.method==="throw"){if(M===v)throw M=B,V.arg;V.dispatchException(V.arg)}else V.method==="return"&&V.abrupt("return",V.arg);M=j;var q=l(b,h,V);if(q.type==="normal"){if(M=V.done?B:w,q.arg===Q)continue;return{value:q.arg,done:V.done}}q.type==="throw"&&(M=B,V.method="throw",V.arg=q.arg)}}}(y,m,F),K}function l(y,g,m){try{return{type:"normal",arg:y.call(g,m)}}catch($){return{type:"throw",arg:$}}}s.wrap=f;var v="suspendedStart",w="suspendedYield",j="executing",B="completed",Q={};function X(){}function te(){}function J(){}var U={};U[k]=function(){return this};var se=Object.getPrototypeOf,me=se&&se(se(Y([])));me&&me!==H&&A.call(me,k)&&(U=me);var ce=J.prototype=X.prototype=Object.create(U);function D(y){["next","throw","return"].forEach(function(g){x(y,g,function(m){return this._invoke(g,m)})})}function L(y,g){function m(ae,K,F,b){var h=l(y[ae],y,K);if(h.type!=="throw"){var V=h.arg,M=V.value;return M&&typeof M=="object"&&A.call(M,"__await")?g.resolve(M.__await).then(function(T){m("next",T,F,b)},function(T){m("throw",T,F,b)}):g.resolve(M).then(function(T){V.value=T,F(V)},function(T){return m("throw",T,F,b)})}b(h.arg)}var $;this._invoke=function(ae,K){function F(){return new g(function(b,h){m(ae,K,b,h)})}return $=$?$.then(F,F):F()}}function I(y,g){var m=y.iterator[g.method];if(m===O){if(g.delegate=null,g.method==="throw"){if(y.iterator.return&&(g.method="return",g.arg=O,I(y,g),g.method==="throw"))return Q;g.method="throw",g.arg=new TypeError("The iterator does not provide a 'throw' method")}return Q}var $=l(m,y.iterator,g.arg);if($.type==="throw")return g.method="throw",g.arg=$.arg,g.delegate=null,Q;var ae=$.arg;return ae?ae.done?(g[y.resultName]=ae.value,g.next=y.nextLoc,g.method!=="return"&&(g.method="next",g.arg=O),g.delegate=null,Q):ae:(g.method="throw",g.arg=new TypeError("iterator result is not an object"),g.delegate=null,Q)}function re(y){var g={tryLoc:y[0]};1 in y&&(g.catchLoc=y[1]),2 in y&&(g.finallyLoc=y[2],g.afterLoc=y[3]),this.tryEntries.push(g)}function ne(y){var g=y.completion||{};g.type="normal",delete g.arg,y.completion=g}function z(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(re,this),this.reset(!0)}function Y(y){if(y){var g=y[k];if(g)return g.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,$=function ae(){for(;++m<y.length;)if(A.call(y,m))return ae.value=y[m],ae.done=!1,ae;return ae.value=O,ae.done=!0,ae};return $.next=$}}return{next:u}}function u(){return{value:O,done:!0}}return te.prototype=ce.constructor=J,J.constructor=te,te.displayName=x(J,S,"GeneratorFunction"),s.isGeneratorFunction=function(y){var g=typeof y=="function"&&y.constructor;return!!g&&(g===te||(g.displayName||g.name)==="GeneratorFunction")},s.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,J):(y.__proto__=J,x(y,S,"GeneratorFunction")),y.prototype=Object.create(ce),y},s.awrap=function(y){return{__await:y}},D(L.prototype),L.prototype[d]=function(){return this},s.AsyncIterator=L,s.async=function(y,g,m,$,ae){ae===void 0&&(ae=Promise);var K=new L(f(y,g,m,$),ae);return s.isGeneratorFunction(g)?K:K.next().then(function(F){return F.done?F.value:K.next()})},D(ce),x(ce,S,"Generator"),ce[k]=function(){return this},ce.toString=function(){return"[object Generator]"},s.keys=function(y){var g=[];for(var m in y)g.push(m);return g.reverse(),function $(){for(;g.length;){var ae=g.pop();if(ae in y)return $.value=ae,$.done=!1,$}return $.done=!0,$}},s.values=Y,z.prototype={constructor:z,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=O,this.done=!1,this.delegate=null,this.method="next",this.arg=O,this.tryEntries.forEach(ne),!y)for(var g in this)g.charAt(0)==="t"&&A.call(this,g)&&!isNaN(+g.slice(1))&&(this[g]=O)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var g=this;function m(h,V){return K.type="throw",K.arg=y,g.next=h,V&&(g.method="next",g.arg=O),!!V}for(var $=this.tryEntries.length-1;$>=0;--$){var ae=this.tryEntries[$],K=ae.completion;if(ae.tryLoc==="root")return m("end");if(ae.tryLoc<=this.prev){var F=A.call(ae,"catchLoc"),b=A.call(ae,"finallyLoc");if(F&&b){if(this.prev<ae.catchLoc)return m(ae.catchLoc,!0);if(this.prev<ae.finallyLoc)return m(ae.finallyLoc)}else if(F){if(this.prev<ae.catchLoc)return m(ae.catchLoc,!0)}else{if(!b)throw new Error("try statement without catch or finally");if(this.prev<ae.finallyLoc)return m(ae.finallyLoc)}}}},abrupt:function(y,g){for(var m=this.tryEntries.length-1;m>=0;--m){var $=this.tryEntries[m];if($.tryLoc<=this.prev&&A.call($,"finallyLoc")&&this.prev<$.finallyLoc){var ae=$;break}}ae&&(y==="break"||y==="continue")&&ae.tryLoc<=g&&g<=ae.finallyLoc&&(ae=null);var K=ae?ae.completion:{};return K.type=y,K.arg=g,ae?(this.method="next",this.next=ae.finallyLoc,Q):this.complete(K)},complete:function(y,g){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&g&&(this.next=g),Q},finish:function(y){for(var g=this.tryEntries.length-1;g>=0;--g){var m=this.tryEntries[g];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),ne(m),Q}},catch:function(y){for(var g=this.tryEntries.length-1;g>=0;--g){var m=this.tryEntries[g];if(m.tryLoc===y){var $=m.completion;if($.type==="throw"){var ae=$.arg;ne(m)}return ae}}throw new Error("illegal catch attempt")},delegateYield:function(y,g,m){return this.delegate={iterator:Y(y),resultName:g,nextLoc:m},this.method==="next"&&(this.arg=O),Q}},s}(ge.exports);try{regeneratorRuntime=ie}catch{Function("r","regeneratorRuntime = r")(ie)}},2828:(ge,ie,s)=>{var O={"./CanvasClear":7202,"./CanvasClear.js":7202,"./CanvasMove":327,"./CanvasMove.js":327,"./CommandAbstract":238,"./CommandAbstract.js":238,"./ComponentDelete":5820,"./ComponentDelete.js":5820,"./ComponentDrag":6694,"./ComponentDrag.js":6694,"./ComponentEnter":1947,"./ComponentEnter.js":1947,"./ComponentExit":3888,"./ComponentExit.js":3888,"./ComponentNext":5883,"./ComponentNext.js":5883,"./ComponentPrev":7508,"./ComponentPrev.js":7508,"./ComponentStyleClear":8769,"./ComponentStyleClear.js":8769,"./CopyComponent":2213,"./CopyComponent.js":2213,"./DeleteComponent":5049,"./DeleteComponent.js":5049,"./ExportTemplate":3775,"./ExportTemplate.js":3775,"./Fullscreen":58,"./Fullscreen.js":58,"./MoveComponent":8658,"./MoveComponent.js":8658,"./OpenAssets":9617,"./OpenAssets.js":9617,"./OpenBlocks":5821,"./OpenBlocks.js":5821,"./OpenLayers":3452,"./OpenLayers.js":3452,"./OpenStyleManager":2840,"./OpenStyleManager.js":2840,"./OpenTraitManager":8644,"./OpenTraitManager.js":8644,"./PasteComponent":560,"./PasteComponent.js":560,"./Preview":4944,"./Preview.js":4944,"./Resize":7538,"./Resize.js":7538,"./SelectComponent":2620,"./SelectComponent.js":2620,"./SelectPosition":8463,"./SelectPosition.js":8463,"./ShowOffset":7994,"./ShowOffset.js":7994,"./SwitchVisibility":8352,"./SwitchVisibility.js":8352};function H(p){var k=A(p);return s(k)}function A(p){if(!s.o(O,p)){var k=new Error("Cannot find module '"+p+"'");throw k.code="MODULE_NOT_FOUND",k}return O[p]}H.keys=function(){return Object.keys(O)},H.resolve=A,ge.exports=H,H.id=2828},907:(ge,ie,s)=>{function O(H,A){(A==null||A>H.length)&&(A=H.length);for(var p=0,k=new Array(A);p<A;p++)k[p]=H[p];return k}s.d(ie,{Z:()=>O})},7326:(ge,ie,s)=>{function O(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}s.d(ie,{Z:()=>O})},5861:(ge,ie,s)=>{function O(A,p,k,d,S,x,f){try{var l=A[x](f),v=l.value}catch(w){return void k(w)}l.done?p(v):Promise.resolve(v).then(d,S)}function H(A){return function(){var p=this,k=arguments;return new Promise(function(d,S){var x=A.apply(p,k);function f(v){O(x,d,S,f,l,"next",v)}function l(v){O(x,d,S,f,l,"throw",v)}f(void 0)})}}s.d(ie,{Z:()=>H})},5671:(ge,ie,s)=>{function O(H,A){if(!(H instanceof A))throw new TypeError("Cannot call a class as a function")}s.d(ie,{Z:()=>O})},3144:(ge,ie,s)=>{function O(A,p){for(var k=0;k<p.length;k++){var d=p[k];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(A,d.key,d)}}function H(A,p,k){return p&&O(A.prototype,p),k&&O(A,k),Object.defineProperty(A,"prototype",{writable:!1}),A}s.d(ie,{Z:()=>H})},4942:(ge,ie,s)=>{function O(H,A,p){return A in H?Object.defineProperty(H,A,{value:p,enumerable:!0,configurable:!0,writable:!0}):H[A]=p,H}s.d(ie,{Z:()=>O})},1120:(ge,ie,s)=>{function O(H){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},O(H)}s.d(ie,{Z:()=>O})},9340:(ge,ie,s)=>{function O(A,p){return O=Object.setPrototypeOf||function(k,d){return k.__proto__=d,k},O(A,p)}function H(A,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(p&&p.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),p&&O(A,p)}s.d(ie,{Z:()=>H})},4925:(ge,ie,s)=>{function O(H,A){if(H==null)return{};var p,k,d=function(x,f){if(x==null)return{};var l,v,w={},j=Object.keys(x);for(v=0;v<j.length;v++)l=j[v],f.indexOf(l)>=0||(w[l]=x[l]);return w}(H,A);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(H);for(k=0;k<S.length;k++)p=S[k],A.indexOf(p)>=0||Object.prototype.propertyIsEnumerable.call(H,p)&&(d[p]=H[p])}return d}s.d(ie,{Z:()=>O})},2963:(ge,ie,s)=>{s.d(ie,{Z:()=>A});var O=s(1002),H=s(7326);function A(p,k){if(k&&((0,O.Z)(k)==="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,H.Z)(p)}},885:(ge,ie,s)=>{s.d(ie,{Z:()=>H});var O=s(181);function H(A,p){return function(k){if(Array.isArray(k))return k}(A)||function(k,d){var S=k==null?null:typeof Symbol<"u"&&k[Symbol.iterator]||k["@@iterator"];if(S!=null){var x,f,l=[],v=!0,w=!1;try{for(S=S.call(k);!(v=(x=S.next()).done)&&(l.push(x.value),!d||l.length!==d);v=!0);}catch(j){w=!0,f=j}finally{try{v||S.return==null||S.return()}finally{if(w)throw f}}return l}}(A,p)||(0,O.Z)(A,p)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},168:(ge,ie,s)=>{function O(H,A){return A||(A=H.slice(0)),Object.freeze(Object.defineProperties(H,{raw:{value:Object.freeze(A)}}))}s.d(ie,{Z:()=>O})},2982:(ge,ie,s)=>{s.d(ie,{Z:()=>A});var O=s(907),H=s(181);function A(p){return function(k){if(Array.isArray(k))return(0,O.Z)(k)}(p)||function(k){if(typeof Symbol<"u"&&k[Symbol.iterator]!=null||k["@@iterator"]!=null)return Array.from(k)}(p)||(0,H.Z)(p)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},1002:(ge,ie,s)=>{function O(H){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},O(H)}s.d(ie,{Z:()=>O})},181:(ge,ie,s)=>{s.d(ie,{Z:()=>H});var O=s(907);function H(A,p){if(A){if(typeof A=="string")return(0,O.Z)(A,p);var k=Object.prototype.toString.call(A).slice(8,-1);return k==="Object"&&A.constructor&&(k=A.constructor.name),k==="Map"||k==="Set"?Array.from(A):k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k)?(0,O.Z)(A,p):void 0}}},9050:(ge,ie,s)=>{s.r(ie),s.d(ie,{VERSION:()=>H,after:()=>Re,all:()=>_n,allKeys:()=>Fe,any:()=>Yt,assign:()=>qe,before:()=>Ze,bind:()=>Wn,bindAll:()=>Gn,chain:()=>rr,chunk:()=>Zi,clone:()=>Bt,collect:()=>Cn,compact:()=>fo,compose:()=>ke,constant:()=>be,contains:()=>i,countBy:()=>Jt,create:()=>Et,debounce:()=>le,default:()=>Zo,defaults:()=>$e,defer:()=>C,delay:()=>ye,detect:()=>Dn,difference:()=>Gr,drop:()=>Dr,each:()=>sn,escape:()=>Ct,every:()=>_n,extend:()=>Bn,extendOwn:()=>qe,filter:()=>On,find:()=>Dn,findIndex:()=>bt,findKey:()=>at,findLastIndex:()=>_t,findWhere:()=>Mn,first:()=>Ir,flatten:()=>ho,foldl:()=>Xn,foldr:()=>ur,forEach:()=>sn,functions:()=>kn,get:()=>dn,groupBy:()=>Tt,has:()=>un,head:()=>Ir,identity:()=>bn,include:()=>i,includes:()=>i,indexBy:()=>Xt,indexOf:()=>an,initial:()=>yi,inject:()=>Xn,intersection:()=>Jr,invert:()=>cn,invoke:()=>o,isArguments:()=>E,isArray:()=>c,isArrayBuffer:()=>ae,isBoolean:()=>re,isDataView:()=>P,isDate:()=>y,isElement:()=>ne,isEmpty:()=>tt,isEqual:()=>je,isError:()=>m,isFinite:()=>R,isFunction:()=>b,isMap:()=>ct,isMatch:()=>gt,isNaN:()=>ue,isNull:()=>L,isNumber:()=>u,isObject:()=>D,isRegExp:()=>g,isSet:()=>yt,isString:()=>Y,isSymbol:()=>$,isTypedArray:()=>Ae,isUndefined:()=>I,isWeakMap:()=>Ot,isWeakSet:()=>ht,iteratee:()=>qn,keys:()=>Je,last:()=>co,lastIndexOf:()=>gn,map:()=>Cn,mapObject:()=>Mt,matcher:()=>wn,matches:()=>wn,max:()=>Be,memoize:()=>he,methods:()=>kn,min:()=>Le,mixin:()=>Vi,negate:()=>fe,noop:()=>Rn,now:()=>hn,object:()=>po,omit:()=>$r,once:()=>Ke,pairs:()=>$t,partial:()=>Jn,partition:()=>Kt,pick:()=>Qn,pluck:()=>G,property:()=>En,propertyOf:()=>Zn,random:()=>Wt,range:()=>bi,reduce:()=>Xn,reduceRight:()=>ur,reject:()=>Yn,rest:()=>Dr,restArguments:()=>ce,result:()=>fn,sample:()=>Qe,select:()=>On,shuffle:()=>dt,size:()=>In,some:()=>Yt,sortBy:()=>kt,sortedIndex:()=>Rt,tail:()=>Dr,take:()=>Ir,tap:()=>Dt,template:()=>Sn,templateSettings:()=>De,throttle:()=>W,times:()=>Fn,toArray:()=>Pn,toPath:()=>zt,transpose:()=>ui,unescape:()=>ln,union:()=>Fi,uniq:()=>si,unique:()=>si,uniqueId:()=>$n,unzip:()=>ui,values:()=>Ht,where:()=>xe,without:()=>dr,wrap:()=>_,zip:()=>Ni});var O={};s.r(O),s.d(O,{VERSION:()=>H,after:()=>Re,all:()=>_n,allKeys:()=>Fe,any:()=>Yt,assign:()=>qe,before:()=>Ze,bind:()=>Wn,bindAll:()=>Gn,chain:()=>rr,chunk:()=>Zi,clone:()=>Bt,collect:()=>Cn,compact:()=>fo,compose:()=>ke,constant:()=>be,contains:()=>i,countBy:()=>Jt,create:()=>Et,debounce:()=>le,default:()=>go,defaults:()=>$e,defer:()=>C,delay:()=>ye,detect:()=>Dn,difference:()=>Gr,drop:()=>Dr,each:()=>sn,escape:()=>Ct,every:()=>_n,extend:()=>Bn,extendOwn:()=>qe,filter:()=>On,find:()=>Dn,findIndex:()=>bt,findKey:()=>at,findLastIndex:()=>_t,findWhere:()=>Mn,first:()=>Ir,flatten:()=>ho,foldl:()=>Xn,foldr:()=>ur,forEach:()=>sn,functions:()=>kn,get:()=>dn,groupBy:()=>Tt,has:()=>un,head:()=>Ir,identity:()=>bn,include:()=>i,includes:()=>i,indexBy:()=>Xt,indexOf:()=>an,initial:()=>yi,inject:()=>Xn,intersection:()=>Jr,invert:()=>cn,invoke:()=>o,isArguments:()=>E,isArray:()=>c,isArrayBuffer:()=>ae,isBoolean:()=>re,isDataView:()=>P,isDate:()=>y,isElement:()=>ne,isEmpty:()=>tt,isEqual:()=>je,isError:()=>m,isFinite:()=>R,isFunction:()=>b,isMap:()=>ct,isMatch:()=>gt,isNaN:()=>ue,isNull:()=>L,isNumber:()=>u,isObject:()=>D,isRegExp:()=>g,isSet:()=>yt,isString:()=>Y,isSymbol:()=>$,isTypedArray:()=>Ae,isUndefined:()=>I,isWeakMap:()=>Ot,isWeakSet:()=>ht,iteratee:()=>qn,keys:()=>Je,last:()=>co,lastIndexOf:()=>gn,map:()=>Cn,mapObject:()=>Mt,matcher:()=>wn,matches:()=>wn,max:()=>Be,memoize:()=>he,methods:()=>kn,min:()=>Le,mixin:()=>Vi,negate:()=>fe,noop:()=>Rn,now:()=>hn,object:()=>po,omit:()=>$r,once:()=>Ke,pairs:()=>$t,partial:()=>Jn,partition:()=>Kt,pick:()=>Qn,pluck:()=>G,property:()=>En,propertyOf:()=>Zn,random:()=>Wt,range:()=>bi,reduce:()=>Xn,reduceRight:()=>ur,reject:()=>Yn,rest:()=>Dr,restArguments:()=>ce,result:()=>fn,sample:()=>Qe,select:()=>On,shuffle:()=>dt,size:()=>In,some:()=>Yt,sortBy:()=>kt,sortedIndex:()=>Rt,tail:()=>Dr,take:()=>Ir,tap:()=>Dt,template:()=>Sn,templateSettings:()=>De,throttle:()=>W,times:()=>Fn,toArray:()=>Pn,toPath:()=>zt,transpose:()=>ui,unescape:()=>ln,union:()=>Fi,uniq:()=>si,unique:()=>si,uniqueId:()=>$n,unzip:()=>ui,values:()=>Ht,where:()=>xe,without:()=>dr,wrap:()=>_,zip:()=>Ni});var H="1.13.1",A=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},p=Array.prototype,k=Object.prototype,d=typeof Symbol<"u"?Symbol.prototype:null,S=p.push,x=p.slice,f=k.toString,l=k.hasOwnProperty,v=typeof ArrayBuffer<"u",w=typeof DataView<"u",j=Array.isArray,B=Object.keys,Q=Object.create,X=v&&ArrayBuffer.isView,te=isNaN,J=isFinite,U=!{toString:null}.propertyIsEnumerable("toString"),se=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],me=Math.pow(2,53)-1;function ce(Oe,Me){return Me=Me==null?Oe.length-1:+Me,function(){for(var Ge=Math.max(arguments.length-Me,0),Xe=Array(Ge),pt=0;pt<Ge;pt++)Xe[pt]=arguments[pt+Me];switch(Me){case 0:return Oe.call(this,Xe);case 1:return Oe.call(this,arguments[0],Xe);case 2:return Oe.call(this,arguments[0],arguments[1],Xe)}var nt=Array(Me+1);for(pt=0;pt<Me;pt++)nt[pt]=arguments[pt];return nt[Me]=Xe,Oe.apply(this,nt)}}function D(Oe){var Me=typeof Oe;return Me==="function"||Me==="object"&&!!Oe}function L(Oe){return Oe===null}function I(Oe){return Oe===void 0}function re(Oe){return Oe===!0||Oe===!1||f.call(Oe)==="[object Boolean]"}function ne(Oe){return!(!Oe||Oe.nodeType!==1)}function z(Oe){var Me="[object "+Oe+"]";return function(Ge){return f.call(Ge)===Me}}const Y=z("String"),u=z("Number"),y=z("Date"),g=z("RegExp"),m=z("Error"),$=z("Symbol"),ae=z("ArrayBuffer");var K=z("Function"),F=A.document&&A.document.childNodes;typeof Int8Array!="object"&&typeof F!="function"&&(K=function(Oe){return typeof Oe=="function"||!1});const b=K,h=z("Object");var V=w&&h(new DataView(new ArrayBuffer(8))),M=typeof Map<"u"&&h(new Map),T=z("DataView");const P=V?function(Oe){return Oe!=null&&b(Oe.getInt8)&&ae(Oe.buffer)}:T,c=j||z("Array");function ee(Oe,Me){return Oe!=null&&l.call(Oe,Me)}var q=z("Arguments");(function(){q(arguments)||(q=function(Oe){return ee(Oe,"callee")})})();const E=q;function R(Oe){return!$(Oe)&&J(Oe)&&!isNaN(parseFloat(Oe))}function ue(Oe){return u(Oe)&&te(Oe)}function be(Oe){return function(){return Oe}}function N(Oe){return function(Me){var Ge=Oe(Me);return typeof Ge=="number"&&Ge>=0&&Ge<=me}}function oe(Oe){return function(Me){return Me==null?void 0:Me[Oe]}}const de=oe("byteLength"),Ce=N(de);var we=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const Ae=v?function(Oe){return X?X(Oe)&&!P(Oe):Ce(Oe)&&we.test(f.call(Oe))}:be(!1),_e=oe("length");function Ne(Oe,Me){Me=function(At){for(var Ut={},Ln=At.length,Un=0;Un<Ln;++Un)Ut[At[Un]]=!0;return{contains:function(cr){return Ut[cr]},push:function(cr){return Ut[cr]=!0,At.push(cr)}}}(Me);var Ge=se.length,Xe=Oe.constructor,pt=b(Xe)&&Xe.prototype||k,nt="constructor";for(ee(Oe,nt)&&!Me.contains(nt)&&Me.push(nt);Ge--;)(nt=se[Ge])in Oe&&Oe[nt]!==pt[nt]&&!Me.contains(nt)&&Me.push(nt)}function Je(Oe){if(!D(Oe))return[];if(B)return B(Oe);var Me=[];for(var Ge in Oe)ee(Oe,Ge)&&Me.push(Ge);return U&&Ne(Oe,Me),Me}function tt(Oe){if(Oe==null)return!0;var Me=_e(Oe);return typeof Me=="number"&&(c(Oe)||Y(Oe)||E(Oe))?Me===0:_e(Je(Oe))===0}function gt(Oe,Me){var Ge=Je(Me),Xe=Ge.length;if(Oe==null)return!Xe;for(var pt=Object(Oe),nt=0;nt<Xe;nt++){var At=Ge[nt];if(Me[At]!==pt[At]||!(At in pt))return!1}return!0}function lt(Oe){return Oe instanceof lt?Oe:this instanceof lt?void(this._wrapped=Oe):new lt(Oe)}function Zt(Oe){return new Uint8Array(Oe.buffer||Oe,Oe.byteOffset||0,de(Oe))}lt.VERSION=H,lt.prototype.value=function(){return this._wrapped},lt.prototype.valueOf=lt.prototype.toJSON=lt.prototype.value,lt.prototype.toString=function(){return String(this._wrapped)};var Lt="[object DataView]";function It(Oe,Me,Ge,Xe){if(Oe===Me)return Oe!==0||1/Oe==1/Me;if(Oe==null||Me==null)return!1;if(Oe!=Oe)return Me!=Me;var pt=typeof Oe;return(pt==="function"||pt==="object"||typeof Me=="object")&&Ve(Oe,Me,Ge,Xe)}function Ve(Oe,Me,Ge,Xe){Oe instanceof lt&&(Oe=Oe._wrapped),Me instanceof lt&&(Me=Me._wrapped);var pt=f.call(Oe);if(pt!==f.call(Me))return!1;if(V&&pt=="[object Object]"&&P(Oe)){if(!P(Me))return!1;pt=Lt}switch(pt){case"[object RegExp]":case"[object String]":return""+Oe==""+Me;case"[object Number]":return+Oe!=+Oe?+Me!=+Me:+Oe==0?1/+Oe==1/Me:+Oe==+Me;case"[object Date]":case"[object Boolean]":return+Oe==+Me;case"[object Symbol]":return d.valueOf.call(Oe)===d.valueOf.call(Me);case"[object ArrayBuffer]":case Lt:return Ve(Zt(Oe),Zt(Me),Ge,Xe)}var nt=pt==="[object Array]";if(!nt&&Ae(Oe)){if(de(Oe)!==de(Me))return!1;if(Oe.buffer===Me.buffer&&Oe.byteOffset===Me.byteOffset)return!0;nt=!0}if(!nt){if(typeof Oe!="object"||typeof Me!="object")return!1;var At=Oe.constructor,Ut=Me.constructor;if(At!==Ut&&!(b(At)&&At instanceof At&&b(Ut)&&Ut instanceof Ut)&&"constructor"in Oe&&"constructor"in Me)return!1}Xe=Xe||[];for(var Ln=(Ge=Ge||[]).length;Ln--;)if(Ge[Ln]===Oe)return Xe[Ln]===Me;if(Ge.push(Oe),Xe.push(Me),nt){if((Ln=Oe.length)!==Me.length)return!1;for(;Ln--;)if(!It(Oe[Ln],Me[Ln],Ge,Xe))return!1}else{var Un,cr=Je(Oe);if(Ln=cr.length,Je(Me).length!==Ln)return!1;for(;Ln--;)if(!ee(Me,Un=cr[Ln])||!It(Oe[Un],Me[Un],Ge,Xe))return!1}return Ge.pop(),Xe.pop(),!0}function je(Oe,Me){return It(Oe,Me)}function Fe(Oe){if(!D(Oe))return[];var Me=[];for(var Ge in Oe)Me.push(Ge);return U&&Ne(Oe,Me),Me}function We(Oe){var Me=_e(Oe);return function(Ge){if(Ge==null)return!1;var Xe=Fe(Ge);if(_e(Xe))return!1;for(var pt=0;pt<Me;pt++)if(!b(Ge[Oe[pt]]))return!1;return Oe!==Ue||!b(Ge[it])}}var it="forEach",mt=["clear","delete"],St=["get","has","set"],tn=mt.concat(it,St),Ue=mt.concat(St),et=["add"].concat(mt,it,"has");const ct=M?We(tn):z("Map"),Ot=M?We(Ue):z("WeakMap"),yt=M?We(et):z("Set"),ht=z("WeakSet");function Ht(Oe){for(var Me=Je(Oe),Ge=Me.length,Xe=Array(Ge),pt=0;pt<Ge;pt++)Xe[pt]=Oe[Me[pt]];return Xe}function $t(Oe){for(var Me=Je(Oe),Ge=Me.length,Xe=Array(Ge),pt=0;pt<Ge;pt++)Xe[pt]=[Me[pt],Oe[Me[pt]]];return Xe}function cn(Oe){for(var Me={},Ge=Je(Oe),Xe=0,pt=Ge.length;Xe<pt;Xe++)Me[Oe[Ge[Xe]]]=Ge[Xe];return Me}function kn(Oe){var Me=[];for(var Ge in Oe)b(Oe[Ge])&&Me.push(Ge);return Me.sort()}function en(Oe,Me){return function(Ge){var Xe=arguments.length;if(Me&&(Ge=Object(Ge)),Xe<2||Ge==null)return Ge;for(var pt=1;pt<Xe;pt++)for(var nt=arguments[pt],At=Oe(nt),Ut=At.length,Ln=0;Ln<Ut;Ln++){var Un=At[Ln];Me&&Ge[Un]!==void 0||(Ge[Un]=nt[Un])}return Ge}}const Bn=en(Fe),qe=en(Je),$e=en(Fe,!0);function ft(Oe){if(!D(Oe))return{};if(Q)return Q(Oe);var Me=function(){};Me.prototype=Oe;var Ge=new Me;return Me.prototype=null,Ge}function Et(Oe,Me){var Ge=ft(Oe);return Me&&qe(Ge,Me),Ge}function Bt(Oe){return D(Oe)?c(Oe)?Oe.slice():Bn({},Oe):Oe}function Dt(Oe,Me){return Me(Oe),Oe}function zt(Oe){return c(Oe)?Oe:[Oe]}function Gt(Oe){return lt.toPath(Oe)}function nn(Oe,Me){for(var Ge=Me.length,Xe=0;Xe<Ge;Xe++){if(Oe==null)return;Oe=Oe[Me[Xe]]}return Ge?Oe:void 0}function dn(Oe,Me,Ge){var Xe=nn(Oe,Gt(Me));return I(Xe)?Ge:Xe}function un(Oe,Me){for(var Ge=(Me=Gt(Me)).length,Xe=0;Xe<Ge;Xe++){var pt=Me[Xe];if(!ee(Oe,pt))return!1;Oe=Oe[pt]}return!!Ge}function bn(Oe){return Oe}function wn(Oe){return Oe=qe({},Oe),function(Me){return gt(Me,Oe)}}function En(Oe){return Oe=Gt(Oe),function(Me){return nn(Me,Oe)}}function An(Oe,Me,Ge){if(Me===void 0)return Oe;switch(Ge==null?3:Ge){case 1:return function(Xe){return Oe.call(Me,Xe)};case 3:return function(Xe,pt,nt){return Oe.call(Me,Xe,pt,nt)};case 4:return function(Xe,pt,nt,At){return Oe.call(Me,Xe,pt,nt,At)}}return function(){return Oe.apply(Me,arguments)}}function Tn(Oe,Me,Ge){return Oe==null?bn:b(Oe)?An(Oe,Me,Ge):D(Oe)&&!c(Oe)?wn(Oe):En(Oe)}function qn(Oe,Me){return Tn(Oe,Me,1/0)}function Ft(Oe,Me,Ge){return lt.iteratee!==qn?lt.iteratee(Oe,Me):Tn(Oe,Me,Ge)}function Mt(Oe,Me,Ge){Me=Ft(Me,Ge);for(var Xe=Je(Oe),pt=Xe.length,nt={},At=0;At<pt;At++){var Ut=Xe[At];nt[Ut]=Me(Oe[Ut],Ut,Oe)}return nt}function Rn(){}function Zn(Oe){return Oe==null?Rn:function(Me){return dn(Oe,Me)}}function Fn(Oe,Me,Ge){var Xe=Array(Math.max(0,Oe));Me=An(Me,Ge,1);for(var pt=0;pt<Oe;pt++)Xe[pt]=Me(pt);return Xe}function Wt(Oe,Me){return Me==null&&(Me=Oe,Oe=0),Oe+Math.floor(Math.random()*(Me-Oe+1))}lt.toPath=zt,lt.iteratee=qn;const hn=Date.now||function(){return new Date().getTime()};function on(Oe){var Me=function(nt){return Oe[nt]},Ge="(?:"+Je(Oe).join("|")+")",Xe=RegExp(Ge),pt=RegExp(Ge,"g");return function(nt){return nt=nt==null?"":""+nt,Xe.test(nt)?nt.replace(pt,Me):nt}}const sr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ct=on(sr),ln=on(cn(sr)),De=lt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Ie=/(.)^/,vt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Nt=/\\|'|\r|\n|\u2028|\u2029/g;function rt(Oe){return"\\"+vt[Oe]}var xt=/^\s*(\w|\$)+\s*$/;function Sn(Oe,Me,Ge){!Me&&Ge&&(Me=Ge),Me=$e({},Me,lt.templateSettings);var Xe=RegExp([(Me.escape||Ie).source,(Me.interpolate||Ie).source,(Me.evaluate||Ie).source].join("|")+"|$","g"),pt=0,nt="__p+='";Oe.replace(Xe,function(Un,cr,Br,_i,Yr){return nt+=Oe.slice(pt,Yr).replace(Nt,rt),pt=Yr+Un.length,cr?nt+=`'+
((__t=(`+cr+`))==null?'':_.escape(__t))+
'`:Br?nt+=`'+
((__t=(`+Br+`))==null?'':__t)+
'`:_i&&(nt+=`';
`+_i+`
__p+='`),Un}),nt+=`';
`;var At,Ut=Me.variable;if(Ut){if(!xt.test(Ut))throw new Error("variable is not a bare identifier: "+Ut)}else nt=`with(obj||{}){
`+nt+`}
`,Ut="obj";nt=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+nt+`return __p;
`;try{At=new Function(Ut,"_",nt)}catch(Un){throw Un.source=nt,Un}var Ln=function(Un){return At.call(this,Un,lt)};return Ln.source="function("+Ut+`){
`+nt+"}",Ln}function fn(Oe,Me,Ge){var Xe=(Me=Gt(Me)).length;if(!Xe)return b(Ge)?Ge.call(Oe):Ge;for(var pt=0;pt<Xe;pt++){var nt=Oe==null?void 0:Oe[Me[pt]];nt===void 0&&(nt=Ge,pt=Xe),Oe=b(nt)?nt.call(Oe):nt}return Oe}var jn=0;function $n(Oe){var Me=++jn+"";return Oe?Oe+Me:Me}function rr(Oe){var Me=lt(Oe);return Me._chain=!0,Me}function tr(Oe,Me,Ge,Xe,pt){if(!(Xe instanceof Me))return Oe.apply(Ge,pt);var nt=ft(Oe.prototype),At=Oe.apply(nt,pt);return D(At)?At:nt}var Kn=ce(function(Oe,Me){var Ge=Kn.placeholder,Xe=function(){for(var pt=0,nt=Me.length,At=Array(nt),Ut=0;Ut<nt;Ut++)At[Ut]=Me[Ut]===Ge?arguments[pt++]:Me[Ut];for(;pt<arguments.length;)At.push(arguments[pt++]);return tr(Oe,Xe,this,this,At)};return Xe});Kn.placeholder=lt;const Jn=Kn,Wn=ce(function(Oe,Me,Ge){if(!b(Oe))throw new TypeError("Bind must be called on a function");var Xe=ce(function(pt){return tr(Oe,Xe,Me,this,Ge.concat(pt))});return Xe}),Vn=N(_e);function Nn(Oe,Me,Ge,Xe){if(Xe=Xe||[],Me||Me===0){if(Me<=0)return Xe.concat(Oe)}else Me=1/0;for(var pt=Xe.length,nt=0,At=_e(Oe);nt<At;nt++){var Ut=Oe[nt];if(Vn(Ut)&&(c(Ut)||E(Ut)))if(Me>1)Nn(Ut,Me-1,Ge,Xe),pt=Xe.length;else for(var Ln=0,Un=Ut.length;Ln<Un;)Xe[pt++]=Ut[Ln++];else Ge||(Xe[pt++]=Ut)}return Xe}const Gn=ce(function(Oe,Me){var Ge=(Me=Nn(Me,!1,!1)).length;if(Ge<1)throw new Error("bindAll must be passed function names");for(;Ge--;){var Xe=Me[Ge];Oe[Xe]=Wn(Oe[Xe],Oe)}return Oe});function he(Oe,Me){var Ge=function(Xe){var pt=Ge.cache,nt=""+(Me?Me.apply(this,arguments):Xe);return ee(pt,nt)||(pt[nt]=Oe.apply(this,arguments)),pt[nt]};return Ge.cache={},Ge}const ye=ce(function(Oe,Me,Ge){return setTimeout(function(){return Oe.apply(null,Ge)},Me)}),C=Jn(ye,lt,1);function W(Oe,Me,Ge){var Xe,pt,nt,At,Ut=0;Ge||(Ge={});var Ln=function(){Ut=Ge.leading===!1?0:hn(),Xe=null,At=Oe.apply(pt,nt),Xe||(pt=nt=null)},Un=function(){var cr=hn();Ut||Ge.leading!==!1||(Ut=cr);var Br=Me-(cr-Ut);return pt=this,nt=arguments,Br<=0||Br>Me?(Xe&&(clearTimeout(Xe),Xe=null),Ut=cr,At=Oe.apply(pt,nt),Xe||(pt=nt=null)):Xe||Ge.trailing===!1||(Xe=setTimeout(Ln,Br)),At};return Un.cancel=function(){clearTimeout(Xe),Ut=0,Xe=pt=nt=null},Un}function le(Oe,Me,Ge){var Xe,pt,nt,At,Ut,Ln=function(){var cr=hn()-pt;Me>cr?Xe=setTimeout(Ln,Me-cr):(Xe=null,Ge||(At=Oe.apply(Ut,nt)),Xe||(nt=Ut=null))},Un=ce(function(cr){return Ut=this,nt=cr,pt=hn(),Xe||(Xe=setTimeout(Ln,Me),Ge&&(At=Oe.apply(Ut,nt))),At});return Un.cancel=function(){clearTimeout(Xe),Xe=nt=Ut=null},Un}function _(Oe,Me){return Jn(Me,Oe)}function fe(Oe){return function(){return!Oe.apply(this,arguments)}}function ke(){var Oe=arguments,Me=Oe.length-1;return function(){for(var Ge=Me,Xe=Oe[Me].apply(this,arguments);Ge--;)Xe=Oe[Ge].call(this,Xe);return Xe}}function Re(Oe,Me){return function(){if(--Oe<1)return Me.apply(this,arguments)}}function Ze(Oe,Me){var Ge;return function(){return--Oe>0&&(Ge=Me.apply(this,arguments)),Oe<=1&&(Me=null),Ge}}const Ke=Jn(Ze,2);function at(Oe,Me,Ge){Me=Ft(Me,Ge);for(var Xe,pt=Je(Oe),nt=0,At=pt.length;nt<At;nt++)if(Me(Oe[Xe=pt[nt]],Xe,Oe))return Xe}function ot(Oe){return function(Me,Ge,Xe){Ge=Ft(Ge,Xe);for(var pt=_e(Me),nt=Oe>0?0:pt-1;nt>=0&&nt<pt;nt+=Oe)if(Ge(Me[nt],nt,Me))return nt;return-1}}const bt=ot(1),_t=ot(-1);function Rt(Oe,Me,Ge,Xe){for(var pt=(Ge=Ft(Ge,Xe,1))(Me),nt=0,At=_e(Oe);nt<At;){var Ut=Math.floor((nt+At)/2);Ge(Oe[Ut])<pt?nt=Ut+1:At=Ut}return nt}function Qt(Oe,Me,Ge){return function(Xe,pt,nt){var At=0,Ut=_e(Xe);if(typeof nt=="number")Oe>0?At=nt>=0?nt:Math.max(nt+Ut,At):Ut=nt>=0?Math.min(nt+1,Ut):nt+Ut+1;else if(Ge&&nt&&Ut)return Xe[nt=Ge(Xe,pt)]===pt?nt:-1;if(pt!=pt)return(nt=Me(x.call(Xe,At,Ut),ue))>=0?nt+At:-1;for(nt=Oe>0?At:Ut-1;nt>=0&&nt<Ut;nt+=Oe)if(Xe[nt]===pt)return nt;return-1}}const an=Qt(1,bt,Rt),gn=Qt(-1,_t);function Dn(Oe,Me,Ge){var Xe=(Vn(Oe)?bt:at)(Oe,Me,Ge);if(Xe!==void 0&&Xe!==-1)return Oe[Xe]}function Mn(Oe,Me){return Dn(Oe,wn(Me))}function sn(Oe,Me,Ge){var Xe,pt;if(Me=An(Me,Ge),Vn(Oe))for(Xe=0,pt=Oe.length;Xe<pt;Xe++)Me(Oe[Xe],Xe,Oe);else{var nt=Je(Oe);for(Xe=0,pt=nt.length;Xe<pt;Xe++)Me(Oe[nt[Xe]],nt[Xe],Oe)}return Oe}function Cn(Oe,Me,Ge){Me=Ft(Me,Ge);for(var Xe=!Vn(Oe)&&Je(Oe),pt=(Xe||Oe).length,nt=Array(pt),At=0;At<pt;At++){var Ut=Xe?Xe[At]:At;nt[At]=Me(Oe[Ut],Ut,Oe)}return nt}function Hn(Oe){var Me=function(Ge,Xe,pt,nt){var At=!Vn(Ge)&&Je(Ge),Ut=(At||Ge).length,Ln=Oe>0?0:Ut-1;for(nt||(pt=Ge[At?At[Ln]:Ln],Ln+=Oe);Ln>=0&&Ln<Ut;Ln+=Oe){var Un=At?At[Ln]:Ln;pt=Xe(pt,Ge[Un],Un,Ge)}return pt};return function(Ge,Xe,pt,nt){var At=arguments.length>=3;return Me(Ge,An(Xe,nt,4),pt,At)}}const Xn=Hn(1),ur=Hn(-1);function On(Oe,Me,Ge){var Xe=[];return Me=Ft(Me,Ge),sn(Oe,function(pt,nt,At){Me(pt,nt,At)&&Xe.push(pt)}),Xe}function Yn(Oe,Me,Ge){return On(Oe,fe(Ft(Me)),Ge)}function _n(Oe,Me,Ge){Me=Ft(Me,Ge);for(var Xe=!Vn(Oe)&&Je(Oe),pt=(Xe||Oe).length,nt=0;nt<pt;nt++){var At=Xe?Xe[nt]:nt;if(!Me(Oe[At],At,Oe))return!1}return!0}function Yt(Oe,Me,Ge){Me=Ft(Me,Ge);for(var Xe=!Vn(Oe)&&Je(Oe),pt=(Xe||Oe).length,nt=0;nt<pt;nt++){var At=Xe?Xe[nt]:nt;if(Me(Oe[At],At,Oe))return!0}return!1}function i(Oe,Me,Ge,Xe){return Vn(Oe)||(Oe=Ht(Oe)),(typeof Ge!="number"||Xe)&&(Ge=0),an(Oe,Me,Ge)>=0}const o=ce(function(Oe,Me,Ge){var Xe,pt;return b(Me)?pt=Me:(Me=Gt(Me),Xe=Me.slice(0,-1),Me=Me[Me.length-1]),Cn(Oe,function(nt){var At=pt;if(!At){if(Xe&&Xe.length&&(nt=nn(nt,Xe)),nt==null)return;At=nt[Me]}return At==null?At:At.apply(nt,Ge)})});function G(Oe,Me){return Cn(Oe,En(Me))}function xe(Oe,Me){return On(Oe,wn(Me))}function Be(Oe,Me,Ge){var Xe,pt,nt=-1/0,At=-1/0;if(Me==null||typeof Me=="number"&&typeof Oe[0]!="object"&&Oe!=null)for(var Ut=0,Ln=(Oe=Vn(Oe)?Oe:Ht(Oe)).length;Ut<Ln;Ut++)(Xe=Oe[Ut])!=null&&Xe>nt&&(nt=Xe);else Me=Ft(Me,Ge),sn(Oe,function(Un,cr,Br){((pt=Me(Un,cr,Br))>At||pt===-1/0&&nt===-1/0)&&(nt=Un,At=pt)});return nt}function Le(Oe,Me,Ge){var Xe,pt,nt=1/0,At=1/0;if(Me==null||typeof Me=="number"&&typeof Oe[0]!="object"&&Oe!=null)for(var Ut=0,Ln=(Oe=Vn(Oe)?Oe:Ht(Oe)).length;Ut<Ln;Ut++)(Xe=Oe[Ut])!=null&&Xe<nt&&(nt=Xe);else Me=Ft(Me,Ge),sn(Oe,function(Un,cr,Br){((pt=Me(Un,cr,Br))<At||pt===1/0&&nt===1/0)&&(nt=Un,At=pt)});return nt}function Qe(Oe,Me,Ge){if(Me==null||Ge)return Vn(Oe)||(Oe=Ht(Oe)),Oe[Wt(Oe.length-1)];var Xe=Vn(Oe)?Bt(Oe):Ht(Oe),pt=_e(Xe);Me=Math.max(Math.min(Me,pt),0);for(var nt=pt-1,At=0;At<Me;At++){var Ut=Wt(At,nt),Ln=Xe[At];Xe[At]=Xe[Ut],Xe[Ut]=Ln}return Xe.slice(0,Me)}function dt(Oe){return Qe(Oe,1/0)}function kt(Oe,Me,Ge){var Xe=0;return Me=Ft(Me,Ge),G(Cn(Oe,function(pt,nt,At){return{value:pt,index:Xe++,criteria:Me(pt,nt,At)}}).sort(function(pt,nt){var At=pt.criteria,Ut=nt.criteria;if(At!==Ut){if(At>Ut||At===void 0)return 1;if(At<Ut||Ut===void 0)return-1}return pt.index-nt.index}),"value")}function Pt(Oe,Me){return function(Ge,Xe,pt){var nt=Me?[[],[]]:{};return Xe=Ft(Xe,pt),sn(Ge,function(At,Ut){var Ln=Xe(At,Ut,Ge);Oe(nt,At,Ln)}),nt}}const Tt=Pt(function(Oe,Me,Ge){ee(Oe,Ge)?Oe[Ge].push(Me):Oe[Ge]=[Me]}),Xt=Pt(function(Oe,Me,Ge){Oe[Ge]=Me}),Jt=Pt(function(Oe,Me,Ge){ee(Oe,Ge)?Oe[Ge]++:Oe[Ge]=1}),Kt=Pt(function(Oe,Me,Ge){Oe[Ge?0:1].push(Me)},!0);var vn=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Pn(Oe){return Oe?c(Oe)?x.call(Oe):Y(Oe)?Oe.match(vn):Vn(Oe)?Cn(Oe,bn):Ht(Oe):[]}function In(Oe){return Oe==null?0:Vn(Oe)?Oe.length:Je(Oe).length}function zn(Oe,Me,Ge){return Me in Ge}const Qn=ce(function(Oe,Me){var Ge={},Xe=Me[0];if(Oe==null)return Ge;b(Xe)?(Me.length>1&&(Xe=An(Xe,Me[1])),Me=Fe(Oe)):(Xe=zn,Me=Nn(Me,!1,!1),Oe=Object(Oe));for(var pt=0,nt=Me.length;pt<nt;pt++){var At=Me[pt],Ut=Oe[At];Xe(Ut,At,Oe)&&(Ge[At]=Ut)}return Ge}),$r=ce(function(Oe,Me){var Ge,Xe=Me[0];return b(Xe)?(Xe=fe(Xe),Me.length>1&&(Ge=Me[1])):(Me=Cn(Nn(Me,!1,!1),String),Xe=function(pt,nt){return!i(Me,nt)}),Qn(Oe,Xe,Ge)});function yi(Oe,Me,Ge){return x.call(Oe,0,Math.max(0,Oe.length-(Me==null||Ge?1:Me)))}function Ir(Oe,Me,Ge){return Oe==null||Oe.length<1?Me==null||Ge?void 0:[]:Me==null||Ge?Oe[0]:yi(Oe,Oe.length-Me)}function Dr(Oe,Me,Ge){return x.call(Oe,Me==null||Ge?1:Me)}function co(Oe,Me,Ge){return Oe==null||Oe.length<1?Me==null||Ge?void 0:[]:Me==null||Ge?Oe[Oe.length-1]:Dr(Oe,Math.max(0,Oe.length-Me))}function fo(Oe){return On(Oe,Boolean)}function ho(Oe,Me){return Nn(Oe,Me,!1)}const Gr=ce(function(Oe,Me){return Me=Nn(Me,!0,!0),On(Oe,function(Ge){return!i(Me,Ge)})}),dr=ce(function(Oe,Me){return Gr(Oe,Me)});function si(Oe,Me,Ge,Xe){re(Me)||(Xe=Ge,Ge=Me,Me=!1),Ge!=null&&(Ge=Ft(Ge,Xe));for(var pt=[],nt=[],At=0,Ut=_e(Oe);At<Ut;At++){var Ln=Oe[At],Un=Ge?Ge(Ln,At,Oe):Ln;Me&&!Ge?(At&&nt===Un||pt.push(Ln),nt=Un):Ge?i(nt,Un)||(nt.push(Un),pt.push(Ln)):i(pt,Ln)||pt.push(Ln)}return pt}const Fi=ce(function(Oe){return si(Nn(Oe,!0,!0))});function Jr(Oe){for(var Me=[],Ge=arguments.length,Xe=0,pt=_e(Oe);Xe<pt;Xe++){var nt=Oe[Xe];if(!i(Me,nt)){var At;for(At=1;At<Ge&&i(arguments[At],nt);At++);At===Ge&&Me.push(nt)}}return Me}function ui(Oe){for(var Me=Oe&&Be(Oe,_e).length||0,Ge=Array(Me),Xe=0;Xe<Me;Xe++)Ge[Xe]=G(Oe,Xe);return Ge}const Ni=ce(ui);function po(Oe,Me){for(var Ge={},Xe=0,pt=_e(Oe);Xe<pt;Xe++)Me?Ge[Oe[Xe]]=Me[Xe]:Ge[Oe[Xe][0]]=Oe[Xe][1];return Ge}function bi(Oe,Me,Ge){Me==null&&(Me=Oe||0,Oe=0),Ge||(Ge=Me<Oe?-1:1);for(var Xe=Math.max(Math.ceil((Me-Oe)/Ge),0),pt=Array(Xe),nt=0;nt<Xe;nt++,Oe+=Ge)pt[nt]=Oe;return pt}function Zi(Oe,Me){if(Me==null||Me<1)return[];for(var Ge=[],Xe=0,pt=Oe.length;Xe<pt;)Ge.push(x.call(Oe,Xe,Xe+=Me));return Ge}function Ii(Oe,Me){return Oe._chain?lt(Me).chain():Me}function Vi(Oe){return sn(kn(Oe),function(Me){var Ge=lt[Me]=Oe[Me];lt.prototype[Me]=function(){var Xe=[this._wrapped];return S.apply(Xe,arguments),Ii(this,Ge.apply(lt,Xe))}}),lt}sn(["pop","push","reverse","shift","sort","splice","unshift"],function(Oe){var Me=p[Oe];lt.prototype[Oe]=function(){var Ge=this._wrapped;return Ge!=null&&(Me.apply(Ge,arguments),Oe!=="shift"&&Oe!=="splice"||Ge.length!==0||delete Ge[0]),Ii(this,Ge)}}),sn(["concat","join","slice"],function(Oe){var Me=p[Oe];lt.prototype[Oe]=function(){var Ge=this._wrapped;return Ge!=null&&(Ge=Me.apply(Ge,arguments)),Ii(this,Ge)}});const go=lt;var wi=Vi(O);wi._=wi;const Zo=wi}},Ye={};function Te(ge){var ie=Ye[ge];if(ie!==void 0)return ie.exports;var s=Ye[ge]={exports:{}};return Cr[ge].call(s.exports,s,s.exports,Te),s.exports}Te.n=ge=>{var ie=ge&&ge.__esModule?()=>ge.default:()=>ge;return Te.d(ie,{a:ie}),ie},Te.d=(ge,ie)=>{for(var s in ie)Te.o(ie,s)&&!Te.o(ge,s)&&Object.defineProperty(ge,s,{enumerable:!0,get:ie[s]})},Te.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Te.o=(ge,ie)=>Object.prototype.hasOwnProperty.call(ge,ie),Te.r=ge=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ge,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ge,"__esModule",{value:!0})};var Se={};return(()=>{Te.d(Se,{default:()=>ae});var ge=Te(4942),ie=Te(9050),s=Te(2579),O=Te(7539);const H={stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:null,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,dragMode:0,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>'},el:"",i18n:{},undoManager:{},assetManager:{},canvas:{},layers:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,multiFrames:!1,customUI:!1};var A=Te(2316),p=Te.n(A),k,d=Te(1163),S=(k=function(K,F){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,h){b.__proto__=h}||function(b,h){for(var V in h)Object.prototype.hasOwnProperty.call(h,V)&&(b[V]=h[V])},k(K,F)},function(K,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function b(){this.constructor=K}k(K,F),K.prototype=F===null?Object.create(F):(b.prototype=F.prototype,new b)}),x=function(K){function F(){return K!==null&&K.apply(this,arguments)||this}return S(F,K),F}(A.Model);const f=function(K){function F(){return K!==null&&K.apply(this,arguments)||this}return S(F,K),F.prototype.getByComponent=function(b){var h=this;return this.filter(function(V){return h.getComponent(V)===b})[0]},F.prototype.addComponent=function(b,h){var V=this,M=((0,ie.isArray)(b)?b:[b]).filter(function(T){return!V.hasComponent(T)}).map(function(T){return new x({component:T})})[0];return this.push(M,h)},F.prototype.getComponent=function(b){return b.get("component")},F.prototype.hasComponent=function(b){var h=this.getByComponent(b);return h&&this.contains(h)},F.prototype.lastComponent=function(){var b=this.last();return b&&this.getComponent(b)},F.prototype.allComponents=function(){var b=this;return this.map(function(h){return b.getComponent(h)}).filter(function(h){return h})},F.prototype.removeComponent=function(b,h){var V=this,M=((0,ie.isArray)(b)?b:[b]).map(function(T){return V.getByComponent(T)});return this.remove(M,h)},F}(A.Collection);var l=function(){var K=function(F,b){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,V){h.__proto__=V}||function(h,V){for(var M in V)Object.prototype.hasOwnProperty.call(V,M)&&(h[M]=V[M])},K(F,b)};return function(F,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function h(){this.constructor=F}K(F,b),F.prototype=b===null?Object.create(b):(h.prototype=b.prototype,new h)}}(),v=function(){return v=Object.assign||function(K){for(var F,b=1,h=arguments.length;b<h;b++)for(var V in F=arguments[b])Object.prototype.hasOwnProperty.call(F,V)&&(K[V]=F[V]);return K},v.apply(this,arguments)},w=function(K,F,b,h){return new(b||(b=Promise))(function(V,M){function T(ee){try{c(h.next(ee))}catch(q){M(q)}}function P(ee){try{c(h.throw(ee))}catch(q){M(q)}}function c(ee){var q;ee.done?V(ee.value):(q=ee.value,q instanceof b?q:new b(function(E){E(q)})).then(T,P)}c((h=h.apply(K,F||[])).next())})},j=function(K,F){var b,h,V,M,T={label:0,sent:function(){if(1&V[0])throw V[1];return V[1]},trys:[],ops:[]};return M={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function P(c){return function(ee){return function(q){if(b)throw new TypeError("Generator is already executing.");for(;T;)try{if(b=1,h&&(V=2&q[0]?h.return:q[0]?h.throw||((V=h.return)&&V.call(h),0):h.next)&&!(V=V.call(h,q[1])).done)return V;switch(h=0,V&&(q=[2&q[0],V.value]),q[0]){case 0:case 1:V=q;break;case 4:return T.label++,{value:q[1],done:!1};case 5:T.label++,h=q[1],q=[0];continue;case 7:q=T.ops.pop(),T.trys.pop();continue;default:if(V=T.trys,!((V=V.length>0&&V[V.length-1])||q[0]!==6&&q[0]!==2)){T=0;continue}if(q[0]===3&&(!V||q[1]>V[0]&&q[1]<V[3])){T.label=q[1];break}if(q[0]===6&&T.label<V[1]){T.label=V[1],V=q;break}if(V&&T.label<V[2]){T.label=V[2],T.ops.push(q);break}V[2]&&T.ops.pop(),T.trys.pop();continue}q=F.call(K,T)}catch(E){q=[6,E],h=0}finally{b=V=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([c,ee])}}},B=function(K,F){var b={};for(var h in K)Object.prototype.hasOwnProperty.call(K,h)&&F.indexOf(h)<0&&(b[h]=K[h]);if(K!=null&&typeof Object.getOwnPropertySymbols=="function"){var V=0;for(h=Object.getOwnPropertySymbols(K);V<h.length;V++)F.indexOf(h[V])<0&&Object.prototype.propertyIsEnumerable.call(K,h[V])&&(b[h[V]]=K[h[V]])}return b},Q=function(K,F,b){if(b||arguments.length===2)for(var h,V=0,M=F.length;V<M;V++)!h&&V in F||(h||(h=Array.prototype.slice.call(F,0,V)),h[V]=F[V]);return K.concat(h||Array.prototype.slice.call(F))};p().$=s.default;var X=[Te(6718),Te(4836),Te(9788),Te(8202),Te(4859),Te(2004),Te(4424),Te(2326),Te(3463),Te(2450),Te(7619),Te(4906),Te(2012),Te(1030),Te(672),Te(7948),Te(6388),Te(5819),Te(6764),Te(4068),Te(289),Te(6407)],te=[];(function(K){var F=K.$;if(F&&F.prototype&&F.prototype.constructor.name!=="jQuery"){var b=F.fn;b.hide=function(){return this.css("display","none")},b.show=function(){return this.css("display","block")},b.focus=function(){var M=this.get(0);return M&&M.focus(),this},b.bind=function(M,T){return this.on(M,T)},b.unbind=function(M,T){if((0,ie.isObject)(M)){for(var P in M)M.hasOwnProperty(P)&&this.off(P,M[P]);return this}return this.off(M,T)},b.click=function(M){return M?this.on("click",M):this.trigger("click")},b.change=function(M){return M?this.on("change",M):this.trigger("change")},b.keydown=function(M){return M?this.on("keydown",M):this.trigger("keydown")},b.delegate=function(M,T,P,c){return c||(c=P),this.on(T,M,function(ee){ee.data=P,c(ee)})},b.scrollLeft=function(){var M=this.get(0),T=(M=M.nodeType==9?M.defaultView:M)instanceof Window?M:null;return T?T.pageXOffset:M.scrollLeft||0},b.scrollTop=function(){var M=this.get(0),T=(M=M.nodeType==9?M.defaultView:M)instanceof Window?M:null;return T?T.pageYOffset:M.scrollTop||0};var h=F.prototype.offset;b.offset=function(M){var T,P;return M&&(T=M.top,P=M.left),T!==void 0&&this.css("top","".concat(T,"px")),P!==void 0&&this.css("left","".concat(P,"px")),h.call(this)},F.map=function(M,T){for(var P=[],c=0;c<M.length;c++)P.push(T(M[c],c));return P};var V=Array.prototype.indexOf;F.inArray=function(M,T,P){return T==null?-1:V.call(T,M,P)},F.Event=function(M,T){if(!(this instanceof F.Event))return new F.Event(M,T);this.type=M,this.isDefaultPrevented=function(){return!1}}}})({Backbone:p(),$:p().$});var J={debug:console.log,info:console.info,warning:console.warn,error:console.error},U=function(K){function F(b){b===void 0&&(b={});var h=K.call(this)||this;h.__skip=!1,h.defaultRunning=!1,h.destroyed=!1,h._config=b;var V=h.config;h.set("Config",b),h.set("modules",[]),h.set("toLoad",[]),h.set("storables",[]),h.set("selected",new f),h.set("dmode",V.dragMode);var M=V.el,T=V.log,P=T===!0?(0,ie.keys)(J):(0,ie.isArray)(T)?T:[];return(0,ie.bindAll)(h,"initBaseColorPicker"),M&&V.fromElement&&(V.components=M.innerHTML),h.attrsOrig=M?(0,ie.toArray)(M.attributes).reduce(function(c,ee){return c[ee.nodeName]=ee.nodeValue,c},{}):"",V.components&&!V.pageManager&&(V.pageManager={pages:[{component:V.components}]}),X.forEach(function(c){return h.loadModule(c)}),te.forEach(function(c){return h.tsLoadModule(c)}),h.on("change:componentHovered",h.componentHovered,h),h.on("change:changesCount",h.updateChanges,h),h.on("change:readyLoad change:readyCanvas",h._checkReady,h),P.forEach(function(c){return h.listenLog(c)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(c){var ee=c.from,q=c.to;h.listenTo(h,ee,function(){for(var E=[],R=0;R<arguments.length;R++)E[R]=arguments[R];h.trigger.apply(h,Q([q],E,!1)),h.logWarning("The event '".concat(ee,"' is deprecated, replace it with '").concat(q,"'"))})}),h}return l(F,K),F.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(F.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),F.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},F.prototype.getContainer=function(){return this.config.el},F.prototype.listenLog=function(b){this.listenTo(this,"log:".concat(b),J[b])},Object.defineProperty(F.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),F.prototype.getConfig=function(b){var h=this.config;return(0,ie.isUndefined)(b)?h:h[b]},F.prototype.loadOnStart=function(){var b=this,h=this.config,V=h.projectData,M=h.headless,T=this.get("StorageManager");this.toLoad.forEach(function(ee){return ee.onLoad()});var P=function(){b.modules.forEach(function(ee){return ee.postLoad&&ee.postLoad(b)}),b.set("readyLoad",1)};M?(V&&this.loadData(V),P()):setTimeout(function(){return w(b,void 0,void 0,function(){var ee;return j(this,function(q){switch(q.label){case 0:return V?(this.loadData(V),[3,5]):[3,1];case 1:if(!(T!=null&&T.canAutoload()))return[3,5];q.label=2;case 2:return q.trys.push([2,4,,5]),[4,this.load()];case 3:return q.sent(),[3,5];case 4:return ee=q.sent(),this.logError(ee),[3,5];case 5:return P(),[2]}})})});var c=new F({noticeOnUnload:!1,storageManager:!1,undoManager:!1});["PageManager","Canvas"].forEach(function(ee){return c.get(ee).onLoad()}),this.set("shallow",c)},F.prototype.updateChanges=function(){var b=this,h=this.get("StorageManager"),V=this.getDirtyCount();this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return b.trigger("update")}),this.config.noticeOnUnload&&(window.onbeforeunload=V?function(){return!0}:null),h.isAutosave()&&V>=h.getStepsBeforeSave()&&this.store().catch(function(M){return b.logError(M)})},F.prototype.loadModule=function(b){var h=this.config,V=new(b.default||b)(this),M=V.name.charAt(0).toLowerCase()+V.name.slice(1),T=(0,ie.isUndefined)(h[M])?h[V.name]:h[M],P=T===!0?{}:T||{};return P.pStylePrefix=h.pStylePrefix||"",(0,ie.isUndefined)(T)||T||(P._disable=1),V.storageKey&&V.store&&V.load&&this.storables.push(V),P.em=this,V.init(v({},P)),!V.private&&this.set(V.name,V),V.onLoad&&this.toLoad.push(V),this.modules.push(V),this},F.prototype.tsLoadModule=function(b){var h=new(b.default||b)(this);return h.storageKey&&h.store&&h.load&&this.storables.push(h),!h.private&&this.set(h.name,h),h.onLoad&&this.toLoad.push(h),this.modules.push(h),this},F.prototype.init=function(b,h){h===void 0&&(h={}),this.destroyed&&(this.initialize(h),this.destroyed=!1),this.set("Editor",b)},F.prototype.getEditor=function(){return this.get("Editor")},F.prototype.handleUpdates=function(b,h,V){var M=this;V===void 0&&(V={}),this.__skip||V.temporary||V.noCount||V.avoidStore||!this.get("ready")||(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var T=M.getDirtyCount()||0,P=(V.unset,B(V,["unset"]));M.set("changesCount",T+1,P)},0))},F.prototype.changesUp=function(b){this.handleUpdates(0,0,b)},F.prototype.componentHovered=function(b,h,V){var M=this.previous("componentHovered");M&&this.trigger("component:unhovered",M,V),h&&this.trigger("component:hovered",h,V)},F.prototype.getSelected=function(){return this.selected.lastComponent()},F.prototype.getSelectedAll=function(){return this.selected.allComponents()},F.prototype.setSelected=function(b,h){var V=this;h===void 0&&(h={});var M=h.event,T=M&&(M.ctrlKey||M.metaKey),P=(M||{}).shiftKey,c=((0,ie.isArray)(b)?b:[b]).map(function(R){return(0,d.getModel)(R,s.default)}),ee=this.getSelectedAll(),q=this.getConfig().multipleSelection,E=(0,ie.isArray)(b);E&&this.removeSelected(ee.filter(function(R){return!(0,ie.contains)(c,R)})),c.forEach(function(R){var ue=(0,d.getModel)(R,void 0);if(ue&&(V.trigger("component:select:before",ue,h),!ue.get("selectable")||h.abort)){if(!h.useValid)return;for(var be=ue.parent();be&&!be.get("selectable");)be=be.parent();ue=be}if(T&&q)return V.toggleSelected(ue);if(P&&q){V.clearSelection(V.get("Canvas").getWindow());var N,oe,de=ue.collection,Ce=ue.index();if(V.getSelectedAll().forEach(function(we){var Ae=we.collection,_e=we.index();Ae===de&&(_e<Ce?N=(0,ie.isUndefined)(N)?_e:Math.max(N,_e):_e>Ce&&(oe=(0,ie.isUndefined)(oe)?_e:Math.min(oe,_e)))}),!(0,ie.isUndefined)(N))for(;N!==Ce;)V.addSelected(de.at(N)),N++;if(!(0,ie.isUndefined)(oe))for(;oe!==Ce;)V.addSelected(de.at(oe)),oe--;return V.addSelected(ue)}!E&&V.removeSelected(ee.filter(function(we){return we!==ue})),V.addSelected(ue,h)})},F.prototype.addSelected=function(b,h){var V=this;h===void 0&&(h={});var M=(0,d.getModel)(b,s.default);((0,ie.isArray)(M)?M:[M]).forEach(function(T){if(!T||T.get("selectable")){var P=V.selected;h.forceChange&&V.removeSelected(T,h),P.addComponent(T,h),T&&V.trigger("component:select",T,h)}})},F.prototype.removeSelected=function(b,h){h===void 0&&(h={}),this.selected.removeComponent((0,d.getModel)(b,s.default),h)},F.prototype.toggleSelected=function(b,h){var V=this;h===void 0&&(h={});var M=(0,d.getModel)(b,s.default);((0,ie.isArray)(M)?M:[M]).forEach(function(T){V.selected.hasComponent(T)?V.removeSelected(T,h):V.addSelected(T,h)})},F.prototype.setHovered=function(b,h){if(h===void 0&&(h={}),!b)return this.set("componentHovered","");var V="component:hover",M=(0,d.getModel)(b,void 0);if(M){if(h.forceChange&&this.set("componentHovered",""),this.trigger("".concat(V,":before"),M,h),!M.get("hoverable")){if(!h.useValid||h.abort)return;for(var T=M&&M.parent();T&&!T.get("hoverable");)T=T.parent();M=T}h.abort||(this.set("componentHovered",M,h),this.trigger(V,M,h))}},F.prototype.getHovered=function(){return this.get("componentHovered")},F.prototype.setComponents=function(b,h){return h===void 0&&(h={}),this.get("DomComponents").setComponents(b,h)},F.prototype.getComponents=function(){var b=this.get("DomComponents"),h=this.get("CodeManager");if(b&&h){var V=b.getComponents();return h.getCode(V,"json")}},F.prototype.setStyle=function(b,h){h===void 0&&(h={});var V=this.get("CssComposer");return V.clear(h),V.getAll().add(b,h),this},F.prototype.addStyle=function(b,h){h===void 0&&(h={});var V=this.getStyle().add(b,h);return(0,ie.isArray)(V)?V:[V]},F.prototype.getStyle=function(){return this.get("CssComposer").getAll()},F.prototype.setState=function(b){return this.set("state",b),this},F.prototype.getState=function(){return this.get("state")||""},F.prototype.getHtml=function(b){b===void 0&&(b={});var h=this.config,V=h.optsHtml,M=h.jsInHtml?this.getJs(b):"",T=b.component||this.get("DomComponents").getComponent(),P=T?this.get("CodeManager").getCode(T,"html",v(v({},V),b)):"";return P+=M?"<script>".concat(M,"<\/script>"):""},F.prototype.getCss=function(b){b===void 0&&(b={});var h=this.config,V=h.optsCss,M=b.avoidProtected,T=(0,ie.isUndefined)(b.keepUnusedStyles)?h.keepUnusedStyles:b.keepUnusedStyles,P=this.get("CssComposer"),c=b.component||this.get("DomComponents").getComponent(),ee=M?"":h.protectedCss,q=c&&this.get("CodeManager").getCode(c,"css",v(v({cssc:P,keepUnusedStyles:T},V),b));return c?b.json?q:ee+q:""},F.prototype.getJs=function(b){b===void 0&&(b={});var h=b.component||this.get("DomComponents").getWrapper();return h?this.get("CodeManager").getCode(h,"js").trim():""},F.prototype.store=function(b){return w(this,void 0,void 0,function(){var h;return j(this,function(V){switch(V.label){case 0:return h=this.storeData(),[4,this.get("StorageManager").store(h,b)];case 1:return V.sent(),this.clearDirtyCount(),[2,h]}})})},F.prototype.load=function(b){return w(this,void 0,void 0,function(){var h;return j(this,function(V){switch(V.label){case 0:return[4,this.get("StorageManager").load(b)];case 1:return h=V.sent(),this.loadData(h),[2,h]}})})},F.prototype.storeData=function(){var b={},h=this.getEditing();return h&&h.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(V){b=v(v({},b),V.store(1))}),JSON.parse(JSON.stringify(b))},F.prototype.loadData=function(b){return b===void 0&&(b={}),(0,d.isEmptyObj)(b)||(this.storables.forEach(function(h){return h.clear()}),this.storables.forEach(function(h){return h.load(b)})),b},F.prototype.getDeviceModel=function(){var b=this.get("device");return this.get("DeviceManager").get(b)},F.prototype.runDefault=function(b){b===void 0&&(b={});var h=this.get("Commands").get(this.config.defaultCommand);h&&!this.defaultRunning&&(h.stop(this,this,b),h.run(this,this,b),this.defaultRunning=!0)},F.prototype.stopDefault=function(b){b===void 0&&(b={});var h=this.get("Commands").get(this.config.defaultCommand);h&&this.defaultRunning&&(h.stop(this,this,b),this.defaultRunning=!1)},F.prototype.refreshCanvas=function(b){b===void 0&&(b={}),this.set("canvasOffset",null),this.set("canvasOffset",this.get("Canvas").getOffset()),b.tools&&this.trigger("canvas:updateTools")},F.prototype.clearSelection=function(b){var h;(h=(b||window).getSelection())===null||h===void 0||h.removeAllRanges()},F.prototype.getCurrentMedia=function(){var b=this.config,h=this.getDeviceModel(),V=b.mediaCondition,M=b.devicePreviewMode,T=h&&h.get("widthMedia");return h&&T&&!M?"(".concat(V,": ").concat(T,")"):""},F.prototype.getWrapper=function(){return this.get("DomComponents").getWrapper()},F.prototype.setCurrentFrame=function(b){return this.set("currentFrame",b)},F.prototype.getCurrentFrame=function(){return this.get("currentFrame")},F.prototype.getCurrentFrameModel=function(){return(this.getCurrentFrame()||{}).model},F.prototype.getIcon=function(b){return(this.config.icons||{})[b]||""},F.prototype.getDirtyCount=function(){return this.get("changesCount")},F.prototype.clearDirtyCount=function(){return this.set("changesCount",0)},F.prototype.getZoomDecimal=function(){return this.get("Canvas").getZoomDecimal()},F.prototype.getZoomMultiplier=function(){return this.get("Canvas").getZoomMultiplier()},F.prototype.setDragMode=function(b){return this.set("dmode",b)},F.prototype.t=function(){for(var b=[],h=0;h<arguments.length;h++)b[h]=arguments[h];var V=this.get("I18n");return V==null?void 0:V.t.apply(V,b)},F.prototype.inAbsoluteMode=function(){return this.get("dmode")==="absolute"},F.prototype.destroyAll=function(){var b=this,h=this.config,V=this.view,M=this.getEditor(),T=(h.grapesjs||{}).editors,P=T===void 0?[]:T,c=this.get("shallow");c==null||c.destroyAll(),this.stopListening(),this.stopDefault(),this.modules.slice().reverse().forEach(function(ee){return ee.destroy()}),V&&V.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(ee){return b[ee]={}}),P.splice(P.indexOf(M),1),(0,d.hasWin)()&&(0,s.default)(h.el).empty().attr(this.attrsOrig)},F.prototype.getEditing=function(){var b=this.get("editing");return b&&b.model||null},F.prototype.setEditing=function(b){return this.set("editing",b),this},F.prototype.isEditing=function(){return!!this.get("editing")},F.prototype.log=function(b,h){h===void 0&&(h={});var V=h.ns,M=h.level,T=M===void 0?"debug":M;if(this.trigger("log",b,h),T&&this.trigger("log:".concat(T),b,h),V){var P="log-".concat(V);this.trigger(P,b,h),T&&this.trigger("".concat(P,":").concat(T),b,h)}},F.prototype.logInfo=function(b,h){this.log(b,v(v({},h),{level:"info"}))},F.prototype.logWarning=function(b,h){this.log(b,v(v({},h),{level:"warning"}))},F.prototype.logError=function(b,h){this.log(b,v(v({},h),{level:"error"}))},F.prototype.initBaseColorPicker=function(b,h){h===void 0&&(h={});var V=this.config,M=V.colorPicker,T=M===void 0?{}:M,P=V.el,c=V.stylePrefix;return(0,s.default)(b).spectrum(v(v({containerClassName:"".concat(c,"one-bg ").concat(c,"two-color"),appendTo:P||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F"},h),T))},F.prototype.skip=function(b){this.__skip=!0;var h=this.get("UndoManager");h?h.skip(b):b(),this.__skip=!1},F.prototype.data=function(b,h,V){var M="_gjs-data";if(b[M]||(b[M]={}),(0,ie.isUndefined)(V))return b[M][h];b[M][h]=V},F}(A.Model);const se=U;var me=function(){var K=function(F,b){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,V){h.__proto__=V}||function(h,V){for(var M in V)Object.prototype.hasOwnProperty.call(V,M)&&(h[M]=V[M])},K(F,b)};return function(F,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function h(){this.constructor=F}K(F,b),F.prototype=b===null?Object.create(b):(h.prototype=b.prototype,new h)}}(),ce=p().$;const D=function(K){function F(b){var h=K.call(this,{model:b})||this,V=b.attributes,M=V.Panels,T=V.UndoManager;return b.view=h,b.once("change:ready",function(){M.active(),M.disableButtons(),T.clear(),setTimeout(function(){b.trigger("load",b.get("Editor")),b.clearDirtyCount()})}),h}return me(F,K),F.prototype.render=function(){var b=this,h=this.$el,V=this.model,M=V.attributes,T=M.Panels,P=M.Canvas,c=V.config,ee=V.modules,q=c.stylePrefix,E=ce(c.el||"body ".concat(c.container));(0,d.appendStyles)(c.cssIcons,{unique:!0,prepand:!0}),h.empty(),c.width&&E.css("width",c.width),c.height&&E.css("height",c.height),h.append(P.render()),h.append(T.render());var R=V.get("shallow").get("Canvas").render();return R.style.display="none",h.append(R),h.attr("class","".concat(q,"editor ").concat(q,"one-bg ").concat(q,"two-color")),E.addClass("".concat(q,"editor-cont")).empty().append(h),ee.forEach(function(ue){return ue.postRender&&ue.postRender(b)}),this},F}(A.View);var L=function(){return L=Object.assign||function(K){for(var F,b=1,h=arguments.length;b<h;b++)for(var V in F=arguments[b])Object.prototype.hasOwnProperty.call(F,V)&&(K[V]=F[V]);return K},L.apply(this,arguments)},I=function(K,F,b,h){return new(b||(b=Promise))(function(V,M){function T(ee){try{c(h.next(ee))}catch(q){M(q)}}function P(ee){try{c(h.throw(ee))}catch(q){M(q)}}function c(ee){var q;ee.done?V(ee.value):(q=ee.value,q instanceof b?q:new b(function(E){E(q)})).then(T,P)}c((h=h.apply(K,F||[])).next())})},re=function(K,F){var b,h,V,M,T={label:0,sent:function(){if(1&V[0])throw V[1];return V[1]},trys:[],ops:[]};return M={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function P(c){return function(ee){return function(q){if(b)throw new TypeError("Generator is already executing.");for(;T;)try{if(b=1,h&&(V=2&q[0]?h.return:q[0]?h.throw||((V=h.return)&&V.call(h),0):h.next)&&!(V=V.call(h,q[1])).done)return V;switch(h=0,V&&(q=[2&q[0],V.value]),q[0]){case 0:case 1:V=q;break;case 4:return T.label++,{value:q[1],done:!1};case 5:T.label++,h=q[1],q=[0];continue;case 7:q=T.ops.pop(),T.trys.pop();continue;default:if(V=T.trys,!((V=V.length>0&&V[V.length-1])||q[0]!==6&&q[0]!==2)){T=0;continue}if(q[0]===3&&(!V||q[1]>V[0]&&q[1]<V[3])){T.label=q[1];break}if(q[0]===6&&T.label<V[1]){T.label=V[1],V=q;break}if(V&&T.label<V[2]){T.label=V[2],T.ops.push(q);break}V[2]&&T.ops.pop(),T.trys.pop();continue}q=F.call(K,T)}catch(E){q=[6,E],h=0}finally{b=V=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([c,ee])}}},ne=function(K,F,b){if(b||arguments.length===2)for(var h,V=0,M=F.length;V<M;V++)!h&&V in F||(h||(h=Array.prototype.slice.call(F,0,V)),h[V]=F[V]);return K.concat(h||Array.prototype.slice.call(F))};const z=function(){function K(F,b){F===void 0&&(F={}),b===void 0&&(b={}),this.modules=[],this.html=O.Z,this.config=L(L(L({},H),F),{pStylePrefix:H.stylePrefix}),this.em=new se(this.config),this.$=b.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(K.prototype,"I18n",{get:function(){return this.em.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Utils",{get:function(){return this.em.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Commands",{get:function(){return this.em.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Keymaps",{get:function(){return this.em.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Modal",{get:function(){return this.em.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Panels",{get:function(){return this.em.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Canvas",{get:function(){return this.em.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Parser",{get:function(){return this.em.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"CodeManager",{get:function(){return this.em.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"UndoManager",{get:function(){return this.em.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"RichTextEditor",{get:function(){return this.em.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Pages",{get:function(){return this.em.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Components",{get:function(){return this.em.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"DomComponents",{get:function(){return this.em.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Layers",{get:function(){return this.em.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"LayerManager",{get:function(){return this.em.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Css",{get:function(){return this.em.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"CssComposer",{get:function(){return this.em.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Storage",{get:function(){return this.em.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"StorageManager",{get:function(){return this.em.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Assets",{get:function(){return this.em.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"AssetManager",{get:function(){return this.em.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Blocks",{get:function(){return this.em.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"BlockManager",{get:function(){return this.em.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Traits",{get:function(){return this.em.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"TraitManager",{get:function(){return this.em.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Selectors",{get:function(){return this.em.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"SelectorManager",{get:function(){return this.em.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Styles",{get:function(){return this.em.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"StyleManager",{get:function(){return this.em.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Devices",{get:function(){return this.em.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"DeviceManager",{get:function(){return this.em.get("DeviceManager")},enumerable:!1,configurable:!0}),K.prototype.getConfig=function(F){var b=this.config;return(0,ie.isUndefined)(F)?b:b[F]},K.prototype.getHtml=function(F){return this.em.getHtml(F)},K.prototype.getCss=function(F){return this.em.getCss(F)},K.prototype.getJs=function(F){return this.em.getJs(F)},K.prototype.getComponents=function(){return this.em.get("DomComponents").getComponents()},K.prototype.getWrapper=function(){return this.em.get("DomComponents").getWrapper()},K.prototype.setComponents=function(F,b){return b===void 0&&(b={}),this.em.setComponents(F,b),this},K.prototype.addComponents=function(F,b){return this.getWrapper().append(F,b)},K.prototype.getStyle=function(){return this.em.get("CssComposer").getAll()},K.prototype.setStyle=function(F,b){return b===void 0&&(b={}),this.em.setStyle(F,b),this},K.prototype.addStyle=function(F,b){return b===void 0&&(b={}),this.em.addStyle(F,b)},K.prototype.getSelected=function(){return this.em.getSelected()},K.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},K.prototype.getSelectedToStyle=function(){var F=this.em.getSelected();if(F)return this.StyleManager.getModelToStyle(F)},K.prototype.select=function(F,b){return this.em.setSelected(F,b),this},K.prototype.selectAdd=function(F){return this.em.addSelected(F),this},K.prototype.selectRemove=function(F){return this.em.removeSelected(F),this},K.prototype.selectToggle=function(F){return this.em.toggleSelected(F),this},K.prototype.getEditing=function(){return this.em.getEditing()},K.prototype.setDevice=function(F){return this.em.set("device",F),this},K.prototype.getDevice=function(){return this.em.get("device")},K.prototype.runCommand=function(F,b){return b===void 0&&(b={}),this.em.get("Commands").run(F,b)},K.prototype.stopCommand=function(F,b){return b===void 0&&(b={}),this.em.get("Commands").stop(F,b)},K.prototype.store=function(F){return I(this,void 0,void 0,function(){return re(this,function(b){switch(b.label){case 0:return[4,this.em.store(F)];case 1:return[2,b.sent()]}})})},K.prototype.load=function(F){return I(this,void 0,void 0,function(){return re(this,function(b){switch(b.label){case 0:return[4,this.em.load(F)];case 1:return[2,b.sent()]}})})},K.prototype.getProjectData=function(){return this.em.storeData()},K.prototype.loadProjectData=function(F){return this.em.loadData(F)},K.prototype.storeData=function(){return this.em.storeData()},K.prototype.loadData=function(F){return this.em.loadData(F)},K.prototype.getContainer=function(){return this.config.el},K.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},K.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},K.prototype.refresh=function(F){this.em.refreshCanvas(F)},K.prototype.setCustomRte=function(F){this.RichTextEditor.customRte=F},K.prototype.setCustomParserCss=function(F){return this.Parser.getConfig().parserCss=F,this},K.prototype.setDragMode=function(F){return this.em.setDragMode(F),this},K.prototype.log=function(F,b){return b===void 0&&(b={}),this.em.log(F,b),this},K.prototype.t=function(){for(var F,b=[],h=0;h<arguments.length;h++)b[h]=arguments[h];return(F=this.em).t.apply(F,b)},K.prototype.on=function(F,b){return this.em.on(F,b),this},K.prototype.once=function(F,b){return this.em.once(F,b),this},K.prototype.off=function(F,b){return this.em.off(F,b),this},K.prototype.trigger=function(F){for(var b=[],h=1;h<arguments.length;h++)b[h-1]=arguments[h];return this.em.trigger.apply(this.em,ne([F],b,!0)),this},K.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},K.prototype.getEl=function(){var F;return(F=this.editorView)===null||F===void 0?void 0:F.el},K.prototype.getModel=function(){return this.em},K.prototype.render=function(){var F;return(F=this.editorView)===null||F===void 0||F.remove(),this.editorView=new D(this.em),this.editorView.render().el},K.prototype.onReady=function(F){this.em.get("ready")?F(this):this.em.on("load",F)},K}(),Y={plugins:[]};function u(K,F){var b=Object.keys(K);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(K);F&&(h=h.filter(function(V){return Object.getOwnPropertyDescriptor(K,V).enumerable})),b.push.apply(b,h)}return b}function y(K){for(var F=1;F<arguments.length;F++){var b=arguments[F]!=null?arguments[F]:{};F%2?u(Object(b),!0).forEach(function(h){(0,ge.Z)(K,h,b[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(b)):u(Object(b)).forEach(function(h){Object.defineProperty(K,h,Object.getOwnPropertyDescriptor(b,h))})}return K}(function(){if((0,d.hasWin)()&&function(){for(var F,b=window.navigator.userAgent,h=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],V=0;V<h.length&&!(F=h[V][1].exec(b));V++);return!!F}()){var K=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(F){return F||(F=""),K.apply(document.implementation,[F])}}})();var g=new function(K){var F=K||{};for(var b in Y)b in F||(F[b]=Y[b]);var h={};return{add:function(V,M){return h[V]?h[V]:(h[V]=M,M)},get:function(V){return h[V]},getAll:function(){return h}}},m=[],$={autorender:1,plugins:[],pluginsOpts:{}};const ae={$:s.default,editors:m,plugins:g,version:"0.19.4",init:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=K,b=F.headless,h=K.container;if(!h&&!b)throw new Error("'container' is required");(K=y(y(y({},$),K),{},{grapesjs:this})).el=!b&&((0,ie.isElement)(h)?h:document.querySelector(h));var V=new z(K,{$:s.default}),M=V.getModel();return K.plugins.forEach(function(T){var P=(0,ie.isFunction)(T)?T:g.get(T),c=K.pluginsOpts[T]||{};if(!P){var ee=(0,d.getGlobal)()[T];P=(ee==null?void 0:ee.default)||ee}P?P(V,c):(0,ie.isFunction)(T)?T(V,c):M.logWarning("Plugin ".concat(T," not found"),{context:"plugins",plugin:T})}),M.loadOnStart(),K.autorender&&!b&&V.render(),m.push(V),V}}})(),Se=Se.default})())}});/*! grapesjs - 0.19.4 */var xa=Ca(),Nl=ru({"node_modules/grapesjs-preset-newsletter/dist/grapesjs-preset-newsletter.min.js"(er,hr){(function(Cr,Ye){typeof er=="object"&&typeof hr=="object"?hr.exports=Ye(Ca()):typeof define=="function"&&define.amd?define(["grapesjs"],Ye):typeof er=="object"?er["grapesjs-preset-newsletter"]=Ye(Ca()):Cr["grapesjs-preset-newsletter"]=Ye(Cr.grapesjs)})(typeof self<"u"?self:er,function(Cr){return function(Ye){function Te(ge){if(Se[ge])return Se[ge].exports;var ie=Se[ge]={i:ge,l:!1,exports:{}};return Ye[ge].call(ie.exports,ie,ie.exports,Te),ie.l=!0,ie.exports}var Se={};return Te.m=Ye,Te.c=Se,Te.d=function(ge,ie,s){Te.o(ge,ie)||Object.defineProperty(ge,ie,{configurable:!1,enumerable:!0,get:s})},Te.n=function(ge){var ie=ge&&ge.__esModule?function(){return ge.default}:function(){return ge};return Te.d(ie,"a",ie),ie},Te.o=function(ge,ie){return Object.prototype.hasOwnProperty.call(ge,ie)},Te.p="",Te(Te.s=46)}([function(Ye,Te){var Se;Se=function(){return this}();try{Se=Se||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(Se=window)}Ye.exports=Se},function(Ye,Te){typeof Object.create=="function"?Ye.exports=function(Se,ge){Se.super_=ge,Se.prototype=Object.create(ge.prototype,{constructor:{value:Se,enumerable:!1,writable:!0,configurable:!0}})}:Ye.exports=function(Se,ge){Se.super_=ge;var ie=function(){};ie.prototype=ge.prototype,Se.prototype=new ie,Se.prototype.constructor=Se}},function(Ye,Te,Se){function ge(f){if(!(this instanceof ge))return new ge(f);p.call(this,f),k.call(this,f),f&&f.readable===!1&&(this.readable=!1),f&&f.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,f&&f.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",ie)}function ie(){this.allowHalfOpen||this._writableState.ended||O.nextTick(s,this)}function s(f){f.end()}var O=Se(14),H=Object.keys||function(f){var l=[];for(var v in f)l.push(v);return l};Ye.exports=ge;var A=Se(8);A.inherits=Se(1);var p=Se(36),k=Se(21);A.inherits(ge,p);for(var d=H(k.prototype),S=0;S<d.length;S++){var x=d[S];ge.prototype[x]||(ge.prototype[x]=k.prototype[x])}Object.defineProperty(ge.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ge.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),ge.prototype._destroy=function(f,l){this.push(null),this.end(),O.nextTick(l,f)}},function(Ye,Te,Se){function ge(O,H){return delete Ye.exports[O],Ye.exports[O]=H,H}var ie=Se(30),s=Se(58);Ye.exports={Parser:ie,Tokenizer:Se(31),ElementType:Se(6),DomHandler:s,get FeedHandler(){return ge("FeedHandler",Se(60))},get Stream(){return ge("Stream",Se(61))},get WritableStream(){return ge("WritableStream",Se(35))},get ProxyHandler(){return ge("ProxyHandler",Se(75))},get DomUtils(){return ge("DomUtils",Se(4))},get CollectingHandler(){return ge("CollectingHandler",Se(86))},DefaultHandler:s,get RssHandler(){return ge("RssHandler",this.FeedHandler)},parseDOM:function(O,H){var A=new s(H);return new ie(A,H).end(O),A.dom},parseFeed:function(O,H){var A=new Ye.exports.FeedHandler(H);return new ie(A,H).end(O),A.dom},createDomStream:function(O,H,A){var p=new s(O,H,A);return new ie(p,H)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(Ye,Te,Se){var ge=Ye.exports;[Se(76),Se(81),Se(82),Se(83),Se(84),Se(85)].forEach(function(ie){Object.keys(ie).forEach(function(s){ge[s]=ie[s].bind(ge)})})},function(Ye,Te){Ye.exports=function(Se){return Se.webpackPolyfill||(Se.deprecate=function(){},Se.paths=[],Se.children||(Se.children=[]),Object.defineProperty(Se,"loaded",{enumerable:!0,get:function(){return Se.l}}),Object.defineProperty(Se,"id",{enumerable:!0,get:function(){return Se.i}}),Se.webpackPolyfill=1),Se}},function(Ye,Te){Ye.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(Se){return Se.type==="tag"||Se.type==="script"||Se.type==="style"}}},function(Ye,Te){function Se(){throw new Error("setTimeout has not been defined")}function ge(){throw new Error("clearTimeout has not been defined")}function ie(w){if(k===setTimeout)return setTimeout(w,0);if((k===Se||!k)&&setTimeout)return k=setTimeout,setTimeout(w,0);try{return k(w,0)}catch{try{return k.call(null,w,0)}catch{return k.call(this,w,0)}}}function s(w){if(d===clearTimeout)return clearTimeout(w);if((d===ge||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(w);try{return d(w)}catch{try{return d.call(null,w)}catch{return d.call(this,w)}}}function O(){l&&x&&(l=!1,x.length?f=x.concat(f):v=-1,f.length&&H())}function H(){if(!l){var w=ie(O);l=!0;for(var j=f.length;j;){for(x=f,f=[];++v<j;)x&&x[v].run();v=-1,j=f.length}x=null,l=!1,s(w)}}function A(w,j){this.fun=w,this.array=j}function p(){}var k,d,S=Ye.exports={};(function(){try{k=typeof setTimeout=="function"?setTimeout:Se}catch{k=Se}try{d=typeof clearTimeout=="function"?clearTimeout:ge}catch{d=ge}})();var x,f=[],l=!1,v=-1;S.nextTick=function(w){var j=new Array(arguments.length-1);if(arguments.length>1)for(var B=1;B<arguments.length;B++)j[B-1]=arguments[B];f.push(new A(w,j)),f.length!==1||l||ie(H)},A.prototype.run=function(){this.fun.apply(null,this.array)},S.title="browser",S.browser=!0,S.env={},S.argv=[],S.version="",S.versions={},S.on=p,S.addListener=p,S.once=p,S.off=p,S.removeListener=p,S.removeAllListeners=p,S.emit=p,S.prependListener=p,S.prependOnceListener=p,S.listeners=function(w){return[]},S.binding=function(w){throw new Error("process.binding is not supported")},S.cwd=function(){return"/"},S.chdir=function(w){throw new Error("process.chdir is not supported")},S.umask=function(){return 0}},function(Ye,Te,Se){(function(ge){function ie(B){return Array.isArray?Array.isArray(B):j(B)==="[object Array]"}function s(B){return typeof B=="boolean"}function O(B){return B===null}function H(B){return B==null}function A(B){return typeof B=="number"}function p(B){return typeof B=="string"}function k(B){return typeof B=="symbol"}function d(B){return B===void 0}function S(B){return j(B)==="[object RegExp]"}function x(B){return typeof B=="object"&&B!==null}function f(B){return j(B)==="[object Date]"}function l(B){return j(B)==="[object Error]"||B instanceof Error}function v(B){return typeof B=="function"}function w(B){return B===null||typeof B=="boolean"||typeof B=="number"||typeof B=="string"||typeof B=="symbol"||B===void 0}function j(B){return Object.prototype.toString.call(B)}Te.isArray=ie,Te.isBoolean=s,Te.isNull=O,Te.isNullOrUndefined=H,Te.isNumber=A,Te.isString=p,Te.isSymbol=k,Te.isUndefined=d,Te.isRegExp=S,Te.isObject=x,Te.isDate=f,Te.isError=l,Te.isFunction=v,Te.isPrimitive=w,Te.isBuffer=ge.isBuffer}).call(Te,Se(12).Buffer)},function(Ye,Te,Se){var ge=Se(11),ie=Se(23),s={tag:!0,script:!0,style:!0};Te.isTag=function(H){return H.type&&(H=H.type),s[H]||!1},Te.camelCase=function(H){return H.replace(/[_.-](\w|$)/g,function(A,p){return p.toUpperCase()})},Te.cssCase=function(H){return H.replace(/[A-Z]/g,"-$&").toLowerCase()},Te.domEach=function(H,A){for(var p=0,k=H.length;p<k&&A.call(H,p,H[p])!==!1;)++p;return H},Te.cloneDom=function(H,A){return ge(ie(H,A),A).children};var O=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;Te.isHtml=function(H){if(H.charAt(0)==="<"&&H.charAt(H.length-1)===">"&&H.length>=3)return!0;var A=O.exec(H);return!(!A||!A[1])}},function(Ye,Te){Ye.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},function(Ye,Te,Se){(function(ge){var ie=Se(3);Te=Ye.exports=function(s,O){var H=Te.evaluate(s,O),A=Te.evaluate("<root></root>",O)[0];return A.type="root",Te.update(H,A),A},Te.evaluate=function(s,O){return typeof s=="string"||ge.isBuffer(s)?ie.parseDOM(s,O):s},Te.update=function(s,O){Array.isArray(s)||(s=[s]),O?O.children=s:O=null;for(var H=0;H<s.length;H++){var A=s[H],p=A.parent||A.root,k=p&&p.children;k&&k!==s&&(k.splice(k.indexOf(A),1),A.prev&&(A.prev.next=A.next),A.next&&(A.next.prev=A.prev)),O?(A.prev=s[H-1]||null,A.next=s[H+1]||null):A.prev=A.next=null,O&&O.type==="root"?(A.root=O,A.parent=null):(A.root=null,A.parent=O)}return O}}).call(Te,Se(12).Buffer)},function(Ye,Te,Se){(function(ge){function ie(){return O.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(N,oe){if(ie()<oe)throw new RangeError("Invalid typed array length");return O.TYPED_ARRAY_SUPPORT?(N=new Uint8Array(oe),N.__proto__=O.prototype):(N===null&&(N=new O(oe)),N.length=oe),N}function O(N,oe,de){if(!(O.TYPED_ARRAY_SUPPORT||this instanceof O))return new O(N,oe,de);if(typeof N=="number"){if(typeof oe=="string")throw new Error("If encoding is specified then the first argument must be a string");return k(this,N)}return H(this,N,oe,de)}function H(N,oe,de,Ce){if(typeof oe=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&oe instanceof ArrayBuffer?x(N,oe,de,Ce):typeof oe=="string"?d(N,oe,de):f(N,oe)}function A(N){if(typeof N!="number")throw new TypeError('"size" argument must be a number');if(N<0)throw new RangeError('"size" argument must not be negative')}function p(N,oe,de,Ce){return A(oe),oe<=0?s(N,oe):de!==void 0?typeof Ce=="string"?s(N,oe).fill(de,Ce):s(N,oe).fill(de):s(N,oe)}function k(N,oe){if(A(oe),N=s(N,oe<0?0:0|l(oe)),!O.TYPED_ARRAY_SUPPORT)for(var de=0;de<oe;++de)N[de]=0;return N}function d(N,oe,de){if(typeof de=="string"&&de!==""||(de="utf8"),!O.isEncoding(de))throw new TypeError('"encoding" must be a valid string encoding');var Ce=0|w(oe,de);N=s(N,Ce);var we=N.write(oe,de);return we!==Ce&&(N=N.slice(0,we)),N}function S(N,oe){var de=oe.length<0?0:0|l(oe.length);N=s(N,de);for(var Ce=0;Ce<de;Ce+=1)N[Ce]=255&oe[Ce];return N}function x(N,oe,de,Ce){if(oe.byteLength,de<0||oe.byteLength<de)throw new RangeError("'offset' is out of bounds");if(oe.byteLength<de+(Ce||0))throw new RangeError("'length' is out of bounds");return oe=de===void 0&&Ce===void 0?new Uint8Array(oe):Ce===void 0?new Uint8Array(oe,de):new Uint8Array(oe,de,Ce),O.TYPED_ARRAY_SUPPORT?(N=oe,N.__proto__=O.prototype):N=S(N,oe),N}function f(N,oe){if(O.isBuffer(oe)){var de=0|l(oe.length);return N=s(N,de),N.length===0||oe.copy(N,0,0,de),N}if(oe){if(typeof ArrayBuffer<"u"&&oe.buffer instanceof ArrayBuffer||"length"in oe)return typeof oe.length!="number"||ee(oe.length)?s(N,0):S(N,oe);if(oe.type==="Buffer"&&R(oe.data))return S(N,oe.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function l(N){if(N>=ie())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ie().toString(16)+" bytes");return 0|N}function v(N){return+N!=N&&(N=0),O.alloc(+N)}function w(N,oe){if(O.isBuffer(N))return N.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(N)||N instanceof ArrayBuffer))return N.byteLength;typeof N!="string"&&(N=""+N);var de=N.length;if(de===0)return 0;for(var Ce=!1;;)switch(oe){case"ascii":case"latin1":case"binary":return de;case"utf8":case"utf-8":case void 0:return V(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*de;case"hex":return de>>>1;case"base64":return P(N).length;default:if(Ce)return V(N).length;oe=(""+oe).toLowerCase(),Ce=!0}}function j(N,oe,de){var Ce=!1;if((oe===void 0||oe<0)&&(oe=0),oe>this.length||((de===void 0||de>this.length)&&(de=this.length),de<=0)||(de>>>=0,oe>>>=0,de<=oe))return"";for(N||(N="utf8");;)switch(N){case"hex":return z(this,oe,de);case"utf8":case"utf-8":return L(this,oe,de);case"ascii":return re(this,oe,de);case"latin1":case"binary":return ne(this,oe,de);case"base64":return D(this,oe,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,oe,de);default:if(Ce)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),Ce=!0}}function B(N,oe,de){var Ce=N[oe];N[oe]=N[de],N[de]=Ce}function Q(N,oe,de,Ce,we){if(N.length===0)return-1;if(typeof de=="string"?(Ce=de,de=0):de>2147483647?de=2147483647:de<-2147483648&&(de=-2147483648),de=+de,isNaN(de)&&(de=we?0:N.length-1),de<0&&(de=N.length+de),de>=N.length){if(we)return-1;de=N.length-1}else if(de<0){if(!we)return-1;de=0}if(typeof oe=="string"&&(oe=O.from(oe,Ce)),O.isBuffer(oe))return oe.length===0?-1:X(N,oe,de,Ce,we);if(typeof oe=="number")return oe&=255,O.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?we?Uint8Array.prototype.indexOf.call(N,oe,de):Uint8Array.prototype.lastIndexOf.call(N,oe,de):X(N,[oe],de,Ce,we);throw new TypeError("val must be string, number or Buffer")}function X(N,oe,de,Ce,we){function Ae(Lt,It){return _e===1?Lt[It]:Lt.readUInt16BE(It*_e)}var _e=1,Ne=N.length,Je=oe.length;if(Ce!==void 0&&((Ce=String(Ce).toLowerCase())==="ucs2"||Ce==="ucs-2"||Ce==="utf16le"||Ce==="utf-16le")){if(N.length<2||oe.length<2)return-1;_e=2,Ne/=2,Je/=2,de/=2}var tt;if(we){var gt=-1;for(tt=de;tt<Ne;tt++)if(Ae(N,tt)===Ae(oe,gt===-1?0:tt-gt)){if(gt===-1&&(gt=tt),tt-gt+1===Je)return gt*_e}else gt!==-1&&(tt-=tt-gt),gt=-1}else for(de+Je>Ne&&(de=Ne-Je),tt=de;tt>=0;tt--){for(var lt=!0,Zt=0;Zt<Je;Zt++)if(Ae(N,tt+Zt)!==Ae(oe,Zt)){lt=!1;break}if(lt)return tt}return-1}function te(N,oe,de,Ce){de=Number(de)||0;var we=N.length-de;Ce?(Ce=Number(Ce))>we&&(Ce=we):Ce=we;var Ae=oe.length;if(Ae%2!=0)throw new TypeError("Invalid hex string");Ce>Ae/2&&(Ce=Ae/2);for(var _e=0;_e<Ce;++_e){var Ne=parseInt(oe.substr(2*_e,2),16);if(isNaN(Ne))return _e;N[de+_e]=Ne}return _e}function J(N,oe,de,Ce){return c(V(oe,N.length-de),N,de,Ce)}function U(N,oe,de,Ce){return c(M(oe),N,de,Ce)}function se(N,oe,de,Ce){return U(N,oe,de,Ce)}function me(N,oe,de,Ce){return c(P(oe),N,de,Ce)}function ce(N,oe,de,Ce){return c(T(oe,N.length-de),N,de,Ce)}function D(N,oe,de){return oe===0&&de===N.length?q.fromByteArray(N):q.fromByteArray(N.slice(oe,de))}function L(N,oe,de){de=Math.min(N.length,de);for(var Ce=[],we=oe;we<de;){var Ae=N[we],_e=null,Ne=Ae>239?4:Ae>223?3:Ae>191?2:1;if(we+Ne<=de){var Je,tt,gt,lt;switch(Ne){case 1:Ae<128&&(_e=Ae);break;case 2:Je=N[we+1],(192&Je)==128&&(lt=(31&Ae)<<6|63&Je)>127&&(_e=lt);break;case 3:Je=N[we+1],tt=N[we+2],(192&Je)==128&&(192&tt)==128&&(lt=(15&Ae)<<12|(63&Je)<<6|63&tt)>2047&&(lt<55296||lt>57343)&&(_e=lt);break;case 4:Je=N[we+1],tt=N[we+2],gt=N[we+3],(192&Je)==128&&(192&tt)==128&&(192&gt)==128&&(lt=(15&Ae)<<18|(63&Je)<<12|(63&tt)<<6|63&gt)>65535&&lt<1114112&&(_e=lt)}}_e===null?(_e=65533,Ne=1):_e>65535&&(_e-=65536,Ce.push(_e>>>10&1023|55296),_e=56320|1023&_e),Ce.push(_e),we+=Ne}return I(Ce)}function I(N){var oe=N.length;if(oe<=ue)return String.fromCharCode.apply(String,N);for(var de="",Ce=0;Ce<oe;)de+=String.fromCharCode.apply(String,N.slice(Ce,Ce+=ue));return de}function re(N,oe,de){var Ce="";de=Math.min(N.length,de);for(var we=oe;we<de;++we)Ce+=String.fromCharCode(127&N[we]);return Ce}function ne(N,oe,de){var Ce="";de=Math.min(N.length,de);for(var we=oe;we<de;++we)Ce+=String.fromCharCode(N[we]);return Ce}function z(N,oe,de){var Ce=N.length;(!oe||oe<0)&&(oe=0),(!de||de<0||de>Ce)&&(de=Ce);for(var we="",Ae=oe;Ae<de;++Ae)we+=h(N[Ae]);return we}function Y(N,oe,de){for(var Ce=N.slice(oe,de),we="",Ae=0;Ae<Ce.length;Ae+=2)we+=String.fromCharCode(Ce[Ae]+256*Ce[Ae+1]);return we}function u(N,oe,de){if(N%1!=0||N<0)throw new RangeError("offset is not uint");if(N+oe>de)throw new RangeError("Trying to access beyond buffer length")}function y(N,oe,de,Ce,we,Ae){if(!O.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(oe>we||oe<Ae)throw new RangeError('"value" argument is out of bounds');if(de+Ce>N.length)throw new RangeError("Index out of range")}function g(N,oe,de,Ce){oe<0&&(oe=65535+oe+1);for(var we=0,Ae=Math.min(N.length-de,2);we<Ae;++we)N[de+we]=(oe&255<<8*(Ce?we:1-we))>>>8*(Ce?we:1-we)}function m(N,oe,de,Ce){oe<0&&(oe=4294967295+oe+1);for(var we=0,Ae=Math.min(N.length-de,4);we<Ae;++we)N[de+we]=oe>>>8*(Ce?we:3-we)&255}function $(N,oe,de,Ce,we,Ae){if(de+Ce>N.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("Index out of range")}function ae(N,oe,de,Ce,we){return we||$(N,oe,de,4),E.write(N,oe,de,Ce,23,4),de+4}function K(N,oe,de,Ce,we){return we||$(N,oe,de,8),E.write(N,oe,de,Ce,52,8),de+8}function F(N){if(N=b(N).replace(be,""),N.length<2)return"";for(;N.length%4!=0;)N+="=";return N}function b(N){return N.trim?N.trim():N.replace(/^\s+|\s+$/g,"")}function h(N){return N<16?"0"+N.toString(16):N.toString(16)}function V(N,oe){oe=oe||1/0;for(var de,Ce=N.length,we=null,Ae=[],_e=0;_e<Ce;++_e){if((de=N.charCodeAt(_e))>55295&&de<57344){if(!we){if(de>56319){(oe-=3)>-1&&Ae.push(239,191,189);continue}if(_e+1===Ce){(oe-=3)>-1&&Ae.push(239,191,189);continue}we=de;continue}if(de<56320){(oe-=3)>-1&&Ae.push(239,191,189),we=de;continue}de=65536+(we-55296<<10|de-56320)}else we&&(oe-=3)>-1&&Ae.push(239,191,189);if(we=null,de<128){if((oe-=1)<0)break;Ae.push(de)}else if(de<2048){if((oe-=2)<0)break;Ae.push(de>>6|192,63&de|128)}else if(de<65536){if((oe-=3)<0)break;Ae.push(de>>12|224,de>>6&63|128,63&de|128)}else{if(!(de<1114112))throw new Error("Invalid code point");if((oe-=4)<0)break;Ae.push(de>>18|240,de>>12&63|128,de>>6&63|128,63&de|128)}}return Ae}function M(N){for(var oe=[],de=0;de<N.length;++de)oe.push(255&N.charCodeAt(de));return oe}function T(N,oe){for(var de,Ce,we,Ae=[],_e=0;_e<N.length&&!((oe-=2)<0);++_e)de=N.charCodeAt(_e),Ce=de>>8,we=de%256,Ae.push(we),Ae.push(Ce);return Ae}function P(N){return q.toByteArray(F(N))}function c(N,oe,de,Ce){for(var we=0;we<Ce&&!(we+de>=oe.length||we>=N.length);++we)oe[we+de]=N[we];return we}function ee(N){return N!==N}var q=Se(55),E=Se(56),R=Se(29);Te.Buffer=O,Te.SlowBuffer=v,Te.INSPECT_MAX_BYTES=50,O.TYPED_ARRAY_SUPPORT=ge.TYPED_ARRAY_SUPPORT!==void 0?ge.TYPED_ARRAY_SUPPORT:function(){try{var N=new Uint8Array(1);return N.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},N.foo()===42&&typeof N.subarray=="function"&&N.subarray(1,1).byteLength===0}catch{return!1}}(),Te.kMaxLength=ie(),O.poolSize=8192,O._augment=function(N){return N.__proto__=O.prototype,N},O.from=function(N,oe,de){return H(null,N,oe,de)},O.TYPED_ARRAY_SUPPORT&&(O.prototype.__proto__=Uint8Array.prototype,O.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&O[Symbol.species]===O&&Object.defineProperty(O,Symbol.species,{value:null,configurable:!0})),O.alloc=function(N,oe,de){return p(null,N,oe,de)},O.allocUnsafe=function(N){return k(null,N)},O.allocUnsafeSlow=function(N){return k(null,N)},O.isBuffer=function(N){return!(N==null||!N._isBuffer)},O.compare=function(N,oe){if(!O.isBuffer(N)||!O.isBuffer(oe))throw new TypeError("Arguments must be Buffers");if(N===oe)return 0;for(var de=N.length,Ce=oe.length,we=0,Ae=Math.min(de,Ce);we<Ae;++we)if(N[we]!==oe[we]){de=N[we],Ce=oe[we];break}return de<Ce?-1:Ce<de?1:0},O.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},O.concat=function(N,oe){if(!R(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return O.alloc(0);var de;if(oe===void 0)for(oe=0,de=0;de<N.length;++de)oe+=N[de].length;var Ce=O.allocUnsafe(oe),we=0;for(de=0;de<N.length;++de){var Ae=N[de];if(!O.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(Ce,we),we+=Ae.length}return Ce},O.byteLength=w,O.prototype._isBuffer=!0,O.prototype.swap16=function(){var N=this.length;if(N%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var oe=0;oe<N;oe+=2)B(this,oe,oe+1);return this},O.prototype.swap32=function(){var N=this.length;if(N%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var oe=0;oe<N;oe+=4)B(this,oe,oe+3),B(this,oe+1,oe+2);return this},O.prototype.swap64=function(){var N=this.length;if(N%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var oe=0;oe<N;oe+=8)B(this,oe,oe+7),B(this,oe+1,oe+6),B(this,oe+2,oe+5),B(this,oe+3,oe+4);return this},O.prototype.toString=function(){var N=0|this.length;return N===0?"":arguments.length===0?L(this,0,N):j.apply(this,arguments)},O.prototype.equals=function(N){if(!O.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N||O.compare(this,N)===0},O.prototype.inspect=function(){var N="",oe=Te.INSPECT_MAX_BYTES;return this.length>0&&(N=this.toString("hex",0,oe).match(/.{2}/g).join(" "),this.length>oe&&(N+=" ... ")),"<Buffer "+N+">"},O.prototype.compare=function(N,oe,de,Ce,we){if(!O.isBuffer(N))throw new TypeError("Argument must be a Buffer");if(oe===void 0&&(oe=0),de===void 0&&(de=N?N.length:0),Ce===void 0&&(Ce=0),we===void 0&&(we=this.length),oe<0||de>N.length||Ce<0||we>this.length)throw new RangeError("out of range index");if(Ce>=we&&oe>=de)return 0;if(Ce>=we)return-1;if(oe>=de)return 1;if(oe>>>=0,de>>>=0,Ce>>>=0,we>>>=0,this===N)return 0;for(var Ae=we-Ce,_e=de-oe,Ne=Math.min(Ae,_e),Je=this.slice(Ce,we),tt=N.slice(oe,de),gt=0;gt<Ne;++gt)if(Je[gt]!==tt[gt]){Ae=Je[gt],_e=tt[gt];break}return Ae<_e?-1:_e<Ae?1:0},O.prototype.includes=function(N,oe,de){return this.indexOf(N,oe,de)!==-1},O.prototype.indexOf=function(N,oe,de){return Q(this,N,oe,de,!0)},O.prototype.lastIndexOf=function(N,oe,de){return Q(this,N,oe,de,!1)},O.prototype.write=function(N,oe,de,Ce){if(oe===void 0)Ce="utf8",de=this.length,oe=0;else if(de===void 0&&typeof oe=="string")Ce=oe,de=this.length,oe=0;else{if(!isFinite(oe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");oe|=0,isFinite(de)?(de|=0,Ce===void 0&&(Ce="utf8")):(Ce=de,de=void 0)}var we=this.length-oe;if((de===void 0||de>we)&&(de=we),N.length>0&&(de<0||oe<0)||oe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ce||(Ce="utf8");for(var Ae=!1;;)switch(Ce){case"hex":return te(this,N,oe,de);case"utf8":case"utf-8":return J(this,N,oe,de);case"ascii":return U(this,N,oe,de);case"latin1":case"binary":return se(this,N,oe,de);case"base64":return me(this,N,oe,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,N,oe,de);default:if(Ae)throw new TypeError("Unknown encoding: "+Ce);Ce=(""+Ce).toLowerCase(),Ae=!0}},O.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ue=4096;O.prototype.slice=function(N,oe){var de=this.length;N=~~N,oe=oe===void 0?de:~~oe,N<0?(N+=de)<0&&(N=0):N>de&&(N=de),oe<0?(oe+=de)<0&&(oe=0):oe>de&&(oe=de),oe<N&&(oe=N);var Ce;if(O.TYPED_ARRAY_SUPPORT)Ce=this.subarray(N,oe),Ce.__proto__=O.prototype;else{var we=oe-N;Ce=new O(we,void 0);for(var Ae=0;Ae<we;++Ae)Ce[Ae]=this[Ae+N]}return Ce},O.prototype.readUIntLE=function(N,oe,de){N|=0,oe|=0,de||u(N,oe,this.length);for(var Ce=this[N],we=1,Ae=0;++Ae<oe&&(we*=256);)Ce+=this[N+Ae]*we;return Ce},O.prototype.readUIntBE=function(N,oe,de){N|=0,oe|=0,de||u(N,oe,this.length);for(var Ce=this[N+--oe],we=1;oe>0&&(we*=256);)Ce+=this[N+--oe]*we;return Ce},O.prototype.readUInt8=function(N,oe){return oe||u(N,1,this.length),this[N]},O.prototype.readUInt16LE=function(N,oe){return oe||u(N,2,this.length),this[N]|this[N+1]<<8},O.prototype.readUInt16BE=function(N,oe){return oe||u(N,2,this.length),this[N]<<8|this[N+1]},O.prototype.readUInt32LE=function(N,oe){return oe||u(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+16777216*this[N+3]},O.prototype.readUInt32BE=function(N,oe){return oe||u(N,4,this.length),16777216*this[N]+(this[N+1]<<16|this[N+2]<<8|this[N+3])},O.prototype.readIntLE=function(N,oe,de){N|=0,oe|=0,de||u(N,oe,this.length);for(var Ce=this[N],we=1,Ae=0;++Ae<oe&&(we*=256);)Ce+=this[N+Ae]*we;return we*=128,Ce>=we&&(Ce-=Math.pow(2,8*oe)),Ce},O.prototype.readIntBE=function(N,oe,de){N|=0,oe|=0,de||u(N,oe,this.length);for(var Ce=oe,we=1,Ae=this[N+--Ce];Ce>0&&(we*=256);)Ae+=this[N+--Ce]*we;return we*=128,Ae>=we&&(Ae-=Math.pow(2,8*oe)),Ae},O.prototype.readInt8=function(N,oe){return oe||u(N,1,this.length),128&this[N]?-1*(255-this[N]+1):this[N]},O.prototype.readInt16LE=function(N,oe){oe||u(N,2,this.length);var de=this[N]|this[N+1]<<8;return 32768&de?4294901760|de:de},O.prototype.readInt16BE=function(N,oe){oe||u(N,2,this.length);var de=this[N+1]|this[N]<<8;return 32768&de?4294901760|de:de},O.prototype.readInt32LE=function(N,oe){return oe||u(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},O.prototype.readInt32BE=function(N,oe){return oe||u(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},O.prototype.readFloatLE=function(N,oe){return oe||u(N,4,this.length),E.read(this,N,!0,23,4)},O.prototype.readFloatBE=function(N,oe){return oe||u(N,4,this.length),E.read(this,N,!1,23,4)},O.prototype.readDoubleLE=function(N,oe){return oe||u(N,8,this.length),E.read(this,N,!0,52,8)},O.prototype.readDoubleBE=function(N,oe){return oe||u(N,8,this.length),E.read(this,N,!1,52,8)},O.prototype.writeUIntLE=function(N,oe,de,Ce){N=+N,oe|=0,de|=0,!Ce&&y(this,N,oe,de,Math.pow(2,8*de)-1,0);var we=1,Ae=0;for(this[oe]=255&N;++Ae<de&&(we*=256);)this[oe+Ae]=N/we&255;return oe+de},O.prototype.writeUIntBE=function(N,oe,de,Ce){N=+N,oe|=0,de|=0,!Ce&&y(this,N,oe,de,Math.pow(2,8*de)-1,0);var we=de-1,Ae=1;for(this[oe+we]=255&N;--we>=0&&(Ae*=256);)this[oe+we]=N/Ae&255;return oe+de},O.prototype.writeUInt8=function(N,oe,de){return N=+N,oe|=0,de||y(this,N,oe,1,255,0),O.TYPED_ARRAY_SUPPORT||(N=Math.floor(N)),this[oe]=255&N,oe+1},O.prototype.writeUInt16LE=function(N,oe,de){return N=+N,oe|=0,de||y(this,N,oe,2,65535,0),O.TYPED_ARRAY_SUPPORT?(this[oe]=255&N,this[oe+1]=N>>>8):g(this,N,oe,!0),oe+2},O.prototype.writeUInt16BE=function(N,oe,de){return N=+N,oe|=0,de||y(this,N,oe,2,65535,0),O.TYPED_ARRAY_SUPPORT?(this[oe]=N>>>8,this[oe+1]=255&N):g(this,N,oe,!1),oe+2},O.prototype.writeUInt32LE=function(N,oe,de){return N=+N,oe|=0,de||y(this,N,oe,4,4294967295,0),O.TYPED_ARRAY_SUPPORT?(this[oe+3]=N>>>24,this[oe+2]=N>>>16,this[oe+1]=N>>>8,this[oe]=255&N):m(this,N,oe,!0),oe+4},O.prototype.writeUInt32BE=function(N,oe,de){return N=+N,oe|=0,de||y(this,N,oe,4,4294967295,0),O.TYPED_ARRAY_SUPPORT?(this[oe]=N>>>24,this[oe+1]=N>>>16,this[oe+2]=N>>>8,this[oe+3]=255&N):m(this,N,oe,!1),oe+4},O.prototype.writeIntLE=function(N,oe,de,Ce){if(N=+N,oe|=0,!Ce){var we=Math.pow(2,8*de-1);y(this,N,oe,de,we-1,-we)}var Ae=0,_e=1,Ne=0;for(this[oe]=255&N;++Ae<de&&(_e*=256);)N<0&&Ne===0&&this[oe+Ae-1]!==0&&(Ne=1),this[oe+Ae]=(N/_e>>0)-Ne&255;return oe+de},O.prototype.writeIntBE=function(N,oe,de,Ce){if(N=+N,oe|=0,!Ce){var we=Math.pow(2,8*de-1);y(this,N,oe,de,we-1,-we)}var Ae=de-1,_e=1,Ne=0;for(this[oe+Ae]=255&N;--Ae>=0&&(_e*=256);)N<0&&Ne===0&&this[oe+Ae+1]!==0&&(Ne=1),this[oe+Ae]=(N/_e>>0)-Ne&255;return oe+de},O.prototype.writeInt8=function(N,oe,de){return N=+N,oe|=0,de||y(this,N,oe,1,127,-128),O.TYPED_ARRAY_SUPPORT||(N=Math.floor(N)),N<0&&(N=255+N+1),this[oe]=255&N,oe+1},O.prototype.writeInt16LE=function(N,oe,de){return N=+N,oe|=0,de||y(this,N,oe,2,32767,-32768),O.TYPED_ARRAY_SUPPORT?(this[oe]=255&N,this[oe+1]=N>>>8):g(this,N,oe,!0),oe+2},O.prototype.writeInt16BE=function(N,oe,de){return N=+N,oe|=0,de||y(this,N,oe,2,32767,-32768),O.TYPED_ARRAY_SUPPORT?(this[oe]=N>>>8,this[oe+1]=255&N):g(this,N,oe,!1),oe+2},O.prototype.writeInt32LE=function(N,oe,de){return N=+N,oe|=0,de||y(this,N,oe,4,2147483647,-2147483648),O.TYPED_ARRAY_SUPPORT?(this[oe]=255&N,this[oe+1]=N>>>8,this[oe+2]=N>>>16,this[oe+3]=N>>>24):m(this,N,oe,!0),oe+4},O.prototype.writeInt32BE=function(N,oe,de){return N=+N,oe|=0,de||y(this,N,oe,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),O.TYPED_ARRAY_SUPPORT?(this[oe]=N>>>24,this[oe+1]=N>>>16,this[oe+2]=N>>>8,this[oe+3]=255&N):m(this,N,oe,!1),oe+4},O.prototype.writeFloatLE=function(N,oe,de){return ae(this,N,oe,!0,de)},O.prototype.writeFloatBE=function(N,oe,de){return ae(this,N,oe,!1,de)},O.prototype.writeDoubleLE=function(N,oe,de){return K(this,N,oe,!0,de)},O.prototype.writeDoubleBE=function(N,oe,de){return K(this,N,oe,!1,de)},O.prototype.copy=function(N,oe,de,Ce){if(de||(de=0),Ce||Ce===0||(Ce=this.length),oe>=N.length&&(oe=N.length),oe||(oe=0),Ce>0&&Ce<de&&(Ce=de),Ce===de||N.length===0||this.length===0)return 0;if(oe<0)throw new RangeError("targetStart out of bounds");if(de<0||de>=this.length)throw new RangeError("sourceStart out of bounds");if(Ce<0)throw new RangeError("sourceEnd out of bounds");Ce>this.length&&(Ce=this.length),N.length-oe<Ce-de&&(Ce=N.length-oe+de);var we,Ae=Ce-de;if(this===N&&de<oe&&oe<Ce)for(we=Ae-1;we>=0;--we)N[we+oe]=this[we+de];else if(Ae<1e3||!O.TYPED_ARRAY_SUPPORT)for(we=0;we<Ae;++we)N[we+oe]=this[we+de];else Uint8Array.prototype.set.call(N,this.subarray(de,de+Ae),oe);return Ae},O.prototype.fill=function(N,oe,de,Ce){if(typeof N=="string"){if(typeof oe=="string"?(Ce=oe,oe=0,de=this.length):typeof de=="string"&&(Ce=de,de=this.length),N.length===1){var we=N.charCodeAt(0);we<256&&(N=we)}if(Ce!==void 0&&typeof Ce!="string")throw new TypeError("encoding must be a string");if(typeof Ce=="string"&&!O.isEncoding(Ce))throw new TypeError("Unknown encoding: "+Ce)}else typeof N=="number"&&(N&=255);if(oe<0||this.length<oe||this.length<de)throw new RangeError("Out of range index");if(de<=oe)return this;oe>>>=0,de=de===void 0?this.length:de>>>0,N||(N=0);var Ae;if(typeof N=="number")for(Ae=oe;Ae<de;++Ae)this[Ae]=N;else{var _e=O.isBuffer(N)?N:V(new O(N,Ce).toString()),Ne=_e.length;for(Ae=0;Ae<de-oe;++Ae)this[Ae+oe]=_e[Ae%Ne]}return this};var be=/[^+\/0-9A-Za-z-_]/g}).call(Te,Se(0))},function(Ye,Te){function Se(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function ge(H){return typeof H=="function"}function ie(H){return typeof H=="number"}function s(H){return typeof H=="object"&&H!==null}function O(H){return H===void 0}Ye.exports=Se,Se.EventEmitter=Se,Se.prototype._events=void 0,Se.prototype._maxListeners=void 0,Se.defaultMaxListeners=10,Se.prototype.setMaxListeners=function(H){if(!ie(H)||H<0||isNaN(H))throw TypeError("n must be a positive number");return this._maxListeners=H,this},Se.prototype.emit=function(H){var A,p,k,d,S,x;if(this._events||(this._events={}),H==="error"&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((A=arguments[1])instanceof Error)throw A;var f=new Error('Uncaught, unspecified "error" event. ('+A+")");throw f.context=A,f}if(p=this._events[H],O(p))return!1;if(ge(p))switch(arguments.length){case 1:p.call(this);break;case 2:p.call(this,arguments[1]);break;case 3:p.call(this,arguments[1],arguments[2]);break;default:d=Array.prototype.slice.call(arguments,1),p.apply(this,d)}else if(s(p))for(d=Array.prototype.slice.call(arguments,1),x=p.slice(),k=x.length,S=0;S<k;S++)x[S].apply(this,d);return!0},Se.prototype.addListener=function(H,A){var p;if(!ge(A))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",H,ge(A.listener)?A.listener:A),this._events[H]?s(this._events[H])?this._events[H].push(A):this._events[H]=[this._events[H],A]:this._events[H]=A,s(this._events[H])&&!this._events[H].warned&&(p=O(this._maxListeners)?Se.defaultMaxListeners:this._maxListeners)&&p>0&&this._events[H].length>p&&(this._events[H].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[H].length),typeof console.trace=="function"&&console.trace()),this},Se.prototype.on=Se.prototype.addListener,Se.prototype.once=function(H,A){function p(){this.removeListener(H,p),k||(k=!0,A.apply(this,arguments))}if(!ge(A))throw TypeError("listener must be a function");var k=!1;return p.listener=A,this.on(H,p),this},Se.prototype.removeListener=function(H,A){var p,k,d,S;if(!ge(A))throw TypeError("listener must be a function");if(!this._events||!this._events[H])return this;if(p=this._events[H],d=p.length,k=-1,p===A||ge(p.listener)&&p.listener===A)delete this._events[H],this._events.removeListener&&this.emit("removeListener",H,A);else if(s(p)){for(S=d;S-- >0;)if(p[S]===A||p[S].listener&&p[S].listener===A){k=S;break}if(k<0)return this;p.length===1?(p.length=0,delete this._events[H]):p.splice(k,1),this._events.removeListener&&this.emit("removeListener",H,A)}return this},Se.prototype.removeAllListeners=function(H){var A,p;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[H]&&delete this._events[H],this;if(arguments.length===0){for(A in this._events)A!=="removeListener"&&this.removeAllListeners(A);return this.removeAllListeners("removeListener"),this._events={},this}if(p=this._events[H],ge(p))this.removeListener(H,p);else if(p)for(;p.length;)this.removeListener(H,p[p.length-1]);return delete this._events[H],this},Se.prototype.listeners=function(H){return this._events&&this._events[H]?ge(this._events[H])?[this._events[H]]:this._events[H].slice():[]},Se.prototype.listenerCount=function(H){if(this._events){var A=this._events[H];if(ge(A))return 1;if(A)return A.length}return 0},Se.listenerCount=function(H,A){return H.listenerCount(A)}},function(Ye,Te,Se){(function(ge){function ie(s,O,H,A){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var p,k,d=arguments.length;switch(d){case 0:case 1:return ge.nextTick(s);case 2:return ge.nextTick(function(){s.call(null,O)});case 3:return ge.nextTick(function(){s.call(null,O,H)});case 4:return ge.nextTick(function(){s.call(null,O,H,A)});default:for(p=new Array(d-1),k=0;k<p.length;)p[k++]=arguments[k];return ge.nextTick(function(){s.apply(null,p)})}}!ge.version||ge.version.indexOf("v0.")===0||ge.version.indexOf("v1.")===0&&ge.version.indexOf("v1.8.")!==0?Ye.exports={nextTick:ie}:Ye.exports=ge}).call(Te,Se(7))},function(Ye,Te,Se){function ge(H,A){for(var p in H)A[p]=H[p]}function ie(H,A,p){return O(H,A,p)}var s=Se(12),O=s.Buffer;O.from&&O.alloc&&O.allocUnsafe&&O.allocUnsafeSlow?Ye.exports=s:(ge(s,Te),Te.Buffer=ie),ge(O,ie),ie.from=function(H,A,p){if(typeof H=="number")throw new TypeError("Argument must not be a number");return O(H,A,p)},ie.alloc=function(H,A,p){if(typeof H!="number")throw new TypeError("Argument must be a number");var k=O(H);return A!==void 0?typeof p=="string"?k.fill(A,p):k.fill(A):k.fill(0),k},ie.allocUnsafe=function(H){if(typeof H!="number")throw new TypeError("Argument must be a number");return O(H)},ie.allocUnsafeSlow=function(H){if(typeof H!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(H)}},function(Ye,Te){function Se(ne,z){for(var Y=-1,u=ne?ne.length:0;++Y<u&&z(ne[Y],Y,ne)!==!1;);return ne}function ge(ne,z){for(var Y=-1,u=Array(ne);++Y<ne;)u[Y]=z(Y);return u}function ie(ne,z){var Y=re(ne)||k(ne)?ge(ne.length,String):[],u=Y.length,y=!!u;for(var g in ne)!z&&!se.call(ne,g)||y&&(g=="length"||H(g,u))||Y.push(g);return Y}function s(ne,z){return ne&&I(ne,z,w)}function O(ne){if(!A(ne))return D(ne);var z=[];for(var Y in Object(ne))se.call(ne,Y)&&Y!="constructor"&&z.push(Y);return z}function H(ne,z){return!!(z=z==null?B:z)&&(typeof ne=="number"||J.test(ne))&&ne>-1&&ne%1==0&&ne<z}function A(ne){var z=ne&&ne.constructor;return ne===(typeof z=="function"&&z.prototype||U)}function p(ne,z){return(re(ne)?Se:L)(ne,typeof z=="function"?z:j)}function k(ne){return S(ne)&&se.call(ne,"callee")&&(!ce.call(ne,"callee")||me.call(ne)==Q)}function d(ne){return ne!=null&&f(ne.length)&&!x(ne)}function S(ne){return v(ne)&&d(ne)}function x(ne){var z=l(ne)?me.call(ne):"";return z==X||z==te}function f(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=B}function l(ne){var z=typeof ne;return!!ne&&(z=="object"||z=="function")}function v(ne){return!!ne&&typeof ne=="object"}function w(ne){return d(ne)?ie(ne):O(ne)}function j(ne){return ne}var B=9007199254740991,Q="[object Arguments]",X="[object Function]",te="[object GeneratorFunction]",J=/^(?:0|[1-9]\d*)$/,U=Object.prototype,se=U.hasOwnProperty,me=U.toString,ce=U.propertyIsEnumerable,D=function(ne,z){return function(Y){return ne(z(Y))}}(Object.keys,Object),L=function(ne,z){return function(Y,u){if(Y==null)return Y;if(!d(Y))return ne(Y,u);for(var y=Y.length,g=z?y:-1,m=Object(Y);(z?g--:++g<y)&&u(m[g],g,m)!==!1;);return Y}}(s),I=function(ne){return function(z,Y,u){for(var y=-1,g=Object(z),m=u(z),$=m.length;$--;){var ae=m[ne?$:++y];if(Y(g[ae],ae,g)===!1)break}return z}}(),re=Array.isArray;Ye.exports=p},function(Ye,Te,Se){var ge=Se(11),ie=Se(9).isHtml,s={extend:Se(40),bind:Se(24),forEach:Se(16),defaults:Se(41)},O=[Se(87),Se(97),Se(101),Se(103),Se(105)],H=Ye.exports=function(p,k,d,S){return this instanceof H?(this.options=s.defaults(S||{},this.options),p?(d&&(typeof d=="string"&&(d=ge(d,this.options)),this._root=H.call(this,d)),p.cheerio?p:(A(p)&&(p=[p]),Array.isArray(p)?(s.forEach(p,s.bind(function(x,f){this[f]=x},this)),this.length=p.length,this):typeof p=="string"&&ie(p)?H.call(this,ge(p,this.options).children):(k?typeof k=="string"?ie(k)?(k=ge(k,this.options),k=H.call(this,k)):(p=[k,p].join(" "),k=this._root):k.cheerio||(k=H.call(this,k)):k=this._root,k?k.find(p):this))):this):new H(p,k,d,S)};s.extend(H,Se(25)),H.prototype.cheerio="[cheerio object]",H.prototype.options={withDomLvl1:!0,normalizeWhitespace:!1,xmlMode:!1,decodeEntities:!0},H.prototype.length=0,H.prototype.splice=Array.prototype.splice,H.prototype._make=function(p,k){var d=new this.constructor(p,k,this._root,this.options);return d.prevObject=this,d},H.prototype.toArray=function(){return this.get()},O.forEach(function(p){s.extend(H.prototype,p)});var A=function(p){return p.name||p.type==="text"||p.type==="comment"}},function(Ye,Te){Ye.exports={Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",amp:"&",AMP:"&",andand:"\u2A55",And:"\u2A53",and:"\u2227",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angmsd:"\u2221",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",apacir:"\u2A6F",ap:"\u2248",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250C",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252C",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxul:"\u2518",boxuL:"\u255B",boxUl:"\u255C",boxUL:"\u255D",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255A",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253C",boxvH:"\u256A",boxVh:"\u256B",boxVH:"\u256C",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251C",boxvR:"\u255E",boxVr:"\u255F",boxVR:"\u2560",bprime:"\u2035",breve:"\u02D8",Breve:"\u02D8",brvbar:"\xA6",bscr:"\u{1D4B7}",Bscr:"\u212C",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsolb:"\u29C5",bsol:"\\",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",cap:"\u2229",Cap:"\u22D2",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",centerdot:"\xB7",CenterDot:"\xB7",cfr:"\u{1D520}",Cfr:"\u212D",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25CB",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",conint:"\u222E",Conint:"\u222F",ContourIntegral:"\u222E",copf:"\u{1D554}",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xA9",COPY:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",cross:"\u2717",Cross:"\u2A2F",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",cupbrcap:"\u2A48",cupcap:"\u2A46",CupCap:"\u224D",cup:"\u222A",Cup:"\u22D3",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21A1",dArr:"\u21D3",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21CA",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",diamond:"\u22C4",Diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21D3",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21BD",DownRightTeeVector:"\u295F",DownRightVectorBar:"\u2957",DownRightVector:"\u21C1",DownTeeArrow:"\u21A7",DownTee:"\u22A4",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",Ecirc:"\xCA",ecirc:"\xEA",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",escr:"\u212F",Escr:"\u2130",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",forall:"\u2200",ForAll:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",fscr:"\u{1D4BB}",Fscr:"\u2131",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",gescc:"\u2AA9",ges:"\u2A7E",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",gg:"\u226B",Gg:"\u22D9",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2AA5",gl:"\u2277",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gnE:"\u2269",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gt:">",GT:">",Gt:"\u226B",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",harrcir:"\u2948",harr:"\u2194",hArr:"\u21D4",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",Hfr:"\u210C",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",hopf:"\u{1D559}",Hopf:"\u210D",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\u{1D4BD}",Hscr:"\u210B",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",ifr:"\u{1D526}",Ifr:"\u2111",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",incare:"\u2105",in:"\u2208",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",intcal:"\u22BA",int:"\u222B",Int:"\u222C",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",iscr:"\u{1D4BE}",Iscr:"\u2110",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",lang:"\u27E8",Lang:"\u27EA",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",larrb:"\u21E4",larrbfs:"\u291F",larr:"\u2190",Larr:"\u219E",lArr:"\u21D0",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",latail:"\u2919",lAtail:"\u291B",lat:"\u2AAB",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lBarr:"\u290E",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27E8",LeftArrowBar:"\u21E4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21D0",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21C3",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTeeArrow:"\u21A4",LeftTee:"\u22A3",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangleBar:"\u29CF",LeftTriangle:"\u22B2",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21BF",LeftVectorBar:"\u2952",LeftVector:"\u21BC",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",lescc:"\u2AA8",les:"\u2A7D",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21C7",ll:"\u226A",Ll:"\u22D8",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoustache:"\u23B0",lmoust:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lnE:"\u2268",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",longleftarrow:"\u27F5",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftrightarrow:"\u27F7",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longmapsto:"\u27FC",longrightarrow:"\u27F6",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",Lscr:"\u2112",lsh:"\u21B0",Lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",lt:"<",LT:"<",Lt:"\u226A",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midast:"*",midcir:"\u2AF0",mid:"\u2223",middot:"\xB7",minusb:"\u229F",minus:"\u2212",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",mscr:"\u{1D4C2}",Mscr:"\u2133",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266E",naturals:"\u2115",natur:"\u266E",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21D7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nharr:"\u21AE",nhArr:"\u21CE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlarr:"\u219A",nlArr:"\u21CD",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219A",nLeftarrow:"\u21CD",nleftrightarrow:"\u21AE",nLeftrightarrow:"\u21CE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nopf:"\u{1D55F}",Nopf:"\u2115",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangle:"\u22EA",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangle:"\u22EB",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",nprec:"\u2280",npreceq:"\u2AAF\u0338",npre:"\u2AAF\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219B",nrArr:"\u21CF",nrarrw:"\u219D\u0338",nrightarrow:"\u219B",nRightarrow:"\u21CF",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvDash:"\u22AD",nVdash:"\u22AE",nVDash:"\u22AF",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21D6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",Ocirc:"\xD4",ocirc:"\xF4",ocir:"\u229A",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",orarr:"\u21BB",Or:"\u2A54",or:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",otimesas:"\u2A36",Otimes:"\u2A37",otimes:"\u2297",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",para:"\xB6",parallel:"\u2225",par:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plus:"+",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",popf:"\u{1D561}",Popf:"\u2119",pound:"\xA3",prap:"\u2AB7",Pr:"\u2ABB",pr:"\u227A",prcue:"\u227C",precapprox:"\u2AB7",prec:"\u227A",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",pre:"\u2AAF",prE:"\u2AB3",precsim:"\u227E",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportional:"\u221D",Proportion:"\u2237",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",qopf:"\u{1D562}",Qopf:"\u211A",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",quot:'"',QUOT:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",rang:"\u27E9",Rang:"\u27EB",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21A0",rArr:"\u21D2",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",ratail:"\u291A",rAtail:"\u291C",ratio:"\u2236",rationals:"\u211A",rbarr:"\u290D",rBarr:"\u290F",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",Re:"\u211C",rect:"\u25AD",reg:"\xAE",REG:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",rfr:"\u{1D52F}",Rfr:"\u211C",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrowBar:"\u21E5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21D2",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVectorBar:"\u2955",RightDownVector:"\u21C2",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTeeArrow:"\u21A6",RightTee:"\u22A2",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangleBar:"\u29D0",RightTriangle:"\u22B3",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVectorBar:"\u2954",RightUpVector:"\u21BE",RightVectorBar:"\u2953",RightVector:"\u21C0",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoustache:"\u23B1",rmoust:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",ropf:"\u{1D563}",Ropf:"\u211D",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",rscr:"\u{1D4C7}",Rscr:"\u211B",rsh:"\u21B1",Rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2ABC",sc:"\u227B",sccue:"\u227D",sce:"\u2AB0",scE:"\u2AB4",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdotb:"\u22A1",sdot:"\u22C5",sdote:"\u2A66",searhk:"\u2925",searr:"\u2198",seArr:"\u21D8",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",solbar:"\u233F",solb:"\u29C4",sol:"/",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25A1",Square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squ:"\u25A1",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",sub:"\u2282",Sub:"\u22D0",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subset:"\u2282",Subset:"\u22D0",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succapprox:"\u2AB8",succ:"\u227B",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",sum:"\u2211",Sum:"\u2211",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",sup:"\u2283",Sup:"\u22D1",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",supset:"\u2283",Supset:"\u22D1",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21D9",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",tilde:"\u02DC",Tilde:"\u223C",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2A31",timesb:"\u22A0",times:"\xD7",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",topbot:"\u2336",topcir:"\u2AF1",top:"\u22A4",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",uarr:"\u2191",Uarr:"\u219F",uArr:"\u21D1",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21D1",UpArrowDownArrow:"\u21C5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21D5",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03C5",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTeeArrow:"\u21A5",UpTee:"\u22A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",varr:"\u2195",vArr:"\u21D5",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",vBar:"\u2AE8",Vbar:"\u2AEB",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22A2",vDash:"\u22A8",Vdash:"\u22A9",VDash:"\u22AB",Vdashl:"\u2AE6",veebar:"\u22BB",vee:"\u2228",Vee:"\u22C1",veeeq:"\u225A",vellip:"\u22EE",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",wedge:"\u2227",Wedge:"\u22C0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xharr:"\u27F7",xhArr:"\u27FA",Xi:"\u039E",xi:"\u03BE",xlarr:"\u27F5",xlArr:"\u27F8",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrarr:"\u27F6",xrArr:"\u27F9",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",yuml:"\xFF",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",zfr:"\u{1D537}",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",Zopf:"\u2124",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"}},function(Ye,Te){Ye.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(Ye,Te,Se){Te=Ye.exports=Se(36),Te.Stream=Te,Te.Readable=Te,Te.Writable=Se(21),Te.Duplex=Se(2),Te.Transform=Se(39),Te.PassThrough=Se(69)},function(Ye,Te,Se){(function(ge,ie,s){function O($){var ae=this;this.next=null,this.entry=null,this.finish=function(){D(ae,$)}}function H($){return u.from($)}function A($){return u.isBuffer($)||$ instanceof y}function p(){}function k($,ae){I=I||Se(2),$=$||{};var K=ae instanceof I;this.objectMode=!!$.objectMode,K&&(this.objectMode=this.objectMode||!!$.writableObjectMode);var F=$.highWaterMark,b=$.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=F||F===0?F:K&&(b||b===0)?b:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var V=$.decodeStrings===!1;this.decodeStrings=!V,this.defaultEncoding=$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(M){B(ae,M)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new O(this)}function d($){if(I=I||Se(2),!(m.call(d,this)||this instanceof I))return new d($);this._writableState=new k($,this),this.writable=!0,$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final)),Y.call(this)}function S($,ae){var K=new Error("write after end");$.emit("error",K),L.nextTick(ae,K)}function x($,ae,K,F){var b=!0,h=!1;return K===null?h=new TypeError("May not write null values to stream"):typeof K=="string"||K===void 0||ae.objectMode||(h=new TypeError("Invalid non-string/buffer chunk")),h&&($.emit("error",h),L.nextTick(F,h),b=!1),b}function f($,ae,K){return $.objectMode||$.decodeStrings===!1||typeof ae!="string"||(ae=u.from(ae,K)),ae}function l($,ae,K,F,b,h){if(!K){var V=f(ae,F,b);F!==V&&(K=!0,b="buffer",F=V)}var M=ae.objectMode?1:F.length;ae.length+=M;var T=ae.length<ae.highWaterMark;if(T||(ae.needDrain=!0),ae.writing||ae.corked){var P=ae.lastBufferedRequest;ae.lastBufferedRequest={chunk:F,encoding:b,isBuf:K,callback:h,next:null},P?P.next=ae.lastBufferedRequest:ae.bufferedRequest=ae.lastBufferedRequest,ae.bufferedRequestCount+=1}else v($,ae,!1,M,F,b,h);return T}function v($,ae,K,F,b,h,V){ae.writelen=F,ae.writecb=V,ae.writing=!0,ae.sync=!0,K?$._writev(b,ae.onwrite):$._write(b,h,ae.onwrite),ae.sync=!1}function w($,ae,K,F,b){--ae.pendingcb,K?(L.nextTick(b,F),L.nextTick(me,$,ae),$._writableState.errorEmitted=!0,$.emit("error",F)):(b(F),$._writableState.errorEmitted=!0,$.emit("error",F),me($,ae))}function j($){$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0}function B($,ae){var K=$._writableState,F=K.sync,b=K.writecb;if(j(K),ae)w($,K,F,ae,b);else{var h=J(K);h||K.corked||K.bufferProcessing||!K.bufferedRequest||te($,K),F?re(Q,$,K,h,b):Q($,K,h,b)}}function Q($,ae,K,F){K||X($,ae),ae.pendingcb--,F(),me($,ae)}function X($,ae){ae.length===0&&ae.needDrain&&(ae.needDrain=!1,$.emit("drain"))}function te($,ae){ae.bufferProcessing=!0;var K=ae.bufferedRequest;if($._writev&&K&&K.next){var F=ae.bufferedRequestCount,b=new Array(F),h=ae.corkedRequestsFree;h.entry=K;for(var V=0,M=!0;K;)b[V]=K,K.isBuf||(M=!1),K=K.next,V+=1;b.allBuffers=M,v($,ae,!0,ae.length,b,"",h.finish),ae.pendingcb++,ae.lastBufferedRequest=null,h.next?(ae.corkedRequestsFree=h.next,h.next=null):ae.corkedRequestsFree=new O(ae),ae.bufferedRequestCount=0}else{for(;K;){var T=K.chunk,P=K.encoding,c=K.callback;if(v($,ae,!1,ae.objectMode?1:T.length,T,P,c),K=K.next,ae.bufferedRequestCount--,ae.writing)break}K===null&&(ae.lastBufferedRequest=null)}ae.bufferedRequest=K,ae.bufferProcessing=!1}function J($){return $.ending&&$.length===0&&$.bufferedRequest===null&&!$.finished&&!$.writing}function U($,ae){$._final(function(K){ae.pendingcb--,K&&$.emit("error",K),ae.prefinished=!0,$.emit("prefinish"),me($,ae)})}function se($,ae){ae.prefinished||ae.finalCalled||(typeof $._final=="function"?(ae.pendingcb++,ae.finalCalled=!0,L.nextTick(U,$,ae)):(ae.prefinished=!0,$.emit("prefinish")))}function me($,ae){var K=J(ae);return K&&(se($,ae),ae.pendingcb===0&&(ae.finished=!0,$.emit("finish"))),K}function ce($,ae,K){ae.ending=!0,me($,ae),K&&(ae.finished?L.nextTick(K):$.once("finish",K)),ae.ended=!0,$.writable=!1}function D($,ae,K){var F=$.entry;for($.entry=null;F;){var b=F.callback;ae.pendingcb--,b(K),F=F.next}ae.corkedRequestsFree?ae.corkedRequestsFree.next=$:ae.corkedRequestsFree=$}var L=Se(14);Ye.exports=d;var I,re=!ge.browser&&["v0.10","v0.9."].indexOf(ge.version.slice(0,5))>-1?ie:L.nextTick;d.WritableState=k;var ne=Se(8);ne.inherits=Se(1);var z={deprecate:Se(68)},Y=Se(37),u=Se(15).Buffer,y=s.Uint8Array||function(){},g=Se(38);ne.inherits(d,Y),k.prototype.getBuffer=function(){for(var $=this.bufferedRequest,ae=[];$;)ae.push($),$=$.next;return ae},function(){try{Object.defineProperty(k.prototype,"buffer",{get:z.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var m;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(d,Symbol.hasInstance,{value:function($){return!!m.call(this,$)||this===d&&$&&$._writableState instanceof k}})):m=function($){return $ instanceof this},d.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},d.prototype.write=function($,ae,K){var F=this._writableState,b=!1,h=!F.objectMode&&A($);return h&&!u.isBuffer($)&&($=H($)),typeof ae=="function"&&(K=ae,ae=null),h?ae="buffer":ae||(ae=F.defaultEncoding),typeof K!="function"&&(K=p),F.ended?S(this,K):(h||x(this,F,$,K))&&(F.pendingcb++,b=l(this,F,h,$,ae,K)),b},d.prototype.cork=function(){this._writableState.corked++},d.prototype.uncork=function(){var $=this._writableState;$.corked&&($.corked--,$.writing||$.corked||$.finished||$.bufferProcessing||!$.bufferedRequest||te(this,$))},d.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+$);return this._writableState.defaultEncoding=$,this},Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),d.prototype._write=function($,ae,K){K(new Error("_write() is not implemented"))},d.prototype._writev=null,d.prototype.end=function($,ae,K){var F=this._writableState;typeof $=="function"?(K=$,$=null,ae=null):typeof ae=="function"&&(K=ae,ae=null),$!=null&&this.write($,ae),F.corked&&(F.corked=1,this.uncork()),F.ending||F.finished||ce(this,F,K)},Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),d.prototype.destroy=g.destroy,d.prototype._undestroy=g.undestroy,d.prototype._destroy=function($,ae){this.end(),ae($)}}).call(Te,Se(7),Se(66).setImmediate,Se(0))},function(Ye,Te,Se){function ge(Q){if(!Q)return"utf8";for(var X;;)switch(Q){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Q;default:if(X)return;Q=(""+Q).toLowerCase(),X=!0}}function ie(Q){var X=ge(Q);if(typeof X!="string"&&(j.isEncoding===B||!B(Q)))throw new Error("Unknown encoding: "+Q);return X||Q}function s(Q){this.encoding=ie(Q);var X;switch(this.encoding){case"utf16le":this.text=S,this.end=x,X=4;break;case"utf8":this.fillLast=p,X=4;break;case"base64":this.text=f,this.end=l,X=3;break;default:return this.write=v,void(this.end=w)}this.lastNeed=0,this.lastTotal=0,this.lastChar=j.allocUnsafe(X)}function O(Q){return Q<=127?0:Q>>5==6?2:Q>>4==14?3:Q>>3==30?4:Q>>6==2?-1:-2}function H(Q,X,te){var J=X.length-1;if(J<te)return 0;var U=O(X[J]);return U>=0?(U>0&&(Q.lastNeed=U-1),U):--J<te||U===-2?0:(U=O(X[J]))>=0?(U>0&&(Q.lastNeed=U-2),U):--J<te||U===-2?0:(U=O(X[J]),U>=0?(U>0&&(U===2?U=0:Q.lastNeed=U-3),U):0)}function A(Q,X,te){if((192&X[0])!=128)return Q.lastNeed=0,"\uFFFD";if(Q.lastNeed>1&&X.length>1){if((192&X[1])!=128)return Q.lastNeed=1,"\uFFFD";if(Q.lastNeed>2&&X.length>2&&(192&X[2])!=128)return Q.lastNeed=2,"\uFFFD"}}function p(Q){var X=this.lastTotal-this.lastNeed,te=A(this,Q);return te!==void 0?te:this.lastNeed<=Q.length?(Q.copy(this.lastChar,X,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(Q.copy(this.lastChar,X,0,Q.length),void(this.lastNeed-=Q.length))}function k(Q,X){var te=H(this,Q,X);if(!this.lastNeed)return Q.toString("utf8",X);this.lastTotal=te;var J=Q.length-(te-this.lastNeed);return Q.copy(this.lastChar,0,J),Q.toString("utf8",X,J)}function d(Q){var X=Q&&Q.length?this.write(Q):"";return this.lastNeed?X+"\uFFFD":X}function S(Q,X){if((Q.length-X)%2==0){var te=Q.toString("utf16le",X);if(te){var J=te.charCodeAt(te.length-1);if(J>=55296&&J<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Q[Q.length-2],this.lastChar[1]=Q[Q.length-1],te.slice(0,-1)}return te}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Q[Q.length-1],Q.toString("utf16le",X,Q.length-1)}function x(Q){var X=Q&&Q.length?this.write(Q):"";if(this.lastNeed){var te=this.lastTotal-this.lastNeed;return X+this.lastChar.toString("utf16le",0,te)}return X}function f(Q,X){var te=(Q.length-X)%3;return te===0?Q.toString("base64",X):(this.lastNeed=3-te,this.lastTotal=3,te===1?this.lastChar[0]=Q[Q.length-1]:(this.lastChar[0]=Q[Q.length-2],this.lastChar[1]=Q[Q.length-1]),Q.toString("base64",X,Q.length-te))}function l(Q){var X=Q&&Q.length?this.write(Q):"";return this.lastNeed?X+this.lastChar.toString("base64",0,3-this.lastNeed):X}function v(Q){return Q.toString(this.encoding)}function w(Q){return Q&&Q.length?this.write(Q):""}var j=Se(15).Buffer,B=j.isEncoding||function(Q){switch((Q=""+Q)&&Q.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};Te.StringDecoder=s,s.prototype.write=function(Q){if(Q.length===0)return"";var X,te;if(this.lastNeed){if((X=this.fillLast(Q))===void 0)return"";te=this.lastNeed,this.lastNeed=0}else te=0;return te<Q.length?X?X+this.text(Q,te):this.text(Q,te):X||""},s.prototype.end=d,s.prototype.text=k,s.prototype.fillLast=function(Q){if(this.lastNeed<=Q.length)return Q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Q.length),this.lastNeed-=Q.length}},function(Ye,Te,Se){function ge(l,v){if(l){var w,j="";for(var B in l)w=l[B],j&&(j+=" "),!w&&d[B]?j+=B:j+=B+'="'+(v.decodeEntities?k.encodeXML(w):w)+'"';return j}}function ie(l,v){l.name==="svg"&&(v={decodeEntities:v.decodeEntities,xmlMode:!0});var w="<"+l.name,j=ge(l.attribs,v);return j&&(w+=" "+j),!v.xmlMode||l.children&&l.children.length!==0?(w+=">",l.children&&(w+=f(l.children,v)),x[l.name]&&!v.xmlMode||(w+="</"+l.name+">")):w+="/>",w}function s(l){return"<"+l.data+">"}function O(l,v){var w=l.data||"";return!v.decodeEntities||l.parent&&l.parent.name in S||(w=k.encodeXML(w)),w}function H(l){return"<![CDATA["+l.children[0].data+"]]>"}function A(l){return"<!--"+l.data+"-->"}var p=Se(77),k=Se(78),d={__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},S={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0},x={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},f=Ye.exports=function(l,v){Array.isArray(l)||l.cheerio||(l=[l]),v=v||{};for(var w="",j=0;j<l.length;j++){var B=l[j];B.type==="root"?w+=f(B.children,v):p.isTag(B)?w+=ie(B,v):B.type===p.Directive?w+=s(B):B.type===p.Comment?w+=A(B):B.type===p.CDATA?w+=H(B):w+=O(B,v)}return w}},function(Ye,Te,Se){(function(ge){function ie(qe,$e,ft){switch(ft.length){case 0:return qe.call($e);case 1:return qe.call($e,ft[0]);case 2:return qe.call($e,ft[0],ft[1]);case 3:return qe.call($e,ft[0],ft[1],ft[2])}return qe.apply($e,ft)}function s(qe,$e){for(var ft=-1,Et=qe?qe.length:0;++ft<Et&&$e(qe[ft],ft,qe)!==!1;);return qe}function O(qe,$e){return!!(qe&&qe.length)&&A(qe,$e,0)>-1}function H(qe,$e,ft,Et){for(var Bt=qe.length,Dt=ft+(Et?1:-1);Et?Dt--:++Dt<Bt;)if($e(qe[Dt],Dt,qe))return Dt;return-1}function A(qe,$e,ft){if($e!==$e)return H(qe,p,ft);for(var Et=ft-1,Bt=qe.length;++Et<Bt;)if(qe[Et]===$e)return Et;return-1}function p(qe){return qe!==qe}function k(qe,$e){for(var ft=qe.length,Et=0;ft--;)qe[ft]===$e&&Et++;return Et}function d(qe,$e){return qe==null?void 0:qe[$e]}function S(qe){var $e=!1;if(qe!=null&&typeof qe.toString!="function")try{$e=!!(qe+"")}catch{}return $e}function x(qe,$e){for(var ft=-1,Et=qe.length,Bt=0,Dt=[];++ft<Et;){var zt=qe[ft];zt!==$e&&zt!==V||(qe[ft]=V,Dt[Bt++]=ft)}return Dt}function f(qe){return y(qe)?Ht(qe):{}}function l(qe){return!(!y(qe)||re(qe))&&(u(qe)||S(qe)?ht:It).test(z(qe))}function v(qe,$e,ft,Et){for(var Bt=-1,Dt=qe.length,zt=ft.length,Gt=-1,nn=$e.length,dn=$t(Dt-zt,0),un=Array(nn+dn),bn=!Et;++Gt<nn;)un[Gt]=$e[Gt];for(;++Bt<zt;)(bn||Bt<Dt)&&(un[ft[Bt]]=qe[Bt]);for(;dn--;)un[Gt++]=qe[Bt++];return un}function w(qe,$e,ft,Et){for(var Bt=-1,Dt=qe.length,zt=-1,Gt=ft.length,nn=-1,dn=$e.length,un=$t(Dt-Gt,0),bn=Array(un+dn),wn=!Et;++Bt<un;)bn[Bt]=qe[Bt];for(var En=Bt;++nn<dn;)bn[En+nn]=$e[nn];for(;++zt<Gt;)(wn||Bt<Dt)&&(bn[En+ft[zt]]=qe[Bt++]);return bn}function j(qe,$e){var ft=-1,Et=qe.length;for($e||($e=Array(Et));++ft<Et;)$e[ft]=qe[ft];return $e}function B(qe,$e,ft){function Et(){return(this&&this!==mt&&this instanceof Et?Dt:qe).apply(Bt?ft:this,arguments)}var Bt=$e&M,Dt=Q(qe);return Et}function Q(qe){return function(){var $e=arguments;switch($e.length){case 0:return new qe;case 1:return new qe($e[0]);case 2:return new qe($e[0],$e[1]);case 3:return new qe($e[0],$e[1],$e[2]);case 4:return new qe($e[0],$e[1],$e[2],$e[3]);case 5:return new qe($e[0],$e[1],$e[2],$e[3],$e[4]);case 6:return new qe($e[0],$e[1],$e[2],$e[3],$e[4],$e[5]);case 7:return new qe($e[0],$e[1],$e[2],$e[3],$e[4],$e[5],$e[6])}var ft=f(qe.prototype),Et=qe.apply(ft,$e);return y(Et)?Et:ft}}function X(qe,$e,ft){function Et(){for(var Dt=arguments.length,zt=Array(Dt),Gt=Dt,nn=me(Et);Gt--;)zt[Gt]=arguments[Gt];var dn=Dt<3&&zt[0]!==nn&&zt[Dt-1]!==nn?[]:x(zt,nn);return(Dt-=dn.length)<ft?U(qe,$e,te,Et.placeholder,void 0,zt,dn,void 0,void 0,ft-Dt):ie(this&&this!==mt&&this instanceof Et?Bt:qe,this,zt)}var Bt=Q(qe);return Et}function te(qe,$e,ft,Et,Bt,Dt,zt,Gt,nn,dn){function un(){for(var Ft=arguments.length,Mt=Array(Ft),Rn=Ft;Rn--;)Mt[Rn]=arguments[Rn];if(An)var Zn=me(un),Fn=k(Mt,Zn);if(Et&&(Mt=v(Mt,Et,Bt,An)),Dt&&(Mt=w(Mt,Dt,zt,An)),Ft-=Fn,An&&Ft<dn){var Wt=x(Mt,Zn);return U(qe,$e,te,un.placeholder,ft,Mt,Wt,Gt,nn,dn-Ft)}var hn=wn?ft:this,on=En?hn[qe]:qe;return Ft=Mt.length,Gt?Mt=ne(Mt,Gt):Tn&&Ft>1&&Mt.reverse(),bn&&nn<Ft&&(Mt.length=nn),this&&this!==mt&&this instanceof un&&(on=qn||Q(on)),on.apply(hn,Mt)}var bn=$e&R,wn=$e&M,En=$e&T,An=$e&(c|ee),Tn=$e&ue,qn=En?void 0:Q(qe);return un}function J(qe,$e,ft,Et){function Bt(){for(var Gt=-1,nn=arguments.length,dn=-1,un=Et.length,bn=Array(un+nn),wn=this&&this!==mt&&this instanceof Bt?zt:qe;++dn<un;)bn[dn]=Et[dn];for(;nn--;)bn[dn++]=arguments[++Gt];return ie(wn,Dt?ft:this,bn)}var Dt=$e&M,zt=Q(qe);return Bt}function U(qe,$e,ft,Et,Bt,Dt,zt,Gt,nn,dn){var un=$e&c,bn=un?zt:void 0,wn=un?void 0:zt,En=un?Dt:void 0,An=un?void 0:Dt;$e|=un?q:E,($e&=~(un?E:q))&P||($e&=~(M|T));var Tn=ft(qe,$e,Bt,En,bn,An,wn,Gt,nn,dn);return Tn.placeholder=Et,en(Tn,qe,$e)}function se(qe,$e,ft,Et,Bt,Dt,zt,Gt){var nn=$e&T;if(!nn&&typeof qe!="function")throw new TypeError(h);var dn=Et?Et.length:0;if(dn||($e&=~(q|E),Et=Bt=void 0),zt=zt===void 0?zt:$t(ae(zt),0),Gt=Gt===void 0?Gt:ae(Gt),dn-=Bt?Bt.length:0,$e&E){var un=Et,bn=Bt;Et=Bt=void 0}var wn=[qe,$e,ft,Et,Bt,un,bn,Dt,zt,Gt];if(qe=wn[0],$e=wn[1],ft=wn[2],Et=wn[3],Bt=wn[4],Gt=wn[9]=wn[9]==null?nn?0:qe.length:$t(wn[9]-dn,0),!Gt&&$e&(c|ee)&&($e&=~(c|ee)),$e&&$e!=M)En=$e==c||$e==ee?X(qe,$e,Gt):$e!=q&&$e!=(M|q)||Bt.length?te.apply(void 0,wn):J(qe,$e,ft,Et);else var En=B(qe,$e,ft);return en(En,qe,$e)}function me(qe){return qe.placeholder}function ce(qe,$e){var ft=d(qe,$e);return l(ft)?ft:void 0}function D(qe){var $e=qe.match(gt);return $e?$e[1].split(lt):[]}function L(qe,$e){var ft=$e.length,Et=ft-1;return $e[Et]=(ft>1?"& ":"")+$e[Et],$e=$e.join(ft>2?", ":" "),qe.replace(tt,`{
/* [wrapped with `+$e+`] */
`)}function I(qe,$e){return!!($e=$e==null?N:$e)&&(typeof qe=="number"||je.test(qe))&&qe>-1&&qe%1==0&&qe<$e}function re(qe){return!!et&&et in qe}function ne(qe,$e){for(var ft=qe.length,Et=cn($e.length,ft),Bt=j(qe);Et--;){var Dt=$e[Et];qe[Et]=I(Dt,ft)?Bt[Dt]:void 0}return qe}function z(qe){if(qe!=null){try{return ct.call(qe)}catch{}try{return qe+""}catch{}}return""}function Y(qe,$e){return s(Ce,function(ft){var Et="_."+ft[0];$e&ft[1]&&!O(qe,Et)&&qe.push(Et)}),qe.sort()}function u(qe){var $e=y(qe)?yt.call(qe):"";return $e==we||$e==Ae}function y(qe){var $e=typeof qe;return!!qe&&($e=="object"||$e=="function")}function g(qe){return!!qe&&typeof qe=="object"}function m(qe){return typeof qe=="symbol"||g(qe)&&yt.call(qe)==_e}function $(qe){return qe?(qe=K(qe))===be||qe===-be?(qe<0?-1:1)*oe:qe===qe?qe:0:qe===0?qe:0}function ae(qe){var $e=$(qe),ft=$e%1;return $e===$e?ft?$e-ft:$e:0}function K(qe){if(typeof qe=="number")return qe;if(m(qe))return de;if(y(qe)){var $e=typeof qe.valueOf=="function"?qe.valueOf():qe;qe=y($e)?$e+"":$e}if(typeof qe!="string")return qe===0?qe:+qe;qe=qe.replace(Je,"");var ft=Lt.test(qe);return ft||Ve.test(qe)?Fe(qe.slice(2),ft?2:8):Zt.test(qe)?de:+qe}function F(qe){return function(){return qe}}function b(qe){return qe}var h="Expected a function",V="__lodash_placeholder__",M=1,T=2,P=4,c=8,ee=16,q=32,E=64,R=128,ue=512,be=1/0,N=9007199254740991,oe=17976931348623157e292,de=NaN,Ce=[["ary",R],["bind",M],["bindKey",T],["curry",c],["curryRight",ee],["flip",ue],["partial",q],["partialRight",E],["rearg",256]],we="[object Function]",Ae="[object GeneratorFunction]",_e="[object Symbol]",Ne=/[\\^$.*+?()[\]{}|]/g,Je=/^\s+|\s+$/g,tt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,gt=/\{\n\/\* \[wrapped with (.+)\] \*/,lt=/,? & /,Zt=/^[-+]0x[0-9a-f]+$/i,Lt=/^0b[01]+$/i,It=/^\[object .+?Constructor\]$/,Ve=/^0o[0-7]+$/i,je=/^(?:0|[1-9]\d*)$/,Fe=parseInt,We=typeof ge=="object"&&ge&&ge.Object===Object&&ge,it=typeof self=="object"&&self&&self.Object===Object&&self,mt=We||it||Function("return this")(),St=Function.prototype,tn=Object.prototype,Ue=mt["__core-js_shared__"],et=function(){var qe=/[^.]+$/.exec(Ue&&Ue.keys&&Ue.keys.IE_PROTO||"");return qe?"Symbol(src)_1."+qe:""}(),ct=St.toString,Ot=tn.hasOwnProperty,yt=tn.toString,ht=RegExp("^"+ct.call(Ot).replace(Ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ht=Object.create,$t=Math.max,cn=Math.min,kn=function(){var qe=ce(Object,"defineProperty"),$e=ce.name;return $e&&$e.length>2?qe:void 0}(),en=kn?function(qe,$e,ft){var Et=$e+"";return kn(qe,"toString",{configurable:!0,enumerable:!1,value:F(L(Et,Y(D(Et),ft)))})}:b,Bn=function(qe,$e){return $e=$t($e===void 0?qe.length-1:$e,0),function(){for(var ft=arguments,Et=-1,Bt=$t(ft.length-$e,0),Dt=Array(Bt);++Et<Bt;)Dt[Et]=ft[$e+Et];Et=-1;for(var zt=Array($e+1);++Et<$e;)zt[Et]=ft[Et];return zt[$e]=Dt,ie(qe,this,zt)}}(function(qe,$e,ft){var Et=M;if(ft.length){var Bt=x(ft,me(Bn));Et|=q}return se(qe,Et,$e,ft,Bt)});Bn.placeholder={},Ye.exports=Bn}).call(Te,Se(0))},function(Ye,Te,Se){function ge(A,p,k){if(p)typeof p=="string"&&(p=s(p,A._root,k));else{if(!A._root||!A._root.children)return"";p=A._root.children}return ie(p,k)}var ie=Se(23),s=Se(42),O=Se(11),H={merge:Se(95),defaults:Se(41)};Te.load=function(A,p){var k=Se(17);p=H.defaults(p||{},k.prototype.options);var d=O(A,p),S=function(x,f,l,v){return this instanceof S?(v=H.defaults(v||{},p),k.call(this,x,f,l||d,v)):new S(x,f,l,v)};return S.prototype=Object.create(k.prototype),S.prototype.constructor=S,S.fn=S.prototype,S.prototype._originalRoot=d,H.merge(S,Te),S._root=d,S._options=p,S},Te.html=function(A,p){var k=Se(17);return Object.prototype.toString.call(A)!=="[object Object]"||p||"length"in A||"type"in A||(p=A,A=void 0),p=H.defaults(p||{},this._options,k.prototype.options),ge(this,A,p)},Te.xml=function(A){return ge(this,A,H.defaults({xmlMode:!0},this._options))},Te.text=function(A){A||(A=this.root());for(var p,k="",d=A.length,S=0;S<d;S++)p=A[S],p.type==="text"?k+=p.data:p.children&&p.type!=="comment"&&(k+=Te.text(p.children));return k},Te.parseHTML=function(A,p,k){var d;return A&&typeof A=="string"?(typeof p=="boolean"&&(k=p),d=this.load(A),k||d("script").remove(),d.root()[0].children.slice()):null},Te.root=function(){return this(this._root)},Te.contains=function(A,p){if(p===A)return!1;for(;p&&p!==p.parent;)if((p=p.parent)===A)return!0;return!1}},function(Ye,Te,Se){function ge(U){for(var se=0;U&&se<U.length;se++)if(A(U[se]))return U[se]}function ie(U,se){var me={name:U,value:se};return function(ce){return w(ce,me)}}function s(U){return function(se){return!!k(se)&&U(se)}}function O(U,se,me){if(me===null){if(U.length>1&&se!=="scope")throw new SyntaxError("pseudo-selector :"+se+" requires an argument")}else if(U.length===1)throw new SyntaxError("pseudo-selector :"+se+" doesn't have any arguments")}var H=Se(4),A=H.isTag,p=H.getText,k=H.getParent,d=H.getChildren,S=H.getSiblings,x=H.hasAttrib,f=H.getName,l=H.getAttributeValue,v=Se(88),w=Se(43).rules.equals,j=Se(10),B=j.trueFunc,Q=j.falseFunc,X={contains:function(U,se){return function(me){return U(me)&&p(me).indexOf(se)>=0}},icontains:function(U,se){var me=se.toLowerCase();return function(ce){return U(ce)&&p(ce).toLowerCase().indexOf(me)>=0}},"nth-child":function(U,se){var me=v(se);return me===Q?me:me===B?s(U):function(ce){for(var D=S(ce),L=0,I=0;L<D.length;L++)if(A(D[L])){if(D[L]===ce)break;I++}return me(I)&&U(ce)}},"nth-last-child":function(U,se){var me=v(se);return me===Q?me:me===B?s(U):function(ce){for(var D=S(ce),L=0,I=D.length-1;I>=0;I--)if(A(D[I])){if(D[I]===ce)break;L++}return me(L)&&U(ce)}},"nth-of-type":function(U,se){var me=v(se);return me===Q?me:me===B?s(U):function(ce){for(var D=S(ce),L=0,I=0;I<D.length;I++)if(A(D[I])){if(D[I]===ce)break;f(D[I])===f(ce)&&L++}return me(L)&&U(ce)}},"nth-last-of-type":function(U,se){var me=v(se);return me===Q?me:me===B?s(U):function(ce){for(var D=S(ce),L=0,I=D.length-1;I>=0;I--)if(A(D[I])){if(D[I]===ce)break;f(D[I])===f(ce)&&L++}return me(L)&&U(ce)}},root:function(U){return function(se){return!k(se)&&U(se)}},scope:function(U,se,me,ce){return ce&&ce.length!==0?ce.length===1?function(D){return ce[0]===D&&U(D)}:function(D){return ce.indexOf(D)>=0&&U(D)}:X.root(U)},checkbox:ie("type","checkbox"),file:ie("type","file"),password:ie("type","password"),radio:ie("type","radio"),reset:ie("type","reset"),image:ie("type","image"),submit:ie("type","submit")},te={empty:function(U){return!d(U).some(function(se){return A(se)||se.type==="text"})},"first-child":function(U){return ge(S(U))===U},"last-child":function(U){for(var se=S(U),me=se.length-1;me>=0;me--){if(se[me]===U)return!0;if(A(se[me]))break}return!1},"first-of-type":function(U){for(var se=S(U),me=0;me<se.length;me++)if(A(se[me])){if(se[me]===U)return!0;if(f(se[me])===f(U))break}return!1},"last-of-type":function(U){for(var se=S(U),me=se.length-1;me>=0;me--)if(A(se[me])){if(se[me]===U)return!0;if(f(se[me])===f(U))break}return!1},"only-of-type":function(U){for(var se=S(U),me=0,ce=se.length;me<ce;me++)if(A(se[me])){if(se[me]===U)continue;if(f(se[me])===f(U))return!1}return!0},"only-child":function(U){for(var se=S(U),me=0;me<se.length;me++)if(A(se[me])&&se[me]!==U)return!1;return!0},link:function(U){return x(U,"href")},visited:Q,selected:function(U){if(x(U,"selected"))return!0;if(f(U)!=="option")return!1;var se=k(U);if(!se||f(se)!=="select"||x(se,"multiple"))return!1;for(var me=d(se),ce=!1,D=0;D<me.length;D++)if(A(me[D])){if(me[D]===U)ce=!0;else if(!ce||x(me[D],"selected"))return!1}return ce},disabled:function(U){return x(U,"disabled")},enabled:function(U){return!x(U,"disabled")},checked:function(U){return x(U,"checked")||te.selected(U)},required:function(U){return x(U,"required")},optional:function(U){return!x(U,"required")},parent:function(U){return!te.empty(U)},header:function(U){var se=f(U);return se==="h1"||se==="h2"||se==="h3"||se==="h4"||se==="h5"||se==="h6"},button:function(U){var se=f(U);return se==="button"||se==="input"&&l(U,"type")==="button"},input:function(U){var se=f(U);return se==="input"||se==="textarea"||se==="select"||se==="button"},text:function(U){var se;return f(U)==="input"&&(!(se=l(U,"type"))||se.toLowerCase()==="text")}},J=/^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/;Ye.exports={compile:function(U,se,me,ce){var D=se.name,L=se.data;if(me&&me.strict&&!J.test(D))throw SyntaxError(":"+D+" isn't part of CSS3");if(typeof X[D]=="function")return O(X[D],D,L),X[D](U,L,me,ce);if(typeof te[D]=="function"){var I=te[D];return O(I,D,L),U===B?I:function(re){return I(re,L)&&U(re)}}throw new SyntaxError("unmatched pseudo-class :"+D)},filters:X,pseudos:te}},function(Ye,Te,Se){var ge=Se(108),ie={}.hasOwnProperty,s=Se(111),O=Se(113);Te.Selector=s,Te.Property=O,Te.extract=function(H){for(var A=0,p=[],k="",d=0,S=H.length;d<S;d++){var x=H.charAt(d);A?(x!=="]"&&x!==")"||A--,k+=x):x===","?(p.push(k),k=""):(x!=="["&&x!=="("||A++,(k.length||x!==","&&x!==`
`&&x!==" ")&&(k+=x))}return k.length&&p.push(k),p},Te.parseCSS=function(H){for(var A=ge.parse(H,{position:!0,comments:!0}),p=A.stylesheet!==void 0&&A.stylesheet.rules?A.stylesheet.rules:[],k=[],d=0,S=p.length;d<S;d++)if(p[d].type=="rule")for(var x=p[d],f=x.selectors,l=0,v=f.length;l<v;l++)k.push([f[l],x.declarations]);return k},Te.getPreservedText=function(H,A){for(var p=ge.parse(H,{position:!0,comments:!0}),k=p.stylesheet!==void 0&&p.stylesheet.rules?p.stylesheet.rules:[],d=[],S=k.length-1;S>=0;S--)(A.fontFaces&&k[S].type==="font-face"||A.mediaQueries&&k[S].type==="media")&&d.unshift(ge.stringify({stylesheet:{rules:[k[S]]}},{comments:!1,indentation:"  "})),k[S].position.start;return d.length!==0&&`
`+d.join(`
`)+`
`},Te.normalizeLineEndings=function(H){return H.replace(/\r\n/g,`
`).replace(/\n/g,`\r
`)},Te.compareFunc=function(H,A){for(var p=Math.min(H.length,A.length),k=0;k<p;k++)if(H[k]!==A[k])return H[k]>A[k]?1:-1;return H.length-A.length},Te.compare=function(H,A){return Te.compareFunc(H,A)==1?H:A},Te.extend=function(H,A){for(var p in A)ie.call(A,p)&&(H[p]=A[p]);return H},Te.getDefaultOptions=function(H){var A=Te.extend({extraCss:"",insertPreservedExtraCss:!0,applyStyleTags:!0,removeStyleTags:!0,preserveMediaQueries:!0,preserveFontFaces:!0,applyWidthAttributes:!0,applyHeightAttributes:!0,applyAttributesTableElements:!0,url:""},H);return A.webResources=A.webResources||{},A}},function(Ye,Te,Se){(function(ge){function ie(O){return s.bind(null,O)}function s(O){var H=[].slice.call(arguments,1);H.unshift("["+O+"]"),ge.stderr.write(H.join(" ")+`
`)}Te=Ye.exports=ie}).call(Te,Se(7))},function(Ye,Te){var Se={}.toString;Ye.exports=Array.isArray||function(ge){return Se.call(ge)=="[object Array]"}},function(Ye,Te,Se){function ge(p,k){this._options=k||{},this._cbs=p||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(ie=this._options.Tokenizer),this._tokenizer=new ie(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}var ie=Se(31),s={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},O={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:s,input:s,output:s,button:s,datalist:s,textarea:s,option:{option:!0},optgroup:{optgroup:!0}},H={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0,stop:!0,polyline:!0,polygon:!0},A=/\s|\//;Se(1)(ge,Se(13).EventEmitter),ge.prototype._updatePosition=function(p){this.endIndex===null?this._tokenizer._sectionStart<=p?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-p:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},ge.prototype.ontext=function(p){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(p)},ge.prototype.onopentagname=function(p){if(this._lowerCaseTagNames&&(p=p.toLowerCase()),this._tagname=p,!this._options.xmlMode&&p in O)for(var k;(k=this._stack[this._stack.length-1])in O[p];this.onclosetag(k));!this._options.xmlMode&&p in H||this._stack.push(p),this._cbs.onopentagname&&this._cbs.onopentagname(p),this._cbs.onopentag&&(this._attribs={})},ge.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in H&&this._cbs.onclosetag(this._tagname),this._tagname=""},ge.prototype.onclosetag=function(p){if(this._updatePosition(1),this._lowerCaseTagNames&&(p=p.toLowerCase()),!this._stack.length||p in H&&!this._options.xmlMode)this._options.xmlMode||p!=="br"&&p!=="p"||(this.onopentagname(p),this._closeCurrentTag());else{var k=this._stack.lastIndexOf(p);if(k!==-1)if(this._cbs.onclosetag)for(k=this._stack.length-k;k--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=k;else p!=="p"||this._options.xmlMode||(this.onopentagname(p),this._closeCurrentTag())}},ge.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing?this._closeCurrentTag():this.onopentagend()},ge.prototype._closeCurrentTag=function(){var p=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===p&&(this._cbs.onclosetag&&this._cbs.onclosetag(p),this._stack.pop())},ge.prototype.onattribname=function(p){this._lowerCaseAttributeNames&&(p=p.toLowerCase()),this._attribname=p},ge.prototype.onattribdata=function(p){this._attribvalue+=p},ge.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},ge.prototype._getInstructionName=function(p){var k=p.search(A),d=k<0?p:p.substr(0,k);return this._lowerCaseTagNames&&(d=d.toLowerCase()),d},ge.prototype.ondeclaration=function(p){if(this._cbs.onprocessinginstruction){var k=this._getInstructionName(p);this._cbs.onprocessinginstruction("!"+k,"!"+p)}},ge.prototype.onprocessinginstruction=function(p){if(this._cbs.onprocessinginstruction){var k=this._getInstructionName(p);this._cbs.onprocessinginstruction("?"+k,"?"+p)}},ge.prototype.oncomment=function(p){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(p),this._cbs.oncommentend&&this._cbs.oncommentend()},ge.prototype.oncdata=function(p){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(p),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+p+"]]")},ge.prototype.onerror=function(p){this._cbs.onerror&&this._cbs.onerror(p)},ge.prototype.onend=function(){if(this._cbs.onclosetag)for(var p=this._stack.length;p>0;this._cbs.onclosetag(this._stack[--p]));this._cbs.onend&&this._cbs.onend()},ge.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},ge.prototype.parseComplete=function(p){this.reset(),this.end(p)},ge.prototype.write=function(p){this._tokenizer.write(p)},ge.prototype.end=function(p){this._tokenizer.end(p)},ge.prototype.pause=function(){this._tokenizer.pause()},ge.prototype.resume=function(){this._tokenizer.resume()},ge.prototype.parseChunk=ge.prototype.write,ge.prototype.done=ge.prototype.end,Ye.exports=ge},function(Ye,Te,Se){function ge(Ve){return Ve===" "||Ve===`
`||Ve==="	"||Ve==="\f"||Ve==="\r"}function ie(Ve,je,Fe){var We=Ve.toLowerCase();return Ve===We?function(it){it===We?this._state=je:(this._state=Fe,this._index--)}:function(it){it===We||it===Ve?this._state=je:(this._state=Fe,this._index--)}}function s(Ve,je){var Fe=Ve.toLowerCase();return function(We){We===Fe||We===Ve?this._state=je:(this._state=f,this._index--)}}function O(Ve,je){this._state=S,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=S,this._special=Zt,this._cbs=je,this._running=!0,this._ended=!1,this._xmlMode=!(!Ve||!Ve.xmlMode),this._decodeEntities=!(!Ve||!Ve.decodeEntities)}Ye.exports=O;var H=Se(32),A=Se(18),p=Se(33),k=Se(19),d=0,S=d++,x=d++,f=d++,l=d++,v=d++,w=d++,j=d++,B=d++,Q=d++,X=d++,te=d++,J=d++,U=d++,se=d++,me=d++,ce=d++,D=d++,L=d++,I=d++,re=d++,ne=d++,z=d++,Y=d++,u=d++,y=d++,g=d++,m=d++,$=d++,ae=d++,K=d++,F=d++,b=d++,h=d++,V=d++,M=d++,T=d++,P=d++,c=d++,ee=d++,q=d++,E=d++,R=d++,ue=d++,be=d++,N=d++,oe=d++,de=d++,Ce=d++,we=d++,Ae=d++,_e=d++,Ne=d++,Je=d++,tt=d++,gt=d++,lt=0,Zt=lt++,Lt=lt++,It=lt++;O.prototype._stateText=function(Ve){Ve==="<"?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=x,this._sectionStart=this._index):this._decodeEntities&&this._special===Zt&&Ve==="&"&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=S,this._state=_e,this._sectionStart=this._index)},O.prototype._stateBeforeTagName=function(Ve){Ve==="/"?this._state=v:Ve==="<"?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):Ve===">"||this._special!==Zt||ge(Ve)?this._state=S:Ve==="!"?(this._state=me,this._sectionStart=this._index+1):Ve==="?"?(this._state=D,this._sectionStart=this._index+1):(this._state=this._xmlMode||Ve!=="s"&&Ve!=="S"?f:F,this._sectionStart=this._index)},O.prototype._stateInTagName=function(Ve){(Ve==="/"||Ve===">"||ge(Ve))&&(this._emitToken("onopentagname"),this._state=B,this._index--)},O.prototype._stateBeforeCloseingTagName=function(Ve){ge(Ve)||(Ve===">"?this._state=S:this._special!==Zt?Ve==="s"||Ve==="S"?this._state=b:(this._state=S,this._index--):(this._state=w,this._sectionStart=this._index))},O.prototype._stateInCloseingTagName=function(Ve){(Ve===">"||ge(Ve))&&(this._emitToken("onclosetag"),this._state=j,this._index--)},O.prototype._stateAfterCloseingTagName=function(Ve){Ve===">"&&(this._state=S,this._sectionStart=this._index+1)},O.prototype._stateBeforeAttributeName=function(Ve){Ve===">"?(this._cbs.onopentagend(),this._state=S,this._sectionStart=this._index+1):Ve==="/"?this._state=l:ge(Ve)||(this._state=Q,this._sectionStart=this._index)},O.prototype._stateInSelfClosingTag=function(Ve){Ve===">"?(this._cbs.onselfclosingtag(),this._state=S,this._sectionStart=this._index+1):ge(Ve)||(this._state=B,this._index--)},O.prototype._stateInAttributeName=function(Ve){(Ve==="="||Ve==="/"||Ve===">"||ge(Ve))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=X,this._index--)},O.prototype._stateAfterAttributeName=function(Ve){Ve==="="?this._state=te:Ve==="/"||Ve===">"?(this._cbs.onattribend(),this._state=B,this._index--):ge(Ve)||(this._cbs.onattribend(),this._state=Q,this._sectionStart=this._index)},O.prototype._stateBeforeAttributeValue=function(Ve){Ve==='"'?(this._state=J,this._sectionStart=this._index+1):Ve==="'"?(this._state=U,this._sectionStart=this._index+1):ge(Ve)||(this._state=se,this._sectionStart=this._index,this._index--)},O.prototype._stateInAttributeValueDoubleQuotes=function(Ve){Ve==='"'?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=B):this._decodeEntities&&Ve==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=_e,this._sectionStart=this._index)},O.prototype._stateInAttributeValueSingleQuotes=function(Ve){Ve==="'"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=B):this._decodeEntities&&Ve==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=_e,this._sectionStart=this._index)},O.prototype._stateInAttributeValueNoQuotes=function(Ve){ge(Ve)||Ve===">"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=B,this._index--):this._decodeEntities&&Ve==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=_e,this._sectionStart=this._index)},O.prototype._stateBeforeDeclaration=function(Ve){this._state=Ve==="["?z:Ve==="-"?L:ce},O.prototype._stateInDeclaration=function(Ve){Ve===">"&&(this._cbs.ondeclaration(this._getSection()),this._state=S,this._sectionStart=this._index+1)},O.prototype._stateInProcessingInstruction=function(Ve){Ve===">"&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=S,this._sectionStart=this._index+1)},O.prototype._stateBeforeComment=function(Ve){Ve==="-"?(this._state=I,this._sectionStart=this._index+1):this._state=ce},O.prototype._stateInComment=function(Ve){Ve==="-"&&(this._state=re)},O.prototype._stateAfterComment1=function(Ve){this._state=Ve==="-"?ne:I},O.prototype._stateAfterComment2=function(Ve){Ve===">"?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=S,this._sectionStart=this._index+1):Ve!=="-"&&(this._state=I)},O.prototype._stateBeforeCdata1=ie("C",Y,ce),O.prototype._stateBeforeCdata2=ie("D",u,ce),O.prototype._stateBeforeCdata3=ie("A",y,ce),O.prototype._stateBeforeCdata4=ie("T",g,ce),O.prototype._stateBeforeCdata5=ie("A",m,ce),O.prototype._stateBeforeCdata6=function(Ve){Ve==="["?(this._state=$,this._sectionStart=this._index+1):(this._state=ce,this._index--)},O.prototype._stateInCdata=function(Ve){Ve==="]"&&(this._state=ae)},O.prototype._stateAfterCdata1=function(Ve,je){return function(Fe){Fe===Ve&&(this._state=je)}}("]",K),O.prototype._stateAfterCdata2=function(Ve){Ve===">"?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=S,this._sectionStart=this._index+1):Ve!=="]"&&(this._state=$)},O.prototype._stateBeforeSpecial=function(Ve){Ve==="c"||Ve==="C"?this._state=h:Ve==="t"||Ve==="T"?this._state=ue:(this._state=f,this._index--)},O.prototype._stateBeforeSpecialEnd=function(Ve){this._special!==Lt||Ve!=="c"&&Ve!=="C"?this._special!==It||Ve!=="t"&&Ve!=="T"?this._state=S:this._state=de:this._state=c},O.prototype._stateBeforeScript1=s("R",V),O.prototype._stateBeforeScript2=s("I",M),O.prototype._stateBeforeScript3=s("P",T),O.prototype._stateBeforeScript4=s("T",P),O.prototype._stateBeforeScript5=function(Ve){(Ve==="/"||Ve===">"||ge(Ve))&&(this._special=Lt),this._state=f,this._index--},O.prototype._stateAfterScript1=ie("R",ee,S),O.prototype._stateAfterScript2=ie("I",q,S),O.prototype._stateAfterScript3=ie("P",E,S),O.prototype._stateAfterScript4=ie("T",R,S),O.prototype._stateAfterScript5=function(Ve){Ve===">"||ge(Ve)?(this._special=Zt,this._state=w,this._sectionStart=this._index-6,this._index--):this._state=S},O.prototype._stateBeforeStyle1=s("Y",be),O.prototype._stateBeforeStyle2=s("L",N),O.prototype._stateBeforeStyle3=s("E",oe),O.prototype._stateBeforeStyle4=function(Ve){(Ve==="/"||Ve===">"||ge(Ve))&&(this._special=It),this._state=f,this._index--},O.prototype._stateAfterStyle1=ie("Y",Ce,S),O.prototype._stateAfterStyle2=ie("L",we,S),O.prototype._stateAfterStyle3=ie("E",Ae,S),O.prototype._stateAfterStyle4=function(Ve){Ve===">"||ge(Ve)?(this._special=Zt,this._state=w,this._sectionStart=this._index-5,this._index--):this._state=S},O.prototype._stateBeforeEntity=ie("#",Ne,Je),O.prototype._stateBeforeNumericEntity=ie("X",gt,tt),O.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var Ve=this._buffer.substring(this._sectionStart+1,this._index),je=this._xmlMode?k:A;je.hasOwnProperty(Ve)&&(this._emitPartial(je[Ve]),this._sectionStart=this._index+1)}},O.prototype._parseLegacyEntity=function(){var Ve=this._sectionStart+1,je=this._index-Ve;for(je>6&&(je=6);je>=2;){var Fe=this._buffer.substr(Ve,je);if(p.hasOwnProperty(Fe))return this._emitPartial(p[Fe]),void(this._sectionStart+=je+1);je--}},O.prototype._stateInNamedEntity=function(Ve){Ve===";"?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(Ve<"a"||Ve>"z")&&(Ve<"A"||Ve>"Z")&&(Ve<"0"||Ve>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==S?Ve!=="="&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},O.prototype._decodeNumericEntity=function(Ve,je){var Fe=this._sectionStart+Ve;if(Fe!==this._index){var We=this._buffer.substring(Fe,this._index),it=parseInt(We,je);this._emitPartial(H(it)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},O.prototype._stateInNumericEntity=function(Ve){Ve===";"?(this._decodeNumericEntity(2,10),this._sectionStart++):(Ve<"0"||Ve>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},O.prototype._stateInHexEntity=function(Ve){Ve===";"?(this._decodeNumericEntity(3,16),this._sectionStart++):(Ve<"a"||Ve>"f")&&(Ve<"A"||Ve>"F")&&(Ve<"0"||Ve>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},O.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===S?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},O.prototype.write=function(Ve){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=Ve,this._parse()},O.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var Ve=this._buffer.charAt(this._index);this._state===S?this._stateText(Ve):this._state===x?this._stateBeforeTagName(Ve):this._state===f?this._stateInTagName(Ve):this._state===v?this._stateBeforeCloseingTagName(Ve):this._state===w?this._stateInCloseingTagName(Ve):this._state===j?this._stateAfterCloseingTagName(Ve):this._state===l?this._stateInSelfClosingTag(Ve):this._state===B?this._stateBeforeAttributeName(Ve):this._state===Q?this._stateInAttributeName(Ve):this._state===X?this._stateAfterAttributeName(Ve):this._state===te?this._stateBeforeAttributeValue(Ve):this._state===J?this._stateInAttributeValueDoubleQuotes(Ve):this._state===U?this._stateInAttributeValueSingleQuotes(Ve):this._state===se?this._stateInAttributeValueNoQuotes(Ve):this._state===me?this._stateBeforeDeclaration(Ve):this._state===ce?this._stateInDeclaration(Ve):this._state===D?this._stateInProcessingInstruction(Ve):this._state===L?this._stateBeforeComment(Ve):this._state===I?this._stateInComment(Ve):this._state===re?this._stateAfterComment1(Ve):this._state===ne?this._stateAfterComment2(Ve):this._state===z?this._stateBeforeCdata1(Ve):this._state===Y?this._stateBeforeCdata2(Ve):this._state===u?this._stateBeforeCdata3(Ve):this._state===y?this._stateBeforeCdata4(Ve):this._state===g?this._stateBeforeCdata5(Ve):this._state===m?this._stateBeforeCdata6(Ve):this._state===$?this._stateInCdata(Ve):this._state===ae?this._stateAfterCdata1(Ve):this._state===K?this._stateAfterCdata2(Ve):this._state===F?this._stateBeforeSpecial(Ve):this._state===b?this._stateBeforeSpecialEnd(Ve):this._state===h?this._stateBeforeScript1(Ve):this._state===V?this._stateBeforeScript2(Ve):this._state===M?this._stateBeforeScript3(Ve):this._state===T?this._stateBeforeScript4(Ve):this._state===P?this._stateBeforeScript5(Ve):this._state===c?this._stateAfterScript1(Ve):this._state===ee?this._stateAfterScript2(Ve):this._state===q?this._stateAfterScript3(Ve):this._state===E?this._stateAfterScript4(Ve):this._state===R?this._stateAfterScript5(Ve):this._state===ue?this._stateBeforeStyle1(Ve):this._state===be?this._stateBeforeStyle2(Ve):this._state===N?this._stateBeforeStyle3(Ve):this._state===oe?this._stateBeforeStyle4(Ve):this._state===de?this._stateAfterStyle1(Ve):this._state===Ce?this._stateAfterStyle2(Ve):this._state===we?this._stateAfterStyle3(Ve):this._state===Ae?this._stateAfterStyle4(Ve):this._state===_e?this._stateBeforeEntity(Ve):this._state===Ne?this._stateBeforeNumericEntity(Ve):this._state===Je?this._stateInNamedEntity(Ve):this._state===tt?this._stateInNumericEntity(Ve):this._state===gt?this._stateInHexEntity(Ve):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},O.prototype.pause=function(){this._running=!1},O.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},O.prototype.end=function(Ve){this._ended&&this._cbs.onerror(Error(".end() after done!")),Ve&&this.write(Ve),this._ended=!0,this._running&&this._finish()},O.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},O.prototype._handleTrailingData=function(){var Ve=this._buffer.substr(this._sectionStart);this._state===$||this._state===ae||this._state===K?this._cbs.oncdata(Ve):this._state===I||this._state===re||this._state===ne?this._cbs.oncomment(Ve):this._state!==Je||this._xmlMode?this._state!==tt||this._xmlMode?this._state!==gt||this._xmlMode?this._state!==f&&this._state!==B&&this._state!==te&&this._state!==X&&this._state!==Q&&this._state!==U&&this._state!==J&&this._state!==se&&this._state!==w&&this._cbs.ontext(Ve):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},O.prototype.reset=function(){O.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},O.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},O.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},O.prototype._emitToken=function(Ve){this._cbs[Ve](this._getSection()),this._sectionStart=-1},O.prototype._emitPartial=function(Ve){this._baseState!==S?this._cbs.onattribdata(Ve):this._cbs.ontext(Ve)}},function(Ye,Te,Se){function ge(s){if(s>=55296&&s<=57343||s>1114111)return"\uFFFD";s in ie&&(s=ie[s]);var O="";return s>65535&&(s-=65536,O+=String.fromCharCode(s>>>10&1023|55296),s=56320|1023&s),O+=String.fromCharCode(s)}var ie=Se(57);Ye.exports=ge},function(Ye,Te){Ye.exports={Aacute:"\xC1",aacute:"\xE1",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",AElig:"\xC6",aelig:"\xE6",Agrave:"\xC0",agrave:"\xE0",amp:"&",AMP:"&",Aring:"\xC5",aring:"\xE5",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",brvbar:"\xA6",Ccedil:"\xC7",ccedil:"\xE7",cedil:"\xB8",cent:"\xA2",copy:"\xA9",COPY:"\xA9",curren:"\xA4",deg:"\xB0",divide:"\xF7",Eacute:"\xC9",eacute:"\xE9",Ecirc:"\xCA",ecirc:"\xEA",Egrave:"\xC8",egrave:"\xE8",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",frac12:"\xBD",frac14:"\xBC",frac34:"\xBE",gt:">",GT:">",Iacute:"\xCD",iacute:"\xED",Icirc:"\xCE",icirc:"\xEE",iexcl:"\xA1",Igrave:"\xCC",igrave:"\xEC",iquest:"\xBF",Iuml:"\xCF",iuml:"\xEF",laquo:"\xAB",lt:"<",LT:"<",macr:"\xAF",micro:"\xB5",middot:"\xB7",nbsp:"\xA0",not:"\xAC",Ntilde:"\xD1",ntilde:"\xF1",Oacute:"\xD3",oacute:"\xF3",Ocirc:"\xD4",ocirc:"\xF4",Ograve:"\xD2",ograve:"\xF2",ordf:"\xAA",ordm:"\xBA",Oslash:"\xD8",oslash:"\xF8",Otilde:"\xD5",otilde:"\xF5",Ouml:"\xD6",ouml:"\xF6",para:"\xB6",plusmn:"\xB1",pound:"\xA3",quot:'"',QUOT:'"',raquo:"\xBB",reg:"\xAE",REG:"\xAE",sect:"\xA7",shy:"\xAD",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",szlig:"\xDF",THORN:"\xDE",thorn:"\xFE",times:"\xD7",Uacute:"\xDA",uacute:"\xFA",Ucirc:"\xDB",ucirc:"\xFB",Ugrave:"\xD9",ugrave:"\xF9",uml:"\xA8",Uuml:"\xDC",uuml:"\xFC",Yacute:"\xDD",yacute:"\xFD",yen:"\xA5",yuml:"\xFF"}},function(Ye,Te){Ye.exports={get firstChild(){var ie=this.children;return ie&&ie[0]||null},get lastChild(){var ie=this.children;return ie&&ie[ie.length-1]||null},get nodeType(){return ge[this.type]||ge.element}};var Se={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},ge={element:1,text:3,cdata:4,comment:8};Object.keys(Se).forEach(function(ie){Se[ie]})},function(Ye,Te,Se){function ge(A,p){var k=this._parser=new ie(A,p),d=this._decoder=new O;s.call(this,{decodeStrings:!1}),this.once("finish",function(){k.end(d.end())})}Ye.exports=ge;var ie=Se(30),s=Se(62).Writable||Se(74).Writable,O=Se(22).StringDecoder,H=Se(12).Buffer;Se(1)(ge,s),s.prototype._write=function(A,p,k){A instanceof H&&(A=this._decoder.write(A)),this._parser.write(A),k()}},function(Ye,Te,Se){(function(ge,ie){function s(P){return m.from(P)}function O(P){return m.isBuffer(P)||P instanceof $}function H(P,c,ee){if(typeof P.prependListener=="function")return P.prependListener(c,ee);P._events&&P._events[c]?u(P._events[c])?P._events[c].unshift(ee):P._events[c]=[ee,P._events[c]]:P.on(c,ee)}function A(P,c){Y=Y||Se(2),P=P||{};var ee=c instanceof Y;this.objectMode=!!P.objectMode,ee&&(this.objectMode=this.objectMode||!!P.readableObjectMode);var q=P.highWaterMark,E=P.readableHighWaterMark,R=this.objectMode?16:16384;this.highWaterMark=q||q===0?q:ee&&(E||E===0)?E:R,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=P.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,P.encoding&&(b||(b=Se(22).StringDecoder),this.decoder=new b(P.encoding),this.encoding=P.encoding)}function p(P){if(Y=Y||Se(2),!(this instanceof p))return new p(P);this._readableState=new A(P,this),this.readable=!0,P&&(typeof P.read=="function"&&(this._read=P.read),typeof P.destroy=="function"&&(this._destroy=P.destroy)),g.call(this)}function k(P,c,ee,q,E){var R=P._readableState;if(c===null)R.reading=!1,v(P,R);else{var ue;E||(ue=S(R,c)),ue?P.emit("error",ue):R.objectMode||c&&c.length>0?(typeof c=="string"||R.objectMode||Object.getPrototypeOf(c)===m.prototype||(c=s(c)),q?R.endEmitted?P.emit("error",new Error("stream.unshift() after end event")):d(P,R,c,!0):R.ended?P.emit("error",new Error("stream.push() after EOF")):(R.reading=!1,R.decoder&&!ee?(c=R.decoder.write(c),R.objectMode||c.length!==0?d(P,R,c,!1):B(P,R)):d(P,R,c,!1))):q||(R.reading=!1)}return x(R)}function d(P,c,ee,q){c.flowing&&c.length===0&&!c.sync?(P.emit("data",ee),P.read(0)):(c.length+=c.objectMode?1:ee.length,q?c.buffer.unshift(ee):c.buffer.push(ee),c.needReadable&&w(P)),B(P,c)}function S(P,c){var ee;return O(c)||typeof c=="string"||c===void 0||P.objectMode||(ee=new TypeError("Invalid non-string/buffer chunk")),ee}function x(P){return!P.ended&&(P.needReadable||P.length<P.highWaterMark||P.length===0)}function f(P){return P>=T?P=T:(P--,P|=P>>>1,P|=P>>>2,P|=P>>>4,P|=P>>>8,P|=P>>>16,P++),P}function l(P,c){return P<=0||c.length===0&&c.ended?0:c.objectMode?1:P!==P?c.flowing&&c.length?c.buffer.head.data.length:c.length:(P>c.highWaterMark&&(c.highWaterMark=f(P)),P<=c.length?P:c.ended?c.length:(c.needReadable=!0,0))}function v(P,c){if(!c.ended){if(c.decoder){var ee=c.decoder.end();ee&&ee.length&&(c.buffer.push(ee),c.length+=c.objectMode?1:ee.length)}c.ended=!0,w(P)}}function w(P){var c=P._readableState;c.needReadable=!1,c.emittedReadable||(F("emitReadable",c.flowing),c.emittedReadable=!0,c.sync?z.nextTick(j,P):j(P))}function j(P){F("emit readable"),P.emit("readable"),se(P)}function B(P,c){c.readingMore||(c.readingMore=!0,z.nextTick(Q,P,c))}function Q(P,c){for(var ee=c.length;!c.reading&&!c.flowing&&!c.ended&&c.length<c.highWaterMark&&(F("maybeReadMore read 0"),P.read(0),ee!==c.length);)ee=c.length;c.readingMore=!1}function X(P){return function(){var c=P._readableState;F("pipeOnDrain",c.awaitDrain),c.awaitDrain&&c.awaitDrain--,c.awaitDrain===0&&y(P,"data")&&(c.flowing=!0,se(P))}}function te(P){F("readable nexttick read 0"),P.read(0)}function J(P,c){c.resumeScheduled||(c.resumeScheduled=!0,z.nextTick(U,P,c))}function U(P,c){c.reading||(F("resume read 0"),P.read(0)),c.resumeScheduled=!1,c.awaitDrain=0,P.emit("resume"),se(P),c.flowing&&!c.reading&&P.read(0)}function se(P){var c=P._readableState;for(F("flow",c.flowing);c.flowing&&P.read()!==null;);}function me(P,c){if(c.length===0)return null;var ee;return c.objectMode?ee=c.buffer.shift():!P||P>=c.length?(ee=c.decoder?c.buffer.join(""):c.buffer.length===1?c.buffer.head.data:c.buffer.concat(c.length),c.buffer.clear()):ee=ce(P,c.buffer,c.decoder),ee}function ce(P,c,ee){var q;return P<c.head.data.length?(q=c.head.data.slice(0,P),c.head.data=c.head.data.slice(P)):q=P===c.head.data.length?c.shift():ee?D(P,c):L(P,c),q}function D(P,c){var ee=c.head,q=1,E=ee.data;for(P-=E.length;ee=ee.next;){var R=ee.data,ue=P>R.length?R.length:P;if(ue===R.length?E+=R:E+=R.slice(0,P),(P-=ue)===0){ue===R.length?(++q,ee.next?c.head=ee.next:c.head=c.tail=null):(c.head=ee,ee.data=R.slice(ue));break}++q}return c.length-=q,E}function L(P,c){var ee=m.allocUnsafe(P),q=c.head,E=1;for(q.data.copy(ee),P-=q.data.length;q=q.next;){var R=q.data,ue=P>R.length?R.length:P;if(R.copy(ee,ee.length-P,0,ue),(P-=ue)===0){ue===R.length?(++E,q.next?c.head=q.next:c.head=c.tail=null):(c.head=q,q.data=R.slice(ue));break}++E}return c.length-=E,ee}function I(P){var c=P._readableState;if(c.length>0)throw new Error('"endReadable()" called on non-empty stream');c.endEmitted||(c.ended=!0,z.nextTick(re,c,P))}function re(P,c){P.endEmitted||P.length!==0||(P.endEmitted=!0,c.readable=!1,c.emit("end"))}function ne(P,c){for(var ee=0,q=P.length;ee<q;ee++)if(P[ee]===c)return ee;return-1}var z=Se(14);Ye.exports=p;var Y,u=Se(29);p.ReadableState=A;var y=(Se(13).EventEmitter,function(P,c){return P.listeners(c).length}),g=Se(37),m=Se(15).Buffer,$=ge.Uint8Array||function(){},ae=Se(8);ae.inherits=Se(1);var K=Se(63),F=void 0;F=K&&K.debuglog?K.debuglog("stream"):function(){};var b,h=Se(64),V=Se(38);ae.inherits(p,g);var M=["error","close","destroy","pause","resume"];Object.defineProperty(p.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(P){this._readableState&&(this._readableState.destroyed=P)}}),p.prototype.destroy=V.destroy,p.prototype._undestroy=V.undestroy,p.prototype._destroy=function(P,c){this.push(null),c(P)},p.prototype.push=function(P,c){var ee,q=this._readableState;return q.objectMode?ee=!0:typeof P=="string"&&(c=c||q.defaultEncoding,c!==q.encoding&&(P=m.from(P,c),c=""),ee=!0),k(this,P,c,!1,ee)},p.prototype.unshift=function(P){return k(this,P,null,!0,!1)},p.prototype.isPaused=function(){return this._readableState.flowing===!1},p.prototype.setEncoding=function(P){return b||(b=Se(22).StringDecoder),this._readableState.decoder=new b(P),this._readableState.encoding=P,this};var T=8388608;p.prototype.read=function(P){F("read",P),P=parseInt(P,10);var c=this._readableState,ee=P;if(P!==0&&(c.emittedReadable=!1),P===0&&c.needReadable&&(c.length>=c.highWaterMark||c.ended))return F("read: emitReadable",c.length,c.ended),c.length===0&&c.ended?I(this):w(this),null;if((P=l(P,c))===0&&c.ended)return c.length===0&&I(this),null;var q=c.needReadable;F("need readable",q),(c.length===0||c.length-P<c.highWaterMark)&&(q=!0,F("length less than watermark",q)),c.ended||c.reading?(q=!1,F("reading or ended",q)):q&&(F("do read"),c.reading=!0,c.sync=!0,c.length===0&&(c.needReadable=!0),this._read(c.highWaterMark),c.sync=!1,c.reading||(P=l(ee,c)));var E;return E=P>0?me(P,c):null,E===null?(c.needReadable=!0,P=0):c.length-=P,c.length===0&&(c.ended||(c.needReadable=!0),ee!==P&&c.ended&&I(this)),E!==null&&this.emit("data",E),E},p.prototype._read=function(P){this.emit("error",new Error("_read() is not implemented"))},p.prototype.pipe=function(P,c){function ee(tt,gt){F("onunpipe"),tt===de&&gt&&gt.hasUnpiped===!1&&(gt.hasUnpiped=!0,E())}function q(){F("onend"),P.end()}function E(){F("cleanup"),P.removeListener("close",be),P.removeListener("finish",N),P.removeListener("drain",_e),P.removeListener("error",ue),P.removeListener("unpipe",ee),de.removeListener("end",q),de.removeListener("end",oe),de.removeListener("data",R),Ne=!0,!Ce.awaitDrain||P._writableState&&!P._writableState.needDrain||_e()}function R(tt){F("ondata"),Je=!1,P.write(tt)!==!1||Je||((Ce.pipesCount===1&&Ce.pipes===P||Ce.pipesCount>1&&ne(Ce.pipes,P)!==-1)&&!Ne&&(F("false write response, pause",de._readableState.awaitDrain),de._readableState.awaitDrain++,Je=!0),de.pause())}function ue(tt){F("onerror",tt),oe(),P.removeListener("error",ue),y(P,"error")===0&&P.emit("error",tt)}function be(){P.removeListener("finish",N),oe()}function N(){F("onfinish"),P.removeListener("close",be),oe()}function oe(){F("unpipe"),de.unpipe(P)}var de=this,Ce=this._readableState;switch(Ce.pipesCount){case 0:Ce.pipes=P;break;case 1:Ce.pipes=[Ce.pipes,P];break;default:Ce.pipes.push(P)}Ce.pipesCount+=1,F("pipe count=%d opts=%j",Ce.pipesCount,c);var we=(!c||c.end!==!1)&&P!==ie.stdout&&P!==ie.stderr,Ae=we?q:oe;Ce.endEmitted?z.nextTick(Ae):de.once("end",Ae),P.on("unpipe",ee);var _e=X(de);P.on("drain",_e);var Ne=!1,Je=!1;return de.on("data",R),H(P,"error",ue),P.once("close",be),P.once("finish",N),P.emit("pipe",de),Ce.flowing||(F("pipe resume"),de.resume()),P},p.prototype.unpipe=function(P){var c=this._readableState,ee={hasUnpiped:!1};if(c.pipesCount===0)return this;if(c.pipesCount===1)return P&&P!==c.pipes?this:(P||(P=c.pipes),c.pipes=null,c.pipesCount=0,c.flowing=!1,P&&P.emit("unpipe",this,ee),this);if(!P){var q=c.pipes,E=c.pipesCount;c.pipes=null,c.pipesCount=0,c.flowing=!1;for(var R=0;R<E;R++)q[R].emit("unpipe",this,ee);return this}var ue=ne(c.pipes,P);return ue===-1?this:(c.pipes.splice(ue,1),c.pipesCount-=1,c.pipesCount===1&&(c.pipes=c.pipes[0]),P.emit("unpipe",this,ee),this)},p.prototype.on=function(P,c){var ee=g.prototype.on.call(this,P,c);if(P==="data")this._readableState.flowing!==!1&&this.resume();else if(P==="readable"){var q=this._readableState;q.endEmitted||q.readableListening||(q.readableListening=q.needReadable=!0,q.emittedReadable=!1,q.reading?q.length&&w(this):z.nextTick(te,this))}return ee},p.prototype.addListener=p.prototype.on,p.prototype.resume=function(){var P=this._readableState;return P.flowing||(F("resume"),P.flowing=!0,J(this,P)),this},p.prototype.pause=function(){return F("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(F("pause"),this._readableState.flowing=!1,this.emit("pause")),this},p.prototype.wrap=function(P){var c=this,ee=this._readableState,q=!1;P.on("end",function(){if(F("wrapped end"),ee.decoder&&!ee.ended){var ue=ee.decoder.end();ue&&ue.length&&c.push(ue)}c.push(null)}),P.on("data",function(ue){F("wrapped data"),ee.decoder&&(ue=ee.decoder.write(ue)),(!ee.objectMode||ue!=null)&&(ee.objectMode||ue&&ue.length)&&(c.push(ue)||(q=!0,P.pause()))});for(var E in P)this[E]===void 0&&typeof P[E]=="function"&&(this[E]=function(ue){return function(){return P[ue].apply(P,arguments)}}(E));for(var R=0;R<M.length;R++)P.on(M[R],this.emit.bind(this,M[R]));return this._read=function(ue){F("wrapped _read",ue),q&&(q=!1,P.resume())},this},Object.defineProperty(p.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),p._fromList=me}).call(Te,Se(0),Se(7))},function(Ye,Te,Se){Ye.exports=Se(13).EventEmitter},function(Ye,Te,Se){function ge(H,A){var p=this,k=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return k||d?(A?A(H):!H||this._writableState&&this._writableState.errorEmitted||O.nextTick(s,this,H),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(H||null,function(S){!A&&S?(O.nextTick(s,p,S),p._writableState&&(p._writableState.errorEmitted=!0)):A&&A(S)}),this)}function ie(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(H,A){H.emit("error",A)}var O=Se(14);Ye.exports={destroy:ge,undestroy:ie}},function(Ye,Te,Se){function ge(p,k){var d=this._transformState;d.transforming=!1;var S=d.writecb;if(!S)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,k!=null&&this.push(k),S(p);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function ie(p){if(!(this instanceof ie))return new ie(p);H.call(this,p),this._transformState={afterTransform:ge.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",s)}function s(){var p=this;typeof this._flush=="function"?this._flush(function(k,d){O(p,k,d)}):O(this,null,null)}function O(p,k,d){if(k)return p.emit("error",k);if(d!=null&&p.push(d),p._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(p._transformState.transforming)throw new Error("Calling transform done when still transforming");return p.push(null)}Ye.exports=ie;var H=Se(2),A=Se(8);A.inherits=Se(1),A.inherits(ie,H),ie.prototype.push=function(p,k){return this._transformState.needTransform=!1,H.prototype.push.call(this,p,k)},ie.prototype._transform=function(p,k,d){throw new Error("_transform() is not implemented")},ie.prototype._write=function(p,k,d){var S=this._transformState;if(S.writecb=d,S.writechunk=p,S.writeencoding=k,!S.transforming){var x=this._readableState;(S.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},ie.prototype._read=function(p){var k=this._transformState;k.writechunk!==null&&k.writecb&&!k.transforming?(k.transforming=!0,this._transform(k.writechunk,k.writeencoding,k.afterTransform)):k.needTransform=!0},ie.prototype._destroy=function(p,k){var d=this;H.prototype._destroy.call(this,p,function(S){k(S),d.emit("close")})}},function(Ye,Te){function Se(Y,u,y){switch(y.length){case 0:return Y.call(u);case 1:return Y.call(u,y[0]);case 2:return Y.call(u,y[0],y[1]);case 3:return Y.call(u,y[0],y[1],y[2])}return Y.apply(u,y)}function ge(Y,u){for(var y=-1,g=Array(Y);++y<Y;)g[y]=u(y);return g}function ie(Y,u){var y=ne(Y)||f(Y)?ge(Y.length,String):[],g=y.length,m=!!g;for(var $ in Y)!u&&!D.call(Y,$)||m&&($=="length"||p($,g))||y.push($);return y}function s(Y,u,y){var g=Y[u];D.call(Y,u)&&x(g,y)&&(y!==void 0||u in Y)||(Y[u]=y)}function O(Y){if(!B(Y))return S(Y);var u=d(Y),y=[];for(var g in Y)(g!="constructor"||!u&&D.call(Y,g))&&y.push(g);return y}function H(Y,u){return u=re(u===void 0?Y.length-1:u,0),function(){for(var y=arguments,g=-1,m=re(y.length-u,0),$=Array(m);++g<m;)$[g]=y[u+g];g=-1;for(var ae=Array(u+1);++g<u;)ae[g]=y[g];return ae[u]=$,Se(Y,this,ae)}}function A(Y,u,y,g){y||(y={});for(var m=-1,$=u.length;++m<$;){var ae=u[m],K=g?g(y[ae],Y[ae],ae,y,Y):void 0;s(y,ae,K===void 0?Y[ae]:K)}return y}function p(Y,u){return!!(u=u==null?te:u)&&(typeof Y=="number"||me.test(Y))&&Y>-1&&Y%1==0&&Y<u}function k(Y,u,y){if(!B(y))return!1;var g=typeof u;return!!(g=="number"?l(y)&&p(u,y.length):g=="string"&&u in y)&&x(y[u],Y)}function d(Y){var u=Y&&Y.constructor;return Y===(typeof u=="function"&&u.prototype||ce)}function S(Y){var u=[];if(Y!=null)for(var y in Object(Y))u.push(y);return u}function x(Y,u){return Y===u||Y!==Y&&u!==u}function f(Y){return v(Y)&&D.call(Y,"callee")&&(!I.call(Y,"callee")||L.call(Y)==J)}function l(Y){return Y!=null&&j(Y.length)&&!w(Y)}function v(Y){return Q(Y)&&l(Y)}function w(Y){var u=B(Y)?L.call(Y):"";return u==U||u==se}function j(Y){return typeof Y=="number"&&Y>-1&&Y%1==0&&Y<=te}function B(Y){var u=typeof Y;return!!Y&&(u=="object"||u=="function")}function Q(Y){return!!Y&&typeof Y=="object"}function X(Y){return l(Y)?ie(Y,!0):O(Y)}var te=9007199254740991,J="[object Arguments]",U="[object Function]",se="[object GeneratorFunction]",me=/^(?:0|[1-9]\d*)$/,ce=Object.prototype,D=ce.hasOwnProperty,L=ce.toString,I=ce.propertyIsEnumerable,re=Math.max,ne=Array.isArray,z=function(Y){return H(function(u,y){var g=-1,m=y.length,$=m>1?y[m-1]:void 0,ae=m>2?y[2]:void 0;for($=Y.length>3&&typeof $=="function"?(m--,$):void 0,ae&&k(y[0],y[1],ae)&&($=m<3?void 0:$,m=1),u=Object(u);++g<m;){var K=y[g];K&&Y(u,K,g,$)}return u})}(function(Y,u){A(u,X(u),Y)});Ye.exports=z},function(Ye,Te){function Se(y,g,m){switch(m.length){case 0:return y.call(g);case 1:return y.call(g,m[0]);case 2:return y.call(g,m[0],m[1]);case 3:return y.call(g,m[0],m[1],m[2])}return y.apply(g,m)}function ge(y,g){for(var m=-1,$=Array(y);++m<y;)$[m]=g(m);return $}function ie(y,g){var m=z(y)||l(y)?ge(y.length,String):[],$=m.length,ae=!!$;for(var K in y)!g&&!L.call(y,K)||ae&&(K=="length"||k(K,$))||m.push(K);return m}function s(y,g,m,$){return y===void 0||f(y,D[m])&&!L.call($,m)?g:y}function O(y,g,m){var $=y[g];L.call(y,g)&&f($,m)&&(m!==void 0||g in y)||(y[g]=m)}function H(y){if(!Q(y))return x(y);var g=S(y),m=[];for(var $ in y)($!="constructor"||!g&&L.call(y,$))&&m.push($);return m}function A(y,g){return g=ne(g===void 0?y.length-1:g,0),function(){for(var m=arguments,$=-1,ae=ne(m.length-g,0),K=Array(ae);++$<ae;)K[$]=m[g+$];$=-1;for(var F=Array(g+1);++$<g;)F[$]=m[$];return F[g]=K,Se(y,this,F)}}function p(y,g,m,$){m||(m={});for(var ae=-1,K=g.length;++ae<K;){var F=g[ae],b=$?$(m[F],y[F],F,m,y):void 0;O(m,F,b===void 0?y[F]:b)}return m}function k(y,g){return!!(g=g==null?J:g)&&(typeof y=="number"||ce.test(y))&&y>-1&&y%1==0&&y<g}function d(y,g,m){if(!Q(m))return!1;var $=typeof g;return!!($=="number"?v(m)&&k(g,m.length):$=="string"&&g in m)&&f(m[g],y)}function S(y){var g=y&&y.constructor;return y===(typeof g=="function"&&g.prototype||D)}function x(y){var g=[];if(y!=null)for(var m in Object(y))g.push(m);return g}function f(y,g){return y===g||y!==y&&g!==g}function l(y){return w(y)&&L.call(y,"callee")&&(!re.call(y,"callee")||I.call(y)==U)}function v(y){return y!=null&&B(y.length)&&!j(y)}function w(y){return X(y)&&v(y)}function j(y){var g=Q(y)?I.call(y):"";return g==se||g==me}function B(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=J}function Q(y){var g=typeof y;return!!y&&(g=="object"||g=="function")}function X(y){return!!y&&typeof y=="object"}function te(y){return v(y)?ie(y,!0):H(y)}var J=9007199254740991,U="[object Arguments]",se="[object Function]",me="[object GeneratorFunction]",ce=/^(?:0|[1-9]\d*)$/,D=Object.prototype,L=D.hasOwnProperty,I=D.toString,re=D.propertyIsEnumerable,ne=Math.max,z=Array.isArray,Y=function(y){return A(function(g,m){var $=-1,ae=m.length,K=ae>1?m[ae-1]:void 0,F=ae>2?m[2]:void 0;for(K=y.length>3&&typeof K=="function"?(ae--,K):void 0,F&&d(m[0],m[1],F)&&(K=ae<3?void 0:K,ae=1),g=Object(g);++$<ae;){var b=m[$];b&&y(g,b,$,K)}return g})}(function(y,g,m,$){p(g,te(g),y,$)}),u=A(function(y){return y.push(void 0,s),Se(Y,void 0,y)});Ye.exports=u},function(Ye,Te,Se){function ge(j){return function(B,Q,X){return typeof B!="function"&&(B=f(B,X,Q)),Q=Array.isArray(Q)?d(Q):k(Q),j(B,Q)}}function ie(j,B,Q){return(typeof B=="function"?B:x(B,Q))(j)}function s(j,B,Q){return v(j,B,Q)}Ye.exports=s;var O=Se(26),H=Se(4),A=H.findOne,p=H.findAll,k=H.getChildren,d=H.removeSubsets,S=Se(10).falseFunc,x=Se(91),f=x.compileUnsafe,l=x.compileToken,v=ge(function(j,B){return j!==S&&B&&B.length!==0?p(j,B):[]}),w=ge(function(j,B){return j!==S&&B&&B.length!==0?A(j,B):null});s.compile=x,s.filters=O.filters,s.pseudos=O.pseudos,s.selectAll=v,s.selectOne=w,s.is=ie,s.parse=x,s.iterate=v,s._compileUnsafe=f,s._compileToken=l},function(Ye,Te,Se){var ge=Se(4),ie=ge.hasAttrib,s=ge.getAttributeValue,O=Se(10).falseFunc,H=/[-[\]{}()*+?.,\\^$|#\s]/g,A={__proto__:null,equals:function(p,k){var d=k.name,S=k.value;return k.ignoreCase?(S=S.toLowerCase(),function(x){var f=s(x,d);return f!=null&&f.toLowerCase()===S&&p(x)}):function(x){return s(x,d)===S&&p(x)}},hyphen:function(p,k){var d=k.name,S=k.value,x=S.length;return k.ignoreCase?(S=S.toLowerCase(),function(f){var l=s(f,d);return l!=null&&(l.length===x||l.charAt(x)==="-")&&l.substr(0,x).toLowerCase()===S&&p(f)}):function(f){var l=s(f,d);return l!=null&&l.substr(0,x)===S&&(l.length===x||l.charAt(x)==="-")&&p(f)}},element:function(p,k){var d=k.name,S=k.value;if(/\s/.test(S))return O;S=S.replace(H,"\\$&");var x="(?:^|\\s)"+S+"(?:$|\\s)",f=k.ignoreCase?"i":"",l=new RegExp(x,f);return function(v){var w=s(v,d);return w!=null&&l.test(w)&&p(v)}},exists:function(p,k){var d=k.name;return function(S){return ie(S,d)&&p(S)}},start:function(p,k){var d=k.name,S=k.value,x=S.length;return x===0?O:k.ignoreCase?(S=S.toLowerCase(),function(f){var l=s(f,d);return l!=null&&l.substr(0,x).toLowerCase()===S&&p(f)}):function(f){var l=s(f,d);return l!=null&&l.substr(0,x)===S&&p(f)}},end:function(p,k){var d=k.name,S=k.value,x=-S.length;return x===0?O:k.ignoreCase?(S=S.toLowerCase(),function(f){var l=s(f,d);return l!=null&&l.substr(x).toLowerCase()===S&&p(f)}):function(f){var l=s(f,d);return l!=null&&l.substr(x)===S&&p(f)}},any:function(p,k){var d=k.name,S=k.value;if(S==="")return O;if(k.ignoreCase){var x=new RegExp(S.replace(H,"\\$&"),"i");return function(f){var l=s(f,d);return l!=null&&x.test(l)&&p(f)}}return function(f){var l=s(f,d);return l!=null&&l.indexOf(S)>=0&&p(f)}},not:function(p,k){var d=k.name,S=k.value;return S===""?function(x){return!!s(x,d)&&p(x)}:k.ignoreCase?(S=S.toLowerCase(),function(x){var f=s(x,d);return f!=null&&f.toLowerCase()!==S&&p(x)}):function(x){return s(x,d)!==S&&p(x)}}};Ye.exports={compile:function(p,k,d){if(d&&d.strict&&(k.ignoreCase||k.action==="not"))throw SyntaxError("Unsupported attribute selector");return A[k.action](p,k)},rules:A}},function(Ye,Te){Ye.exports={universal:50,tag:30,attribute:1,pseudo:0,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1}},function(Ye,Te,Se){function ge(s){function O(ne){return ne?te[te.length-1-ne]:X}function H(ne){return ne===A(1)}function A(ne){return s[j+(ne||1)]}function p(){var ne=te.pop();return X=te[te.length-1],ne}function k(ne){return X=ne,te.push(X),te.length}function d(ne){var z=X;return te[te.length-1]=X=ne,z}function S(ne){if((ne||1)==1)s[j]==`
`?(Q++,w=1):w++,j++;else{var z=s.slice(j,j+ne).split(`
`);z.length>1&&(Q+=z.length-1,w=1),w+=z[z.length-1].length,j+=ne}}function x(){J.end={line:Q,col:w},U.push(J),v="",J={}}function f(ne){J={type:ne,start:{line:Q,col:w}}}var l,v="",w=0,j=-1,B=0,Q=1,X="before-selector",te=[X],J={},U=[],se=["media","keyframes",{name:"-webkit-keyframes",type:"keyframes",prefix:"-webkit-"},{name:"-moz-keyframes",type:"keyframes",prefix:"-moz-"},{name:"-ms-keyframes",type:"keyframes",prefix:"-ms-"},{name:"-o-keyframes",type:"keyframes",prefix:"-o-"},"font-face",{name:"import",state:"before-at-value"},{name:"charset",state:"before-at-value"},"supports","viewport",{name:"namespace",state:"before-at-value"},"document",{name:"-moz-document",type:"document",prefix:"-moz-"},"page"];for(ie;l=function(){return S(),s[j]}();)switch(l){case" ":switch(O()){case"selector":case"value":case"value-paren":case"at-group":case"at-value":case"comment":case"double-string":case"single-string":v+=l}break;case`
`:case"	":case"\r":case"\f":switch(O()){case"value":case"value-paren":case"at-group":case"comment":case"single-string":case"double-string":case"selector":v+=l;break;case"at-value":l===`
`&&(J.value=v.trim(),x(),p())}break;case":":switch(O()){case"name":J.name=v.trim(),v="",d("before-value");break;case"before-selector":v+=l,f("selector"),k("selector");break;case"before-value":d("value"),v+=l;break;default:v+=l}break;case";":switch(O()){case"name":case"before-value":case"value":v.trim().length>0&&(J.value=v.trim(),x()),d("before-name");break;case"value-paren":v+=l;break;case"at-value":J.value=v.trim(),x(),p();break;case"before-name":break;default:v+=l}break;case"{":switch(O()){case"selector":if(A(-1)==="\\"){v+=l;break}J.text=v.trim(),x(),d("before-name"),B+=1;break;case"at-group":switch(J.name=v.trim(),J.type){case"font-face":case"viewport":case"page":k("before-name");break;default:k("before-selector")}x(),B+=1;break;case"name":case"at-rule":J.name=v.trim(),x(),k("before-name"),B+=1;break;case"comment":case"double-string":case"single-string":v+=l;break;case"before-value":d("value"),v+=l}break;case"}":switch(O()){case"before-name":case"name":case"before-value":case"value":v&&(J.value=v.trim()),J.name&&J.value&&x(),f("end"),x(),p(),O()==="at-group"&&(f("at-group-end"),x(),p()),B>0&&(B-=1);break;case"at-group":case"before-selector":case"selector":if(A(-1)==="\\"){v+=l;break}B>0&&O(1)==="at-group"&&(f("at-group-end"),x()),B>1&&p(),B>0&&(B-=1);break;case"double-string":case"single-string":case"comment":v+=l}break;case'"':case"'":switch(O()){case"double-string":l==='"'&&A(-1)!=="\\"&&p();break;case"single-string":l==="'"&&A(-1)!=="\\"&&p();break;case"before-at-value":d("at-value"),k(l==='"'?"double-string":"single-string");break;case"before-value":d("value"),k(l==='"'?"double-string":"single-string");break;case"comment":break;default:A(-1)!=="\\"&&k(l==='"'?"double-string":"single-string")}v+=l;break;case"/":switch(O()){case"comment":case"double-string":case"single-string":v+=l;break;case"before-value":case"selector":case"name":case"value":if(H("*")){var me=function(ne){var z=s.slice(j).indexOf(ne);return z>0&&z}("*/");me&&S(me+1)}else O()=="before-value"&&d("value"),v+=l;break;default:H("*")?(f("comment"),k("comment"),S()):v+=l}break;case"*":switch(O()){case"comment":H("/")?(J.text=v,S(),x(),p()):v+=l;break;case"before-selector":v+=l,f("selector"),k("selector");break;case"before-value":d("value"),v+=l;break;default:v+=l}break;case"@":switch(O()){case"comment":case"double-string":case"single-string":v+=l;break;case"before-value":d("value"),v+=l;break;default:for(var ce,D,L=!1,I=0,re=se.length;!L&&I<re;++I)D=se[I],ce=D.name||D,function(ne){var z=j+1;return ne===s.slice(z,z+ne.length)}(ce)&&(L=!0,f(ce),k(D.state||"at-group"),S(ce.length),D.prefix&&(J.prefix=D.prefix),D.type&&(J.type=D.type));L||(v+=l)}break;case"(":switch(O()){case"value":k("value-paren");break;case"before-value":d("value")}v+=l;break;case")":switch(O()){case"value-paren":p();break;case"before-value":d("value")}v+=l;break;default:switch(O()){case"before-selector":f("selector"),k("selector");break;case"before-name":f("property"),d("name");break;case"before-value":d("value");break;case"before-at-value":d("at-value")}v+=l}return U}var ie=!1;Se(28)("lex"),Ye.exports=ge},function(Ye,Te,Se){Object.defineProperty(Te,"__esModule",{value:!0});var ge=Se(47),ie=function(s){return s&&s.__esModule?s:{default:s}}(ge);Te.default=ie.default.plugins.add("gjs-preset-newsletter",function(s,O){var H=O||{},A=s.getConfig(),p=A.stylePrefix,k={editor:s,pfx:p||"",cmdOpenImport:"gjs-open-import-template",cmdTglImages:"gjs-toggle-images",cmdInlineHtml:"gjs-get-inlined-html",cmtTglImagesLabel:"Toggle Images",cmdBtnMoveLabel:"Move",cmdBtnUndoLabel:"Undo",cmdBtnRedoLabel:"Redo",cmdBtnDesktopLabel:"Desktop",cmdBtnTabletLabel:"Tablet",cmdBtnMobileLabel:"Mobile",modalTitleImport:"Import template",modalTitleExport:"Export template",modalLabelImport:"",modalLabelExport:"",modalBtnImport:"Import",codeViewerTheme:"hopscotch",openBlocksBtnTitle:H.openBlocksBtnTitle||"",openLayersBtnTitle:H.openLayersBtnTitle||"",openSmBtnTitle:H.openSmBtnTitle||"",openTmBtnTitle:H.openTmBtnTitle||"",expTplBtnTitle:H.expTplBtnTitle||"View Code",fullScrBtnTitle:H.fullScrBtnTitle||"FullScreen",swichtVwBtnTitle:H.swichtVwBtnTitle||"View Components",categoryLabel:H.categoryLabel||"",importPlaceholder:"",defaultTemplate:"",inlineCss:1,cellStyle:{padding:0,margin:0,"vertical-align":"top"},tableStyle:{height:"150px",margin:"0 auto 10px auto",padding:"5px 5px 5px 5px",width:"100%"},sect100BlkLabel:"1 Section",sect50BlkLabel:"1/2 Section",sect30BlkLabel:"1/3 Section",sect37BlkLabel:"3/7 Section",buttonBlkLabel:"Button",dividerBlkLabel:"Divider",textBlkLabel:"Text",textSectionBlkLabel:"Text Section",imageBlkLabel:"Image",quoteBlkLabel:"Quote",linkBlkLabel:"Link",linkBlockBlkLabel:"Link Block",gridItemsBlkLabel:"Grid Items",listItemsBlkLabel:"List Items",assetsModalTitle:H.assetsModalTitle||"Select image",styleManagerSectors:[{name:"Dimension",open:!1,buildProps:["width","height","max-width","min-height","margin","padding"],properties:[{property:"margin",properties:[{name:"Top",property:"margin-top"},{name:"Left",property:"margin-left"},{name:"Right",property:"margin-right"},{name:"Bottom",property:"margin-bottom"}]},{property:"padding",properties:[{name:"Top",property:"padding-top"},{name:"Right",property:"padding-right"},{name:"Bottom",property:"padding-bottom"},{name:"Left",property:"padding-left"}]}]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-decoration","font-style","vertical-align","text-shadow"],properties:[{name:"Font",property:"font-family"},{name:"Weight",property:"font-weight"},{name:"Font color",property:"color"},{property:"text-align",type:"radio",defaults:"left",list:[{value:"left",name:"Left",className:"fa fa-align-left"},{value:"center",name:"Center",className:"fa fa-align-center"},{value:"right",name:"Right",className:"fa fa-align-right"},{value:"justify",name:"Justify",className:"fa fa-align-justify"}]},{property:"text-decoration",type:"radio",defaults:"none",list:[{value:"none",name:"None",className:"fa fa-times"},{value:"underline",name:"underline",className:"fa fa-underline"},{value:"line-through",name:"Line-through",className:"fa fa-strikethrough"}]},{property:"font-style",type:"radio",defaults:"normal",list:[{value:"normal",name:"Normal",className:"fa fa-font"},{value:"italic",name:"Italic",className:"fa fa-italic"}]},{property:"vertical-align",type:"select",defaults:"baseline",list:[{value:"baseline"},{value:"top"},{value:"middle"},{value:"bottom"}]},{property:"text-shadow",properties:[{name:"X position",property:"text-shadow-h"},{name:"Y position",property:"text-shadow-v"},{name:"Blur",property:"text-shadow-blur"},{name:"Color",property:"text-shadow-color"}]}]},{name:"Decorations",open:!1,buildProps:["background-color","border-collapse","border-radius","border","background"],properties:[{property:"background-color",name:"Background"},{property:"border-radius",properties:[{name:"Top",property:"border-top-left-radius"},{name:"Right",property:"border-top-right-radius"},{name:"Bottom",property:"border-bottom-left-radius"},{name:"Left",property:"border-bottom-right-radius"}]},{property:"border-collapse",type:"radio",defaults:"separate",list:[{value:"separate",name:"No"},{value:"collapse",name:"Yes"}]},{property:"border",properties:[{name:"Width",property:"border-width",defaults:"0"},{name:"Style",property:"border-style"},{name:"Color",property:"border-color"}]},{property:"background",properties:[{name:"Image",property:"background-image"},{name:"Repeat",property:"background-repeat"},{name:"Position",property:"background-position"},{name:"Attachment",property:"background-attachment"},{name:"Size",property:"background-size"}]}]}]};A.devicePreviewMode=1;for(var d in k)d in H||(H[d]=k[d]);Se(48)(H),Se(115)(H),Se(116)(H),Se(117)(H),s.on("change:selectedComponent",function(){var S=s.Panels.getButton("views","open-layers");if((!S||!S.get("active"))&&s.editor.get("selectedComponent")){var x=s.Panels.getButton("views","open-sm");x.set("attributes",{title:k.openSmBtnTitle}),x&&x.set("active",1)}}),s.on("run:open-assets",function(){s.Modal.setTitle(k.assetsModalTitle)}),s.on("load",function(){s.Panels.getButton("options","export-template").set("attributes",{title:k.expTplBtnTitle}),s.Panels.getButton("options","fullscreen").set("attributes",{title:k.fullScrBtnTitle}),s.Panels.getButton("options","sw-visibility").set("attributes",{title:k.swichtVwBtnTitle}),s.Panels.getButton("views","open-sm").set("attributes",{title:k.openSmBtnTitle}),s.Panels.getButton("views","open-tm").set("attributes",{title:k.openTmBtnTitle}),s.Panels.getButton("views","open-layers").set("attributes",{title:k.openLayersBtnTitle});var S=s.Panels.getButton("views","open-blocks");S.set("attributes",{title:k.openBlocksBtnTitle}),S&&S.set("active",1)})})},function(Ye,Te){Ye.exports=Cr},function(Ye,Te,Se){var ge,ie=Se(49),s=function(O){return O&&O.__esModule?O:{default:O}}(ie);(ge=function(){return function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=O.editor,A=H.Commands,p=Se(50),k=Se(51);A.add(O.cmdOpenImport,p(O)),A.add(O.cmdTglImages,(0,s.default)(O)),H.on("load",function(){A.add("export-template",k(O))}),A.add("undo",{run:function(d,S){S.set("active",0),d.UndoManager.undo(1)}}),A.add("redo",{run:function(d,S){S.set("active",0),d.UndoManager.redo(1)}}),A.add("set-device-desktop",{run:function(d){d.setDevice("Desktop")}}),A.add("set-device-tablet",{run:function(d){d.setDevice("Tablet")}}),A.add("set-device-mobile",{run:function(d){d.setDevice("Mobile portrait")}})}}.call(Te,Se,Te,Ye))!==void 0&&(Ye.exports=ge)},function(Ye,Te,Se){Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=function(){var ge=function ie(s,O){s.each(function(H){if(H.get("type")==="image"){var A=H.get("src");O?A==="##"&&H.set("src",H.get("src_bkp")):A!=="##"&&(H.set("src_bkp",H.get("src")),H.set("src","##"))}ie(H.get("components"),O)})};return{run:function(ie){var s=ie.getComponents();ge(s)},stop:function(ie){var s=ie.getComponents();ge(s,1)}}}},function(Ye,Te,Se){var ge;(ge=function(){return function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=ie.editor,O=s&&s.CodeManager.getViewer("CodeMirror").clone(),H=document.createElement("button"),A=document.createElement("div"),p=ie.pfx||"";return H.innerHTML=ie.modalBtnImport,H.className=p+"btn-prim "+p+"btn-import",H.onclick=function(){var k=O.editor.getValue();s.DomComponents.getWrapper().set("content",""),s.setComponents(k),s.Modal.close()},O.set({codeName:"htmlmixed",theme:ie.codeViewerTheme,readOnly:0}),{run:function(k,d){var S=k.Modal,x=(S.getContentEl(),O.editor);if(S.setTitle(ie.modalTitleImport),!x){var f=document.createElement("textarea");if(ie.modalLabelImport){var l=document.createElement("div");l.className=p+"import-label",l.innerHTML=ie.modalLabelImport,A.appendChild(l)}A.appendChild(f),A.appendChild(H),O.init(f),x=O.editor}S.setContent(""),S.setContent(A),O.setContent(ie.importPlaceholder||""),S.open(),x.refresh(),d&&d.set("active",0)}}}}.call(Te,Se,Te,Ye))!==void 0&&(Ye.exports=ge)},function(Ye,Te,Se){var ge;(ge=function(){var ie=Se(52);return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=s.editor,H=O&&O.CodeManager.getViewer("CodeMirror").clone(),A=document.createElement("div"),p=s.pfx||"",k=O.Commands,d=s.juiceOpts||{};return H.set({codeName:"htmlmixed",theme:s.codeViewerTheme}),k.add(s.cmdInlineHtml,{run:function(S,x){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=S.getHtml()+"<style>"+S.getCss()+"</style>";return ie(l,f)}}),{run:function(S,x){var f=S.Modal,l=(f.getContentEl(),H.editor);if(f.setTitle(s.modalTitleExport),!l){var v=document.createElement("textarea");if(s.modalLabelExport){var w=document.createElement("div");w.className=p+"export-label",w.innerHTML=s.modalLabelExport,A.appendChild(w)}A.appendChild(v),H.init(v),l=H.editor,l.setOption("lineWrapping",1)}f.setContent(A);var j=S.getHtml()+"<style>"+S.getCss()+"</style>";H.setContent(s.inlineCss?ie(j,d):j),f.open(),l.refresh(),x&&x.set&&x.set("active",0)}}}}.call(Te,Se,Te,Ye))!==void 0&&(Ye.exports=ge)},function(Ye,Te,Se){var ge=Se(53),ie=Se(114),s=ie(function(H,A){return ge(H,{xmlMode:A&&A.xmlMode},O,[A])}),O=function(H,A){return s.juiceDocument(H,A)};s.inlineContent=function(H,A,p){return ge(H,{xmlMode:p&&p.xmlMode},s.inlineDocument,[A,p])},Ye.exports=s},function(Ye,Te,Se){var ge=Se(54),ie=Se(27),s=function(H,A,p){return A=ie.extend({decodeEntities:!1},A||{}),H=p(H),ge.load(H,A)},O=function(){var H=[];return{encodeEntities:function(A){var p=Ye.exports.codeBlocks;return Object.keys(p).forEach(function(k){var d=new RegExp(p[k].start+"([\\S\\s]*?)"+p[k].end,"g");A=A.replace(d,function(S,x){return H.push(S),"JUICE_CODE_BLOCK_"+(H.length-1)+"_"})}),A},decodeEntities:function(A){for(var p=0;p<H.length;p++){var k=new RegExp("JUICE_CODE_BLOCK_"+p+'_(="")?',"gi");A=A.replace(k,function(){return H[p]})}return A}}};Ye.exports=function(H,A,p,k){var d=O(),S=s(H,A,d.encodeEntities),x=[S];x.push.apply(x,k);var f=p.apply(void 0,x)||S;return A&&A.xmlMode?f.xml():d.decodeEntities(f.html())},Ye.exports.codeBlocks={EJS:{start:"<%",end:"%>"},HBS:{start:"{{",end:"}}"}}},function(Ye,Te,Se){Te=Ye.exports=Se(17),Te.version=Se(107).version},function(Ye,Te,Se){function ge(v){var w=v.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var j=v.indexOf("=");return j===-1&&(j=w),[j,j===w?0:4-j%4]}function ie(v){var w=ge(v),j=w[0],B=w[1];return 3*(j+B)/4-B}function s(v,w,j){return 3*(w+j)/4-j}function O(v){for(var w,j=ge(v),B=j[0],Q=j[1],X=new S(s(v,B,Q)),te=0,J=Q>0?B-4:B,U=0;U<J;U+=4)w=d[v.charCodeAt(U)]<<18|d[v.charCodeAt(U+1)]<<12|d[v.charCodeAt(U+2)]<<6|d[v.charCodeAt(U+3)],X[te++]=w>>16&255,X[te++]=w>>8&255,X[te++]=255&w;return Q===2&&(w=d[v.charCodeAt(U)]<<2|d[v.charCodeAt(U+1)]>>4,X[te++]=255&w),Q===1&&(w=d[v.charCodeAt(U)]<<10|d[v.charCodeAt(U+1)]<<4|d[v.charCodeAt(U+2)]>>2,X[te++]=w>>8&255,X[te++]=255&w),X}function H(v){return k[v>>18&63]+k[v>>12&63]+k[v>>6&63]+k[63&v]}function A(v,w,j){for(var B,Q=[],X=w;X<j;X+=3)B=(v[X]<<16&16711680)+(v[X+1]<<8&65280)+(255&v[X+2]),Q.push(H(B));return Q.join("")}function p(v){for(var w,j=v.length,B=j%3,Q=[],X=0,te=j-B;X<te;X+=16383)Q.push(A(v,X,X+16383>te?te:X+16383));return B===1?(w=v[j-1],Q.push(k[w>>2]+k[w<<4&63]+"==")):B===2&&(w=(v[j-2]<<8)+v[j-1],Q.push(k[w>>10]+k[w>>4&63]+k[w<<2&63]+"=")),Q.join("")}Te.byteLength=ie,Te.toByteArray=O,Te.fromByteArray=p;for(var k=[],d=[],S=typeof Uint8Array<"u"?Uint8Array:Array,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,l=x.length;f<l;++f)k[f]=x[f],d[x.charCodeAt(f)]=f;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63},function(Ye,Te){Te.read=function(Se,ge,ie,s,O){var H,A,p=8*O-s-1,k=(1<<p)-1,d=k>>1,S=-7,x=ie?O-1:0,f=ie?-1:1,l=Se[ge+x];for(x+=f,H=l&(1<<-S)-1,l>>=-S,S+=p;S>0;H=256*H+Se[ge+x],x+=f,S-=8);for(A=H&(1<<-S)-1,H>>=-S,S+=s;S>0;A=256*A+Se[ge+x],x+=f,S-=8);if(H===0)H=1-d;else{if(H===k)return A?NaN:1/0*(l?-1:1);A+=Math.pow(2,s),H-=d}return(l?-1:1)*A*Math.pow(2,H-s)},Te.write=function(Se,ge,ie,s,O,H){var A,p,k,d=8*H-O-1,S=(1<<d)-1,x=S>>1,f=O===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=s?0:H-1,v=s?1:-1,w=ge<0||ge===0&&1/ge<0?1:0;for(ge=Math.abs(ge),isNaN(ge)||ge===1/0?(p=isNaN(ge)?1:0,A=S):(A=Math.floor(Math.log(ge)/Math.LN2),ge*(k=Math.pow(2,-A))<1&&(A--,k*=2),ge+=A+x>=1?f/k:f*Math.pow(2,1-x),ge*k>=2&&(A++,k/=2),A+x>=S?(p=0,A=S):A+x>=1?(p=(ge*k-1)*Math.pow(2,O),A+=x):(p=ge*Math.pow(2,x-1)*Math.pow(2,O),A=0));O>=8;Se[ie+l]=255&p,l+=v,p/=256,O-=8);for(A=A<<O|p,d+=O;d>0;Se[ie+l]=255&A,l+=v,A/=256,d-=8);Se[ie+l-v]|=128*w}},function(Ye,Te){Ye.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(Ye,Te,Se){function ge(p,k,d){typeof p=="object"?(d=k,k=p,p=null):typeof k=="function"&&(d=k,k=A),this._callback=p,this._options=k||A,this._elementCB=d,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var ie=Se(6),s=/\s+/g,O=Se(34),H=Se(59),A={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};ge.prototype.onparserinit=function(p){this._parser=p},ge.prototype.onreset=function(){ge.call(this,this._callback,this._options,this._elementCB)},ge.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},ge.prototype._handleCallback=ge.prototype.onerror=function(p){if(typeof this._callback=="function")this._callback(p,this.dom);else if(p)throw p},ge.prototype.onclosetag=function(){var p=this._tagStack.pop();this._options.withEndIndices&&p&&(p.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(p)},ge.prototype._createDomElement=function(p){if(!this._options.withDomLvl1)return p;var k;k=p.type==="tag"?Object.create(H):Object.create(O);for(var d in p)p.hasOwnProperty(d)&&(k[d]=p[d]);return k},ge.prototype._addDomElement=function(p){var k=this._tagStack[this._tagStack.length-1],d=k?k.children:this.dom,S=d[d.length-1];p.next=null,this._options.withStartIndices&&(p.startIndex=this._parser.startIndex),this._options.withEndIndices&&(p.endIndex=this._parser.endIndex),S?(p.prev=S,S.next=p):p.prev=null,d.push(p),p.parent=k||null},ge.prototype.onopentag=function(p,k){var d={type:p==="script"?ie.Script:p==="style"?ie.Style:ie.Tag,name:p,attribs:k,children:[]},S=this._createDomElement(d);this._addDomElement(S),this._tagStack.push(S)},ge.prototype.ontext=function(p){var k,d=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(k=this.dom[this.dom.length-1]).type===ie.Text)d?k.data=(k.data+p).replace(s," "):k.data+=p;else if(this._tagStack.length&&(k=this._tagStack[this._tagStack.length-1])&&(k=k.children[k.children.length-1])&&k.type===ie.Text)d?k.data=(k.data+p).replace(s," "):k.data+=p;else{d&&(p=p.replace(s," "));var S=this._createDomElement({data:p,type:ie.Text});this._addDomElement(S)}},ge.prototype.oncomment=function(p){var k=this._tagStack[this._tagStack.length-1];if(k&&k.type===ie.Comment)return void(k.data+=p);var d={data:p,type:ie.Comment},S=this._createDomElement(d);this._addDomElement(S),this._tagStack.push(S)},ge.prototype.oncdatastart=function(){var p={children:[{data:"",type:ie.Text}],type:ie.CDATA},k=this._createDomElement(p);this._addDomElement(k),this._tagStack.push(k)},ge.prototype.oncommentend=ge.prototype.oncdataend=function(){this._tagStack.pop()},ge.prototype.onprocessinginstruction=function(p,k){var d=this._createDomElement({name:p,data:k,type:ie.Directive});this._addDomElement(d)},Ye.exports=ge},function(Ye,Te,Se){var ge=Se(34),ie=Ye.exports=Object.create(ge),s={tagName:"name"};Object.keys(s).forEach(function(O){var H=s[O];Object.defineProperty(ie,O,{get:function(){return this[H]||null},set:function(A){return this[H]=A,A}})})},function(Ye,Te,Se){function ge(S,x){this.init(S,x)}function ie(S,x){return k.getElementsByTagName(S,x,!0)}function s(S,x){return k.getElementsByTagName(S,x,!0,1)[0]}function O(S,x,f){return k.getText(k.getElementsByTagName(S,x,f,1)).trim()}function H(S,x,f,l,v){var w=O(f,l,v);w&&(S[x]=w)}var A=Se(3),p=A.DomHandler,k=A.DomUtils;Se(1)(ge,p),ge.prototype.init=p;var d=function(S){return S==="rss"||S==="feed"||S==="rdf:RDF"};ge.prototype.onend=function(){var S,x,f={},l=s(d,this.dom);l&&(l.name==="feed"?(x=l.children,f.type="atom",H(f,"id","id",x),H(f,"title","title",x),(S=s("link",x))&&(S=S.attribs)&&(S=S.href)&&(f.link=S),H(f,"description","subtitle",x),(S=O("updated",x))&&(f.updated=new Date(S)),H(f,"author","email",x,!0),f.items=ie("entry",x).map(function(v){var w,j={};return v=v.children,H(j,"id","id",v),H(j,"title","title",v),(w=s("link",v))&&(w=w.attribs)&&(w=w.href)&&(j.link=w),(w=O("summary",v)||O("content",v))&&(j.description=w),(w=O("updated",v))&&(j.pubDate=new Date(w)),j})):(x=s("channel",l.children).children,f.type=l.name.substr(0,3),f.id="",H(f,"title","title",x),H(f,"link","link",x),H(f,"description","description",x),(S=O("lastBuildDate",x))&&(f.updated=new Date(S)),H(f,"author","managingEditor",x,!0),f.items=ie("item",l.children).map(function(v){var w,j={};return v=v.children,H(j,"id","guid",v),H(j,"title","title",v),H(j,"link","link",v),H(j,"description","description",v),(w=O("pubDate",v))&&(j.pubDate=new Date(w)),j}))),this.dom=f,p.prototype._handleCallback.call(this,l?null:Error("couldn't find root of feed"))},Ye.exports=ge},function(Ye,Te,Se){function ge(H){s.call(this,new ie(this),H)}function ie(H){this.scope=H}Ye.exports=ge;var s=Se(35);Se(1)(ge,s),ge.prototype.readable=!0;var O=Se(3).EVENTS;Object.keys(O).forEach(function(H){if(O[H]===0)ie.prototype["on"+H]=function(){this.scope.emit(H)};else if(O[H]===1)ie.prototype["on"+H]=function(A){this.scope.emit(H,A)};else{if(O[H]!==2)throw Error("wrong number of arguments!");ie.prototype["on"+H]=function(A,p){this.scope.emit(H,A,p)}}})},function(Ye,Te,Se){function ge(){ie.call(this)}Ye.exports=ge;var ie=Se(13).EventEmitter;Se(1)(ge,ie),ge.Readable=Se(20),ge.Writable=Se(70),ge.Duplex=Se(71),ge.Transform=Se(72),ge.PassThrough=Se(73),ge.Stream=ge,ge.prototype.pipe=function(s,O){function H(l){s.writable&&s.write(l)===!1&&x.pause&&x.pause()}function A(){x.readable&&x.resume&&x.resume()}function p(){f||(f=!0,s.end())}function k(){f||(f=!0,typeof s.destroy=="function"&&s.destroy())}function d(l){if(S(),ie.listenerCount(this,"error")===0)throw l}function S(){x.removeListener("data",H),s.removeListener("drain",A),x.removeListener("end",p),x.removeListener("close",k),x.removeListener("error",d),s.removeListener("error",d),x.removeListener("end",S),x.removeListener("close",S),s.removeListener("close",S)}var x=this;x.on("data",H),s.on("drain",A),s._isStdio||O&&O.end===!1||(x.on("end",p),x.on("close",k));var f=!1;return x.on("error",d),s.on("error",d),x.on("end",S),x.on("close",S),s.on("close",S),s.emit("pipe",x),s}},function(Ye,Te){},function(Ye,Te,Se){function ge(H,A){if(!(H instanceof A))throw new TypeError("Cannot call a class as a function")}function ie(H,A,p){H.copy(A,p)}var s=Se(15).Buffer,O=Se(65);Ye.exports=function(){function H(){ge(this,H),this.head=null,this.tail=null,this.length=0}return H.prototype.push=function(A){var p={data:A,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length},H.prototype.unshift=function(A){var p={data:A,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length},H.prototype.shift=function(){if(this.length!==0){var A=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,A}},H.prototype.clear=function(){this.head=this.tail=null,this.length=0},H.prototype.join=function(A){if(this.length===0)return"";for(var p=this.head,k=""+p.data;p=p.next;)k+=A+p.data;return k},H.prototype.concat=function(A){if(this.length===0)return s.alloc(0);if(this.length===1)return this.head.data;for(var p=s.allocUnsafe(A>>>0),k=this.head,d=0;k;)ie(k.data,p,d),d+=k.data.length,k=k.next;return p},H}(),O&&O.inspect&&O.inspect.custom&&(Ye.exports.prototype[O.inspect.custom]=function(){var H=O.inspect({length:this.length});return this.constructor.name+" "+H})},function(Ye,Te){},function(Ye,Te,Se){(function(ge){function ie(H,A){this._id=H,this._clearFn=A}var s=ge!==void 0&&ge||typeof self<"u"&&self||window,O=Function.prototype.apply;Te.setTimeout=function(){return new ie(O.call(setTimeout,s,arguments),clearTimeout)},Te.setInterval=function(){return new ie(O.call(setInterval,s,arguments),clearInterval)},Te.clearTimeout=Te.clearInterval=function(H){H&&H.close()},ie.prototype.unref=ie.prototype.ref=function(){},ie.prototype.close=function(){this._clearFn.call(s,this._id)},Te.enroll=function(H,A){clearTimeout(H._idleTimeoutId),H._idleTimeout=A},Te.unenroll=function(H){clearTimeout(H._idleTimeoutId),H._idleTimeout=-1},Te._unrefActive=Te.active=function(H){clearTimeout(H._idleTimeoutId);var A=H._idleTimeout;A>=0&&(H._idleTimeoutId=setTimeout(function(){H._onTimeout&&H._onTimeout()},A))},Se(67),Te.setImmediate=typeof self<"u"&&self.setImmediate||ge!==void 0&&ge.setImmediate||this&&this.setImmediate,Te.clearImmediate=typeof self<"u"&&self.clearImmediate||ge!==void 0&&ge.clearImmediate||this&&this.clearImmediate}).call(Te,Se(0))},function(Ye,Te,Se){(function(ge,ie){(function(s,O){function H(w){typeof w!="function"&&(w=new Function(""+w));for(var j=new Array(arguments.length-1),B=0;B<j.length;B++)j[B]=arguments[B+1];var Q={callback:w,args:j};return x[S]=Q,d(S),S++}function A(w){delete x[w]}function p(w){var j=w.callback,B=w.args;switch(B.length){case 0:j();break;case 1:j(B[0]);break;case 2:j(B[0],B[1]);break;case 3:j(B[0],B[1],B[2]);break;default:j.apply(O,B)}}function k(w){if(f)setTimeout(k,0,w);else{var j=x[w];if(j){f=!0;try{p(j)}finally{A(w),f=!1}}}}if(!s.setImmediate){var d,S=1,x={},f=!1,l=s.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(s);v=v&&v.setTimeout?v:s,{}.toString.call(s.process)==="[object process]"?function(){d=function(w){ie.nextTick(function(){k(w)})}}():function(){if(s.postMessage&&!s.importScripts){var w=!0,j=s.onmessage;return s.onmessage=function(){w=!1},s.postMessage("","*"),s.onmessage=j,w}}()?function(){var w="setImmediate$"+Math.random()+"$",j=function(B){B.source===s&&typeof B.data=="string"&&B.data.indexOf(w)===0&&k(+B.data.slice(w.length))};s.addEventListener?s.addEventListener("message",j,!1):s.attachEvent("onmessage",j),d=function(B){s.postMessage(w+B,"*")}}():s.MessageChannel?function(){var w=new MessageChannel;w.port1.onmessage=function(j){k(j.data)},d=function(j){w.port2.postMessage(j)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var w=l.documentElement;d=function(j){var B=l.createElement("script");B.onreadystatechange=function(){k(j),B.onreadystatechange=null,w.removeChild(B),B=null},w.appendChild(B)}}():function(){d=function(w){setTimeout(k,0,w)}}(),v.setImmediate=H,v.clearImmediate=A}})(typeof self>"u"?ge===void 0?this:ge:self)}).call(Te,Se(0),Se(7))},function(Ye,Te,Se){(function(ge){function ie(O,H){function A(){if(!p){if(s("throwDeprecation"))throw new Error(H);s("traceDeprecation")?console.trace(H):console.warn(H),p=!0}return O.apply(this,arguments)}if(s("noDeprecation"))return O;var p=!1;return A}function s(O){try{if(!ge.localStorage)return!1}catch{return!1}var H=ge.localStorage[O];return H!=null&&String(H).toLowerCase()==="true"}Ye.exports=ie}).call(Te,Se(0))},function(Ye,Te,Se){function ge(O){if(!(this instanceof ge))return new ge(O);ie.call(this,O)}Ye.exports=ge;var ie=Se(39),s=Se(8);s.inherits=Se(1),s.inherits(ge,ie),ge.prototype._transform=function(O,H,A){A(null,O)}},function(Ye,Te,Se){Ye.exports=Se(21)},function(Ye,Te,Se){Ye.exports=Se(2)},function(Ye,Te,Se){Ye.exports=Se(20).Transform},function(Ye,Te,Se){Ye.exports=Se(20).PassThrough},function(Ye,Te){},function(Ye,Te,Se){function ge(s){this._cbs=s||{}}Ye.exports=ge;var ie=Se(3).EVENTS;Object.keys(ie).forEach(function(s){if(ie[s]===0)s="on"+s,ge.prototype[s]=function(){this._cbs[s]&&this._cbs[s]()};else if(ie[s]===1)s="on"+s,ge.prototype[s]=function(O){this._cbs[s]&&this._cbs[s](O)};else{if(ie[s]!==2)throw Error("wrong number of arguments");s="on"+s,ge.prototype[s]=function(O,H){this._cbs[s]&&this._cbs[s](O,H)}}})},function(Ye,Te,Se){function ge(A,p){return A.children?A.children.map(function(k){return O(k,p)}).join(""):""}function ie(A){return Array.isArray(A)?A.map(ie).join(""):H(A)||A.type===s.CDATA?ie(A.children):A.type===s.Text?A.data:""}var s=Se(6),O=Se(23),H=s.isTag;Ye.exports={getInnerHTML:ge,getOuterHTML:O,getText:ie}},function(Ye,Te){Ye.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",isTag:function(Se){return Se.type==="tag"||Se.type==="script"||Se.type==="style"}}},function(Ye,Te,Se){var ge=Se(79),ie=Se(80);Te.decode=function(s,O){return(!O||O<=0?ie.XML:ie.HTML)(s)},Te.decodeStrict=function(s,O){return(!O||O<=0?ie.XML:ie.HTMLStrict)(s)},Te.encode=function(s,O){return(!O||O<=0?ge.XML:ge.HTML)(s)},Te.encodeXML=ge.XML,Te.encodeHTML4=Te.encodeHTML5=Te.encodeHTML=ge.HTML,Te.decodeXML=Te.decodeXMLStrict=ie.XML,Te.decodeHTML4=Te.decodeHTML5=Te.decodeHTML=ie.HTML,Te.decodeHTML4Strict=Te.decodeHTML5Strict=Te.decodeHTMLStrict=ie.HTMLStrict,Te.escape=ge.escape},function(Ye,Te,Se){function ge(v){return Object.keys(v).sort().reduce(function(w,j){return w[v[j]]="&"+j+";",w},{})}function ie(v){var w=[],j=[];return Object.keys(v).forEach(function(B){B.length===1?w.push("\\"+B):j.push(B)}),j.unshift("["+w.join("")+"]"),new RegExp(j.join("|"),"g")}function s(v){return"&#x"+v.charCodeAt(0).toString(16).toUpperCase()+";"}function O(v){return"&#x"+(1024*(v.charCodeAt(0)-55296)+v.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function H(v,w){function j(B){return v[B]}return function(B){return B.replace(w,j).replace(f,O).replace(x,s)}}function A(v){return v.replace(l,s).replace(f,O).replace(x,s)}var p=ge(Se(19)),k=ie(p);Te.XML=H(p,k);var d=ge(Se(18)),S=ie(d);Te.HTML=H(d,S);var x=/[^\0-\x7F]/g,f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=ie(p);Te.escape=A},function(Ye,Te,Se){function ge(x){var f=Object.keys(x).join("|"),l=s(x);f+="|#[xX][\\da-fA-F]+|#\\d+";var v=new RegExp("&(?:"+f+");","g");return function(w){return String(w).replace(v,l)}}function ie(x,f){return x<f?1:-1}function s(x){return function(f){return f.charAt(1)==="#"?p(f.charAt(2)==="X"||f.charAt(2)==="x"?parseInt(f.substr(3),16):parseInt(f.substr(2),10)):x[f.slice(1,-1)]}}var O=Se(18),H=Se(33),A=Se(19),p=Se(32),k=ge(A),d=ge(O),S=function(){function x(Q){return Q.substr(-1)!==";"&&(Q+=";"),B(Q)}for(var f=Object.keys(H).sort(ie),l=Object.keys(O).sort(ie),v=0,w=0;v<l.length;v++)f[w]===l[v]?(l[v]+=";?",w++):l[v]+=";";var j=new RegExp("&(?:"+l.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),B=s(O);return function(Q){return String(Q).replace(j,x)}}();Ye.exports={XML:k,HTML:S,HTMLStrict:d}},function(Ye,Te){var Se=Te.getChildren=function(ie){return ie.children},ge=Te.getParent=function(ie){return ie.parent};Te.getSiblings=function(ie){var s=ge(ie);return s?Se(s):[ie]},Te.getAttributeValue=function(ie,s){return ie.attribs&&ie.attribs[s]},Te.hasAttrib=function(ie,s){return!!ie.attribs&&hasOwnProperty.call(ie.attribs,s)},Te.getName=function(ie){return ie.name}},function(Ye,Te){Te.removeElement=function(Se){if(Se.prev&&(Se.prev.next=Se.next),Se.next&&(Se.next.prev=Se.prev),Se.parent){var ge=Se.parent.children;ge.splice(ge.lastIndexOf(Se),1)}},Te.replaceElement=function(Se,ge){var ie=ge.prev=Se.prev;ie&&(ie.next=ge);var s=ge.next=Se.next;s&&(s.prev=ge);var O=ge.parent=Se.parent;if(O){var H=O.children;H[H.lastIndexOf(Se)]=ge}},Te.appendChild=function(Se,ge){if(ge.parent=Se,Se.children.push(ge)!==1){var ie=Se.children[Se.children.length-2];ie.next=ge,ge.prev=ie,ge.next=null}},Te.append=function(Se,ge){var ie=Se.parent,s=Se.next;if(ge.next=s,ge.prev=Se,Se.next=ge,ge.parent=ie,s){if(s.prev=ge,ie){var O=ie.children;O.splice(O.lastIndexOf(s),0,ge)}}else ie&&ie.children.push(ge)},Te.prepend=function(Se,ge){var ie=Se.parent;if(ie){var s=ie.children;s.splice(s.lastIndexOf(Se),0,ge)}Se.prev&&(Se.prev.next=ge),ge.parent=ie,ge.prev=Se.prev,ge.next=Se,Se.prev=ge}},function(Ye,Te,Se){function ge(k,d,S,x){return Array.isArray(d)||(d=[d]),typeof x=="number"&&isFinite(x)||(x=1/0),ie(k,d,S!==!1,x)}function ie(k,d,S,x){for(var f,l=[],v=0,w=d.length;v<w&&!(k(d[v])&&(l.push(d[v]),--x<=0))&&(f=d[v].children,!(S&&f&&f.length>0&&(f=ie(k,f,S,x),l=l.concat(f),(x-=f.length)<=0)));v++);return l}function s(k,d){for(var S=0,x=d.length;S<x;S++)if(k(d[S]))return d[S];return null}function O(k,d){for(var S=null,x=0,f=d.length;x<f&&!S;x++)p(d[x])&&(k(d[x])?S=d[x]:d[x].children.length>0&&(S=O(k,d[x].children)));return S}function H(k,d){for(var S=0,x=d.length;S<x;S++)if(p(d[S])&&(k(d[S])||d[S].children.length>0&&H(k,d[S].children)))return!0;return!1}function A(k,d){for(var S=[],x=0,f=d.length;x<f;x++)p(d[x])&&(k(d[x])&&S.push(d[x]),d[x].children.length>0&&(S=S.concat(A(k,d[x].children))));return S}var p=Se(6).isTag;Ye.exports={filter:ge,find:ie,findOneChild:s,findOne:O,existsOne:H,findAll:A}},function(Ye,Te,Se){function ge(A,p){return typeof p=="function"?function(k){return k.attribs&&p(k.attribs[A])}:function(k){return k.attribs&&k.attribs[A]===p}}function ie(A,p){return function(k){return A(k)||p(k)}}var s=Se(6),O=Te.isTag=s.isTag;Te.testElement=function(A,p){for(var k in A)if(A.hasOwnProperty(k)){if(k==="tag_name"){if(!O(p)||!A.tag_name(p.name))return!1}else if(k==="tag_type"){if(!A.tag_type(p.type))return!1}else if(k==="tag_contains"){if(O(p)||!A.tag_contains(p.data))return!1}else if(!p.attribs||!A[k](p.attribs[k]))return!1}return!0};var H={tag_name:function(A){return typeof A=="function"?function(p){return O(p)&&A(p.name)}:A==="*"?O:function(p){return O(p)&&p.name===A}},tag_type:function(A){return typeof A=="function"?function(p){return A(p.type)}:function(p){return p.type===A}},tag_contains:function(A){return typeof A=="function"?function(p){return!O(p)&&A(p.data)}:function(p){return!O(p)&&p.data===A}}};Te.getElements=function(A,p,k,d){var S=Object.keys(A).map(function(x){var f=A[x];return x in H?H[x](f):ge(x,f)});return S.length===0?[]:this.filter(S.reduce(ie),p,k,d)},Te.getElementById=function(A,p,k){return Array.isArray(p)||(p=[p]),this.findOne(ge("id",A),p,k!==!1)},Te.getElementsByTagName=function(A,p,k,d){return this.filter(H.tag_name(A),p,k,d)},Te.getElementsByTagType=function(A,p,k,d){return this.filter(H.tag_type(A),p,k,d)}},function(Ye,Te){Te.removeSubsets=function(ie){for(var s,O,H,A=ie.length;--A>-1;){for(s=O=ie[A],ie[A]=null,H=!0;O;){if(ie.indexOf(O)>-1){H=!1,ie.splice(A,1);break}O=O.parent}H&&(ie[A]=s)}return ie};var Se={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16},ge=Te.compareDocumentPosition=function(ie,s){var O,H,A,p,k,d,S=[],x=[];if(ie===s)return 0;for(O=ie;O;)S.unshift(O),O=O.parent;for(O=s;O;)x.unshift(O),O=O.parent;for(d=0;S[d]===x[d];)d++;return d===0?Se.DISCONNECTED:(H=S[d-1],A=H.children,p=S[d],k=x[d],A.indexOf(p)>A.indexOf(k)?H===s?Se.FOLLOWING|Se.CONTAINED_BY:Se.FOLLOWING:H===ie?Se.PRECEDING|Se.CONTAINS:Se.PRECEDING)};Te.uniqueSort=function(ie){var s,O,H=ie.length;for(ie=ie.slice();--H>-1;)s=ie[H],(O=ie.indexOf(s))>-1&&O<H&&ie.splice(H,1);return ie.sort(function(A,p){var k=ge(A,p);return k&Se.PRECEDING?-1:k&Se.FOLLOWING?1:0}),ie}},function(Ye,Te,Se){function ge(s){this._cbs=s||{},this.events=[]}Ye.exports=ge;var ie=Se(3).EVENTS;Object.keys(ie).forEach(function(s){if(ie[s]===0)s="on"+s,ge.prototype[s]=function(){this.events.push([s]),this._cbs[s]&&this._cbs[s]()};else if(ie[s]===1)s="on"+s,ge.prototype[s]=function(O){this.events.push([s,O]),this._cbs[s]&&this._cbs[s](O)};else{if(ie[s]!==2)throw Error("wrong number of arguments");s="on"+s,ge.prototype[s]=function(O,H){this.events.push([s,O,H]),this._cbs[s]&&this._cbs[s](O,H)}}}),ge.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},ge.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var s=0,O=this.events.length;s<O;s++)if(this._cbs[this.events[s][0]]){var H=this.events[s].length;H===1?this._cbs[this.events[s][0]]():H===2?this._cbs[this.events[s][0]](this.events[s][1]):this._cbs[this.events[s][0]](this.events[s][1],this.events[s][2])}}},function(Ye,Te,Se){var ge=Se(25),ie=Se(9),s=ie.isTag,O=ie.domEach,H=Object.prototype.hasOwnProperty,A=ie.camelCase,p=ie.cssCase,k=/\s+/,d={forEach:Se(16),extend:Se(40),some:Se(96)},S={null:null,true:!0,false:!1},x=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,l=function(J,U){if(J&&s(J))return J.attribs||(J.attribs={}),U?H.call(J.attribs,U)?x.test(U)?U:J.attribs[U]:J.name==="option"&&U==="value"?ge.text(J.children):J.name!=="input"||J.attribs.type!=="radio"&&J.attribs.type!=="checkbox"||U!=="value"?void 0:"on":J.attribs},v=function(J,U,se){se===null?X(J,U):J.attribs[U]=se+""};Te.attr=function(J,U){return typeof J=="object"||U!==void 0?typeof U=="function"?O(this,function(se,me){v(me,J,U.call(me,se,me.attribs[J]))}):O(this,function(se,me){s(me)&&(typeof J=="object"?d.forEach(J,function(ce,D){v(me,D,ce)}):v(me,J,U))}):l(this[0],J)};var w=function(J,U){if(J&&s(J))return J.hasOwnProperty(U)?J[U]:x.test(U)?l(J,U)!==void 0:l(J,U)},j=function(J,U,se){J[U]=x.test(U)?!!se:se};Te.prop=function(J,U){var se,me=0;if(typeof J=="string"&&U===void 0){switch(J){case"style":se=this.css(),d.forEach(se,function(ce,D){se[me++]=D}),se.length=me;break;case"tagName":case"nodeName":se=this[0].name.toUpperCase();break;default:se=w(this[0],J)}return se}if(typeof J=="object"||U!==void 0)return typeof U=="function"?O(this,function(ce,D){j(D,J,U.call(D,ce,w(D,J)))}):O(this,function(ce,D){s(D)&&(typeof J=="object"?d.forEach(J,function(L,I){j(D,I,L)}):j(D,J,U))})};var B=function(J,U,se){if(J.data||(J.data={}),typeof U=="object")return d.extend(J.data,U);typeof U=="string"&&se!==void 0?J.data[U]=se:typeof U=="object"&&d.extend(J.data,U)},Q=function(J,U){var se,me,ce,D,L,I,re,ne=arguments.length===1;for(ne?(se=Object.keys(J.attribs).filter(function(z){return z.slice(0,5)==="data-"}),ce=se.map(function(z){return A(z.slice(5))})):(se=["data-"+p(U)],ce=[U]),I=0,re=se.length;I<re;++I)if(me=se[I],D=ce[I],H.call(J.attribs,me)){if(L=J.attribs[me],H.call(S,L))L=S[L];else if(L===String(Number(L)))L=Number(L);else if(f.test(L))try{L=JSON.parse(L)}catch{}J.data[D]=L}return ne?J.data:L};Te.data=function(J,U){var se=this[0];if(se&&s(se))return se.data||(se.data={}),J?typeof J=="object"||U!==void 0?(O(this,function(me,ce){B(ce,J,U)}),this):H.call(se.data,J)?se.data[J]:Q(se,J):Q(se)},Te.val=function(J){var U=arguments.length===0,se=this[0];if(se)switch(se.name){case"textarea":return this.text(J);case"input":switch(this.attr("type")){case"radio":return U?this.attr("value"):(this.attr("value",J),this);default:return this.attr("value",J)}case"select":var me,ce=this.find("option:selected");if(ce===void 0)return;if(!U){if(!this.attr().hasOwnProperty("multiple")&&typeof J=="object")return this;typeof J!="object"&&(J=[J]),this.find("option").removeAttr("selected");for(var D=0;D<J.length;D++)this.find('option[value="'+J[D]+'"]').attr("selected","");return this}return me=ce.attr("value"),this.attr().hasOwnProperty("multiple")&&(me=[],O(ce,function(L,I){me.push(l(I,"value"))})),me;case"option":return U?this.attr("value"):(this.attr("value",J),this)}};var X=function(J,U){J.attribs&&H.call(J.attribs,U)&&delete J.attribs[U]};Te.removeAttr=function(J){return O(this,function(U,se){X(se,J)}),this},Te.hasClass=function(J){return d.some(this,function(U){var se,me=U.attribs,ce=me&&me.class,D=-1;if(ce){for(;(D=ce.indexOf(J,D+1))>-1;)if(se=D+J.length,(D===0||k.test(ce[D-1]))&&(se===ce.length||k.test(ce[se])))return!0}})},Te.addClass=function(J){if(typeof J=="function")return O(this,function(ne,z){var Y=z.attribs.class||"";Te.addClass.call([z],J.call(z,ne,Y))});if(!J||typeof J!="string")return this;for(var U=J.split(k),se=this.length,me=0;me<se;me++)if(s(this[me])){var ce,D,L=l(this[me],"class");if(L){D=" "+L+" ",ce=U.length;for(var I=0;I<ce;I++){var re=U[I]+" ";D.indexOf(" "+re)<0&&(D+=re)}v(this[me],"class",D.trim())}else v(this[me],"class",U.join(" ").trim())}return this};var te=function(J){return J?J.trim().split(k):[]};Te.removeClass=function(J){var U,se,me;return typeof J=="function"?O(this,function(ce,D){Te.removeClass.call([D],J.call(D,ce,D.attribs.class||""))}):(U=te(J),se=U.length,me=arguments.length===0,O(this,function(ce,D){if(s(D))if(me)D.attribs.class="";else{for(var L,I,re=te(D.attribs.class),ne=0;ne<se;ne++)(L=re.indexOf(U[ne]))>=0&&(re.splice(L,1),I=!0,ne--);I&&(D.attribs.class=re.join(" "))}}))},Te.toggleClass=function(J,U){if(typeof J=="function")return O(this,function(z,Y){Te.toggleClass.call([Y],J.call(Y,z,Y.attribs.class||"",U),U)});if(!J||typeof J!="string")return this;for(var se,me,ce=J.split(k),D=ce.length,L=typeof U=="boolean"?U?1:-1:0,I=this.length,re=0;re<I;re++)if(s(this[re])){se=te(this[re].attribs.class);for(var ne=0;ne<D;ne++)me=se.indexOf(ce[ne]),L>=0&&me<0?se.push(ce[ne]):L<=0&&me>=0&&se.splice(me,1);this[re].attribs.class=se.join(" ")}return this},Te.is=function(J){return!!J&&this.filter(J).length>0}},function(Ye,Te,Se){var ge=Se(89),ie=Se(90);Ye.exports=function(s){return ie(ge(s))},Ye.exports.parse=ge,Ye.exports.compile=ie},function(Ye,Te){function Se(ie){if((ie=ie.trim().toLowerCase())==="even")return[2,0];if(ie==="odd")return[2,1];var s=ie.match(ge);if(!s)throw new SyntaxError("n-th rule couldn't be parsed ('"+ie+"')");var O;return s[1]?(O=parseInt(s[1],10),isNaN(O)&&(O=s[1].charAt(0)==="-"?-1:1)):O=0,[O,s[3]?parseInt((s[2]||"")+s[3],10):0]}Ye.exports=Se;var ge=/^([+\-]?\d*n)?\s*(?:([+\-]?)\s*(\d+))?$/},function(Ye,Te,Se){function ge(H){var A=H[0],p=H[1]-1;if(p<0&&A<=0)return O;if(A===-1)return function(d){return d<=p};if(A===0)return function(d){return d===p};if(A===1)return p<0?s:function(d){return d>=p};var k=p%A;return k<0&&(k+=A),A>1?function(d){return d>=p&&d%A===k}:(A*=-1,function(d){return d<=p&&d%A===k})}Ye.exports=ge;var ie=Se(10),s=ie.trueFunc,O=ie.falseFunc},function(Ye,Te,Se){function ge(I,re,ne){return ie(s(I,re,ne))}function ie(I){return function(re){return D(re)&&I(re)}}function s(I,re,ne){return A(x(I,re),re,ne)}function O(I){return I.type==="pseudo"&&(I.name==="scope"||Array.isArray(I.data)&&I.data.some(function(re){return re.some(O)}))}function H(I,re){var ne=!!re&&!!re.length&&re.every(function(z){return z===J||!!U(z)});I.forEach(function(z){if(!(z.length>0&&p(z[0])&&z[0].type!=="descendant")){if(!ne||O(z))return;z.unshift(X)}z.unshift(te)})}function A(I,re,ne){I=I.filter(function(Y){return Y.length>0}),I.forEach(v);var z=Array.isArray(ne);return ne=re&&re.context||ne,ne&&!z&&(ne=[ne]),H(I,ne),I.map(function(Y){return k(Y,re,ne,z)}).reduce(d,B)}function p(I){return Q[I.type]<0}function k(I,re,ne,z){var Y=z&&I[0].name==="scope"&&I[1].type==="descendant";return I.reduce(function(u,y,g){return u===B?u:l[y.type](u,y,re,ne,Y&&g===1)},re&&re.rootFunc||j)}function d(I,re){return re===B||I===j?I:I===B||re===j?re:function(ne){return I(ne)||re(ne)}}function S(I){return I.some(p)}Ye.exports=ge,Ye.exports.compileUnsafe=s,Ye.exports.compileToken=A;var x=Se(92),f=Se(4),D=f.isTag,l=Se(93),v=Se(94),w=Se(10),j=w.trueFunc,B=w.falseFunc,Q=Se(44),X={type:"descendant"},te={type:"pseudo",name:"scope"},J={},U=f.getParent,se=Se(26),me=se.filters,ce=f.existsOne,D=f.isTag,L=f.getChildren;me.not=function(I,re,ne,z){var Y={xmlMode:!(!ne||!ne.xmlMode),strict:!(!ne||!ne.strict)};if(Y.strict&&(re.length>1||re.some(S)))throw new SyntaxError("complex selectors in :not aren't allowed in strict mode");var u=A(re,Y,z);return u===B?I:u===j?B:function(y){return!u(y)&&I(y)}},me.has=function(I,re,ne){var z={xmlMode:!(!ne||!ne.xmlMode),strict:!(!ne||!ne.strict)},Y=re.some(S)?[J]:null,u=A(re,z,Y);return u===B?B:u===j?function(y){return L(y).some(D)&&I(y)}:(u=ie(u),Y?function(y){return I(y)&&(Y[0]=y,ce(u,L(y)))}:function(y){return I(y)&&ce(u,L(y))})},me.matches=function(I,re,ne,z){return A(re,{xmlMode:!(!ne||!ne.xmlMode),strict:!(!ne||!ne.strict),rootFunc:I},z)}},function(Ye,Te,Se){function ge(j,B,Q){var X="0x"+B-65536;return X!==X||Q?B:X<0?String.fromCharCode(X+65536):String.fromCharCode(X>>10|55296,1023&X|56320)}function ie(j){return j.replace(k,ge)}function s(j){return j===" "||j===`
`||j==="	"||j==="\f"||j==="\r"}function O(j,B){var Q=[];if((j=H(Q,j+"",B))!=="")throw new SyntaxError("Unmatched selector: "+j);return Q}function H(j,B,Q){function X(){var ne=B.match(p)[0];return B=B.substr(ne.length),ie(ne)}function te(ne){for(;s(B.charAt(ne));)ne++;B=B.substr(ne)}var J,U,se,me,ce=[],D=!1;for(te(0);B!=="";)if(U=B.charAt(0),s(U))D=!0,te(1);else if(U in x)ce.push({type:x[U]}),D=!1,te(1);else if(U===","){if(ce.length===0)throw new SyntaxError("empty sub-selector");j.push(ce),ce=[],D=!1,te(1)}else if(D&&(ce.length>0&&ce.push({type:"descendant"}),D=!1),U==="*")B=B.substr(1),ce.push({type:"universal"});else if(U in f)B=B.substr(1),ce.push({type:"attribute",name:f[U][0],action:f[U][1],value:X(),ignoreCase:!1});else if(U==="["){if(B=B.substr(1),!(J=B.match(d)))throw new SyntaxError("Malformed attribute selector: "+B);B=B.substr(J[0].length),se=ie(J[1]),Q&&("lowerCaseAttributeNames"in Q?!Q.lowerCaseAttributeNames:Q.xmlMode)||(se=se.toLowerCase()),ce.push({type:"attribute",name:se,action:S[J[2]],value:ie(J[4]||J[5]||""),ignoreCase:!!J[6]})}else if(U===":"){if(B.charAt(1)===":"){B=B.substr(2),ce.push({type:"pseudo-element",name:X().toLowerCase()});continue}if(B=B.substr(1),se=X().toLowerCase(),J=null,B.charAt(0)==="(")if(se in l){me=B.charAt(1);var L=me in w;if(B=B.substr(L+1),J=[],B=H(J,B,Q),L){if(B.charAt(0)!==me)throw new SyntaxError("unmatched quotes in :"+se);B=B.substr(1)}if(B.charAt(0)!==")")throw new SyntaxError("missing closing parenthesis in :"+se+" "+B);B=B.substr(1)}else{for(var I=1,re=1;re>0&&I<B.length;I++)B.charAt(I)==="("?re++:B.charAt(I)===")"&&re--;if(re)throw new SyntaxError("parenthesis not matched");J=B.substr(1,I-2),B=B.substr(I),se in v&&(me=J.charAt(0),me===J.slice(-1)&&me in w&&(J=J.slice(1,-1)),J=ie(J))}ce.push({type:"pseudo",name:se,data:J})}else{if(!p.test(B))return ce.length&&ce[ce.length-1].type==="descendant"&&ce.pop(),A(j,ce),B;se=X(),Q&&("lowerCaseTags"in Q?!Q.lowerCaseTags:Q.xmlMode)||(se=se.toLowerCase()),ce.push({type:"tag",name:se})}return A(j,ce),B}function A(j,B){if(j.length>0&&B.length===0)throw new SyntaxError("empty sub-selector");j.push(B)}Ye.exports=O;var p=/^(?:\\.|[\w\-\u00c0-\uFFFF])+/,k=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,d=/^\s*((?:\\.|[\w\u00c0-\uFFFF\-])+)\s*(?:(\S?)=\s*(?:(['"])(.*?)\3|(#?(?:\\.|[\w\u00c0-\uFFFF\-])*)|)|)\s*(i)?\]/,S={__proto__:null,undefined:"exists","":"equals","~":"element","^":"start",$:"end","*":"any","!":"not","|":"hyphen"},x={__proto__:null,">":"child","<":"parent","~":"sibling","+":"adjacent"},f={__proto__:null,"#":["id","equals"],".":["class","element"]},l={__proto__:null,has:!0,not:!0,matches:!0},v={__proto__:null,contains:!0,icontains:!0},w={__proto__:null,'"':!0,"'":!0}},function(Ye,Te,Se){var ge=Se(4),ie=ge.isTag,s=ge.getParent,O=ge.getChildren,H=ge.getSiblings,A=ge.getName;Ye.exports={__proto__:null,attribute:Se(43).compile,pseudo:Se(26).compile,tag:function(p,k){var d=k.name;return function(S){return A(S)===d&&p(S)}},descendant:function(p,k,d,S,x){return function(f){if(x&&p(f))return!0;for(var l=!1;!l&&(f=s(f));)l=p(f);return l}},parent:function(p,k,d){function S(x){return ie(x)&&p(x)}if(d&&d.strict)throw SyntaxError("Parent selector isn't part of CSS3");return function(x){return O(x).some(S)}},child:function(p){return function(k){var d=s(k);return!!d&&p(d)}},sibling:function(p){return function(k){for(var d=H(k),S=0;S<d.length;S++)if(ie(d[S])){if(d[S]===k)break;if(p(d[S]))return!0}return!1}},adjacent:function(p){return function(k){for(var d,S=H(k),x=0;x<S.length;x++)if(ie(S[x])){if(S[x]===k)break;d=S[x]}return!!d&&p(d)}},universal:function(p){return p}}},function(Ye,Te,Se){function ge(H){for(var A=H.map(ie),p=1;p<H.length;p++){var k=A[p];if(!(k<0))for(var d=p-1;d>=0&&k<A[d];d--){var S=H[d+1];H[d+1]=H[d],H[d]=S,A[d+1]=A[d],A[d]=k}}}function ie(H){var A=s[H.type];if(A===s.attribute)A=O[H.action],A===O.equals&&H.name==="id"&&(A=9),H.ignoreCase&&(A>>=1);else if(A===s.pseudo)if(H.data)if(H.name==="has"||H.name==="contains")A=0;else if(H.name==="matches"||H.name==="not"){A=0;for(var p=0;p<H.data.length;p++)if(H.data[p].length===1){var k=ie(H.data[p][0]);if(k===0){A=0;break}k>A&&(A=k)}H.data.length>1&&A>0&&(A-=1)}else A=1;else A=3;return A}Ye.exports=ge;var s=Se(44),O={__proto__:null,exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4}},function(Ye,Te,Se){(function(ge,ie){function s(he,ye,C){switch(C.length){case 0:return he.call(ye);case 1:return he.call(ye,C[0]);case 2:return he.call(ye,C[0],C[1]);case 3:return he.call(ye,C[0],C[1],C[2])}return he.apply(ye,C)}function O(he,ye){for(var C=-1,W=Array(he);++C<he;)W[C]=ye(C);return W}function H(he,ye){return he==null?void 0:he[ye]}function A(he,ye){return ye=="__proto__"?void 0:he[ye]}function p(he){var ye=-1,C=he==null?0:he.length;for(this.clear();++ye<C;){var W=he[ye];this.set(W[0],W[1])}}function k(){this.__data__=jn?jn(null):{},this.size=0}function d(he){var ye=this.has(he)&&delete this.__data__[he];return this.size-=ye?1:0,ye}function S(he){var ye=this.__data__;if(jn){var C=ye[he];return C===tn?void 0:C}return Ft.call(ye,he)?ye[he]:void 0}function x(he){var ye=this.__data__;return jn?ye[he]!==void 0:Ft.call(ye,he)}function f(he,ye){var C=this.__data__;return this.size+=this.has(he)?0:1,C[he]=jn&&ye===void 0?tn:ye,this}function l(he){var ye=-1,C=he==null?0:he.length;for(this.clear();++ye<C;){var W=he[ye];this.set(W[0],W[1])}}function v(){this.__data__=[],this.size=0}function w(he){var ye=this.__data__,C=y(ye,he);return!(C<0)&&(C==ye.length-1?ye.pop():Ie.call(ye,C,1),--this.size,!0)}function j(he){var ye=this.__data__,C=y(ye,he);return C<0?void 0:ye[C][1]}function B(he){return y(this.__data__,he)>-1}function Q(he,ye){var C=this.__data__,W=y(C,he);return W<0?(++this.size,C.push([he,ye])):C[W][1]=ye,this}function X(he){var ye=-1,C=he==null?0:he.length;for(this.clear();++ye<C;){var W=he[ye];this.set(W[0],W[1])}}function te(){this.size=0,this.__data__={hash:new p,map:new(fn||l),string:new p}}function J(he){var ye=q(this,he).delete(he);return this.size-=ye?1:0,ye}function U(he){return q(this,he).get(he)}function se(he){return q(this,he).has(he)}function me(he,ye){var C=q(this,he),W=C.size;return C.set(he,ye),this.size+=C.size==W?0:1,this}function ce(he){var ye=this.__data__=new l(he);this.size=ye.size}function D(){this.__data__=new l,this.size=0}function L(he){var ye=this.__data__,C=ye.delete(he);return this.size=ye.size,C}function I(he){return this.__data__.get(he)}function re(he){return this.__data__.has(he)}function ne(he,ye){var C=this.__data__;if(C instanceof l){var W=C.__data__;if(!fn||W.length<St-1)return W.push([he,ye]),this.size=++C.size,this;C=this.__data__=new X(W)}return C.set(he,ye),this.size=C.size,this}function z(he,ye){var C=Wn(he),W=!C&&Jn(he),le=!C&&!W&&Vn(he),_=!C&&!W&&!le&&Nn(he),fe=C||W||le||_,ke=fe?O(he.length,String):[],Re=ke.length;for(var Ze in he)!ye&&!Ft.call(he,Ze)||fe&&(Ze=="length"||le&&(Ze=="offset"||Ze=="parent")||_&&(Ze=="buffer"||Ze=="byteLength"||Ze=="byteOffset")||be(Ze,Re))||ke.push(Ze);return ke}function Y(he,ye,C){(C===void 0||Je(he[ye],C))&&(C!==void 0||ye in he)||g(he,ye,C)}function u(he,ye,C){var W=he[ye];Ft.call(he,ye)&&Je(W,C)&&(C!==void 0||ye in he)||g(he,ye,C)}function y(he,ye){for(var C=he.length;C--;)if(Je(he[C][0],ye))return C;return-1}function g(he,ye,C){ye=="__proto__"&&Nt?Nt(he,ye,{configurable:!0,enumerable:!0,value:C,writable:!0}):he[ye]=C}function m(he){return he==null?he===void 0?en:$t:vt&&vt in Object(he)?R(he):Ae(he)}function $(he){return It(he)&&m(he)==Ot}function ae(he){return!(!Lt(he)||de(he))&&(lt(he)?Fn:qe).test(Ne(he))}function K(he){return It(he)&&Zt(he.length)&&!!ft[m(he)]}function F(he){if(!Lt(he))return we(he);var ye=Ce(he),C=[];for(var W in he)(W!="constructor"||!ye&&Ft.call(he,W))&&C.push(W);return C}function b(he,ye,C,W,le){he!==ye&&rr(ye,function(_,fe){if(Lt(_))le||(le=new ce),h(he,ye,fe,C,b,W,le);else{var ke=W?W(A(he,fe),_,fe+"",he,ye,le):void 0;ke===void 0&&(ke=_),Y(he,fe,ke)}},Fe)}function h(he,ye,C,W,le,_,fe){var ke=A(he,C),Re=A(ye,C),Ze=fe.get(Re);if(Ze)return void Y(he,C,Ze);var Ke=_?_(ke,Re,C+"",he,ye,fe):void 0,at=Ke===void 0;if(at){var ot=Wn(Re),bt=!ot&&Vn(Re),_t=!ot&&!bt&&Nn(Re);Ke=Re,ot||bt||_t?Wn(ke)?Ke=ke:gt(ke)?Ke=c(ke):bt?(at=!1,Ke=M(Re,!0)):_t?(at=!1,Ke=P(Re,!0)):Ke=[]:Ve(Re)||Jn(Re)?(Ke=ke,Jn(ke)?Ke=je(ke):(!Lt(ke)||W&&lt(ke))&&(Ke=ue(Re))):at=!1}at&&(fe.set(Re,Ke),le(Ke,Re,W,_,fe),fe.delete(Re)),Y(he,C,Ke)}function V(he,ye){return Kn(_e(he,ye,it),he+"")}function M(he,ye){if(ye)return he.slice();var C=he.length,W=sr?sr(C):new he.constructor(C);return he.copy(W),W}function T(he){var ye=new he.constructor(he.byteLength);return new on(ye).set(new on(he)),ye}function P(he,ye){var C=ye?T(he.buffer):he.buffer;return new he.constructor(C,he.byteOffset,he.length)}function c(he,ye){var C=-1,W=he.length;for(ye||(ye=Array(W));++C<W;)ye[C]=he[C];return ye}function ee(he,ye,C,W){var le=!C;C||(C={});for(var _=-1,fe=ye.length;++_<fe;){var ke=ye[_],Re=W?W(C[ke],he[ke],ke,C,he):void 0;Re===void 0&&(Re=he[ke]),le?g(C,ke,Re):u(C,ke,Re)}return C}function q(he,ye){var C=he.__data__;return oe(ye)?C[typeof ye=="string"?"string":"hash"]:C.map}function E(he,ye){var C=H(he,ye);return ae(C)?C:void 0}function R(he){var ye=Ft.call(he,vt),C=he[vt];try{he[vt]=void 0;var W=!0}catch{}var le=Rn.call(he);return W&&(ye?he[vt]=C:delete he[vt]),le}function ue(he){return typeof he.constructor!="function"||Ce(he)?{}:$n(Ct(he))}function be(he,ye){var C=typeof he;return!!(ye=ye==null?ct:ye)&&(C=="number"||C!="symbol"&&$e.test(he))&&he>-1&&he%1==0&&he<ye}function N(he,ye,C){if(!Lt(C))return!1;var W=typeof ye;return!!(W=="number"?tt(C)&&be(ye,C.length):W=="string"&&ye in C)&&Je(C[ye],he)}function oe(he){var ye=typeof he;return ye=="string"||ye=="number"||ye=="symbol"||ye=="boolean"?he!=="__proto__":he===null}function de(he){return!!Mt&&Mt in he}function Ce(he){var ye=he&&he.constructor;return he===(typeof ye=="function"&&ye.prototype||An)}function we(he){var ye=[];if(he!=null)for(var C in Object(he))ye.push(C);return ye}function Ae(he){return Rn.call(he)}function _e(he,ye,C){return ye=xt(ye===void 0?he.length-1:ye,0),function(){for(var W=arguments,le=-1,_=xt(W.length-ye,0),fe=Array(_);++le<_;)fe[le]=W[ye+le];le=-1;for(var ke=Array(ye+1);++le<ye;)ke[le]=W[le];return ke[ye]=C(fe),s(he,this,ke)}}function Ne(he){if(he!=null){try{return qn.call(he)}catch{}try{return he+""}catch{}}return""}function Je(he,ye){return he===ye||he!==he&&ye!==ye}function tt(he){return he!=null&&Zt(he.length)&&!lt(he)}function gt(he){return It(he)&&tt(he)}function lt(he){if(!Lt(he))return!1;var ye=m(he);return ye==ht||ye==Ht||ye==yt||ye==kn}function Zt(he){return typeof he=="number"&&he>-1&&he%1==0&&he<=ct}function Lt(he){var ye=typeof he;return he!=null&&(ye=="object"||ye=="function")}function It(he){return he!=null&&typeof he=="object"}function Ve(he){if(!It(he)||m(he)!=cn)return!1;var ye=Ct(he);if(ye===null)return!0;var C=Ft.call(ye,"constructor")&&ye.constructor;return typeof C=="function"&&C instanceof C&&qn.call(C)==Zn}function je(he){return ee(he,Fe(he))}function Fe(he){return tt(he)?z(he,!0):F(he)}function We(he){return function(){return he}}function it(he){return he}function mt(){return!1}var St=200,tn="__lodash_hash_undefined__",Ue=800,et=16,ct=9007199254740991,Ot="[object Arguments]",yt="[object AsyncFunction]",ht="[object Function]",Ht="[object GeneratorFunction]",$t="[object Null]",cn="[object Object]",kn="[object Proxy]",en="[object Undefined]",Bn=/[\\^$.*+?()[\]{}|]/g,qe=/^\[object .+?Constructor\]$/,$e=/^(?:0|[1-9]\d*)$/,ft={};ft["[object Float32Array]"]=ft["[object Float64Array]"]=ft["[object Int8Array]"]=ft["[object Int16Array]"]=ft["[object Int32Array]"]=ft["[object Uint8Array]"]=ft["[object Uint8ClampedArray]"]=ft["[object Uint16Array]"]=ft["[object Uint32Array]"]=!0,ft[Ot]=ft["[object Array]"]=ft["[object ArrayBuffer]"]=ft["[object Boolean]"]=ft["[object DataView]"]=ft["[object Date]"]=ft["[object Error]"]=ft[ht]=ft["[object Map]"]=ft["[object Number]"]=ft[cn]=ft["[object RegExp]"]=ft["[object Set]"]=ft["[object String]"]=ft["[object WeakMap]"]=!1;var Et=typeof ge=="object"&&ge&&ge.Object===Object&&ge,Bt=typeof self=="object"&&self&&self.Object===Object&&self,Dt=Et||Bt||Function("return this")(),zt=typeof Te=="object"&&Te&&!Te.nodeType&&Te,Gt=zt&&typeof ie=="object"&&ie&&!ie.nodeType&&ie,nn=Gt&&Gt.exports===zt,dn=nn&&Et.process,un=function(){try{return dn&&dn.binding&&dn.binding("util")}catch{}}(),bn=un&&un.isTypedArray,wn=Array.prototype,En=Function.prototype,An=Object.prototype,Tn=Dt["__core-js_shared__"],qn=En.toString,Ft=An.hasOwnProperty,Mt=function(){var he=/[^.]+$/.exec(Tn&&Tn.keys&&Tn.keys.IE_PROTO||"");return he?"Symbol(src)_1."+he:""}(),Rn=An.toString,Zn=qn.call(Object),Fn=RegExp("^"+qn.call(Ft).replace(Bn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=nn?Dt.Buffer:void 0,hn=Dt.Symbol,on=Dt.Uint8Array,sr=Wt?Wt.allocUnsafe:void 0,Ct=function(he,ye){return function(C){return he(ye(C))}}(Object.getPrototypeOf,Object),ln=Object.create,De=An.propertyIsEnumerable,Ie=wn.splice,vt=hn?hn.toStringTag:void 0,Nt=function(){try{var he=E(Object,"defineProperty");return he({},"",{}),he}catch{}}(),rt=Wt?Wt.isBuffer:void 0,xt=Math.max,Sn=Date.now,fn=E(Dt,"Map"),jn=E(Object,"create"),$n=function(){function he(){}return function(ye){if(!Lt(ye))return{};if(ln)return ln(ye);he.prototype=ye;var C=new he;return he.prototype=void 0,C}}();p.prototype.clear=k,p.prototype.delete=d,p.prototype.get=S,p.prototype.has=x,p.prototype.set=f,l.prototype.clear=v,l.prototype.delete=w,l.prototype.get=j,l.prototype.has=B,l.prototype.set=Q,X.prototype.clear=te,X.prototype.delete=J,X.prototype.get=U,X.prototype.has=se,X.prototype.set=me,ce.prototype.clear=D,ce.prototype.delete=L,ce.prototype.get=I,ce.prototype.has=re,ce.prototype.set=ne;var rr=function(he){return function(ye,C,W){for(var le=-1,_=Object(ye),fe=W(ye),ke=fe.length;ke--;){var Re=fe[he?ke:++le];if(C(_[Re],Re,_)===!1)break}return ye}}(),tr=Nt?function(he,ye){return Nt(he,"toString",{configurable:!0,enumerable:!1,value:We(ye),writable:!0})}:it,Kn=function(he){var ye=0,C=0;return function(){var W=Sn(),le=et-(W-C);if(C=W,le>0){if(++ye>=Ue)return arguments[0]}else ye=0;return he.apply(void 0,arguments)}}(tr),Jn=$(function(){return arguments}())?$:function(he){return It(he)&&Ft.call(he,"callee")&&!De.call(he,"callee")},Wn=Array.isArray,Vn=rt||mt,Nn=bn?function(he){return function(ye){return he(ye)}}(bn):K,Gn=function(he){return V(function(ye,C){var W=-1,le=C.length,_=le>1?C[le-1]:void 0,fe=le>2?C[2]:void 0;for(_=he.length>3&&typeof _=="function"?(le--,_):void 0,fe&&N(C[0],C[1],fe)&&(_=le<3?void 0:_,le=1),ye=Object(ye);++W<le;){var ke=C[W];ke&&he(ye,ke,W,_)}return ye})}(function(he,ye,C){b(he,ye,C)});ie.exports=Gn}).call(Te,Se(0),Se(5)(Ye))},function(Ye,Te,Se){(function(ge,ie){function s(i,o){for(var G=-1,xe=i?i.length:0;++G<xe;)if(o(i[G],G,i))return!0;return!1}function O(i){return function(o){return o==null?void 0:o[i]}}function H(i,o){for(var G=-1,xe=Array(i);++G<i;)xe[G]=o(G);return xe}function A(i,o){return i==null?void 0:i[o]}function p(i){var o=!1;if(i!=null&&typeof i.toString!="function")try{o=!!(i+"")}catch{}return o}function k(i){var o=-1,G=Array(i.size);return i.forEach(function(xe,Be){G[++o]=[Be,xe]}),G}function d(i){var o=-1,G=Array(i.size);return i.forEach(function(xe){G[++o]=xe}),G}function S(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var xe=i[o];this.set(xe[0],xe[1])}}function x(){this.__data__=Rt?Rt(null):{}}function f(i){return this.has(i)&&delete this.__data__[i]}function l(i){var o=this.__data__;if(Rt){var G=o[i];return G===Et?void 0:G}return C.call(o,i)?o[i]:void 0}function v(i){var o=this.__data__;return Rt?o[i]!==void 0:C.call(o,i)}function w(i,o){return this.__data__[i]=Rt&&o===void 0?Et:o,this}function j(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var xe=i[o];this.set(xe[0],xe[1])}}function B(){this.__data__=[]}function Q(i){var o=this.__data__,G=ae(o,i);return!(G<0)&&(G==o.length-1?o.pop():Re.call(o,G,1),!0)}function X(i){var o=this.__data__,G=ae(o,i);return G<0?void 0:o[G][1]}function te(i){return ae(this.__data__,i)>-1}function J(i,o){var G=this.__data__,xe=ae(G,i);return xe<0?G.push([i,o]):G[xe][1]=o,this}function U(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var xe=i[o];this.set(xe[0],xe[1])}}function se(){this.__data__={hash:new S,map:new(at||j),string:new S}}function me(i){return Ae(this,i).delete(i)}function ce(i){return Ae(this,i).get(i)}function D(i){return Ae(this,i).has(i)}function L(i,o){return Ae(this,i).set(i,o),this}function I(i){var o=-1,G=i?i.length:0;for(this.__data__=new U;++o<G;)this.add(i[o])}function re(i){return this.__data__.set(i,Et),this}function ne(i){return this.__data__.has(i)}function z(i){this.__data__=new j(i)}function Y(){this.__data__=new j}function u(i){return this.__data__.delete(i)}function y(i){return this.__data__.get(i)}function g(i){return this.__data__.has(i)}function m(i,o){var G=this.__data__;if(G instanceof j){var xe=G.__data__;if(!at||xe.length<$e-1)return xe.push([i,o]),this;G=this.__data__=new U(xe)}return G.set(i,o),this}function $(i,o){var G=_n(i)||tn(i)?H(i.length,String):[],xe=G.length,Be=!!xe;for(var Le in i)!o&&!C.call(i,Le)||Be&&(Le=="length"||tt(Le,xe))||G.push(Le);return G}function ae(i,o){for(var G=i.length;G--;)if(St(i[G][0],o))return G;return-1}function K(i,o){return i&&ur(i,o,en)}function F(i,o){o=lt(o,i)?[o]:oe(o);for(var G=0,xe=o.length;i!=null&&G<xe;)i=i[Fe(o[G++])];return G&&G==xe?i:void 0}function b(i){return W.call(i)}function h(i,o){return i!=null&&o in Object(i)}function V(i,o,G,xe,Be){return i===o||(i==null||o==null||!yt(i)&&!ht(o)?i!==i&&o!==o:M(i,o,V,G,xe,Be))}function M(i,o,G,xe,Be,Le){var Qe=_n(i),dt=_n(o),kt=dn,Pt=dn;Qe||(kt=On(i),kt=kt==nn?Ft:kt),dt||(Pt=On(o),Pt=Pt==nn?Ft:Pt);var Tt=kt==Ft&&!p(i),Xt=Pt==Ft&&!p(o),Jt=kt==Pt;if(Jt&&!Tt)return Le||(Le=new z),Qe||Yt(i)?de(i,o,G,xe,Be,Le):Ce(i,o,kt,G,xe,Be,Le);if(!(Be&Dt)){var Kt=Tt&&C.call(i,"__wrapped__"),vn=Xt&&C.call(o,"__wrapped__");if(Kt||vn){var Pn=Kt?i.value():i,In=vn?o.value():o;return Le||(Le=new z),G(Pn,In,xe,Be,Le)}}return!!Jt&&(Le||(Le=new z),we(i,o,G,xe,Be,Le))}function T(i,o,G,xe){var Be=G.length,Le=Be,Qe=!xe;if(i==null)return!Le;for(i=Object(i);Be--;){var dt=G[Be];if(Qe&&dt[2]?dt[1]!==i[dt[0]]:!(dt[0]in i))return!1}for(;++Be<Le;){dt=G[Be];var kt=dt[0],Pt=i[kt],Tt=dt[1];if(Qe&&dt[2]){if(Pt===void 0&&!(kt in i))return!1}else{var Xt=new z;if(xe)var Jt=xe(Pt,Tt,kt,i,o,Xt);if(!(Jt===void 0?V(Tt,Pt,xe,Bt|Dt,Xt):Jt))return!1}}return!0}function P(i){return!(!yt(i)||Lt(i))&&(ct(i)||p(i)?le:vt).test(We(i))}function c(i){return ht(i)&&Ot(i.length)&&!!rt[W.call(i)]}function ee(i){return typeof i=="function"?i:i==null?Bn:typeof i=="object"?_n(i)?R(i[0],i[1]):E(i):qe(i)}function q(i){if(!It(i))return Ze(i);var o=[];for(var G in Object(i))C.call(i,G)&&G!="constructor"&&o.push(G);return o}function E(i){var o=_e(i);return o.length==1&&o[0][2]?je(o[0][0],o[0][1]):function(G){return G===i||T(G,i,o)}}function R(i,o){return lt(i)&&Ve(o)?je(Fe(i),o):function(G){var xe=cn(G,i);return xe===void 0&&xe===o?kn(G,i):V(o,xe,void 0,Bt|Dt)}}function ue(i){return function(o){return F(o,i)}}function be(i,o){var G;return Xn(i,function(xe,Be,Le){return!(G=o(xe,Be,Le))}),!!G}function N(i){if(typeof i=="string")return i;if(Ht(i))return Hn?Hn.call(i):"";var o=i+"";return o=="0"&&1/i==-zt?"-0":o}function oe(i){return _n(i)?i:Yn(i)}function de(i,o,G,xe,Be,Le){var Qe=Be&Dt,dt=i.length,kt=o.length;if(dt!=kt&&!(Qe&&kt>dt))return!1;var Pt=Le.get(i);if(Pt&&Le.get(o))return Pt==o;var Tt=-1,Xt=!0,Jt=Be&Bt?new I:void 0;for(Le.set(i,o),Le.set(o,i);++Tt<dt;){var Kt=i[Tt],vn=o[Tt];if(xe)var Pn=Qe?xe(vn,Kt,Tt,o,i,Le):xe(Kt,vn,Tt,i,o,Le);if(Pn!==void 0){if(Pn)continue;Xt=!1;break}if(Jt){if(!s(o,function(In,zn){if(!Jt.has(zn)&&(Kt===In||G(Kt,In,xe,Be,Le)))return Jt.add(zn)})){Xt=!1;break}}else if(Kt!==vn&&!G(Kt,vn,xe,Be,Le)){Xt=!1;break}}return Le.delete(i),Le.delete(o),Xt}function Ce(i,o,G,xe,Be,Le,Qe){switch(G){case hn:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case Wt:return!(i.byteLength!=o.byteLength||!xe(new fe(i),new fe(o)));case un:case bn:case qn:return St(+i,+o);case wn:return i.name==o.name&&i.message==o.message;case Mt:case Zn:return i==o+"";case Tn:var dt=k;case Rn:var kt=Le&Dt;if(dt||(dt=d),i.size!=o.size&&!kt)return!1;var Pt=Qe.get(i);if(Pt)return Pt==o;Le|=Bt,Qe.set(i,o);var Tt=de(dt(i),dt(o),xe,Be,Le,Qe);return Qe.delete(i),Tt;case Fn:if(Cn)return Cn.call(i)==Cn.call(o)}return!1}function we(i,o,G,xe,Be,Le){var Qe=Be&Dt,dt=en(i),kt=dt.length;if(kt!=en(o).length&&!Qe)return!1;for(var Pt=kt;Pt--;){var Tt=dt[Pt];if(!(Qe?Tt in o:C.call(o,Tt)))return!1}var Xt=Le.get(i);if(Xt&&Le.get(o))return Xt==o;var Jt=!0;Le.set(i,o),Le.set(o,i);for(var Kt=Qe;++Pt<kt;){Tt=dt[Pt];var vn=i[Tt],Pn=o[Tt];if(xe)var In=Qe?xe(Pn,vn,Tt,o,i,Le):xe(vn,Pn,Tt,i,o,Le);if(!(In===void 0?vn===Pn||G(vn,Pn,xe,Be,Le):In)){Jt=!1;break}Kt||(Kt=Tt=="constructor")}if(Jt&&!Kt){var zn=i.constructor,Qn=o.constructor;zn!=Qn&&"constructor"in i&&"constructor"in o&&!(typeof zn=="function"&&zn instanceof zn&&typeof Qn=="function"&&Qn instanceof Qn)&&(Jt=!1)}return Le.delete(i),Le.delete(o),Jt}function Ae(i,o){var G=i.__data__;return Zt(o)?G[typeof o=="string"?"string":"hash"]:G.map}function _e(i){for(var o=en(i),G=o.length;G--;){var xe=o[G],Be=i[xe];o[G]=[xe,Be,Ve(Be)]}return o}function Ne(i,o){var G=A(i,o);return P(G)?G:void 0}function Je(i,o,G){o=lt(o,i)?[o]:oe(o);for(var xe,Be=-1,Qe=o.length;++Be<Qe;){var Le=Fe(o[Be]);if(!(xe=i!=null&&G(i,Le)))break;i=i[Le]}if(xe)return xe;var Qe=i?i.length:0;return!!Qe&&Ot(Qe)&&tt(Le,Qe)&&(_n(i)||tn(i))}function tt(i,o){return!!(o=o==null?Gt:o)&&(typeof i=="number"||Nt.test(i))&&i>-1&&i%1==0&&i<o}function gt(i,o,G){if(!yt(G))return!1;var xe=typeof o;return!!(xe=="number"?Ue(G)&&tt(o,G.length):xe=="string"&&o in G)&&St(G[o],i)}function lt(i,o){if(_n(i))return!1;var G=typeof i;return!(G!="number"&&G!="symbol"&&G!="boolean"&&i!=null&&!Ht(i))||sr.test(i)||!on.test(i)||o!=null&&i in Object(o)}function Zt(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function Lt(i){return!!he&&he in i}function It(i){var o=i&&i.constructor;return i===(typeof o=="function"&&o.prototype||Nn)}function Ve(i){return i===i&&!yt(i)}function je(i,o){return function(G){return G!=null&&G[i]===o&&(o!==void 0||i in Object(G))}}function Fe(i){if(typeof i=="string"||Ht(i))return i;var o=i+"";return o=="0"&&1/i==-zt?"-0":o}function We(i){if(i!=null){try{return ye.call(i)}catch{}try{return i+""}catch{}}return""}function it(i,o,G){var xe=_n(i)?s:be;return G&&gt(i,o,G)&&(o=void 0),xe(i,ee(o))}function mt(i,o){if(typeof i!="function"||o&&typeof o!="function")throw new TypeError(ft);var G=function(){var xe=arguments,Be=o?o.apply(this,xe):xe[0],Le=G.cache;if(Le.has(Be))return Le.get(Be);var Qe=i.apply(this,xe);return G.cache=Le.set(Be,Qe),Qe};return G.cache=new(mt.Cache||U),G}function St(i,o){return i===o||i!==i&&o!==o}function tn(i){return et(i)&&C.call(i,"callee")&&(!ke.call(i,"callee")||W.call(i)==nn)}function Ue(i){return i!=null&&Ot(i.length)&&!ct(i)}function et(i){return ht(i)&&Ue(i)}function ct(i){var o=yt(i)?W.call(i):"";return o==En||o==An}function Ot(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Gt}function yt(i){var o=typeof i;return!!i&&(o=="object"||o=="function")}function ht(i){return!!i&&typeof i=="object"}function Ht(i){return typeof i=="symbol"||ht(i)&&W.call(i)==Fn}function $t(i){return i==null?"":N(i)}function cn(i,o,G){var xe=i==null?void 0:F(i,o);return xe===void 0?G:xe}function kn(i,o){return i!=null&&Je(i,o,h)}function en(i){return Ue(i)?$(i):q(i)}function Bn(i){return i}function qe(i){return lt(i)?O(Fe(i)):ue(i)}var $e=200,ft="Expected a function",Et="__lodash_hash_undefined__",Bt=1,Dt=2,zt=1/0,Gt=9007199254740991,nn="[object Arguments]",dn="[object Array]",un="[object Boolean]",bn="[object Date]",wn="[object Error]",En="[object Function]",An="[object GeneratorFunction]",Tn="[object Map]",qn="[object Number]",Ft="[object Object]",Mt="[object RegExp]",Rn="[object Set]",Zn="[object String]",Fn="[object Symbol]",Wt="[object ArrayBuffer]",hn="[object DataView]",on=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sr=/^\w*$/,Ct=/^\./,ln=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,De=/[\\^$.*+?()[\]{}|]/g,Ie=/\\(\\)?/g,vt=/^\[object .+?Constructor\]$/,Nt=/^(?:0|[1-9]\d*)$/,rt={};rt["[object Float32Array]"]=rt["[object Float64Array]"]=rt["[object Int8Array]"]=rt["[object Int16Array]"]=rt["[object Int32Array]"]=rt["[object Uint8Array]"]=rt["[object Uint8ClampedArray]"]=rt["[object Uint16Array]"]=rt["[object Uint32Array]"]=!0,rt[nn]=rt[dn]=rt[Wt]=rt[un]=rt[hn]=rt[bn]=rt[wn]=rt[En]=rt[Tn]=rt[qn]=rt[Ft]=rt[Mt]=rt[Rn]=rt[Zn]=rt["[object WeakMap]"]=!1;var xt=typeof ge=="object"&&ge&&ge.Object===Object&&ge,Sn=typeof self=="object"&&self&&self.Object===Object&&self,fn=xt||Sn||Function("return this")(),jn=typeof Te=="object"&&Te&&!Te.nodeType&&Te,$n=jn&&typeof ie=="object"&&ie&&!ie.nodeType&&ie,rr=$n&&$n.exports===jn,tr=rr&&xt.process,Kn=function(){try{return tr&&tr.binding("util")}catch{}}(),Jn=Kn&&Kn.isTypedArray,Wn=Array.prototype,Vn=Function.prototype,Nn=Object.prototype,Gn=fn["__core-js_shared__"],he=function(){var i=/[^.]+$/.exec(Gn&&Gn.keys&&Gn.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),ye=Vn.toString,C=Nn.hasOwnProperty,W=Nn.toString,le=RegExp("^"+ye.call(C).replace(De,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=fn.Symbol,fe=fn.Uint8Array,ke=Nn.propertyIsEnumerable,Re=Wn.splice,Ze=function(i,o){return function(G){return i(o(G))}}(Object.keys,Object),Ke=Ne(fn,"DataView"),at=Ne(fn,"Map"),ot=Ne(fn,"Promise"),bt=Ne(fn,"Set"),_t=Ne(fn,"WeakMap"),Rt=Ne(Object,"create"),Qt=We(Ke),an=We(at),gn=We(ot),Dn=We(bt),Mn=We(_t),sn=_?_.prototype:void 0,Cn=sn?sn.valueOf:void 0,Hn=sn?sn.toString:void 0;S.prototype.clear=x,S.prototype.delete=f,S.prototype.get=l,S.prototype.has=v,S.prototype.set=w,j.prototype.clear=B,j.prototype.delete=Q,j.prototype.get=X,j.prototype.has=te,j.prototype.set=J,U.prototype.clear=se,U.prototype.delete=me,U.prototype.get=ce,U.prototype.has=D,U.prototype.set=L,I.prototype.add=I.prototype.push=re,I.prototype.has=ne,z.prototype.clear=Y,z.prototype.delete=u,z.prototype.get=y,z.prototype.has=g,z.prototype.set=m;var Xn=function(i,o){return function(G,xe){if(G==null)return G;if(!Ue(G))return i(G,xe);for(var Be=G.length,Le=o?Be:-1,Qe=Object(G);(o?Le--:++Le<Be)&&xe(Qe[Le],Le,Qe)!==!1;);return G}}(K),ur=function(i){return function(o,G,xe){for(var Be=-1,Le=Object(o),Qe=xe(o),dt=Qe.length;dt--;){var kt=Qe[i?dt:++Be];if(G(Le[kt],kt,Le)===!1)break}return o}}(),On=b;(Ke&&On(new Ke(new ArrayBuffer(1)))!=hn||at&&On(new at)!=Tn||ot&&On(ot.resolve())!="[object Promise]"||bt&&On(new bt)!=Rn||_t&&On(new _t)!="[object WeakMap]")&&(On=function(i){var o=W.call(i),G=o==Ft?i.constructor:void 0,xe=G?We(G):void 0;if(xe)switch(xe){case Qt:return hn;case an:return Tn;case gn:return"[object Promise]";case Dn:return Rn;case Mn:return"[object WeakMap]"}return o});var Yn=mt(function(i){i=$t(i);var o=[];return Ct.test(i)&&o.push(""),i.replace(ln,function(G,xe,Be,Le){o.push(Be?Le.replace(Ie,"$1"):xe||G)}),o});mt.Cache=U;var _n=Array.isArray,Yt=Jn?function(i){return function(o){return i(o)}}(Jn):c;ie.exports=it}).call(Te,Se(0),Se(5)(Ye))},function(Ye,Te,Se){function ge(d,S,x,f){for(var l=[];S&&l.length<f;)x&&!Te.filter.call([S],x,d).length||l.push(S),S=S.parent;return l}var ie=Se(42),s=Se(9),O=s.domEach,H=Se(3).DomUtils.uniqueSort,A=s.isTag,p={bind:Se(24),forEach:Se(16),reject:Se(98),filter:Se(99),reduce:Se(100)};Te.find=function(d){var S,x=p.reduce(this,function(v,w){return v.concat(p.filter(w.children,A))},[]),f=this.constructor.contains;if(d&&typeof d!="string")return S=d.cheerio?d.get():[d],this._make(S.filter(function(v){var w,j;for(w=0,j=this.length;w<j;++w)if(f(this[w],v))return!0},this));var l={__proto__:this.options,context:this.toArray()};return this._make(ie(d,x,l))},Te.parent=function(d){var S=[];return O(this,function(x,f){var l=f.parent;l&&S.indexOf(l)<0&&S.push(l)}),arguments.length&&(S=Te.filter.call(S,d,this)),this._make(S)},Te.parents=function(d){var S=[];return this.get().reverse().forEach(function(x){ge(this,x.parent,d,1/0).forEach(function(f){S.indexOf(f)===-1&&S.push(f)})},this),this._make(S)},Te.parentsUntil=function(d,S){var x,f,l=[];return typeof d=="string"?x=ie(d,this.parents().toArray(),this.options)[0]:d&&d.cheerio?f=d.toArray():d&&(x=d),this.toArray().reverse().forEach(function(v){for(;(v=v.parent)&&(x&&v!==x||f&&f.indexOf(v)===-1||!x&&!f);)A(v)&&l.indexOf(v)===-1&&l.push(v)},this),this._make(S?ie(S,l,this.options):l)},Te.closest=function(d){var S=[];return d?(O(this,function(x,f){var l=ge(this,f,d,1)[0];l&&S.indexOf(l)<0&&S.push(l)}.bind(this)),this._make(S)):this._make(S)},Te.next=function(d){if(!this[0])return this;var S=[];return p.forEach(this,function(x){for(;x=x.next;)if(A(x))return void S.push(x)}),d?Te.filter.call(S,d,this):this._make(S)},Te.nextAll=function(d){if(!this[0])return this;var S=[];return p.forEach(this,function(x){for(;x=x.next;)A(x)&&S.indexOf(x)===-1&&S.push(x)}),d?Te.filter.call(S,d,this):this._make(S)},Te.nextUntil=function(d,S){if(!this[0])return this;var x,f,l=[];return typeof d=="string"?x=ie(d,this.nextAll().get(),this.options)[0]:d&&d.cheerio?f=d.get():d&&(x=d),p.forEach(this,function(v){for(;(v=v.next)&&(x&&v!==x||f&&f.indexOf(v)===-1||!x&&!f);)A(v)&&l.indexOf(v)===-1&&l.push(v)}),S?Te.filter.call(l,S,this):this._make(l)},Te.prev=function(d){if(!this[0])return this;var S=[];return p.forEach(this,function(x){for(;x=x.prev;)if(A(x))return void S.push(x)}),d?Te.filter.call(S,d,this):this._make(S)},Te.prevAll=function(d){if(!this[0])return this;var S=[];return p.forEach(this,function(x){for(;x=x.prev;)A(x)&&S.indexOf(x)===-1&&S.push(x)}),d?Te.filter.call(S,d,this):this._make(S)},Te.prevUntil=function(d,S){if(!this[0])return this;var x,f,l=[];return typeof d=="string"?x=ie(d,this.prevAll().get(),this.options)[0]:d&&d.cheerio?f=d.get():d&&(x=d),p.forEach(this,function(v){for(;(v=v.prev)&&(x&&v!==x||f&&f.indexOf(v)===-1||!x&&!f);)A(v)&&l.indexOf(v)===-1&&l.push(v)}),S?Te.filter.call(l,S,this):this._make(l)},Te.siblings=function(d){var S=this.parent(),x=p.filter(S?S.children():this.siblingsAndMe(),p.bind(function(f){return A(f)&&!this.is(f)},this));return d!==void 0?Te.filter.call(x,d,this):this._make(x)},Te.children=function(d){var S=p.reduce(this,function(x,f){return x.concat(p.filter(f.children,A))},[]);return d===void 0?this._make(S):Te.filter.call(S,d,this)},Te.contents=function(){return this._make(p.reduce(this,function(d,S){return d.push.apply(d,S.children),d},[]))},Te.each=function(d){for(var S=0,x=this.length;S<x&&d.call(this[S],S,this[S])!==!1;)++S;return this},Te.map=function(d){return this._make(p.reduce(this,function(S,x,f){var l=d.call(x,f,x);return l==null?S:S.concat(l)},[]))};var k=function(d){return function(S,x){var f;return x=x||this,f=typeof S=="string"?ie.compile(S,x.options):typeof S=="function"?function(l,v){return S.call(l,v,l)}:S.cheerio?S.is.bind(S):function(l){return S===l},x._make(d(this,f))}};Te.filter=k(p.filter),Te.not=k(p.reject),Te.has=function(d){var S=this;return Te.filter.call(this,function(){return S._make(this).find(d).length>0})},Te.first=function(){return this.length>1?this._make(this[0]):this},Te.last=function(){return this.length>1?this._make(this[this.length-1]):this},Te.eq=function(d){return(d=+d)==0&&this.length<=1?this:(d<0&&(d=this.length+d),this[d]?this._make(this[d]):this._make([]))},Te.get=function(d){return d==null?Array.prototype.slice.call(this):this[d<0?this.length+d:d]},Te.index=function(d){var S,x;return arguments.length===0?(S=this.parent().children(),x=this[0]):typeof d=="string"?(S=this._make(d),x=this[0]):(S=this,x=d.cheerio?d[0]:d),S.get().indexOf(x)},Te.slice=function(){return this._make([].slice.apply(this,arguments))},Te.end=function(){return this.prevObject||this._make([])},Te.add=function(d,S){for(var x=this._make(d,S),f=H(x.get().concat(this.get())),l=0;l<f.length;++l)x[l]=f[l];return x.length=f.length,x},Te.addBack=function(d){return this.add(arguments.length?this.prevObject.filter(d):this.prevObject)}},function(Ye,Te,Se){(function(ge,ie){function s(o,G){for(var xe=-1,Be=o?o.length:0,Le=0,Qe=[];++xe<Be;){var dt=o[xe];G(dt,xe,o)&&(Qe[Le++]=dt)}return Qe}function O(o,G){for(var xe=-1,Be=o?o.length:0;++xe<Be;)if(G(o[xe],xe,o))return!0;return!1}function H(o){return function(G){return G==null?void 0:G[o]}}function A(o,G){for(var xe=-1,Be=Array(o);++xe<o;)Be[xe]=G(xe);return Be}function p(o,G){return o==null?void 0:o[G]}function k(o){var G=!1;if(o!=null&&typeof o.toString!="function")try{G=!!(o+"")}catch{}return G}function d(o){var G=-1,xe=Array(o.size);return o.forEach(function(Be,Le){xe[++G]=[Le,Be]}),xe}function S(o){var G=-1,xe=Array(o.size);return o.forEach(function(Be){xe[++G]=Be}),xe}function x(o){var G=-1,xe=o?o.length:0;for(this.clear();++G<xe;){var Be=o[G];this.set(Be[0],Be[1])}}function f(){this.__data__=Qt?Qt(null):{}}function l(o){return this.has(o)&&delete this.__data__[o]}function v(o){var G=this.__data__;if(Qt){var xe=G[o];return xe===Bt?void 0:xe}return W.call(G,o)?G[o]:void 0}function w(o){var G=this.__data__;return Qt?G[o]!==void 0:W.call(G,o)}function j(o,G){return this.__data__[o]=Qt&&G===void 0?Bt:G,this}function B(o){var G=-1,xe=o?o.length:0;for(this.clear();++G<xe;){var Be=o[G];this.set(Be[0],Be[1])}}function Q(){this.__data__=[]}function X(o){var G=this.__data__,xe=K(G,o);return!(xe<0)&&(xe==G.length-1?G.pop():Ze.call(G,xe,1),!0)}function te(o){var G=this.__data__,xe=K(G,o);return xe<0?void 0:G[xe][1]}function J(o){return K(this.__data__,o)>-1}function U(o,G){var xe=this.__data__,Be=K(xe,o);return Be<0?xe.push([o,G]):xe[Be][1]=G,this}function se(o){var G=-1,xe=o?o.length:0;for(this.clear();++G<xe;){var Be=o[G];this.set(Be[0],Be[1])}}function me(){this.__data__={hash:new x,map:new(ot||B),string:new x}}function ce(o){return _e(this,o).delete(o)}function D(o){return _e(this,o).get(o)}function L(o){return _e(this,o).has(o)}function I(o,G){return _e(this,o).set(o,G),this}function re(o){var G=-1,xe=o?o.length:0;for(this.__data__=new se;++G<xe;)this.add(o[G])}function ne(o){return this.__data__.set(o,Bt),this}function z(o){return this.__data__.has(o)}function Y(o){this.__data__=new B(o)}function u(){this.__data__=new B}function y(o){return this.__data__.delete(o)}function g(o){return this.__data__.get(o)}function m(o){return this.__data__.has(o)}function $(o,G){var xe=this.__data__;if(xe instanceof B){var Be=xe.__data__;if(!ot||Be.length<ft-1)return Be.push([o,G]),this;xe=this.__data__=new se(Be)}return xe.set(o,G),this}function ae(o,G){var xe=Yt(o)||Ue(o)?A(o.length,String):[],Be=xe.length,Le=!!Be;for(var Qe in o)!G&&!W.call(o,Qe)||Le&&(Qe=="length"||gt(Qe,Be))||xe.push(Qe);return xe}function K(o,G){for(var xe=o.length;xe--;)if(tn(o[xe][0],G))return xe;return-1}function F(o,G){var xe=[];return ur(o,function(Be,Le,Qe){G(Be,Le,Qe)&&xe.push(Be)}),xe}function b(o,G){return o&&On(o,G,Bn)}function h(o,G){G=lt(G,o)?[G]:de(G);for(var xe=0,Be=G.length;o!=null&&xe<Be;)o=o[Fe(G[xe++])];return xe&&xe==Be?o:void 0}function V(o){return le.call(o)}function M(o,G){return o!=null&&G in Object(o)}function T(o,G,xe,Be,Le){return o===G||(o==null||G==null||!ht(o)&&!Ht(G)?o!==o&&G!==G:P(o,G,T,xe,Be,Le))}function P(o,G,xe,Be,Le,Qe){var dt=Yt(o),kt=Yt(G),Pt=un,Tt=un;dt||(Pt=Yn(o),Pt=Pt==dn?Mt:Pt),kt||(Tt=Yn(G),Tt=Tt==dn?Mt:Tt);var Xt=Pt==Mt&&!k(o),Jt=Tt==Mt&&!k(G),Kt=Pt==Tt;if(Kt&&!Xt)return Qe||(Qe=new Y),dt||i(o)?Ce(o,G,xe,Be,Le,Qe):we(o,G,Pt,xe,Be,Le,Qe);if(!(Le&zt)){var vn=Xt&&W.call(o,"__wrapped__"),Pn=Jt&&W.call(G,"__wrapped__");if(vn||Pn){var In=vn?o.value():o,zn=Pn?G.value():G;return Qe||(Qe=new Y),xe(In,zn,Be,Le,Qe)}}return!!Kt&&(Qe||(Qe=new Y),Ae(o,G,xe,Be,Le,Qe))}function c(o,G,xe,Be){var Le=xe.length,Qe=Le,dt=!Be;if(o==null)return!Qe;for(o=Object(o);Le--;){var kt=xe[Le];if(dt&&kt[2]?kt[1]!==o[kt[0]]:!(kt[0]in o))return!1}for(;++Le<Qe;){kt=xe[Le];var Pt=kt[0],Tt=o[Pt],Xt=kt[1];if(dt&&kt[2]){if(Tt===void 0&&!(Pt in o))return!1}else{var Jt=new Y;if(Be)var Kt=Be(Tt,Xt,Pt,o,G,Jt);if(!(Kt===void 0?T(Xt,Tt,Be,Dt|zt,Jt):Kt))return!1}}return!0}function ee(o){return!(!ht(o)||Lt(o))&&(Ot(o)||k(o)?_:Nt).test(We(o))}function q(o){return Ht(o)&&yt(o.length)&&!!xt[le.call(o)]}function E(o){return typeof o=="function"?o:o==null?qe:typeof o=="object"?Yt(o)?be(o[0],o[1]):ue(o):$e(o)}function R(o){if(!It(o))return Ke(o);var G=[];for(var xe in Object(o))W.call(o,xe)&&xe!="constructor"&&G.push(xe);return G}function ue(o){var G=Ne(o);return G.length==1&&G[0][2]?je(G[0][0],G[0][1]):function(xe){return xe===o||c(xe,o,G)}}function be(o,G){return lt(o)&&Ve(G)?je(Fe(o),G):function(xe){var Be=kn(xe,o);return Be===void 0&&Be===G?en(xe,o):T(G,Be,void 0,Dt|zt)}}function N(o){return function(G){return h(G,o)}}function oe(o){if(typeof o=="string")return o;if($t(o))return Xn?Xn.call(o):"";var G=o+"";return G=="0"&&1/o==-Gt?"-0":G}function de(o){return Yt(o)?o:_n(o)}function Ce(o,G,xe,Be,Le,Qe){var dt=Le&zt,kt=o.length,Pt=G.length;if(kt!=Pt&&!(dt&&Pt>kt))return!1;var Tt=Qe.get(o);if(Tt&&Qe.get(G))return Tt==G;var Xt=-1,Jt=!0,Kt=Le&Dt?new re:void 0;for(Qe.set(o,G),Qe.set(G,o);++Xt<kt;){var vn=o[Xt],Pn=G[Xt];if(Be)var In=dt?Be(Pn,vn,Xt,G,o,Qe):Be(vn,Pn,Xt,o,G,Qe);if(In!==void 0){if(In)continue;Jt=!1;break}if(Kt){if(!O(G,function(zn,Qn){if(!Kt.has(Qn)&&(vn===zn||xe(vn,zn,Be,Le,Qe)))return Kt.add(Qn)})){Jt=!1;break}}else if(vn!==Pn&&!xe(vn,Pn,Be,Le,Qe)){Jt=!1;break}}return Qe.delete(o),Qe.delete(G),Jt}function we(o,G,xe,Be,Le,Qe,dt){switch(xe){case on:if(o.byteLength!=G.byteLength||o.byteOffset!=G.byteOffset)return!1;o=o.buffer,G=G.buffer;case hn:return!(o.byteLength!=G.byteLength||!Be(new ke(o),new ke(G)));case bn:case wn:case Ft:return tn(+o,+G);case En:return o.name==G.name&&o.message==G.message;case Rn:case Fn:return o==G+"";case qn:var kt=d;case Zn:var Pt=Qe&zt;if(kt||(kt=S),o.size!=G.size&&!Pt)return!1;var Tt=dt.get(o);if(Tt)return Tt==G;Qe|=Dt,dt.set(o,G);var Xt=Ce(kt(o),kt(G),Be,Le,Qe,dt);return dt.delete(o),Xt;case Wt:if(Hn)return Hn.call(o)==Hn.call(G)}return!1}function Ae(o,G,xe,Be,Le,Qe){var dt=Le&zt,kt=Bn(o),Pt=kt.length;if(Pt!=Bn(G).length&&!dt)return!1;for(var Tt=Pt;Tt--;){var Xt=kt[Tt];if(!(dt?Xt in G:W.call(G,Xt)))return!1}var Jt=Qe.get(o);if(Jt&&Qe.get(G))return Jt==G;var Kt=!0;Qe.set(o,G),Qe.set(G,o);for(var vn=dt;++Tt<Pt;){Xt=kt[Tt];var Pn=o[Xt],In=G[Xt];if(Be)var zn=dt?Be(In,Pn,Xt,G,o,Qe):Be(Pn,In,Xt,o,G,Qe);if(!(zn===void 0?Pn===In||xe(Pn,In,Be,Le,Qe):zn)){Kt=!1;break}vn||(vn=Xt=="constructor")}if(Kt&&!vn){var Qn=o.constructor,$r=G.constructor;Qn!=$r&&"constructor"in o&&"constructor"in G&&!(typeof Qn=="function"&&Qn instanceof Qn&&typeof $r=="function"&&$r instanceof $r)&&(Kt=!1)}return Qe.delete(o),Qe.delete(G),Kt}function _e(o,G){var xe=o.__data__;return Zt(G)?xe[typeof G=="string"?"string":"hash"]:xe.map}function Ne(o){for(var G=Bn(o),xe=G.length;xe--;){var Be=G[xe],Le=o[Be];G[xe]=[Be,Le,Ve(Le)]}return G}function Je(o,G){var xe=p(o,G);return ee(xe)?xe:void 0}function tt(o,G,xe){G=lt(G,o)?[G]:de(G);for(var Be,Le=-1,dt=G.length;++Le<dt;){var Qe=Fe(G[Le]);if(!(Be=o!=null&&xe(o,Qe)))break;o=o[Qe]}if(Be)return Be;var dt=o?o.length:0;return!!dt&&yt(dt)&&gt(Qe,dt)&&(Yt(o)||Ue(o))}function gt(o,G){return!!(G=G==null?nn:G)&&(typeof o=="number"||rt.test(o))&&o>-1&&o%1==0&&o<G}function lt(o,G){if(Yt(o))return!1;var xe=typeof o;return!(xe!="number"&&xe!="symbol"&&xe!="boolean"&&o!=null&&!$t(o))||Ct.test(o)||!sr.test(o)||G!=null&&o in Object(G)}function Zt(o){var G=typeof o;return G=="string"||G=="number"||G=="symbol"||G=="boolean"?o!=="__proto__":o===null}function Lt(o){return!!ye&&ye in o}function It(o){var G=o&&o.constructor;return o===(typeof G=="function"&&G.prototype||Gn)}function Ve(o){return o===o&&!ht(o)}function je(o,G){return function(xe){return xe!=null&&xe[o]===G&&(G!==void 0||o in Object(xe))}}function Fe(o){if(typeof o=="string"||$t(o))return o;var G=o+"";return G=="0"&&1/o==-Gt?"-0":G}function We(o){if(o!=null){try{return C.call(o)}catch{}try{return o+""}catch{}}return""}function it(o,G){return(Yt(o)?s:F)(o,St(E(G)))}function mt(o,G){if(typeof o!="function"||G&&typeof G!="function")throw new TypeError(Et);var xe=function(){var Be=arguments,Le=G?G.apply(this,Be):Be[0],Qe=xe.cache;if(Qe.has(Le))return Qe.get(Le);var dt=o.apply(this,Be);return xe.cache=Qe.set(Le,dt),dt};return xe.cache=new(mt.Cache||se),xe}function St(o){if(typeof o!="function")throw new TypeError(Et);return function(){var G=arguments;switch(G.length){case 0:return!o.call(this);case 1:return!o.call(this,G[0]);case 2:return!o.call(this,G[0],G[1]);case 3:return!o.call(this,G[0],G[1],G[2])}return!o.apply(this,G)}}function tn(o,G){return o===G||o!==o&&G!==G}function Ue(o){return ct(o)&&W.call(o,"callee")&&(!Re.call(o,"callee")||le.call(o)==dn)}function et(o){return o!=null&&yt(o.length)&&!Ot(o)}function ct(o){return Ht(o)&&et(o)}function Ot(o){var G=ht(o)?le.call(o):"";return G==An||G==Tn}function yt(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=nn}function ht(o){var G=typeof o;return!!o&&(G=="object"||G=="function")}function Ht(o){return!!o&&typeof o=="object"}function $t(o){return typeof o=="symbol"||Ht(o)&&le.call(o)==Wt}function cn(o){return o==null?"":oe(o)}function kn(o,G,xe){var Be=o==null?void 0:h(o,G);return Be===void 0?xe:Be}function en(o,G){return o!=null&&tt(o,G,M)}function Bn(o){return et(o)?ae(o):R(o)}function qe(o){return o}function $e(o){return lt(o)?H(Fe(o)):N(o)}var ft=200,Et="Expected a function",Bt="__lodash_hash_undefined__",Dt=1,zt=2,Gt=1/0,nn=9007199254740991,dn="[object Arguments]",un="[object Array]",bn="[object Boolean]",wn="[object Date]",En="[object Error]",An="[object Function]",Tn="[object GeneratorFunction]",qn="[object Map]",Ft="[object Number]",Mt="[object Object]",Rn="[object RegExp]",Zn="[object Set]",Fn="[object String]",Wt="[object Symbol]",hn="[object ArrayBuffer]",on="[object DataView]",sr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ct=/^\w*$/,ln=/^\./,De=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ie=/[\\^$.*+?()[\]{}|]/g,vt=/\\(\\)?/g,Nt=/^\[object .+?Constructor\]$/,rt=/^(?:0|[1-9]\d*)$/,xt={};xt["[object Float32Array]"]=xt["[object Float64Array]"]=xt["[object Int8Array]"]=xt["[object Int16Array]"]=xt["[object Int32Array]"]=xt["[object Uint8Array]"]=xt["[object Uint8ClampedArray]"]=xt["[object Uint16Array]"]=xt["[object Uint32Array]"]=!0,xt[dn]=xt[un]=xt[hn]=xt[bn]=xt[on]=xt[wn]=xt[En]=xt[An]=xt[qn]=xt[Ft]=xt[Mt]=xt[Rn]=xt[Zn]=xt[Fn]=xt["[object WeakMap]"]=!1;var Sn=typeof ge=="object"&&ge&&ge.Object===Object&&ge,fn=typeof self=="object"&&self&&self.Object===Object&&self,jn=Sn||fn||Function("return this")(),$n=typeof Te=="object"&&Te&&!Te.nodeType&&Te,rr=$n&&typeof ie=="object"&&ie&&!ie.nodeType&&ie,tr=rr&&rr.exports===$n,Kn=tr&&Sn.process,Jn=function(){try{return Kn&&Kn.binding("util")}catch{}}(),Wn=Jn&&Jn.isTypedArray,Vn=Array.prototype,Nn=Function.prototype,Gn=Object.prototype,he=jn["__core-js_shared__"],ye=function(){var o=/[^.]+$/.exec(he&&he.keys&&he.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),C=Nn.toString,W=Gn.hasOwnProperty,le=Gn.toString,_=RegExp("^"+C.call(W).replace(Ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fe=jn.Symbol,ke=jn.Uint8Array,Re=Gn.propertyIsEnumerable,Ze=Vn.splice,Ke=function(o,G){return function(xe){return o(G(xe))}}(Object.keys,Object),at=Je(jn,"DataView"),ot=Je(jn,"Map"),bt=Je(jn,"Promise"),_t=Je(jn,"Set"),Rt=Je(jn,"WeakMap"),Qt=Je(Object,"create"),an=We(at),gn=We(ot),Dn=We(bt),Mn=We(_t),sn=We(Rt),Cn=fe?fe.prototype:void 0,Hn=Cn?Cn.valueOf:void 0,Xn=Cn?Cn.toString:void 0;x.prototype.clear=f,x.prototype.delete=l,x.prototype.get=v,x.prototype.has=w,x.prototype.set=j,B.prototype.clear=Q,B.prototype.delete=X,B.prototype.get=te,B.prototype.has=J,B.prototype.set=U,se.prototype.clear=me,se.prototype.delete=ce,se.prototype.get=D,se.prototype.has=L,se.prototype.set=I,re.prototype.add=re.prototype.push=ne,re.prototype.has=z,Y.prototype.clear=u,Y.prototype.delete=y,Y.prototype.get=g,Y.prototype.has=m,Y.prototype.set=$;var ur=function(o,G){return function(xe,Be){if(xe==null)return xe;if(!et(xe))return o(xe,Be);for(var Le=xe.length,Qe=G?Le:-1,dt=Object(xe);(G?Qe--:++Qe<Le)&&Be(dt[Qe],Qe,dt)!==!1;);return xe}}(b),On=function(o){return function(G,xe,Be){for(var Le=-1,Qe=Object(G),dt=Be(G),kt=dt.length;kt--;){var Pt=dt[o?kt:++Le];if(xe(Qe[Pt],Pt,Qe)===!1)break}return G}}(),Yn=V;(at&&Yn(new at(new ArrayBuffer(1)))!=on||ot&&Yn(new ot)!=qn||bt&&Yn(bt.resolve())!="[object Promise]"||_t&&Yn(new _t)!=Zn||Rt&&Yn(new Rt)!="[object WeakMap]")&&(Yn=function(o){var G=le.call(o),xe=G==Mt?o.constructor:void 0,Be=xe?We(xe):void 0;if(Be)switch(Be){case an:return on;case gn:return qn;case Dn:return"[object Promise]";case Mn:return Zn;case sn:return"[object WeakMap]"}return G});var _n=mt(function(o){o=cn(o);var G=[];return ln.test(o)&&G.push(""),o.replace(De,function(xe,Be,Le,Qe){G.push(Le?Qe.replace(vt,"$1"):Be||xe)}),G});mt.Cache=se;var Yt=Array.isArray,i=Wn?function(o){return function(G){return o(G)}}(Wn):q;ie.exports=it}).call(Te,Se(0),Se(5)(Ye))},function(Ye,Te,Se){(function(ge,ie){function s(i,o){for(var G=-1,xe=i?i.length:0,Be=0,Le=[];++G<xe;){var Qe=i[G];o(Qe,G,i)&&(Le[Be++]=Qe)}return Le}function O(i,o){for(var G=-1,xe=i?i.length:0;++G<xe;)if(o(i[G],G,i))return!0;return!1}function H(i){return function(o){return o==null?void 0:o[i]}}function A(i,o){for(var G=-1,xe=Array(i);++G<i;)xe[G]=o(G);return xe}function p(i,o){return i==null?void 0:i[o]}function k(i){var o=!1;if(i!=null&&typeof i.toString!="function")try{o=!!(i+"")}catch{}return o}function d(i){var o=-1,G=Array(i.size);return i.forEach(function(xe,Be){G[++o]=[Be,xe]}),G}function S(i){var o=-1,G=Array(i.size);return i.forEach(function(xe){G[++o]=xe}),G}function x(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var xe=i[o];this.set(xe[0],xe[1])}}function f(){this.__data__=Rt?Rt(null):{}}function l(i){return this.has(i)&&delete this.__data__[i]}function v(i){var o=this.__data__;if(Rt){var G=o[i];return G===Et?void 0:G}return C.call(o,i)?o[i]:void 0}function w(i){var o=this.__data__;return Rt?o[i]!==void 0:C.call(o,i)}function j(i,o){return this.__data__[i]=Rt&&o===void 0?Et:o,this}function B(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var xe=i[o];this.set(xe[0],xe[1])}}function Q(){this.__data__=[]}function X(i){var o=this.__data__,G=K(o,i);return!(G<0)&&(G==o.length-1?o.pop():Re.call(o,G,1),!0)}function te(i){var o=this.__data__,G=K(o,i);return G<0?void 0:o[G][1]}function J(i){return K(this.__data__,i)>-1}function U(i,o){var G=this.__data__,xe=K(G,i);return xe<0?G.push([i,o]):G[xe][1]=o,this}function se(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var xe=i[o];this.set(xe[0],xe[1])}}function me(){this.__data__={hash:new x,map:new(at||B),string:new x}}function ce(i){return _e(this,i).delete(i)}function D(i){return _e(this,i).get(i)}function L(i){return _e(this,i).has(i)}function I(i,o){return _e(this,i).set(i,o),this}function re(i){var o=-1,G=i?i.length:0;for(this.__data__=new se;++o<G;)this.add(i[o])}function ne(i){return this.__data__.set(i,Et),this}function z(i){return this.__data__.has(i)}function Y(i){this.__data__=new B(i)}function u(){this.__data__=new B}function y(i){return this.__data__.delete(i)}function g(i){return this.__data__.get(i)}function m(i){return this.__data__.has(i)}function $(i,o){var G=this.__data__;if(G instanceof B){var xe=G.__data__;if(!at||xe.length<$e-1)return xe.push([i,o]),this;G=this.__data__=new se(xe)}return G.set(i,o),this}function ae(i,o){var G=_n(i)||tn(i)?A(i.length,String):[],xe=G.length,Be=!!xe;for(var Le in i)!o&&!C.call(i,Le)||Be&&(Le=="length"||gt(Le,xe))||G.push(Le);return G}function K(i,o){for(var G=i.length;G--;)if(St(i[G][0],o))return G;return-1}function F(i,o){var G=[];return Xn(i,function(xe,Be,Le){o(xe,Be,Le)&&G.push(xe)}),G}function b(i,o){return i&&ur(i,o,en)}function h(i,o){o=lt(o,i)?[o]:de(o);for(var G=0,xe=o.length;i!=null&&G<xe;)i=i[Fe(o[G++])];return G&&G==xe?i:void 0}function V(i){return W.call(i)}function M(i,o){return i!=null&&o in Object(i)}function T(i,o,G,xe,Be){return i===o||(i==null||o==null||!yt(i)&&!ht(o)?i!==i&&o!==o:P(i,o,T,G,xe,Be))}function P(i,o,G,xe,Be,Le){var Qe=_n(i),dt=_n(o),kt=dn,Pt=dn;Qe||(kt=On(i),kt=kt==nn?Ft:kt),dt||(Pt=On(o),Pt=Pt==nn?Ft:Pt);var Tt=kt==Ft&&!k(i),Xt=Pt==Ft&&!k(o),Jt=kt==Pt;if(Jt&&!Tt)return Le||(Le=new Y),Qe||Yt(i)?Ce(i,o,G,xe,Be,Le):we(i,o,kt,G,xe,Be,Le);if(!(Be&Dt)){var Kt=Tt&&C.call(i,"__wrapped__"),vn=Xt&&C.call(o,"__wrapped__");if(Kt||vn){var Pn=Kt?i.value():i,In=vn?o.value():o;return Le||(Le=new Y),G(Pn,In,xe,Be,Le)}}return!!Jt&&(Le||(Le=new Y),Ae(i,o,G,xe,Be,Le))}function c(i,o,G,xe){var Be=G.length,Le=Be,Qe=!xe;if(i==null)return!Le;for(i=Object(i);Be--;){var dt=G[Be];if(Qe&&dt[2]?dt[1]!==i[dt[0]]:!(dt[0]in i))return!1}for(;++Be<Le;){dt=G[Be];var kt=dt[0],Pt=i[kt],Tt=dt[1];if(Qe&&dt[2]){if(Pt===void 0&&!(kt in i))return!1}else{var Xt=new Y;if(xe)var Jt=xe(Pt,Tt,kt,i,o,Xt);if(!(Jt===void 0?T(Tt,Pt,xe,Bt|Dt,Xt):Jt))return!1}}return!0}function ee(i){return!(!yt(i)||Lt(i))&&(ct(i)||k(i)?le:vt).test(We(i))}function q(i){return ht(i)&&Ot(i.length)&&!!rt[W.call(i)]}function E(i){return typeof i=="function"?i:i==null?Bn:typeof i=="object"?_n(i)?be(i[0],i[1]):ue(i):qe(i)}function R(i){if(!It(i))return Ze(i);var o=[];for(var G in Object(i))C.call(i,G)&&G!="constructor"&&o.push(G);return o}function ue(i){var o=Ne(i);return o.length==1&&o[0][2]?je(o[0][0],o[0][1]):function(G){return G===i||c(G,i,o)}}function be(i,o){return lt(i)&&Ve(o)?je(Fe(i),o):function(G){var xe=cn(G,i);return xe===void 0&&xe===o?kn(G,i):T(o,xe,void 0,Bt|Dt)}}function N(i){return function(o){return h(o,i)}}function oe(i){if(typeof i=="string")return i;if(Ht(i))return Hn?Hn.call(i):"";var o=i+"";return o=="0"&&1/i==-zt?"-0":o}function de(i){return _n(i)?i:Yn(i)}function Ce(i,o,G,xe,Be,Le){var Qe=Be&Dt,dt=i.length,kt=o.length;if(dt!=kt&&!(Qe&&kt>dt))return!1;var Pt=Le.get(i);if(Pt&&Le.get(o))return Pt==o;var Tt=-1,Xt=!0,Jt=Be&Bt?new re:void 0;for(Le.set(i,o),Le.set(o,i);++Tt<dt;){var Kt=i[Tt],vn=o[Tt];if(xe)var Pn=Qe?xe(vn,Kt,Tt,o,i,Le):xe(Kt,vn,Tt,i,o,Le);if(Pn!==void 0){if(Pn)continue;Xt=!1;break}if(Jt){if(!O(o,function(In,zn){if(!Jt.has(zn)&&(Kt===In||G(Kt,In,xe,Be,Le)))return Jt.add(zn)})){Xt=!1;break}}else if(Kt!==vn&&!G(Kt,vn,xe,Be,Le)){Xt=!1;break}}return Le.delete(i),Le.delete(o),Xt}function we(i,o,G,xe,Be,Le,Qe){switch(G){case hn:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case Wt:return!(i.byteLength!=o.byteLength||!xe(new fe(i),new fe(o)));case un:case bn:case qn:return St(+i,+o);case wn:return i.name==o.name&&i.message==o.message;case Mt:case Zn:return i==o+"";case Tn:var dt=d;case Rn:var kt=Le&Dt;if(dt||(dt=S),i.size!=o.size&&!kt)return!1;var Pt=Qe.get(i);if(Pt)return Pt==o;Le|=Bt,Qe.set(i,o);var Tt=Ce(dt(i),dt(o),xe,Be,Le,Qe);return Qe.delete(i),Tt;case Fn:if(Cn)return Cn.call(i)==Cn.call(o)}return!1}function Ae(i,o,G,xe,Be,Le){var Qe=Be&Dt,dt=en(i),kt=dt.length;if(kt!=en(o).length&&!Qe)return!1;for(var Pt=kt;Pt--;){var Tt=dt[Pt];if(!(Qe?Tt in o:C.call(o,Tt)))return!1}var Xt=Le.get(i);if(Xt&&Le.get(o))return Xt==o;var Jt=!0;Le.set(i,o),Le.set(o,i);for(var Kt=Qe;++Pt<kt;){Tt=dt[Pt];var vn=i[Tt],Pn=o[Tt];if(xe)var In=Qe?xe(Pn,vn,Tt,o,i,Le):xe(vn,Pn,Tt,i,o,Le);if(!(In===void 0?vn===Pn||G(vn,Pn,xe,Be,Le):In)){Jt=!1;break}Kt||(Kt=Tt=="constructor")}if(Jt&&!Kt){var zn=i.constructor,Qn=o.constructor;zn!=Qn&&"constructor"in i&&"constructor"in o&&!(typeof zn=="function"&&zn instanceof zn&&typeof Qn=="function"&&Qn instanceof Qn)&&(Jt=!1)}return Le.delete(i),Le.delete(o),Jt}function _e(i,o){var G=i.__data__;return Zt(o)?G[typeof o=="string"?"string":"hash"]:G.map}function Ne(i){for(var o=en(i),G=o.length;G--;){var xe=o[G],Be=i[xe];o[G]=[xe,Be,Ve(Be)]}return o}function Je(i,o){var G=p(i,o);return ee(G)?G:void 0}function tt(i,o,G){o=lt(o,i)?[o]:de(o);for(var xe,Be=-1,Qe=o.length;++Be<Qe;){var Le=Fe(o[Be]);if(!(xe=i!=null&&G(i,Le)))break;i=i[Le]}if(xe)return xe;var Qe=i?i.length:0;return!!Qe&&Ot(Qe)&&gt(Le,Qe)&&(_n(i)||tn(i))}function gt(i,o){return!!(o=o==null?Gt:o)&&(typeof i=="number"||Nt.test(i))&&i>-1&&i%1==0&&i<o}function lt(i,o){if(_n(i))return!1;var G=typeof i;return!(G!="number"&&G!="symbol"&&G!="boolean"&&i!=null&&!Ht(i))||sr.test(i)||!on.test(i)||o!=null&&i in Object(o)}function Zt(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function Lt(i){return!!he&&he in i}function It(i){var o=i&&i.constructor;return i===(typeof o=="function"&&o.prototype||Nn)}function Ve(i){return i===i&&!yt(i)}function je(i,o){return function(G){return G!=null&&G[i]===o&&(o!==void 0||i in Object(G))}}function Fe(i){if(typeof i=="string"||Ht(i))return i;var o=i+"";return o=="0"&&1/i==-zt?"-0":o}function We(i){if(i!=null){try{return ye.call(i)}catch{}try{return i+""}catch{}}return""}function it(i,o){return(_n(i)?s:F)(i,E(o))}function mt(i,o){if(typeof i!="function"||o&&typeof o!="function")throw new TypeError(ft);var G=function(){var xe=arguments,Be=o?o.apply(this,xe):xe[0],Le=G.cache;if(Le.has(Be))return Le.get(Be);var Qe=i.apply(this,xe);return G.cache=Le.set(Be,Qe),Qe};return G.cache=new(mt.Cache||se),G}function St(i,o){return i===o||i!==i&&o!==o}function tn(i){return et(i)&&C.call(i,"callee")&&(!ke.call(i,"callee")||W.call(i)==nn)}function Ue(i){return i!=null&&Ot(i.length)&&!ct(i)}function et(i){return ht(i)&&Ue(i)}function ct(i){var o=yt(i)?W.call(i):"";return o==En||o==An}function Ot(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Gt}function yt(i){var o=typeof i;return!!i&&(o=="object"||o=="function")}function ht(i){return!!i&&typeof i=="object"}function Ht(i){return typeof i=="symbol"||ht(i)&&W.call(i)==Fn}function $t(i){return i==null?"":oe(i)}function cn(i,o,G){var xe=i==null?void 0:h(i,o);return xe===void 0?G:xe}function kn(i,o){return i!=null&&tt(i,o,M)}function en(i){return Ue(i)?ae(i):R(i)}function Bn(i){return i}function qe(i){return lt(i)?H(Fe(i)):N(i)}var $e=200,ft="Expected a function",Et="__lodash_hash_undefined__",Bt=1,Dt=2,zt=1/0,Gt=9007199254740991,nn="[object Arguments]",dn="[object Array]",un="[object Boolean]",bn="[object Date]",wn="[object Error]",En="[object Function]",An="[object GeneratorFunction]",Tn="[object Map]",qn="[object Number]",Ft="[object Object]",Mt="[object RegExp]",Rn="[object Set]",Zn="[object String]",Fn="[object Symbol]",Wt="[object ArrayBuffer]",hn="[object DataView]",on=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sr=/^\w*$/,Ct=/^\./,ln=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,De=/[\\^$.*+?()[\]{}|]/g,Ie=/\\(\\)?/g,vt=/^\[object .+?Constructor\]$/,Nt=/^(?:0|[1-9]\d*)$/,rt={};rt["[object Float32Array]"]=rt["[object Float64Array]"]=rt["[object Int8Array]"]=rt["[object Int16Array]"]=rt["[object Int32Array]"]=rt["[object Uint8Array]"]=rt["[object Uint8ClampedArray]"]=rt["[object Uint16Array]"]=rt["[object Uint32Array]"]=!0,rt[nn]=rt[dn]=rt[Wt]=rt[un]=rt[hn]=rt[bn]=rt[wn]=rt[En]=rt[Tn]=rt[qn]=rt[Ft]=rt[Mt]=rt[Rn]=rt[Zn]=rt["[object WeakMap]"]=!1;var xt=typeof ge=="object"&&ge&&ge.Object===Object&&ge,Sn=typeof self=="object"&&self&&self.Object===Object&&self,fn=xt||Sn||Function("return this")(),jn=typeof Te=="object"&&Te&&!Te.nodeType&&Te,$n=jn&&typeof ie=="object"&&ie&&!ie.nodeType&&ie,rr=$n&&$n.exports===jn,tr=rr&&xt.process,Kn=function(){try{return tr&&tr.binding("util")}catch{}}(),Jn=Kn&&Kn.isTypedArray,Wn=Array.prototype,Vn=Function.prototype,Nn=Object.prototype,Gn=fn["__core-js_shared__"],he=function(){var i=/[^.]+$/.exec(Gn&&Gn.keys&&Gn.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),ye=Vn.toString,C=Nn.hasOwnProperty,W=Nn.toString,le=RegExp("^"+ye.call(C).replace(De,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=fn.Symbol,fe=fn.Uint8Array,ke=Nn.propertyIsEnumerable,Re=Wn.splice,Ze=function(i,o){return function(G){return i(o(G))}}(Object.keys,Object),Ke=Je(fn,"DataView"),at=Je(fn,"Map"),ot=Je(fn,"Promise"),bt=Je(fn,"Set"),_t=Je(fn,"WeakMap"),Rt=Je(Object,"create"),Qt=We(Ke),an=We(at),gn=We(ot),Dn=We(bt),Mn=We(_t),sn=_?_.prototype:void 0,Cn=sn?sn.valueOf:void 0,Hn=sn?sn.toString:void 0;x.prototype.clear=f,x.prototype.delete=l,x.prototype.get=v,x.prototype.has=w,x.prototype.set=j,B.prototype.clear=Q,B.prototype.delete=X,B.prototype.get=te,B.prototype.has=J,B.prototype.set=U,se.prototype.clear=me,se.prototype.delete=ce,se.prototype.get=D,se.prototype.has=L,se.prototype.set=I,re.prototype.add=re.prototype.push=ne,re.prototype.has=z,Y.prototype.clear=u,Y.prototype.delete=y,Y.prototype.get=g,Y.prototype.has=m,Y.prototype.set=$;var Xn=function(i,o){return function(G,xe){if(G==null)return G;if(!Ue(G))return i(G,xe);for(var Be=G.length,Le=o?Be:-1,Qe=Object(G);(o?Le--:++Le<Be)&&xe(Qe[Le],Le,Qe)!==!1;);return G}}(b),ur=function(i){return function(o,G,xe){for(var Be=-1,Le=Object(o),Qe=xe(o),dt=Qe.length;dt--;){var kt=Qe[i?dt:++Be];if(G(Le[kt],kt,Le)===!1)break}return o}}(),On=V;(Ke&&On(new Ke(new ArrayBuffer(1)))!=hn||at&&On(new at)!=Tn||ot&&On(ot.resolve())!="[object Promise]"||bt&&On(new bt)!=Rn||_t&&On(new _t)!="[object WeakMap]")&&(On=function(i){var o=W.call(i),G=o==Ft?i.constructor:void 0,xe=G?We(G):void 0;if(xe)switch(xe){case Qt:return hn;case an:return Tn;case gn:return"[object Promise]";case Dn:return Rn;case Mn:return"[object WeakMap]"}return o});var Yn=mt(function(i){i=$t(i);var o=[];return Ct.test(i)&&o.push(""),i.replace(ln,function(G,xe,Be,Le){o.push(Be?Le.replace(Ie,"$1"):xe||G)}),o});mt.Cache=se;var _n=Array.isArray,Yt=Jn?function(i){return function(o){return i(o)}}(Jn):q;ie.exports=it}).call(Te,Se(0),Se(5)(Ye))},function(Ye,Te,Se){(function(ge,ie){function s(i,o,G,xe){var Be=-1,Le=i?i.length:0;for(xe&&Le&&(G=i[++Be]);++Be<Le;)G=o(G,i[Be],Be,i);return G}function O(i,o){for(var G=-1,xe=i?i.length:0;++G<xe;)if(o(i[G],G,i))return!0;return!1}function H(i){return function(o){return o==null?void 0:o[i]}}function A(i,o,G,xe,Be){return Be(i,function(Le,Qe,dt){G=xe?(xe=!1,Le):o(G,Le,Qe,dt)}),G}function p(i,o){for(var G=-1,xe=Array(i);++G<i;)xe[G]=o(G);return xe}function k(i,o){return i==null?void 0:i[o]}function d(i){var o=!1;if(i!=null&&typeof i.toString!="function")try{o=!!(i+"")}catch{}return o}function S(i){var o=-1,G=Array(i.size);return i.forEach(function(xe,Be){G[++o]=[Be,xe]}),G}function x(i){var o=-1,G=Array(i.size);return i.forEach(function(xe){G[++o]=xe}),G}function f(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var xe=i[o];this.set(xe[0],xe[1])}}function l(){this.__data__=Rt?Rt(null):{}}function v(i){return this.has(i)&&delete this.__data__[i]}function w(i){var o=this.__data__;if(Rt){var G=o[i];return G===Et?void 0:G}return C.call(o,i)?o[i]:void 0}function j(i){var o=this.__data__;return Rt?o[i]!==void 0:C.call(o,i)}function B(i,o){return this.__data__[i]=Rt&&o===void 0?Et:o,this}function Q(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var xe=i[o];this.set(xe[0],xe[1])}}function X(){this.__data__=[]}function te(i){var o=this.__data__,G=F(o,i);return!(G<0)&&(G==o.length-1?o.pop():Re.call(o,G,1),!0)}function J(i){var o=this.__data__,G=F(o,i);return G<0?void 0:o[G][1]}function U(i){return F(this.__data__,i)>-1}function se(i,o){var G=this.__data__,xe=F(G,i);return xe<0?G.push([i,o]):G[xe][1]=o,this}function me(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var xe=i[o];this.set(xe[0],xe[1])}}function ce(){this.__data__={hash:new f,map:new(at||Q),string:new f}}function D(i){return _e(this,i).delete(i)}function L(i){return _e(this,i).get(i)}function I(i){return _e(this,i).has(i)}function re(i,o){return _e(this,i).set(i,o),this}function ne(i){var o=-1,G=i?i.length:0;for(this.__data__=new me;++o<G;)this.add(i[o])}function z(i){return this.__data__.set(i,Et),this}function Y(i){return this.__data__.has(i)}function u(i){this.__data__=new Q(i)}function y(){this.__data__=new Q}function g(i){return this.__data__.delete(i)}function m(i){return this.__data__.get(i)}function $(i){return this.__data__.has(i)}function ae(i,o){var G=this.__data__;if(G instanceof Q){var xe=G.__data__;if(!at||xe.length<$e-1)return xe.push([i,o]),this;G=this.__data__=new me(xe)}return G.set(i,o),this}function K(i,o){var G=_n(i)||tn(i)?p(i.length,String):[],xe=G.length,Be=!!xe;for(var Le in i)!o&&!C.call(i,Le)||Be&&(Le=="length"||gt(Le,xe))||G.push(Le);return G}function F(i,o){for(var G=i.length;G--;)if(St(i[G][0],o))return G;return-1}function b(i,o){return i&&ur(i,o,en)}function h(i,o){o=lt(o,i)?[o]:de(o);for(var G=0,xe=o.length;i!=null&&G<xe;)i=i[Fe(o[G++])];return G&&G==xe?i:void 0}function V(i){return W.call(i)}function M(i,o){return i!=null&&o in Object(i)}function T(i,o,G,xe,Be){return i===o||(i==null||o==null||!yt(i)&&!ht(o)?i!==i&&o!==o:P(i,o,T,G,xe,Be))}function P(i,o,G,xe,Be,Le){var Qe=_n(i),dt=_n(o),kt=dn,Pt=dn;Qe||(kt=On(i),kt=kt==nn?Ft:kt),dt||(Pt=On(o),Pt=Pt==nn?Ft:Pt);var Tt=kt==Ft&&!d(i),Xt=Pt==Ft&&!d(o),Jt=kt==Pt;if(Jt&&!Tt)return Le||(Le=new u),Qe||Yt(i)?Ce(i,o,G,xe,Be,Le):we(i,o,kt,G,xe,Be,Le);if(!(Be&Dt)){var Kt=Tt&&C.call(i,"__wrapped__"),vn=Xt&&C.call(o,"__wrapped__");if(Kt||vn){var Pn=Kt?i.value():i,In=vn?o.value():o;return Le||(Le=new u),G(Pn,In,xe,Be,Le)}}return!!Jt&&(Le||(Le=new u),Ae(i,o,G,xe,Be,Le))}function c(i,o,G,xe){var Be=G.length,Le=Be,Qe=!xe;if(i==null)return!Le;for(i=Object(i);Be--;){var dt=G[Be];if(Qe&&dt[2]?dt[1]!==i[dt[0]]:!(dt[0]in i))return!1}for(;++Be<Le;){dt=G[Be];var kt=dt[0],Pt=i[kt],Tt=dt[1];if(Qe&&dt[2]){if(Pt===void 0&&!(kt in i))return!1}else{var Xt=new u;if(xe)var Jt=xe(Pt,Tt,kt,i,o,Xt);if(!(Jt===void 0?T(Tt,Pt,xe,Bt|Dt,Xt):Jt))return!1}}return!0}function ee(i){return!(!yt(i)||Lt(i))&&(ct(i)||d(i)?le:vt).test(We(i))}function q(i){return ht(i)&&Ot(i.length)&&!!rt[W.call(i)]}function E(i){return typeof i=="function"?i:i==null?Bn:typeof i=="object"?_n(i)?be(i[0],i[1]):ue(i):qe(i)}function R(i){if(!It(i))return Ze(i);var o=[];for(var G in Object(i))C.call(i,G)&&G!="constructor"&&o.push(G);return o}function ue(i){var o=Ne(i);return o.length==1&&o[0][2]?je(o[0][0],o[0][1]):function(G){return G===i||c(G,i,o)}}function be(i,o){return lt(i)&&Ve(o)?je(Fe(i),o):function(G){var xe=cn(G,i);return xe===void 0&&xe===o?kn(G,i):T(o,xe,void 0,Bt|Dt)}}function N(i){return function(o){return h(o,i)}}function oe(i){if(typeof i=="string")return i;if(Ht(i))return Hn?Hn.call(i):"";var o=i+"";return o=="0"&&1/i==-zt?"-0":o}function de(i){return _n(i)?i:Yn(i)}function Ce(i,o,G,xe,Be,Le){var Qe=Be&Dt,dt=i.length,kt=o.length;if(dt!=kt&&!(Qe&&kt>dt))return!1;var Pt=Le.get(i);if(Pt&&Le.get(o))return Pt==o;var Tt=-1,Xt=!0,Jt=Be&Bt?new ne:void 0;for(Le.set(i,o),Le.set(o,i);++Tt<dt;){var Kt=i[Tt],vn=o[Tt];if(xe)var Pn=Qe?xe(vn,Kt,Tt,o,i,Le):xe(Kt,vn,Tt,i,o,Le);if(Pn!==void 0){if(Pn)continue;Xt=!1;break}if(Jt){if(!O(o,function(In,zn){if(!Jt.has(zn)&&(Kt===In||G(Kt,In,xe,Be,Le)))return Jt.add(zn)})){Xt=!1;break}}else if(Kt!==vn&&!G(Kt,vn,xe,Be,Le)){Xt=!1;break}}return Le.delete(i),Le.delete(o),Xt}function we(i,o,G,xe,Be,Le,Qe){switch(G){case hn:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case Wt:return!(i.byteLength!=o.byteLength||!xe(new fe(i),new fe(o)));case un:case bn:case qn:return St(+i,+o);case wn:return i.name==o.name&&i.message==o.message;case Mt:case Zn:return i==o+"";case Tn:var dt=S;case Rn:var kt=Le&Dt;if(dt||(dt=x),i.size!=o.size&&!kt)return!1;var Pt=Qe.get(i);if(Pt)return Pt==o;Le|=Bt,Qe.set(i,o);var Tt=Ce(dt(i),dt(o),xe,Be,Le,Qe);return Qe.delete(i),Tt;case Fn:if(Cn)return Cn.call(i)==Cn.call(o)}return!1}function Ae(i,o,G,xe,Be,Le){var Qe=Be&Dt,dt=en(i),kt=dt.length;if(kt!=en(o).length&&!Qe)return!1;for(var Pt=kt;Pt--;){var Tt=dt[Pt];if(!(Qe?Tt in o:C.call(o,Tt)))return!1}var Xt=Le.get(i);if(Xt&&Le.get(o))return Xt==o;var Jt=!0;Le.set(i,o),Le.set(o,i);for(var Kt=Qe;++Pt<kt;){Tt=dt[Pt];var vn=i[Tt],Pn=o[Tt];if(xe)var In=Qe?xe(Pn,vn,Tt,o,i,Le):xe(vn,Pn,Tt,i,o,Le);if(!(In===void 0?vn===Pn||G(vn,Pn,xe,Be,Le):In)){Jt=!1;break}Kt||(Kt=Tt=="constructor")}if(Jt&&!Kt){var zn=i.constructor,Qn=o.constructor;zn!=Qn&&"constructor"in i&&"constructor"in o&&!(typeof zn=="function"&&zn instanceof zn&&typeof Qn=="function"&&Qn instanceof Qn)&&(Jt=!1)}return Le.delete(i),Le.delete(o),Jt}function _e(i,o){var G=i.__data__;return Zt(o)?G[typeof o=="string"?"string":"hash"]:G.map}function Ne(i){for(var o=en(i),G=o.length;G--;){var xe=o[G],Be=i[xe];o[G]=[xe,Be,Ve(Be)]}return o}function Je(i,o){var G=k(i,o);return ee(G)?G:void 0}function tt(i,o,G){o=lt(o,i)?[o]:de(o);for(var xe,Be=-1,Qe=o.length;++Be<Qe;){var Le=Fe(o[Be]);if(!(xe=i!=null&&G(i,Le)))break;i=i[Le]}if(xe)return xe;var Qe=i?i.length:0;return!!Qe&&Ot(Qe)&&gt(Le,Qe)&&(_n(i)||tn(i))}function gt(i,o){return!!(o=o==null?Gt:o)&&(typeof i=="number"||Nt.test(i))&&i>-1&&i%1==0&&i<o}function lt(i,o){if(_n(i))return!1;var G=typeof i;return!(G!="number"&&G!="symbol"&&G!="boolean"&&i!=null&&!Ht(i))||sr.test(i)||!on.test(i)||o!=null&&i in Object(o)}function Zt(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function Lt(i){return!!he&&he in i}function It(i){var o=i&&i.constructor;return i===(typeof o=="function"&&o.prototype||Nn)}function Ve(i){return i===i&&!yt(i)}function je(i,o){return function(G){return G!=null&&G[i]===o&&(o!==void 0||i in Object(G))}}function Fe(i){if(typeof i=="string"||Ht(i))return i;var o=i+"";return o=="0"&&1/i==-zt?"-0":o}function We(i){if(i!=null){try{return ye.call(i)}catch{}try{return i+""}catch{}}return""}function it(i,o,G){var xe=_n(i)?s:A,Be=arguments.length<3;return xe(i,E(o),G,Be,Xn)}function mt(i,o){if(typeof i!="function"||o&&typeof o!="function")throw new TypeError(ft);var G=function(){var xe=arguments,Be=o?o.apply(this,xe):xe[0],Le=G.cache;if(Le.has(Be))return Le.get(Be);var Qe=i.apply(this,xe);return G.cache=Le.set(Be,Qe),Qe};return G.cache=new(mt.Cache||me),G}function St(i,o){return i===o||i!==i&&o!==o}function tn(i){return et(i)&&C.call(i,"callee")&&(!ke.call(i,"callee")||W.call(i)==nn)}function Ue(i){return i!=null&&Ot(i.length)&&!ct(i)}function et(i){return ht(i)&&Ue(i)}function ct(i){var o=yt(i)?W.call(i):"";return o==En||o==An}function Ot(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Gt}function yt(i){var o=typeof i;return!!i&&(o=="object"||o=="function")}function ht(i){return!!i&&typeof i=="object"}function Ht(i){return typeof i=="symbol"||ht(i)&&W.call(i)==Fn}function $t(i){return i==null?"":oe(i)}function cn(i,o,G){var xe=i==null?void 0:h(i,o);return xe===void 0?G:xe}function kn(i,o){return i!=null&&tt(i,o,M)}function en(i){return Ue(i)?K(i):R(i)}function Bn(i){return i}function qe(i){return lt(i)?H(Fe(i)):N(i)}var $e=200,ft="Expected a function",Et="__lodash_hash_undefined__",Bt=1,Dt=2,zt=1/0,Gt=9007199254740991,nn="[object Arguments]",dn="[object Array]",un="[object Boolean]",bn="[object Date]",wn="[object Error]",En="[object Function]",An="[object GeneratorFunction]",Tn="[object Map]",qn="[object Number]",Ft="[object Object]",Mt="[object RegExp]",Rn="[object Set]",Zn="[object String]",Fn="[object Symbol]",Wt="[object ArrayBuffer]",hn="[object DataView]",on=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sr=/^\w*$/,Ct=/^\./,ln=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,De=/[\\^$.*+?()[\]{}|]/g,Ie=/\\(\\)?/g,vt=/^\[object .+?Constructor\]$/,Nt=/^(?:0|[1-9]\d*)$/,rt={};rt["[object Float32Array]"]=rt["[object Float64Array]"]=rt["[object Int8Array]"]=rt["[object Int16Array]"]=rt["[object Int32Array]"]=rt["[object Uint8Array]"]=rt["[object Uint8ClampedArray]"]=rt["[object Uint16Array]"]=rt["[object Uint32Array]"]=!0,rt[nn]=rt[dn]=rt[Wt]=rt[un]=rt[hn]=rt[bn]=rt[wn]=rt[En]=rt[Tn]=rt[qn]=rt[Ft]=rt[Mt]=rt[Rn]=rt[Zn]=rt["[object WeakMap]"]=!1;var xt=typeof ge=="object"&&ge&&ge.Object===Object&&ge,Sn=typeof self=="object"&&self&&self.Object===Object&&self,fn=xt||Sn||Function("return this")(),jn=typeof Te=="object"&&Te&&!Te.nodeType&&Te,$n=jn&&typeof ie=="object"&&ie&&!ie.nodeType&&ie,rr=$n&&$n.exports===jn,tr=rr&&xt.process,Kn=function(){try{return tr&&tr.binding("util")}catch{}}(),Jn=Kn&&Kn.isTypedArray,Wn=Array.prototype,Vn=Function.prototype,Nn=Object.prototype,Gn=fn["__core-js_shared__"],he=function(){var i=/[^.]+$/.exec(Gn&&Gn.keys&&Gn.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),ye=Vn.toString,C=Nn.hasOwnProperty,W=Nn.toString,le=RegExp("^"+ye.call(C).replace(De,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=fn.Symbol,fe=fn.Uint8Array,ke=Nn.propertyIsEnumerable,Re=Wn.splice,Ze=function(i,o){return function(G){return i(o(G))}}(Object.keys,Object),Ke=Je(fn,"DataView"),at=Je(fn,"Map"),ot=Je(fn,"Promise"),bt=Je(fn,"Set"),_t=Je(fn,"WeakMap"),Rt=Je(Object,"create"),Qt=We(Ke),an=We(at),gn=We(ot),Dn=We(bt),Mn=We(_t),sn=_?_.prototype:void 0,Cn=sn?sn.valueOf:void 0,Hn=sn?sn.toString:void 0;f.prototype.clear=l,f.prototype.delete=v,f.prototype.get=w,f.prototype.has=j,f.prototype.set=B,Q.prototype.clear=X,Q.prototype.delete=te,Q.prototype.get=J,Q.prototype.has=U,Q.prototype.set=se,me.prototype.clear=ce,me.prototype.delete=D,me.prototype.get=L,me.prototype.has=I,me.prototype.set=re,ne.prototype.add=ne.prototype.push=z,ne.prototype.has=Y,u.prototype.clear=y,u.prototype.delete=g,u.prototype.get=m,u.prototype.has=$,u.prototype.set=ae;var Xn=function(i,o){return function(G,xe){if(G==null)return G;if(!Ue(G))return i(G,xe);for(var Be=G.length,Le=o?Be:-1,Qe=Object(G);(o?Le--:++Le<Be)&&xe(Qe[Le],Le,Qe)!==!1;);return G}}(b),ur=function(i){return function(o,G,xe){for(var Be=-1,Le=Object(o),Qe=xe(o),dt=Qe.length;dt--;){var kt=Qe[i?dt:++Be];if(G(Le[kt],kt,Le)===!1)break}return o}}(),On=V;(Ke&&On(new Ke(new ArrayBuffer(1)))!=hn||at&&On(new at)!=Tn||ot&&On(ot.resolve())!="[object Promise]"||bt&&On(new bt)!=Rn||_t&&On(new _t)!="[object WeakMap]")&&(On=function(i){var o=W.call(i),G=o==Ft?i.constructor:void 0,xe=G?We(G):void 0;if(xe)switch(xe){case Qt:return hn;case an:return Tn;case gn:return"[object Promise]";case Dn:return Rn;case Mn:return"[object WeakMap]"}return o});var Yn=mt(function(i){i=$t(i);var o=[];return Ct.test(i)&&o.push(""),i.replace(ln,function(G,xe,Be,Le){o.push(Be?Le.replace(Ie,"$1"):xe||G)}),o});mt.Cache=me;var _n=Array.isArray,Yt=Jn?function(i){return function(o){return i(o)}}(Jn):q;ie.exports=it}).call(Te,Se(0),Se(5)(Ye))},function(Ye,Te,Se){var ge=Se(11),ie=Se(25),s=ge.update,O=ge.evaluate,H=Se(9),A=H.domEach,p=H.cloneDom,k=H.isHtml,d=Array.prototype.slice,S={flatten:Se(102),bind:Se(24),forEach:Se(16)};Te._makeDomArray=function(l,v){return l==null?[]:l.cheerio?v?p(l.get(),l.options):l.get():Array.isArray(l)?S.flatten(l.map(function(w){return this._makeDomArray(w,v)},this)):typeof l=="string"?O(l,this.options):v?p([l]):[l]};var x=function(l){return function(){var v=d.call(arguments),w=this.length-1;return A(this,function(j,B){var Q,X;X=typeof v[0]=="function"?v[0].call(B,j,ie.html(B.children)):v,Q=this._makeDomArray(X,j<w),l(Q,B.children,B)})}},f=function(l,v,w,j,B){var Q,X,te,J,U,se=[v,w].concat(j),me=l[v-1]||null,ce=l[v]||null;for(Q=0,X=j.length;Q<X;++Q)J=j[Q],U=J.parent||J.root,te=U&&U.children.indexOf(j[Q]),U&&te>-1&&(U.children.splice(te,1),B===U&&v>te&&se[0]--),J.root=null,J.parent=B,J.prev&&(J.prev.next=J.next||null),J.next&&(J.next.prev=J.prev||null),J.prev=j[Q-1]||me,J.next=j[Q+1]||ce;return me&&(me.next=j[0]),ce&&(ce.prev=j[j.length-1]),l.splice.apply(l,se)};Te.appendTo=function(l){return l.cheerio||(l=this.constructor.call(this.constructor,l,null,this._originalRoot)),l.append(this),this},Te.prependTo=function(l){return l.cheerio||(l=this.constructor.call(this.constructor,l,null,this._originalRoot)),l.prepend(this),this},Te.append=x(function(l,v,w){f(v,v.length,0,l,w)}),Te.prepend=x(function(l,v,w){f(v,0,0,l,w)}),Te.wrap=function(l){var v=typeof l=="function"&&l,w=this.length-1;return S.forEach(this,S.bind(function(j,B){var Q,X,te=j.parent||j.root,J=te.children;te&&(v&&(l=v.call(j,B)),typeof l!="string"||k(l)||(l=this.parents().last().find(l).clone()),Q=this._makeDomArray(l,B<w).slice(0,1),X=J.indexOf(j),s([j],Q[0]),f(J,X,0,Q,te))},this)),this},Te.after=function(){var l=d.call(arguments),v=this.length-1;return A(this,function(w,j){var B=j.parent||j.root;if(B){var Q,X,te=B.children,J=te.indexOf(j);J<0||(Q=typeof l[0]=="function"?l[0].call(j,w,ie.html(j.children)):l,X=this._makeDomArray(Q,w<v),f(te,J+1,0,X,B))}}),this},Te.insertAfter=function(l){var v=[],w=this;return typeof l=="string"&&(l=this.constructor.call(this.constructor,l,null,this._originalRoot)),l=this._makeDomArray(l),w.remove(),A(l,function(j,B){var Q=w._makeDomArray(w.clone()),X=B.parent||B.root;if(X){var te=X.children,J=te.indexOf(B);J<0||(f(te,J+1,0,Q,X),v.push(Q))}}),this.constructor.call(this.constructor,this._makeDomArray(v))},Te.before=function(){var l=d.call(arguments),v=this.length-1;return A(this,function(w,j){var B=j.parent||j.root;if(B){var Q,X,te=B.children,J=te.indexOf(j);J<0||(Q=typeof l[0]=="function"?l[0].call(j,w,ie.html(j.children)):l,X=this._makeDomArray(Q,w<v),f(te,J,0,X,B))}}),this},Te.insertBefore=function(l){var v=[],w=this;return typeof l=="string"&&(l=this.constructor.call(this.constructor,l,null,this._originalRoot)),l=this._makeDomArray(l),w.remove(),A(l,function(j,B){var Q=w._makeDomArray(w.clone()),X=B.parent||B.root;if(X){var te=X.children,J=te.indexOf(B);J<0||(f(te,J,0,Q,X),v.push(Q))}}),this.constructor.call(this.constructor,this._makeDomArray(v))},Te.remove=function(l){var v=this;return l&&(v=v.filter(l)),A(v,function(w,j){var B=j.parent||j.root;if(B){var Q=B.children,X=Q.indexOf(j);X<0||(Q.splice(X,1),j.prev&&(j.prev.next=j.next),j.next&&(j.next.prev=j.prev),j.prev=j.next=j.parent=j.root=null)}}),this},Te.replaceWith=function(l){var v=this;return A(this,function(w,j){var B=j.parent||j.root;if(B){var Q,X=B.children,te=v._makeDomArray(typeof l=="function"?l.call(j,w,j):l);s(te,null),Q=X.indexOf(j),f(X,Q,1,te,B),j.parent=j.prev=j.next=j.root=null}}),this},Te.empty=function(){return A(this,function(l,v){S.forEach(v.children,function(w){w.next=w.prev=w.parent=null}),v.children.length=0}),this},Te.html=function(l){if(l===void 0)return this[0]&&this[0].children?ie.html(this[0].children,this.options):null;var v=this.options;return A(this,function(w,j){S.forEach(j.children,function(Q){Q.next=Q.prev=Q.parent=null});var B=l.cheerio?l.clone().get():O(""+l,v);s(B,j)}),this},Te.toString=function(){return ie.html(this,this.options)},Te.text=function(l){return l===void 0?ie.text(this):typeof l=="function"?A(this,function(v,w){var j=[w];return Te.text.call(j,l.call(w,v,ie.text(j)))}):(A(this,function(v,w){S.forEach(w.children,function(j){j.next=j.prev=j.parent=null}),s({data:""+l,type:"text",parent:w,prev:null,next:null,children:[]},w)}),this)},Te.clone=function(){return this._make(p(this.get(),this.options))}},function(Ye,Te,Se){(function(ge){function ie(L,I){for(var re=-1,ne=I.length,z=L.length;++re<ne;)L[z+re]=I[re];return L}function s(L,I,re,ne,z){var Y=-1,u=L.length;for(re||(re=O),z||(z=[]);++Y<u;){var y=L[Y];I>0&&re(y)?I>1?s(y,I-1,re,ne,z):ie(z,y):ne||(z[z.length]=y)}return z}function O(L){return D(L)||A(L)||!!(ce&&L&&L[ce])}function H(L){return L&&L.length?s(L,1):[]}function A(L){return k(L)&&J.call(L,"callee")&&(!me.call(L,"callee")||U.call(L)==v)}function p(L){return L!=null&&S(L.length)&&!d(L)}function k(L){return f(L)&&p(L)}function d(L){var I=x(L)?U.call(L):"";return I==w||I==j}function S(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=l}function x(L){var I=typeof L;return!!L&&(I=="object"||I=="function")}function f(L){return!!L&&typeof L=="object"}var l=9007199254740991,v="[object Arguments]",w="[object Function]",j="[object GeneratorFunction]",B=typeof ge=="object"&&ge&&ge.Object===Object&&ge,Q=typeof self=="object"&&self&&self.Object===Object&&self,X=B||Q||Function("return this")(),te=Object.prototype,J=te.hasOwnProperty,U=te.toString,se=X.Symbol,me=te.propertyIsEnumerable,ce=se?se.isConcatSpreadable:void 0,D=Array.isArray;Ye.exports=H}).call(Te,Se(0))},function(Ye,Te,Se){function ge(k,d,S,x){if(typeof d=="string"){var f=ie(k);typeof S=="function"&&(S=S.call(k,x,f[d])),S===""?delete f[d]:S!=null&&(f[d]=S),k.attribs.style=s(f)}else typeof d=="object"&&Object.keys(d).forEach(function(l){ge(k,l,d[l])})}function ie(k,d){var S=O(k.attribs.style);return typeof d=="string"?S[d]:Array.isArray(d)?A.pick(S,d):S}function s(k){return Object.keys(k||{}).reduce(function(d,S){return d+=(d?" ":"")+S+": "+k[S]+";"},"")}function O(k){return k=(k||"").trim(),k?k.split(";").reduce(function(d,S){var x=S.indexOf(":");return x<1||x===S.length-1||(d[S.slice(0,x).trim()]=S.slice(x+1).trim()),d},{}):{}}var H=Se(9).domEach,A={pick:Se(104)},p=Object.prototype.toString;Te.css=function(k,d){return arguments.length===2||p.call(k)==="[object Object]"?H(this,function(S,x){ge(x,k,d,S)}):ie(this[0],k)}},function(Ye,Te,Se){(function(ge){function ie(m,$,ae){switch(ae.length){case 0:return m.call($);case 1:return m.call($,ae[0]);case 2:return m.call($,ae[0],ae[1]);case 3:return m.call($,ae[0],ae[1],ae[2])}return m.apply($,ae)}function s(m,$){for(var ae=-1,K=m?m.length:0,F=Array(K);++ae<K;)F[ae]=$(m[ae],ae,m);return F}function O(m,$){for(var ae=-1,K=$.length,F=m.length;++ae<K;)m[F+ae]=$[ae];return m}function H(m,$,ae,K,F){var b=-1,h=m.length;for(ae||(ae=k),F||(F=[]);++b<h;){var V=m[b];$>0&&ae(V)?$>1?H(V,$-1,ae,K,F):O(F,V):K||(F[F.length]=V)}return F}function A(m,$){return m=Object(m),p(m,$,function(ae,K){return K in m})}function p(m,$,ae){for(var K=-1,F=$.length,b={};++K<F;){var h=$[K],V=m[h];ae(V,h)&&(b[h]=V)}return b}function k(m){return y(m)||S(m)||!!(Y&&m&&m[Y])}function d(m){if(typeof m=="string"||B(m))return m;var $=m+"";return $=="0"&&1/m==-Q?"-0":$}function S(m){return f(m)&&I.call(m,"callee")&&(!z.call(m,"callee")||re.call(m)==te)}function x(m){return m!=null&&v(m.length)&&!l(m)}function f(m){return j(m)&&x(m)}function l(m){var $=w(m)?re.call(m):"";return $==J||$==U}function v(m){return typeof m=="number"&&m>-1&&m%1==0&&m<=X}function w(m){var $=typeof m;return!!m&&($=="object"||$=="function")}function j(m){return!!m&&typeof m=="object"}function B(m){return typeof m=="symbol"||j(m)&&re.call(m)==se}var Q=1/0,X=9007199254740991,te="[object Arguments]",J="[object Function]",U="[object GeneratorFunction]",se="[object Symbol]",me=typeof ge=="object"&&ge&&ge.Object===Object&&ge,ce=typeof self=="object"&&self&&self.Object===Object&&self,D=me||ce||Function("return this")(),L=Object.prototype,I=L.hasOwnProperty,re=L.toString,ne=D.Symbol,z=L.propertyIsEnumerable,Y=ne?ne.isConcatSpreadable:void 0,u=Math.max,y=Array.isArray,g=function(m,$){return $=u($===void 0?m.length-1:$,0),function(){for(var ae=arguments,K=-1,F=u(ae.length-$,0),b=Array(F);++K<F;)b[K]=ae[$+K];K=-1;for(var h=Array($+1);++K<$;)h[K]=ae[K];return h[$]=b,ie(m,this,h)}}(function(m,$){return m==null?{}:A(m,s(H($,1),d))});Ye.exports=g}).call(Te,Se(0))},function(Ye,Te,Se){var ge=/%20/g,ie=/\r?\n/g,s={map:Se(106)};Te.serialize=function(){var O=this.serializeArray();return s.map(O,function(H){return encodeURIComponent(H.name)+"="+encodeURIComponent(H.value)}).join("&").replace(ge,"+")},Te.serializeArray=function(){var O=this.constructor;return this.map(function(){var H=this,A=O(H);return H.name==="form"?A.find("input,select,textarea,keygen").toArray():A.filter("input,select,textarea,keygen").toArray()}).filter('[name!=""]:not(:disabled):not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(function(H,A){var p=O(A),k=p.attr("name"),d=p.val();return d==null?null:Array.isArray(d)?s.map(d,function(S){return{name:k,value:S.replace(ie,`\r
`)}}):{name:k,value:d.replace(ie,`\r
`)}}).get()}},function(Ye,Te,Se){(function(ge,ie){function s(i,o){for(var G=-1,xe=i?i.length:0,Be=Array(xe);++G<xe;)Be[G]=o(i[G],G,i);return Be}function O(i,o){for(var G=-1,xe=i?i.length:0;++G<xe;)if(o(i[G],G,i))return!0;return!1}function H(i){return function(o){return o==null?void 0:o[i]}}function A(i,o){for(var G=-1,xe=Array(i);++G<i;)xe[G]=o(G);return xe}function p(i,o){return i==null?void 0:i[o]}function k(i){var o=!1;if(i!=null&&typeof i.toString!="function")try{o=!!(i+"")}catch{}return o}function d(i){var o=-1,G=Array(i.size);return i.forEach(function(xe,Be){G[++o]=[Be,xe]}),G}function S(i){var o=-1,G=Array(i.size);return i.forEach(function(xe){G[++o]=xe}),G}function x(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var xe=i[o];this.set(xe[0],xe[1])}}function f(){this.__data__=Rt?Rt(null):{}}function l(i){return this.has(i)&&delete this.__data__[i]}function v(i){var o=this.__data__;if(Rt){var G=o[i];return G===Et?void 0:G}return C.call(o,i)?o[i]:void 0}function w(i){var o=this.__data__;return Rt?o[i]!==void 0:C.call(o,i)}function j(i,o){return this.__data__[i]=Rt&&o===void 0?Et:o,this}function B(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var xe=i[o];this.set(xe[0],xe[1])}}function Q(){this.__data__=[]}function X(i){var o=this.__data__,G=K(o,i);return!(G<0)&&(G==o.length-1?o.pop():Re.call(o,G,1),!0)}function te(i){var o=this.__data__,G=K(o,i);return G<0?void 0:o[G][1]}function J(i){return K(this.__data__,i)>-1}function U(i,o){var G=this.__data__,xe=K(G,i);return xe<0?G.push([i,o]):G[xe][1]=o,this}function se(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var xe=i[o];this.set(xe[0],xe[1])}}function me(){this.__data__={hash:new x,map:new(at||B),string:new x}}function ce(i){return _e(this,i).delete(i)}function D(i){return _e(this,i).get(i)}function L(i){return _e(this,i).has(i)}function I(i,o){return _e(this,i).set(i,o),this}function re(i){var o=-1,G=i?i.length:0;for(this.__data__=new se;++o<G;)this.add(i[o])}function ne(i){return this.__data__.set(i,Et),this}function z(i){return this.__data__.has(i)}function Y(i){this.__data__=new B(i)}function u(){this.__data__=new B}function y(i){return this.__data__.delete(i)}function g(i){return this.__data__.get(i)}function m(i){return this.__data__.has(i)}function $(i,o){var G=this.__data__;if(G instanceof B){var xe=G.__data__;if(!at||xe.length<$e-1)return xe.push([i,o]),this;G=this.__data__=new se(xe)}return G.set(i,o),this}function ae(i,o){var G=_n(i)||tn(i)?A(i.length,String):[],xe=G.length,Be=!!xe;for(var Le in i)!o&&!C.call(i,Le)||Be&&(Le=="length"||gt(Le,xe))||G.push(Le);return G}function K(i,o){for(var G=i.length;G--;)if(St(i[G][0],o))return G;return-1}function F(i,o){return i&&ur(i,o,en)}function b(i,o){o=lt(o,i)?[o]:de(o);for(var G=0,xe=o.length;i!=null&&G<xe;)i=i[Fe(o[G++])];return G&&G==xe?i:void 0}function h(i){return W.call(i)}function V(i,o){return i!=null&&o in Object(i)}function M(i,o,G,xe,Be){return i===o||(i==null||o==null||!yt(i)&&!ht(o)?i!==i&&o!==o:T(i,o,M,G,xe,Be))}function T(i,o,G,xe,Be,Le){var Qe=_n(i),dt=_n(o),kt=dn,Pt=dn;Qe||(kt=On(i),kt=kt==nn?Ft:kt),dt||(Pt=On(o),Pt=Pt==nn?Ft:Pt);var Tt=kt==Ft&&!k(i),Xt=Pt==Ft&&!k(o),Jt=kt==Pt;if(Jt&&!Tt)return Le||(Le=new Y),Qe||Yt(i)?Ce(i,o,G,xe,Be,Le):we(i,o,kt,G,xe,Be,Le);if(!(Be&Dt)){var Kt=Tt&&C.call(i,"__wrapped__"),vn=Xt&&C.call(o,"__wrapped__");if(Kt||vn){var Pn=Kt?i.value():i,In=vn?o.value():o;return Le||(Le=new Y),G(Pn,In,xe,Be,Le)}}return!!Jt&&(Le||(Le=new Y),Ae(i,o,G,xe,Be,Le))}function P(i,o,G,xe){var Be=G.length,Le=Be,Qe=!xe;if(i==null)return!Le;for(i=Object(i);Be--;){var dt=G[Be];if(Qe&&dt[2]?dt[1]!==i[dt[0]]:!(dt[0]in i))return!1}for(;++Be<Le;){dt=G[Be];var kt=dt[0],Pt=i[kt],Tt=dt[1];if(Qe&&dt[2]){if(Pt===void 0&&!(kt in i))return!1}else{var Xt=new Y;if(xe)var Jt=xe(Pt,Tt,kt,i,o,Xt);if(!(Jt===void 0?M(Tt,Pt,xe,Bt|Dt,Xt):Jt))return!1}}return!0}function c(i){return!(!yt(i)||Lt(i))&&(ct(i)||k(i)?le:vt).test(We(i))}function ee(i){return ht(i)&&Ot(i.length)&&!!rt[W.call(i)]}function q(i){return typeof i=="function"?i:i==null?Bn:typeof i=="object"?_n(i)?be(i[0],i[1]):ue(i):qe(i)}function E(i){if(!It(i))return Ze(i);var o=[];for(var G in Object(i))C.call(i,G)&&G!="constructor"&&o.push(G);return o}function R(i,o){var G=-1,xe=Ue(i)?Array(i.length):[];return Xn(i,function(Be,Le,Qe){xe[++G]=o(Be,Le,Qe)}),xe}function ue(i){var o=Ne(i);return o.length==1&&o[0][2]?je(o[0][0],o[0][1]):function(G){return G===i||P(G,i,o)}}function be(i,o){return lt(i)&&Ve(o)?je(Fe(i),o):function(G){var xe=cn(G,i);return xe===void 0&&xe===o?kn(G,i):M(o,xe,void 0,Bt|Dt)}}function N(i){return function(o){return b(o,i)}}function oe(i){if(typeof i=="string")return i;if(Ht(i))return Hn?Hn.call(i):"";var o=i+"";return o=="0"&&1/i==-zt?"-0":o}function de(i){return _n(i)?i:Yn(i)}function Ce(i,o,G,xe,Be,Le){var Qe=Be&Dt,dt=i.length,kt=o.length;if(dt!=kt&&!(Qe&&kt>dt))return!1;var Pt=Le.get(i);if(Pt&&Le.get(o))return Pt==o;var Tt=-1,Xt=!0,Jt=Be&Bt?new re:void 0;for(Le.set(i,o),Le.set(o,i);++Tt<dt;){var Kt=i[Tt],vn=o[Tt];if(xe)var Pn=Qe?xe(vn,Kt,Tt,o,i,Le):xe(Kt,vn,Tt,i,o,Le);if(Pn!==void 0){if(Pn)continue;Xt=!1;break}if(Jt){if(!O(o,function(In,zn){if(!Jt.has(zn)&&(Kt===In||G(Kt,In,xe,Be,Le)))return Jt.add(zn)})){Xt=!1;break}}else if(Kt!==vn&&!G(Kt,vn,xe,Be,Le)){Xt=!1;break}}return Le.delete(i),Le.delete(o),Xt}function we(i,o,G,xe,Be,Le,Qe){switch(G){case hn:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case Wt:return!(i.byteLength!=o.byteLength||!xe(new fe(i),new fe(o)));case un:case bn:case qn:return St(+i,+o);case wn:return i.name==o.name&&i.message==o.message;case Mt:case Zn:return i==o+"";case Tn:var dt=d;case Rn:var kt=Le&Dt;if(dt||(dt=S),i.size!=o.size&&!kt)return!1;var Pt=Qe.get(i);if(Pt)return Pt==o;Le|=Bt,Qe.set(i,o);var Tt=Ce(dt(i),dt(o),xe,Be,Le,Qe);return Qe.delete(i),Tt;case Fn:if(Cn)return Cn.call(i)==Cn.call(o)}return!1}function Ae(i,o,G,xe,Be,Le){var Qe=Be&Dt,dt=en(i),kt=dt.length;if(kt!=en(o).length&&!Qe)return!1;for(var Pt=kt;Pt--;){var Tt=dt[Pt];if(!(Qe?Tt in o:C.call(o,Tt)))return!1}var Xt=Le.get(i);if(Xt&&Le.get(o))return Xt==o;var Jt=!0;Le.set(i,o),Le.set(o,i);for(var Kt=Qe;++Pt<kt;){Tt=dt[Pt];var vn=i[Tt],Pn=o[Tt];if(xe)var In=Qe?xe(Pn,vn,Tt,o,i,Le):xe(vn,Pn,Tt,i,o,Le);if(!(In===void 0?vn===Pn||G(vn,Pn,xe,Be,Le):In)){Jt=!1;break}Kt||(Kt=Tt=="constructor")}if(Jt&&!Kt){var zn=i.constructor,Qn=o.constructor;zn!=Qn&&"constructor"in i&&"constructor"in o&&!(typeof zn=="function"&&zn instanceof zn&&typeof Qn=="function"&&Qn instanceof Qn)&&(Jt=!1)}return Le.delete(i),Le.delete(o),Jt}function _e(i,o){var G=i.__data__;return Zt(o)?G[typeof o=="string"?"string":"hash"]:G.map}function Ne(i){for(var o=en(i),G=o.length;G--;){var xe=o[G],Be=i[xe];o[G]=[xe,Be,Ve(Be)]}return o}function Je(i,o){var G=p(i,o);return c(G)?G:void 0}function tt(i,o,G){o=lt(o,i)?[o]:de(o);for(var xe,Be=-1,Qe=o.length;++Be<Qe;){var Le=Fe(o[Be]);if(!(xe=i!=null&&G(i,Le)))break;i=i[Le]}if(xe)return xe;var Qe=i?i.length:0;return!!Qe&&Ot(Qe)&&gt(Le,Qe)&&(_n(i)||tn(i))}function gt(i,o){return!!(o=o==null?Gt:o)&&(typeof i=="number"||Nt.test(i))&&i>-1&&i%1==0&&i<o}function lt(i,o){if(_n(i))return!1;var G=typeof i;return!(G!="number"&&G!="symbol"&&G!="boolean"&&i!=null&&!Ht(i))||sr.test(i)||!on.test(i)||o!=null&&i in Object(o)}function Zt(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function Lt(i){return!!he&&he in i}function It(i){var o=i&&i.constructor;return i===(typeof o=="function"&&o.prototype||Nn)}function Ve(i){return i===i&&!yt(i)}function je(i,o){return function(G){return G!=null&&G[i]===o&&(o!==void 0||i in Object(G))}}function Fe(i){if(typeof i=="string"||Ht(i))return i;var o=i+"";return o=="0"&&1/i==-zt?"-0":o}function We(i){if(i!=null){try{return ye.call(i)}catch{}try{return i+""}catch{}}return""}function it(i,o){return(_n(i)?s:R)(i,q(o))}function mt(i,o){if(typeof i!="function"||o&&typeof o!="function")throw new TypeError(ft);var G=function(){var xe=arguments,Be=o?o.apply(this,xe):xe[0],Le=G.cache;if(Le.has(Be))return Le.get(Be);var Qe=i.apply(this,xe);return G.cache=Le.set(Be,Qe),Qe};return G.cache=new(mt.Cache||se),G}function St(i,o){return i===o||i!==i&&o!==o}function tn(i){return et(i)&&C.call(i,"callee")&&(!ke.call(i,"callee")||W.call(i)==nn)}function Ue(i){return i!=null&&Ot(i.length)&&!ct(i)}function et(i){return ht(i)&&Ue(i)}function ct(i){var o=yt(i)?W.call(i):"";return o==En||o==An}function Ot(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Gt}function yt(i){var o=typeof i;return!!i&&(o=="object"||o=="function")}function ht(i){return!!i&&typeof i=="object"}function Ht(i){return typeof i=="symbol"||ht(i)&&W.call(i)==Fn}function $t(i){return i==null?"":oe(i)}function cn(i,o,G){var xe=i==null?void 0:b(i,o);return xe===void 0?G:xe}function kn(i,o){return i!=null&&tt(i,o,V)}function en(i){return Ue(i)?ae(i):E(i)}function Bn(i){return i}function qe(i){return lt(i)?H(Fe(i)):N(i)}var $e=200,ft="Expected a function",Et="__lodash_hash_undefined__",Bt=1,Dt=2,zt=1/0,Gt=9007199254740991,nn="[object Arguments]",dn="[object Array]",un="[object Boolean]",bn="[object Date]",wn="[object Error]",En="[object Function]",An="[object GeneratorFunction]",Tn="[object Map]",qn="[object Number]",Ft="[object Object]",Mt="[object RegExp]",Rn="[object Set]",Zn="[object String]",Fn="[object Symbol]",Wt="[object ArrayBuffer]",hn="[object DataView]",on=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sr=/^\w*$/,Ct=/^\./,ln=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,De=/[\\^$.*+?()[\]{}|]/g,Ie=/\\(\\)?/g,vt=/^\[object .+?Constructor\]$/,Nt=/^(?:0|[1-9]\d*)$/,rt={};rt["[object Float32Array]"]=rt["[object Float64Array]"]=rt["[object Int8Array]"]=rt["[object Int16Array]"]=rt["[object Int32Array]"]=rt["[object Uint8Array]"]=rt["[object Uint8ClampedArray]"]=rt["[object Uint16Array]"]=rt["[object Uint32Array]"]=!0,rt[nn]=rt[dn]=rt[Wt]=rt[un]=rt[hn]=rt[bn]=rt[wn]=rt[En]=rt[Tn]=rt[qn]=rt[Ft]=rt[Mt]=rt[Rn]=rt[Zn]=rt["[object WeakMap]"]=!1;var xt=typeof ge=="object"&&ge&&ge.Object===Object&&ge,Sn=typeof self=="object"&&self&&self.Object===Object&&self,fn=xt||Sn||Function("return this")(),jn=typeof Te=="object"&&Te&&!Te.nodeType&&Te,$n=jn&&typeof ie=="object"&&ie&&!ie.nodeType&&ie,rr=$n&&$n.exports===jn,tr=rr&&xt.process,Kn=function(){try{return tr&&tr.binding("util")}catch{}}(),Jn=Kn&&Kn.isTypedArray,Wn=Array.prototype,Vn=Function.prototype,Nn=Object.prototype,Gn=fn["__core-js_shared__"],he=function(){var i=/[^.]+$/.exec(Gn&&Gn.keys&&Gn.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),ye=Vn.toString,C=Nn.hasOwnProperty,W=Nn.toString,le=RegExp("^"+ye.call(C).replace(De,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=fn.Symbol,fe=fn.Uint8Array,ke=Nn.propertyIsEnumerable,Re=Wn.splice,Ze=function(i,o){return function(G){return i(o(G))}}(Object.keys,Object),Ke=Je(fn,"DataView"),at=Je(fn,"Map"),ot=Je(fn,"Promise"),bt=Je(fn,"Set"),_t=Je(fn,"WeakMap"),Rt=Je(Object,"create"),Qt=We(Ke),an=We(at),gn=We(ot),Dn=We(bt),Mn=We(_t),sn=_?_.prototype:void 0,Cn=sn?sn.valueOf:void 0,Hn=sn?sn.toString:void 0;x.prototype.clear=f,x.prototype.delete=l,x.prototype.get=v,x.prototype.has=w,x.prototype.set=j,B.prototype.clear=Q,B.prototype.delete=X,B.prototype.get=te,B.prototype.has=J,B.prototype.set=U,se.prototype.clear=me,se.prototype.delete=ce,se.prototype.get=D,se.prototype.has=L,se.prototype.set=I,re.prototype.add=re.prototype.push=ne,re.prototype.has=z,Y.prototype.clear=u,Y.prototype.delete=y,Y.prototype.get=g,Y.prototype.has=m,Y.prototype.set=$;var Xn=function(i,o){return function(G,xe){if(G==null)return G;if(!Ue(G))return i(G,xe);for(var Be=G.length,Le=o?Be:-1,Qe=Object(G);(o?Le--:++Le<Be)&&xe(Qe[Le],Le,Qe)!==!1;);return G}}(F),ur=function(i){return function(o,G,xe){for(var Be=-1,Le=Object(o),Qe=xe(o),dt=Qe.length;dt--;){var kt=Qe[i?dt:++Be];if(G(Le[kt],kt,Le)===!1)break}return o}}(),On=h;(Ke&&On(new Ke(new ArrayBuffer(1)))!=hn||at&&On(new at)!=Tn||ot&&On(ot.resolve())!="[object Promise]"||bt&&On(new bt)!=Rn||_t&&On(new _t)!="[object WeakMap]")&&(On=function(i){var o=W.call(i),G=o==Ft?i.constructor:void 0,xe=G?We(G):void 0;if(xe)switch(xe){case Qt:return hn;case an:return Tn;case gn:return"[object Promise]";case Dn:return Rn;case Mn:return"[object WeakMap]"}return o});var Yn=mt(function(i){i=$t(i);var o=[];return Ct.test(i)&&o.push(""),i.replace(ln,function(G,xe,Be,Le){o.push(Be?Le.replace(Ie,"$1"):xe||G)}),o});mt.Cache=se;var _n=Array.isArray,Yt=Jn?function(i){return function(o){return i(o)}}(Jn):ee;ie.exports=it}).call(Te,Se(0),Se(5)(Ye))},function(Ye,Te){Ye.exports={_args:[["cheerio@0.22.0","/Users/arturarseniev/Sites/grapesjs-preset-newsletter"]],_from:"cheerio@0.22.0",_id:"cheerio@0.22.0",_inBundle:!1,_integrity:"sha1-qbqoYKP5tZWmuBsahocxIe06Jp4=",_location:"/cheerio",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"cheerio@0.22.0",name:"cheerio",escapedName:"cheerio",rawSpec:"0.22.0",saveSpec:null,fetchSpec:"0.22.0"},_requiredBy:["/juice"],_resolved:"https://registry.npmjs.org/cheerio/-/cheerio-0.22.0.tgz",_spec:"0.22.0",_where:"/Users/arturarseniev/Sites/grapesjs-preset-newsletter",author:{name:"Matt Mueller",email:"mattmuelle@gmail.com",url:"mat.io"},bugs:{url:"https://github.com/cheeriojs/cheerio/issues"},dependencies:{"css-select":"~1.2.0","dom-serializer":"~0.1.0",entities:"~1.1.1",htmlparser2:"^3.9.1","lodash.assignin":"^4.0.9","lodash.bind":"^4.1.4","lodash.defaults":"^4.0.1","lodash.filter":"^4.4.0","lodash.flatten":"^4.2.0","lodash.foreach":"^4.3.0","lodash.map":"^4.4.0","lodash.merge":"^4.4.0","lodash.pick":"^4.2.1","lodash.reduce":"^4.4.0","lodash.reject":"^4.4.0","lodash.some":"^4.4.0"},description:"Tiny, fast, and elegant implementation of core jQuery designed specifically for the server",devDependencies:{benchmark:"^2.1.0",coveralls:"^2.11.9","expect.js":"~0.3.1",istanbul:"^0.4.3",jquery:"^3.0.0",jsdom:"^9.2.1",jshint:"^2.9.2",mocha:"^2.5.3",xyz:"~0.5.0"},engines:{node:">= 0.6"},files:["index.js","lib"],homepage:"https://github.com/cheeriojs/cheerio#readme",keywords:["htmlparser","jquery","selector","scraper","parser","html"],license:"MIT",main:"./index.js",name:"cheerio",repository:{type:"git",url:"git://github.com/cheeriojs/cheerio.git"},scripts:{test:"make test"},version:"0.22.0"}},function(Ye,Te,Se){Ye.exports={lex:Se(45),parse:Se(109),stringify:Se(110)}},function(Ye,Te,Se){function ge(J,U){U||(U={}),B=!!U.comments,X=!!U.position,Q=0,te=Array.isArray(J)?J.slice():j(J);var se,me,ce=[];for(w;me=s();)(se=x(me))&&ce.push(se);return{type:"stylesheet",stylesheet:{rules:ce}}}function ie(J,U){U||(U={});for(var se,me=["type","name","value"],ce={},D=0;D<me.length;++D)se=me[D],J[se]&&(ce[se]=U[se]||J[se]);for(me=Object.keys(U),D=0;D<me.length;++D)se=me[D],ce[se]||(ce[se]=U[se]);return X&&(ce.position={start:J.start,end:J.end}),ce}function s(){var J=te.shift();return J}function O(J){Q+=1;var U={};switch(J.type){case"font-face":case"viewport":U.declarations=l();break;case"page":U.prefix=J.prefix,U.declarations=l();break;default:U.prefix=J.prefix,U.rules=v()}return ie(J,U)}function H(J){return ie(J)}function A(J){return ie(J)}function p(J){return ie(J,{text:J.text})}function k(J){return ie(J)}function d(J){return ie(J)}function S(J){function U(se){return se.trim()}return ie(J,{type:"rule",selectors:J.text.split(",").map(U),declarations:l()})}function x(J){switch(J.type){case"property":return d(J);case"selector":return S(J);case"at-group-end":return void(Q-=1);case"media":case"keyframes":return O(J);case"comment":if(B)return p(J);break;case"charset":return A(J);case"import":return H(J);case"namespace":return k(J);case"font-face":case"supports":case"viewport":case"document":case"page":return O(J)}}function f(J){for(var U,se,me=[];(se=s())&&J&&J(se);)(U=x(se))&&me.push(U);return se&&se.type!=="end"&&te.unshift(se),me}function l(){return f(function(J){return J.type==="property"||J.type==="comment"})}function v(){return f(function(){return Q})}var w=!1;Se(28)("parse");var j=Se(45);Ye.exports=ge;var B,Q,X,te},function(Ye,Te,Se){function ge(Q,X){X||(X={}),w=X.indentation||"",v=!!X.compress,l=!!X.comments,v?j=B="":(j=`
`,B=" ");var te=p(Q.stylesheet.rules,x).join(`
`).trim();return te}function ie(Q){return this.level||(this.level=1),Q?void(this.level+=Q):v?"":Array(this.level).join(w||"")}function s(Q){return"@"+Q.type+" "+Q.value+";"+j}function O(Q){var X="",te=Q.prefix||"";Q.name&&(X=" "+Q.name);var J=Q.type!=="page";return"@"+te+Q.type+X+B+k(Q,J)+j}function H(Q){return l?"/*"+(Q.text||"")+"*/"+j:""}function A(Q){var X;return Q.selectors?X=Q.selectors.join(","+j):(X="@"+Q.type,X+=Q.name?" "+Q.name:""),ie()+X+B+k(Q)+j}function p(Q,X){return Q.reduce(function(te,J){var U=J.type==="comment"?H(J):X(J);return U&&te.push(U),te},[])}function k(Q,X){var te=Q.declarations,J=S;return Q.rules&&(te=Q.rules,J=A),te=d(te,J),te&&(te=j+te+(X?"":j)),"{"+te+ie()+"}"}function d(Q,X){if(!Q)return"";ie(1);var te=p(Q,X);return ie(-1),te.length?te.join(j):""}function S(Q){if(Q.type==="property")return f(Q)}function x(Q){switch(Q.type){case"rule":return A(Q);case"media":case"keyframes":return O(Q);case"comment":return H(Q);case"import":case"charset":case"namespace":return s(Q);case"font-face":case"supports":case"viewport":case"document":case"page":return O(Q)}}function f(Q){var X=Q.name?Q.name+":"+B:"";return ie()+X+Q.value+";"}var l,v,w,j,B;Se(28)("stringify"),Ye.exports=ge},function(Ye,Te,Se){function ge(O,H){this.text=O,this.spec=void 0,this.styleAttribute=H||!1}function ie(O){try{return s(O)[0]}catch{return[]}}var s=Se(112);Ye.exports=ge,ge.prototype.parsed=function(){return this.tokens||(this.tokens=ie(this.text)),this.tokens},ge.prototype.specificity=function(){function O(A,p){for(var k=p||ie(A),d=[H?1:0,0,0,0],S=[],x=0;x<k.length;x++){var f=k[x],l=f.pseudos;if(f.id&&d[1]++,f.attributes&&(d[2]+=f.attributes.length),f.classList&&(d[2]+=f.classList.length),f.tag&&f.tag!=="*"&&d[3]++,l){d[3]+=l.length;for(var v=0;v<l.length;v++)l[v].name==="not"&&(S.push(l[v].value),d[3]--)}}for(var w=S.length;w--;)for(var j=O(S[w]),B=4;B--;)d[B]+=j[B];return d}var H=this.styleAttribute;return this.spec||(this.spec=O(this.text,this.parsed())),this.spec}},function(Ye,Te,Se){var ge=/([-.*+?^${}()|[\]\/\\])/g,ie=/\\/g,s=function(f){return(f+"").replace(ge,"\\$1")},O=function(f){return(f+"").replace(ie,"")},H=RegExp(`^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:(["']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:(["'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)`.replace(/<combinator>/,"["+s(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")),A=function(f){this.combinator=f||" ",this.tag="*"};A.prototype.toString=function(){if(!this.raw){var f,l,v="";if(v+=this.tag||"*",this.id&&(v+="#"+this.id),this.classes&&(v+="."+this.classList.join(".")),this.attributes)for(f=0;l=this.attributes[f++];)v+="["+l.name+(l.operator?l.operator+'"'+l.value+'"':"")+"]";if(this.pseudos)for(f=0;l=this.pseudos[f++];)v+=":"+l.name,l.value&&(v+="("+l.value+")");this.raw=v}return this.raw};var p=function(){this.length=0};p.prototype.toString=function(){if(!this.raw){for(var f,l="",v=0;f=this[v++];)v!==1&&(l+=" "),f.combinator!==" "&&(l+=f.combinator+" "),l+=f;this.raw=l}return this.raw};var k=function(f,l,v,w,j,B,Q,X,te,J,U,se,me,ce,D,L){var I,re;if((l||!this.length)&&(I=this[this.length++]=new p,l))return"";if(I||(I=this[this.length-1]),(v||w||!I.length)&&(re=I[I.length++]=new A(v)),re||(re=I[I.length-1]),j)re.tag=O(j);else if(B)re.id=O(B);else if(Q){var ne=O(Q),z=re.classes||(re.classes={});if(!z[ne]){z[ne]=s(Q);var Y=re.classList||(re.classList=[]);Y.push(ne),Y.sort()}}else me?(L=L||D,(re.pseudos||(re.pseudos=[])).push({type:se.length==1?"class":"element",name:O(me),escapedName:s(me),value:L?O(L):null,escapedValue:L?s(L):null})):X&&(U=U?s(U):null,(re.attributes||(re.attributes=[])).push({operator:te,name:O(X),escapedName:s(X),value:U?O(U):null,escapedValue:U?s(U):null}));return""},d=function(f){this.length=0;for(var l,v=this,w=f;f;){if((l=f.replace(H,function(){return k.apply(v,arguments)}))===f)throw new Error(w+" is an invalid expression");f=l}};d.prototype.toString=function(){if(!this.raw){for(var f,l=[],v=0;f=this[v++];)l.push(f);this.raw=l.join(", ")}return this.raw};var S={},x=function(f){return f==null?null:(f=(""+f).replace(/^\s+|\s+$/g,""),S[f]||(S[f]=new d(f)))};Ye.exports=x},function(Ye,Te,Se){function ge(s,O,H,A,p){this.prop=s,this.value=O,this.selector=H,this.priority=A||0,this.additionalPriority=p||[]}Ye.exports=ge;var ie=Se(27);ge.prototype.compareFunc=function(s){var O=[];O.push.apply(O,this.selector.specificity()),O.push.apply(O,this.additionalPriority),O[0]+=this.priority;var H=[];return H.push.apply(H,s.selector.specificity()),H.push.apply(H,s.additionalPriority),H[0]+=s.priority,ie.compareFunc(O,H)},ge.prototype.compare=function(s){return this.compareFunc(s)===1?this:s},ge.prototype.toString=function(){return this.prop+": "+this.value.replace(/['"]+/g,"")+";"}},function(Ye,Te,Se){var ge=Se(27);Ye.exports=function(ie){function s(x,f,l){function v(ce){for(var D=ce[0],L=ce[1],I=new ge.Selector(D),re=I.parsed(),ne=H(re),z=0;z<re.length;++z){var Y=re[z];if(Y.pseudos)for(var u=0;u<Y.pseudos.length;++u){var y=Y.pseudos[u];if(ie.ignoredPseudos.indexOf(y.name)>=0)return}}if(ne){var g=re[re.length-1],m=g.pseudos;g.pseudos=p(g.pseudos),D=re.toString(),g.pseudos=m}var $;try{$=x(D)}catch{return}$.each(function(){function ae(V,M){for(var T=0,P=V.length;T<P;T++)if(V[T].type=="property"){var c=V[T].name,ee=V[T].value,q=V[T].value.match(/!important$/)!==null;q&&!l.preserveImportant&&(ee=ee.replace(/\s*!important$/,""));var E=[V[T].position.start.line,V[T].position.start.col],R=new ge.Property(c,ee,M,q?2:0,E),ue=K.styleProps[c];ie.excludedProperties.indexOf(c)<0&&(ue&&ue.compare(R)===R||!ue)&&(ue&&ue.selector!==M?delete K.styleProps[c]:ue&&(R.nextProp=ue),K.styleProps[c]=R)}}var K=this;if(!(K.name&&ie.nonVisualElements.indexOf(K.name.toUpperCase())>=0)){if(ne){var F="pseudo"+ne,b=K[F];b||(b=K[F]=x("<span />").get(0),b.pseudoElementType=ne,b.pseudoElementParent=K,K[F]=b),K=b}if(!K.styleProps){if(K.styleProps={},x(K).attr(U)){var h="* { "+x(K).attr(U)+" } ";ae(ge.parseCSS(h)[0][1],new ge.Selector("<style>",!0))}J.push(K)}ae(L,I)}})}function w(ce){var D=(Object.keys(ce.styleProps).length,[]);Object.keys(ce.styleProps).forEach(function(I){for(var re=ce.styleProps[I];re!==void 0;)D.push(re),re=re.nextProp}),D.sort(function(I,re){return I.compareFunc(re)});var L=D.filter(function(I){return I.prop!=="content"}).map(function(I){return I.prop+": "+I.value.replace(/["]/g,"'")+";"}).join(" ");L&&x(ce).attr(U,L)}function j(ce){if(ce.pseudoElementType&&ce.styleProps.content){var D=O(ce.styleProps.content.value);D.img?(ce.name="img",x(ce).attr("src",D.img)):x(ce).text(D);var L=ce.pseudoElementParent;ce.pseudoElementType==="before"?x(L).prepend(ce):x(L).append(ce)}}function B(ce,D){if(ce.name){var L=ce.name.toUpperCase();if(ie[D+"Elements"].indexOf(L)>-1){for(var I in ce.styleProps)if(ce.styleProps[I].prop===D){if(ce.styleProps[I].value.match(/px/)){var re=ce.styleProps[I].value.replace("px","");return void x(ce).attr(D,re)}if(ie.tableElements.indexOf(L)>-1&&ce.styleProps[I].value.match(/\%/))return void x(ce).attr(D,ce.styleProps[I].value)}}}}function Q(ce){return ce.indexOf("url(")!==0?ce:ce.replace(/^url\((["'])?([^"']+)\1\)$/,"$2")}function X(ce){if(ce.name){var D=ce.name.toUpperCase(),L=Object.keys(ie.styleToAttribute);if(ie.tableElements.indexOf(D)>-1){for(var I in ce.styleProps)if(L.indexOf(ce.styleProps[I].prop)>-1){var re=ie.styleToAttribute[ce.styleProps[I].prop],ne=ce.styleProps[I].value;re==="background"&&(ne=Q(ne)),x(ce).attr(re,ne)}}}}l=l||{};var te=ge.parseCSS(f),J=[],U="style";if(l.styleAttributeName&&(U=l.styleAttributeName),te.forEach(v),J.forEach(w),l.inlinePseudoElements&&J.forEach(j),l.applyWidthAttributes&&J.forEach(function(ce){B(ce,"width")}),l.applyHeightAttributes&&J.forEach(function(ce){B(ce,"height")}),l.applyAttributesTableElements&&J.forEach(X),l.insertPreservedExtraCss&&l.extraCss){var se=ge.getPreservedText(l.extraCss,{mediaQueries:l.preserveMediaQueries,fontFaces:l.preserveFontFaces});if(se){var me=null;l.insertPreservedExtraCss!==!0?me=x(l.insertPreservedExtraCss):(me=x("head"),me.length||(me=x("body")),me.length||(me=x.root())),me.first().append("<style>"+se+"</style>")}}}function O(x){if(x==="none"||x==="normal")return"";var f=x.match(/^\s*url\s*\(\s*(.*?)\s*\)\s*$/i);return f?{img:f[1].replace(/^['"]|['"]$/g,"")}:(x=x.slice(1,x.length-1),x=x.replace(/\\/g,""))}function H(x){if(x.length!==0){var f=x[x.length-1].pseudos;if(f){for(var l=0;l<f.length;l++)if(A(f[l]))return f[l].name}}}function A(x){return x.name==="before"||x.name==="after"}function p(x){return x.filter(function(f){return!A(f)})}function k(x,f){f=ge.getDefaultOptions(f);var l=S(x,f);return l+=`
`+f.extraCss,s(x,l,f),x}function d(x,f){var l,v,w,j=[],B=x("style");return B.each(function(){if(w=this,l=w.childNodes,l.length===1){if(v=l[0].data,f.applyStyleTags&&x(w).attr("data-embed")===void 0&&j.push(v),f.removeStyleTags&&x(w).attr("data-embed")===void 0){var Q=ge.getPreservedText(w.childNodes[0].nodeValue,{mediaQueries:f.preserveMediaQueries,fontFaces:f.preserveFontFaces});Q?w.childNodes[0].nodeValue=Q:x(w).remove()}x(w).removeAttr("data-embed")}}),j}function S(x,f){return d(x,f).join(`
`)}return ie.ignoredPseudos=["hover","active","focus","visited","link"],ie.widthElements=["TABLE","TD","IMG"],ie.heightElements=["TABLE","TD","IMG"],ie.tableElements=["TABLE","TD","TH","TR","TD","CAPTION","COLGROUP","COL","THEAD","TBODY","TFOOT"],ie.nonVisualElements=["HEAD","TITLE","BASE","LINK","STYLE","META","SCRIPT","NOSCRIPT"],ie.styleToAttribute={"background-color":"bgcolor","background-image":"background","text-align":"align","vertical-align":"valign"},ie.excludedProperties=[],ie.juiceDocument=k,ie.inlineDocument=s,ie}},function(Ye,Te,Se){var ge;(ge=function(){return function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s="",O="",H=ie.editor,A=ie.tableStyle||{},p=ie.cellStyle||{},k=H.BlockManager;for(var d in A)s+=d+": "+A[d]+"; ";for(var S in p)O+=S+": "+p[S]+"; ";k.getAll().reset(),k.add("sect100",{label:ie.sect100BlkLabel,category:ie.categoryLabel,attributes:{class:"gjs-fonts gjs-f-b1"},content:'<table style="'+s+`">
        <tr>
          <td style="`+O+`"></td>
        </tr>
        </table>`}),k.add("sect50",{label:ie.sect50BlkLabel,category:ie.categoryLabel,attributes:{class:"gjs-fonts gjs-f-b2"},content:'<table style="'+s+`">
        <tr>
          <td style="`+O+` width: 50%"></td>
          <td style="`+O+` width: 50%"></td>
        </tr>
        </table>`}),k.add("sect30",{label:ie.sect30BlkLabel,category:ie.categoryLabel,attributes:{class:"gjs-fonts gjs-f-b3"},content:'<table style="'+s+`">
        <tr>
          <td style="`+O+` width: 33.3333%"></td>
          <td style="`+O+` width: 33.3333%"></td>
          <td style="`+O+` width: 33.3333%"></td>
        </tr>
        </table>`}),k.add("sect37",{label:ie.sect37BlkLabel,category:ie.categoryLabel,attributes:{class:"gjs-fonts gjs-f-b37"},content:'<table style="'+s+`">
        <tr>
          <td style="`+O+` width:30%"></td>
          <td style="`+O+` width:70%"></td>
        </tr>
        </table>`}),k.add("button",{label:ie.buttonBlkLabel,category:ie.categoryLabel,content:'<a class="button">Button</a>',attributes:{class:"gjs-fonts gjs-f-button"}}),k.add("divider",{label:ie.dividerBlkLabel,category:ie.categoryLabel,content:`<table style="width: 100%; margin-top: 10px; margin-bottom: 10px;">
        <tr>
          <td class="divider"></td>
        </tr>
      </table>
      <style>
      .divider {
        background-color: rgba(0, 0, 0, 0.1);
        height: 1px;
      }
      </style>`,attributes:{class:"gjs-fonts gjs-f-divider"}}),k.add("text",{label:ie.textBlkLabel,category:ie.categoryLabel,attributes:{class:"gjs-fonts gjs-f-text"},content:{type:"text",content:"Insert your text here",style:{padding:"10px"},activeOnRender:1}}),k.add("text-sect",{label:ie.textSectionBlkLabel,category:ie.categoryLabel,content:'<h1 class="heading">Insert title here</h1><p class="paragraph">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>',attributes:{class:"gjs-fonts gjs-f-h1p"}}),k.add("image",{label:ie.imageBlkLabel,category:ie.categoryLabel,attributes:{class:"gjs-fonts gjs-f-image"},content:{type:"image",style:{color:"black"},activeOnRender:1}}),k.add("quote",{label:ie.quoteBlkLabel,category:ie.categoryLabel,content:'<blockquote class="quote">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit</blockquote>',attributes:{class:"fa fa-quote-right"}}),k.add("link",{label:ie.linkBlkLabel,category:ie.categoryLabel,attributes:{class:"fa fa-link"},content:{type:"link",content:"Link",style:{color:"#3b97e3"}}}),k.add("link-block",{label:ie.linkBlockBlkLabel,category:ie.categoryLabel,attributes:{class:"fa fa-link"},content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}});var x=`<table class="grid-item-card">
        <tr>
          <td class="grid-item-card-cell">
            <img class="grid-item-image" src="http://placehold.it/250x150/78c5d6/fff/" alt="Image"/>
            <table class="grid-item-card-body">
              <tr>
                <td class="grid-item-card-content">
                  <h1 class="card-title">Title here</h1>
                  <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>`;k.add("grid-items",{label:ie.gridItemsBlkLabel,category:ie.categoryLabel,content:`<table class="grid-item-row">
        <tr>
          <td class="grid-item-cell2-l">`+x+`</td>
          <td class="grid-item-cell2-r">`+x+`</td>
        </tr>
      </table>`,attributes:{class:"fa fa-th"}});var f=`<table class="list-item">
        <tr>
          <td class="list-item-cell">
            <table class="list-item-content">
              <tr class="list-item-row">
                <td class="list-cell-left">
                  <img class="list-item-image" src="http://placehold.it/150x150/78c5d6/fff/" alt="Image"/>
                </td>
                <td class="list-cell-right">
                  <h1 class="card-title">Title here</h1>
                  <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>`;k.add("list-items",{label:ie.listItemsBlkLabel,category:ie.categoryLabel,content:f+f,attributes:{class:"fa fa-th-list"}})}}.call(Te,Se,Te,Ye))!==void 0&&(Ye.exports=ge)},function(Ye,Te,Se){function ge(s,O,H){return O in s?Object.defineProperty(s,O,{value:H,enumerable:!0,configurable:!0,writable:!0}):s[O]=H,s}var ie;(ie=function(){var s=function(O){O.each(function(H){var A=H.get("attributes");A["data-tooltip-pos"]="bottom",H.set("attributes",A)})};return function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=O.editor,A=H.Panels,p=A.getPanel("options");if(A.addButton("options",{id:O.cmdOpenImport,className:"fa fa-download",command:O.cmdOpenImport,attributes:ge({},"title",O.modalTitleImport)}),A.addButton("options",{id:O.cmdTglImages,className:"fa fa-warning",command:O.cmdTglImages,attributes:ge({},"title",O.cmtTglImagesLabel)}),p){var k=p.get("buttons");k.each(function(v){var w=v.get("attributes");w["data-tooltip-pos"]="bottom",v.set("attributes",w)});var d=A.addButton("options","preview");d&&k.remove(d)}var S=A.getPanel("commands");if(S){var x=S.get("buttons");x.reset(),x.add([{id:"undo",className:"fa fa-undo",command:"undo",attributes:ge({},"title",O.cmdBtnUndoLabel)},{id:"redo",className:"fa fa-repeat",command:"redo",attributes:ge({},"title",O.cmdBtnRedoLabel)}]),s(x)}H.getConfig().showDevices=0;var f=A.addPanel({id:"devices-c"}),l=f.get("buttons");f.get("buttons").add([{id:"deviceDesktop",command:"set-device-desktop",className:"fa fa-desktop",attributes:ge({},"title",O.cmdBtnDesktopLabel),active:1},{id:"deviceTablet",command:"set-device-tablet",className:"fa fa-tablet",attributes:ge({},"title",O.cmdBtnTabletLabel)},{id:"deviceMobile",command:"set-device-mobile",className:"fa fa-mobile",attributes:ge({},"title",O.cmdBtnMobileLabel)}]),s(l)}}.call(Te,Se,Te,Ye))!==void 0&&(Ye.exports=ie)},function(Ye,Te,Se){var ge;(ge=function(){return function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=ie.editor,O=s.StyleManager.getSectors();s.on("load",function(){O.reset(),O.add(ie.styleManagerSectors)})}}.call(Te,Se,Te,Ye))!==void 0&&(Ye.exports=ge)}])})}}),ka=Nl();/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*//*! grapesjs-preset-newsletter - 0.2.21 */const Js=(er,hr)=>{let Cr=hr.docId;const Ye=Qs(nu,"newsletters");let Te=No(Ye,Cr);er.StorageManager.add("firestore",{async setId(Se){Cr=Se,Te=No(Ye,Cr),await er.load({})},async load(){const Se=await eu(Te);return Se.exists()?Se.data():{}},async store(Se){tu(Te,Se)}})},Zl=xa.__esModule?xa.default:xa,Il=ka.__esModule?ka.default:ka,Vl=Ol({name:"NewsletterBuilder",components:{PublishInfoModal:Sl(()=>Ml(()=>import("./PublishInfoModal.509ab9dc.js"),["PublishInfoModal.509ab9dc.js","index.01706a06.js","index.bdaa66dc.css"],import.meta.url))},setup(){let er,hr=El(!1);const Cr=()=>hr.value=!1;let Ye=()=>{er.store(),Xs.displayToast("Successfully saved progress","is-success")};const Te={id:"latestUnfinished"},Se={set:(s,O,H)=>(er.StorageManager.isAutosave()!==(ge.id==="latestUnfinished")&&er.StorageManager.setAutosave(ge.id==="latestUnfinished"),er.StorageManager.setId(H).then(()=>{Xs.displayToast(`Changes will${er.StorageManager.isAutosave()?" NOT":""} save automatically`,"is-warning"),s[O]=H}),!0)},ge=new Proxy(Te,Se);Al(()=>{er=Zl.init({container:"#gjs",plugins:[Il,Js],storageManager:{type:"firestore"},pluginsOpts:{[Js]:{docId:ge.id}}})});function ie(s){s.week=new Date(s.week),s.week.setDate(s.week.getDate()-s.week.getDay());const O=Qs(nu,"newsletters");Ll(O,{html:er.Commands.run("gjs-get-inlined-html"),...s}),eu(No(O,"template")).then(H=>{tu(No(O,"latestUnfinished"),H.data())}),hr.value=!1}return{selectedNewsletterProxy:ge,saveNewsletter:Ye,publishNewsletter:ie,isModalActive:hr,closeModal:Cr}}}),Ul={class:"container"},Hl={class:"buttons"},zl={class:"select"},ql=qr("option",{value:"template"},"Newsletter Template",-1),Wl=qr("option",{value:"latestUnfinished"},"Latest Unpublished",-1),$l=qr("option",{value:"anotherOption"},"option 2",-1),Gl=[ql,Wl,$l],Yl={class:"field"},Kl=qr("div",{class:"label"},null,-1),Xl={class:"control"},Jl=qr("div",{id:"gjs"},null,-1);function Ql(er,hr,Cr,Ye,Te,Se){const ge=Bl("PublishInfoModal");return _a(),wa(Rl,null,[Pl(ge,{class:Tl({"is-active":er.isModalActive}),"close-modal":er.closeModal,"publish-newsletter":er.publishNewsletter},null,8,["class","close-modal","publish-newsletter"]),qr("div",Ul,[qr("div",Hl,[qr("div",zl,[jl(qr("select",{"onUpdate:modelValue":hr[0]||(hr[0]=ie=>er.selectedNewsletterProxy.id=ie)},Gl,512),[[Dl,er.selectedNewsletterProxy.id]])]),qr("div",Yl,[Kl,qr("div",Xl,[er.selectedNewsletterProxy.id==="latestUnfinished"?(_a(),wa("button",{key:0,class:"button",onClick:hr[1]||(hr[1]=ie=>er.isModalActive=!0)}," Publish as... ")):(_a(),wa("button",{key:1,class:"button",onClick:hr[2]||(hr[2]=(...ie)=>er.saveNewsletter&&er.saveNewsletter(...ie))},"Save changes"))])])]),Jl])],64)}const tc=Cl(Vl,[["render",Ql]]);export{tc as default};
