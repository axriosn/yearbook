import{V as el,D as Bo,l as xc,y as _c,g as ka,_ as kc,d as Oc,e as Ac,h as jc,i as Cc,c as xa,b as Sc,n as Pc,a as qr,w as Tc,v as Ec,F as Mc,f as Dc,j as Xs,k as Rc,r as Lc,o as _a,T as Zc}from"./index.1e5e7c14.js";var Ni=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Nc(ir){return ir&&ir.__esModule&&Object.prototype.hasOwnProperty.call(ir,"default")?ir.default:ir}var Aa={exports:{}};/*! grapesjs - 0.19.4 */(function(ir,Rr){(function(Ir,Ye){ir.exports=Ye()})(typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:Ni,()=>(()=>{var Ir={7757:(ge,ie,s)=>{ge.exports=s(5666)},3410:(ge,ie,s)=>{var A,U,S;U=[s(9050),s(2316)],A=function(p,k){var d=Array.prototype.slice;function j(M,L,F){return F.length<=4?M.call(L,F[0],F[1],F[2],F[3]):M.apply(L,F)}function _(M,L){return d.call(M,L)}function f(M,L){return M!=null&&(p.isArray(L)||(L=_(arguments,1)),p.all(L,function(F){return F in M}))}var c=function(){var M=!1,L=-1;function F(){L++,M=!0,p.defer(function(){M=!1})}return function(){return M||F(),L}}();function m(){this.registeredObjects=[],this.cidIndexes=[]}function w(M,L,F,re){for(var ne,H=0,Y=L.length;H<Y;H++)if(ne=L[H]){if(M==="on"){if(!re.objectRegistry.register(ne))continue}else if(!re.objectRegistry.unregister(ne))continue;p.isFunction(ne[M])&&ne[M]("all",F,re)}}function E(M,L){var F=L.type,re=L.undoTypes,ne=!re[F]||re[F][M];p.isFunction(ne)&&ne(L.object,L.before,L.after,L.options)}function Z(M,L,F,re,ne){if(!(F.isCurrentlyUndoRedoing||M==="undo"&&F.pointer===-1||M==="redo"&&F.pointer===F.length-1)){F.isCurrentlyUndoRedoing=!0;var H,Y,l=M==="undo";for(ne?Y=l&&F.pointer===F.length-1||!l&&F.pointer===-1?p.clone(F.models):d.apply(F.models,l?[0,F.pointer]:[F.pointer,F.length-1]):(H=F.at(l?F.pointer:F.pointer+1),Y=re?F.where({magicFusionIndex:H.get("magicFusionIndex")}):[H]),F.pointer+=(l?-1:1)*Y.length;H=l?Y.pop():Y.shift();)H[M]();F.isCurrentlyUndoRedoing=!1,L.trigger(M,L)}}function Q(M,L){var F=M.condition,re=typeof F;return re==="function"?!!j(F,M,L):re!=="boolean"||F}function J(M,L,F,re){if(M.track&&!M.isCurrentlyUndoRedoing&&L in re&&Q(re[L],F)){var ne=j(re[L].on,re[L],F);if(f(ne,"object","before","after")){if(ne.type=L,ne.magicFusionIndex=c(),ne.undoTypes=re,M.pointer<M.length-1)for(var H=M.length-M.pointer-1;H--;)M.pop();M.pointer=M.length,M.add(ne),M.length>M.maximumStackLength&&(M.shift(),M.pointer--)}}}m.prototype={isRegistered:function(M){return M&&M.cid?this.registeredObjects[M.cid]:p.contains(this.registeredObjects,M)},register:function(M){return!this.isRegistered(M)&&(M&&M.cid?(this.registeredObjects[M.cid]=M,this.cidIndexes.push(M.cid)):this.registeredObjects.push(M),!0)},unregister:function(M){if(this.isRegistered(M)){if(M&&M.cid)delete this.registeredObjects[M.cid],this.cidIndexes.splice(p.indexOf(this.cidIndexes,M.cid),1);else{var L=p.indexOf(this.registeredObjects,M);this.registeredObjects.splice(L,1)}return!0}return!1},get:function(){return p.map(this.cidIndexes,function(M){return this.registeredObjects[M]},this).concat(this.registeredObjects)}};var te={add:{undo:function(M,L,F,re){M.remove(F,re)},redo:function(M,L,F,re){re.index&&(re.at=re.index),M.add(F,re)},on:function(M,L,F){return{object:L,before:void 0,after:M,options:p.clone(F)}}},remove:{undo:function(M,L,F,re){"index"in re&&(re.at=re.index),M.add(L,re)},redo:function(M,L,F,re){M.remove(L,re)},on:function(M,L,F){return{object:L,before:M,after:void 0,options:p.clone(F)}}},change:{undo:function(M,L,F,re){p.isEmpty(L)?p.each(p.keys(F),M.unset,M):(M.set(L),re&&re.unsetData&&re.unsetData.before&&re.unsetData.before.length&&p.each(re.unsetData.before,M.unset,M))},redo:function(M,L,F,re){p.isEmpty(F)?p.each(p.keys(L),M.unset,M):(M.set(F),re&&re.unsetData&&re.unsetData.after&&re.unsetData.after.length&&p.each(re.unsetData.after,M.unset,M))},on:function(M,L){var F=M.changedAttributes(),re=p.keys(F),ne=p.pick(M.previousAttributes(),re),H=p.keys(ne),Y=(L||(L={})).unsetData={after:[],before:[]};return re.length!=H.length&&(re.length>H.length?p.each(re,function(l){l in ne||Y.before.push(l)},this):p.each(H,function(l){l in F||Y.after.push(l)})),{object:M,before:ne,after:F,options:p.clone(L)}}},reset:{undo:function(M,L,F){M.reset(L)},redo:function(M,L,F){M.reset(F)},on:function(M,L){return{object:M,before:L.previousModels,after:p.clone(M.models)}}}};function X(){}function V(M,L,F,re){if(typeof L=="object")return p.each(L,function(ne,H){M===2?V(M,ne,F,re):V(M,H,ne,F)});switch(M){case 0:f(F,"undo","redo","on")&&p.all(p.pick(F,"undo","redo","on"),p.isFunction)&&(re[L]=F);break;case 1:re[L]&&p.isObject(F)&&(re[L]=p.extend({},re[L],F));break;case 2:delete re[L]}return this}X.prototype=te;var se=k.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(M){E("undo",this.attributes)},redo:function(M){E("redo",this.attributes)}}),ve=k.Collection.extend({model:se,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(M){this.maximumStackLength=M}}),ue=k.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(M){this.stack=new ve,this.objectRegistry=new m,this.undoTypes=new X,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(L,F){this.stack.setMaxLength(F)},this),M&&M.track&&this.startTracking(),M&&M.register&&(p.isArray(M.register)||p.isArguments(M.register)?j(this.register,this,M.register):this.register(M.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(M){J(this.stack,M,_(arguments,1),this.undoTypes)},register:function(){w("on",arguments,this._addToStack,this)},unregister:function(){w("off",arguments,this._addToStack,this)},unregisterAll:function(){j(this.unregister,this,this.objectRegistry.get())},undo:function(M){Z("undo",this,this.stack,M)},undoAll:function(){Z("undo",this,this.stack,!1,!0)},redo:function(M){Z("redo",this,this.stack,M)},redoAll:function(){Z("redo",this,this.stack,!1,!0)},isAvailable:function(M){var L=this.stack,F=L.length;switch(M){case"undo":return F>0&&L.pointer>-1;case"redo":return F>0&&L.pointer<F-1;default:return!1}},merge:function(M){for(var L,F=p.isArray(M)?M:_(arguments);L=F.pop();)L instanceof ue&&L.stack instanceof ve&&(L.stack=this.stack)},addUndoType:function(M,L){V(0,M,L,this.undoTypes)},changeUndoType:function(M,L){V(1,M,L,this.undoTypes)},removeUndoType:function(M){V(2,M,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return p.extend(ue,{defaults:function(M){p.extend(ue.prototype.defaults,M)},addUndoType:function(M,L){V(0,M,L,te)},changeUndoType:function(M,L){V(1,M,L,te)},removeUndoType:function(M){V(2,M,void 0,te)}}),k.UndoManager=ue},(S=typeof A=="function"?A.apply(ie,U):A)===void 0||(ge.exports=S)},2316:(ge,ie,s)=>{var A,U,S;S=typeof self=="object"&&self.self===self&&self||typeof s.g=="object"&&s.g.global===s.g&&s.g,A=[s(9050),s(2579),ie],U=function(p,k,d){S.Backbone=function(j,_,f,c){var m=j.Backbone,w=Array.prototype.slice;_.VERSION="1.3.3",_.$=c,_.noConflict=function(){return j.Backbone=m,this},_.emulateHTTP=!1,_.emulateJSON=!1;var E=function(C,D,le){switch(C){case 1:return function(){return f[D](this[le])};case 2:return function(be){return f[D](this[le],be)};case 3:return function(be,I){return f[D](this[le],Q(be,this),I)};case 4:return function(be,I,oe){return f[D](this[le],Q(be,this),I,oe)};default:return function(){var be=w.call(arguments);return be.unshift(this[le]),f[D].apply(f,be)}}},Z=function(C,D,le){f.each(D,function(be,I){f[I]&&(C.prototype[I]=E(be,I,le))})},Q=function(C,D){return f.isFunction(C)?C:f.isObject(C)&&!D._isModel(C)?J(C):f.isString(C)?function(le){return le.get(C)}:C},J=function(C){var D=f.matches(C);return function(le){return D(le.attributes)}},te=_.Events={},X=/\s+/,V=function(C,D,le,be,I){var oe,de=0;if(le&&typeof le=="object")for(be!==void 0&&("context"in I)&&I.context===void 0&&(I.context=be),oe=f.keys(le);de<oe.length;de++)D=V(C,D,oe[de],le[oe[de]],I);else if(le&&X.test(le))for(oe=le.split(X);de<oe.length;de++)D=C(D,oe[de],be,I);else D=C(D,le,be,I);return D};te.on=function(C,D,le){return se(this,C,D,le)};var se=function(C,D,le,be,I){return C._events=V(ve,C._events||{},D,le,{context:be,ctx:C,listening:I}),I&&((C._listeners||(C._listeners={}))[I.id]=I),C};te.listenTo=function(C,D,le){if(!C)return this;var be=C._listenId||(C._listenId=f.uniqueId("l")),I=this._listeningTo||(this._listeningTo={}),oe=I[be];if(!oe){var de=this._listenId||(this._listenId=f.uniqueId("l"));oe=I[be]={obj:C,objId:be,id:de,listeningTo:I,count:0}}return se(C,D,le,this,oe),this};var ve=function(C,D,le,be){if(le){var I=C[D]||(C[D]=[]),oe=be.context,de=be.ctx,Oe=be.listening;Oe&&Oe.count++,I.push({callback:le,context:oe,ctx:oe||de,listening:Oe})}return C};te.off=function(C,D,le){return this._events?(this._events=V(ue,this._events,C,D,{context:le,listeners:this._listeners}),this):this},te.stopListening=function(C,D,le){var be=this._listeningTo;if(!be)return this;for(var I=C?[C._listenId]:f.keys(be),oe=0;oe<I.length;oe++){var de=be[I[oe]];if(!de)break;de.obj.off(D,le,this)}return this};var ue=function(C,D,le,be){if(C){var I,oe=0,de=be.context,Oe=be.listeners;if(D||le||de){for(var we=D?[D]:f.keys(C);oe<we.length;oe++){var Se=C[D=we[oe]];if(!Se)break;for(var xe=[],Ie=0;Ie<Se.length;Ie++){var Xe=Se[Ie];le&&le!==Xe.callback&&le!==Xe.callback._callback||de&&de!==Xe.context?xe.push(Xe):(I=Xe.listening)&&--I.count==0&&(delete Oe[I.id],delete I.listeningTo[I.objId])}xe.length?C[D]=xe:delete C[D]}return C}for(var tt=f.keys(Oe);oe<tt.length;oe++)delete Oe[(I=Oe[tt[oe]]).id],delete I.listeningTo[I.objId]}};te.once=function(C,D,le){var be=V(M,{},C,D,f.bind(this.off,this));return typeof C=="string"&&le==null&&(D=void 0),this.on(be,D,le)},te.listenToOnce=function(C,D,le){var be=V(M,{},D,le,f.bind(this.stopListening,this,C));return this.listenTo(C,be)};var M=function(C,D,le,be){if(le){var I=C[D]=f.once(function(){be(D,I),le.apply(this,arguments)});I._callback=le}return C};te.trigger=function(C){if(!this._events)return this;for(var D=Math.max(0,arguments.length-1),le=Array(D),be=0;be<D;be++)le[be]=arguments[be+1];return V(L,this._events,C,void 0,le),this};var L=function(C,D,le,be){if(C){var I=C[D],oe=C.all;I&&oe&&(oe=oe.slice()),I&&F(I,be),oe&&F(oe,[D].concat(be))}return C},F=function(C,D){var le,be=-1,I=C.length,oe=D[0],de=D[1],Oe=D[2];switch(D.length){case 0:for(;++be<I;)(le=C[be]).callback.call(le.ctx);return;case 1:for(;++be<I;)(le=C[be]).callback.call(le.ctx,oe);return;case 2:for(;++be<I;)(le=C[be]).callback.call(le.ctx,oe,de);return;case 3:for(;++be<I;)(le=C[be]).callback.call(le.ctx,oe,de,Oe);return;default:for(;++be<I;)(le=C[be]).callback.apply(le.ctx,D);return}};te.bind=te.on,te.unbind=te.off,f.extend(_,te);var re=_.Model=function(C,D){var le=C||{};D||(D={}),this.cid=f.uniqueId(this.cidPrefix),this.attributes={},D.collection&&(this.collection=D.collection),D.parse&&(le=this.parse(le,D)||{});var be=f.result(this,"defaults");le=f.defaults(f.extend({},be,le),be),this.set(le,D),this.changed={},this.initialize.apply(this,arguments)};f.extend(re.prototype,te,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(C){return f.clone(this.attributes)},sync:function(){return _.sync.apply(this,arguments)},get:function(C){return this.attributes[C]},escape:function(C){return f.escape(this.get(C))},has:function(C){return this.get(C)!=null},matches:function(C){return!!f.iteratee(C,this)(this.attributes)},set:function(C,D,le){if(C==null)return this;var be;if(typeof C=="object"?(be=C,le=D):(be={})[C]=D,le||(le={}),!this._validate(be,le))return!1;var I=le.unset,oe=le.silent,de=[],Oe=this._changing;this._changing=!0,Oe||(this._previousAttributes=f.clone(this.attributes),this.changed={});var we=this.attributes,Se=this.changed,xe=this._previousAttributes;for(var Ie in be)D=be[Ie],f.isEqual(we[Ie],D)||de.push(Ie),f.isEqual(xe[Ie],D)?delete Se[Ie]:Se[Ie]=D,I?delete we[Ie]:we[Ie]=D;if(this.idAttribute in be&&(this.id=this.get(this.idAttribute)),!oe){de.length&&(this._pending=le);for(var Xe=0;Xe<de.length;Xe++)this.trigger("change:"+de[Xe],this,we[de[Xe]],le)}if(Oe)return this;if(!oe)for(;this._pending;)le=this._pending,this._pending=!1,this.trigger("change",this,le);return this._pending=!1,this._changing=!1,this},unset:function(C,D){return this.set(C,void 0,f.extend({},D,{unset:!0}))},clear:function(C){var D={};for(var le in this.attributes)D[le]=void 0;return this.set(D,f.extend({},C,{unset:!0}))},hasChanged:function(C){return C==null?!f.isEmpty(this.changed):f.has(this.changed,C)},changedAttributes:function(C){if(!C)return!!this.hasChanged()&&f.clone(this.changed);var D=this._changing?this._previousAttributes:this.attributes,le={};for(var be in C){var I=C[be];f.isEqual(D[be],I)||(le[be]=I)}return!!f.size(le)&&le},previous:function(C){return C!=null&&this._previousAttributes?this._previousAttributes[C]:null},previousAttributes:function(){return f.clone(this._previousAttributes)},fetch:function(C){C=f.extend({parse:!0},C);var D=this,le=C.success;return C.success=function(be){var I=C.parse?D.parse(be,C):be;if(!D.set(I,C))return!1;le&&le.call(C.context,D,be,C),D.trigger("sync",D,be,C)},q(this,C),this.sync("read",this,C)},save:function(C,D,le){var be;C==null||typeof C=="object"?(be=C,le=D):(be={})[C]=D;var I=(le=f.extend({validate:!0,parse:!0},le)).wait;if(be&&!I){if(!this.set(be,le))return!1}else if(!this._validate(be,le))return!1;var oe=this,de=le.success,Oe=this.attributes;le.success=function(xe){oe.attributes=Oe;var Ie=le.parse?oe.parse(xe,le):xe;if(I&&(Ie=f.extend({},be,Ie)),Ie&&!oe.set(Ie,le))return!1;de&&de.call(le.context,oe,xe,le),oe.trigger("sync",oe,xe,le)},q(this,le),be&&I&&(this.attributes=f.extend({},Oe,be));var we=this.isNew()?"create":le.patch?"patch":"update";we!=="patch"||le.attrs||(le.attrs=be);var Se=this.sync(we,this,le);return this.attributes=Oe,Se},destroy:function(C){C=C?f.clone(C):{};var D=this,le=C.success,be=C.wait,I=function(){D.stopListening(),D.trigger("destroy",D,D.collection,C)};C.success=function(de){be&&I(),le&&le.call(C.context,D,de,C),D.isNew()||D.trigger("sync",D,de,C)};var oe=!1;return this.isNew()?f.defer(C.success):(q(this,C),oe=this.sync("delete",this,C)),be||I(),oe},url:function(){var C=f.result(this,"urlRoot")||f.result(this.collection,"url")||ee();if(this.isNew())return C;var D=this.get(this.idAttribute);return C.replace(/[^\/]$/,"$&/")+encodeURIComponent(D)},parse:function(C,D){return C},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(C){return this._validate({},f.extend({},C,{validate:!0}))},_validate:function(C,D){if(!D.validate||!this.validate)return!0;C=f.extend({},this.attributes,C);var le=this.validationError=this.validate(C,D)||null;return!le||(this.trigger("invalid",this,le,f.extend(D,{validationError:le})),!1)}}),Z(re,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var ne=_.Collection=function(C,D){D||(D={}),D.model&&(this.model=D.model),D.comparator!==void 0&&(this.comparator=D.comparator),this._reset(),this.initialize.apply(this,arguments),C&&this.reset(C,f.extend({silent:!0},D))},H={add:!0,remove:!0,merge:!0},Y={add:!0,remove:!1},l=function(C,D,le){le=Math.min(Math.max(le,0),C.length);var be,I=Array(C.length-le),oe=D.length;for(be=0;be<I.length;be++)I[be]=C[be+le];for(be=0;be<oe;be++)C[be+le]=D[be];for(be=0;be<I.length;be++)C[be+oe+le]=I[be]};f.extend(ne.prototype,te,{model:re,initialize:function(){},toJSON:function(C){return this.map(function(D){return D.toJSON(C)})},sync:function(){return _.sync.apply(this,arguments)},add:function(C,D){return this.set(C,f.extend({merge:!1},D,Y))},remove:function(C,D){D=f.extend({},D);var le=!f.isArray(C);C=le?[C]:C.slice();var be=this._removeModels(C,D);return!D.silent&&be.length&&(D.changes={added:[],merged:[],removed:be},this.trigger("update",this,D)),le?be[0]:be},set:function(C,D){if(C!=null){(D=f.extend({},H,D)).parse&&!this._isModel(C)&&(C=this.parse(C,D)||[]);var le=!f.isArray(C);C=le?[C]:C.slice();var be=D.at;be!=null&&(be=+be),be>this.length&&(be=this.length),be<0&&(be+=this.length+1);var I,oe,de=[],Oe=[],we=[],Se=[],xe={},Ie=D.add,Xe=D.merge,tt=D.remove,gt=!1,ct=this.comparator&&be==null&&D.sort!==!1,Bt=f.isString(this.comparator)?this.comparator:null;for(oe=0;oe<C.length;oe++){I=C[oe];var Lt=this.get(I);if(Lt){if(Xe&&I!==Lt){var Ft=this._isModel(I)?I.attributes:I;D.parse&&(Ft=Lt.parse(Ft,D)),Lt.set(Ft,D),we.push(Lt),ct&&!gt&&(gt=Lt.hasChanged(Bt))}xe[Lt.cid]||(xe[Lt.cid]=!0,de.push(Lt)),C[oe]=Lt}else Ie&&(I=C[oe]=this._prepareModel(I,D))&&(Oe.push(I),this._addReference(I,D),xe[I.cid]=!0,de.push(I))}if(tt){for(oe=0;oe<this.length;oe++)xe[(I=this.models[oe]).cid]||Se.push(I);Se.length&&this._removeModels(Se,D)}var ze=!1,Ee=!ct&&Ie&&tt;if(de.length&&Ee?(ze=this.length!==de.length||f.some(this.models,function(Ne,We){return Ne!==de[We]}),this.models.length=0,l(this.models,de,0),this.length=this.models.length):Oe.length&&(ct&&(gt=!0),l(this.models,Oe,be==null?this.length:be),this.length=this.models.length),gt&&this.sort({silent:!0}),!D.silent){for(oe=0;oe<Oe.length;oe++)be!=null&&(D.index=be+oe),(I=Oe[oe]).trigger("add",I,this,D);(gt||ze)&&this.trigger("sort",this,D),(Oe.length||Se.length||we.length)&&(D.changes={added:Oe,removed:Se,merged:we},this.trigger("update",this,D))}return le?C[0]:C}},reset:function(C,D){D=D?f.clone(D):{};for(var le=0;le<this.models.length;le++)this._removeReference(this.models[le],D);return D.previousModels=this.models,this._reset(),C=this.add(C,f.extend({silent:!0},D)),D.silent||this.trigger("reset",this,D),C},push:function(C,D){return this.add(C,f.extend({at:this.length},D))},pop:function(C){var D=this.at(this.length-1);return this.remove(D,C)},unshift:function(C,D){return this.add(C,f.extend({at:0},D))},shift:function(C){var D=this.at(0);return this.remove(D,C)},slice:function(){return w.apply(this.models,arguments)},get:function(C){if(C!=null)return this._byId[C]||this._byId[this.modelId(C.attributes||C)]||C.cid&&this._byId[C.cid]},has:function(C){return this.get(C)!=null},at:function(C){return C<0&&(C+=this.length),this.models[C]},where:function(C,D){return this[D?"find":"filter"](C)},findWhere:function(C){return this.where(C,!0)},sort:function(C){var D=this.comparator;if(!D)throw new Error("Cannot sort a set without a comparator");C||(C={});var le=D.length;return f.isFunction(D)&&(D=f.bind(D,this)),le===1||f.isString(D)?this.models=this.sortBy(D):this.models.sort(D),C.silent||this.trigger("sort",this,C),this},pluck:function(C){return this.map(C+"")},fetch:function(C){var D=(C=f.extend({parse:!0},C)).success,le=this;return C.success=function(be){var I=C.reset?"reset":"set";le[I](be,C),D&&D.call(C.context,le,be,C),le.trigger("sync",le,be,C)},q(this,C),this.sync("read",this,C)},create:function(C,D){var le=(D=D?f.clone(D):{}).wait;if(!(C=this._prepareModel(C,D)))return!1;le||this.add(C,D);var be=this,I=D.success;return D.success=function(oe,de,Oe){le&&be.add(oe,Oe),I&&I.call(Oe.context,oe,de,Oe)},C.save(null,D),C},parse:function(C,D){return C},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(C){return C[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(C,D){if(this._isModel(C))return C.collection||(C.collection=this),C;(D=D?f.clone(D):{}).collection=this;var le=new this.model(C,D);return le.validationError?(this.trigger("invalid",this,le.validationError,D),!1):le},_removeModels:function(C,D){for(var le=[],be=0;be<C.length;be++){var I=this.get(C[be]);if(I){var oe=this.indexOf(I);this.models.splice(oe,1),this.length--,delete this._byId[I.cid];var de=this.modelId(I.attributes);de!=null&&delete this._byId[de],D.silent||(D.index=oe,I.trigger("remove",I,this,D)),le.push(I),this._removeReference(I,D)}}return le},_isModel:function(C){return C instanceof re},_addReference:function(C,D){this._byId[C.cid]=C;var le=this.modelId(C.attributes);le!=null&&(this._byId[le]=C),C.on("all",this._onModelEvent,this)},_removeReference:function(C,D){delete this._byId[C.cid];var le=this.modelId(C.attributes);le!=null&&delete this._byId[le],this===C.collection&&delete C.collection,C.off("all",this._onModelEvent,this)},_onModelEvent:function(C,D,le,be){if(D){if((C==="add"||C==="remove")&&le!==this)return;if(C==="destroy"&&this.remove(D,be),C==="change"){var I=this.modelId(D.previousAttributes()),oe=this.modelId(D.attributes);I!==oe&&(I!=null&&delete this._byId[I],oe!=null&&(this._byId[oe]=D))}}this.trigger.apply(this,arguments)}}),Z(ne,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var y=_.View=function(C){this.cid=f.uniqueId("view"),f.extend(this,f.pick(C,v)),this._ensureElement(),this.initialize.apply(this,arguments)},g=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];f.extend(y.prototype,te,{tagName:"div",$:function(C){return this.$el.find(C)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(C){return this.undelegateEvents(),this._setElement(C),this.delegateEvents(),this},_setElement:function(C){this.$el=C instanceof _.$?C:_.$(C),this.el=this.$el[0]},delegateEvents:function(C){if(C||(C=f.result(this,"events")),!C)return this;for(var D in this.undelegateEvents(),C){var le=C[D];if(f.isFunction(le)||(le=this[le]),le){var be=D.match(g);this.delegate(be[1],be[2],f.bind(le,this))}}return this},delegate:function(C,D,le){return this.$el.on(C+".delegateEvents"+this.cid,D,le),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(C,D,le){return this.$el.off(C+".delegateEvents"+this.cid,D,le),this},_createElement:function(C){return document.createElement(C)},_ensureElement:function(){if(this.el)this.setElement(f.result(this,"el"));else{var C=f.extend({},f.result(this,"attributes"));this.id&&(C.id=f.result(this,"id")),this.className&&(C.class=f.result(this,"className")),this.setElement(this._createElement(f.result(this,"tagName"))),this._setAttributes(C)}},_setAttributes:function(C){this.$el.attr(C)}}),_.sync=function(C,D,le){var be=$[C];f.defaults(le||(le={}),{emulateHTTP:_.emulateHTTP,emulateJSON:_.emulateJSON});var I={type:be,dataType:"json"};if(le.url||(I.url=f.result(D,"url")||ee()),le.data!=null||!D||C!=="create"&&C!=="update"&&C!=="patch"||(I.contentType="application/json",I.data=JSON.stringify(le.attrs||D.toJSON(le))),le.emulateJSON&&(I.contentType="application/x-www-form-urlencoded",I.data=I.data?{model:I.data}:{}),le.emulateHTTP&&(be==="PUT"||be==="DELETE"||be==="PATCH")){I.type="POST",le.emulateJSON&&(I.data._method=be);var oe=le.beforeSend;le.beforeSend=function(we){if(we.setRequestHeader("X-HTTP-Method-Override",be),oe)return oe.apply(this,arguments)}}I.type==="GET"||le.emulateJSON||(I.processData=!1);var de=le.error;le.error=function(we,Se,xe){le.textStatus=Se,le.errorThrown=xe,de&&de.call(le.context,we,Se,xe)};var Oe=le.xhr=_.ajax(f.extend(I,le));return D.trigger("request",D,Oe,le),Oe};var $={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};_.ajax=function(){return _.$.ajax.apply(_.$,arguments)};var ae=_.Router=function(C){C||(C={}),C.routes&&(this.routes=C.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},K=/\((.*?)\)/g,N=/(\(\?)?:\w+/g,b=/\*\w+/g,h=/[\-{}\[\]+?.,\\\^$|#\s]/g;f.extend(ae.prototype,te,{initialize:function(){},route:function(C,D,le){f.isRegExp(C)||(C=this._routeToRegExp(C)),f.isFunction(D)&&(le=D,D=""),le||(le=this[D]);var be=this;return _.history.route(C,function(I){var oe=be._extractParameters(C,I);be.execute(le,oe,D)!==!1&&(be.trigger.apply(be,["route:"+D].concat(oe)),be.trigger("route",D,oe),_.history.trigger("route",be,D,oe))}),this},execute:function(C,D,le){C&&C.apply(this,D)},navigate:function(C,D){return _.history.navigate(C,D),this},_bindRoutes:function(){if(this.routes){this.routes=f.result(this,"routes");for(var C,D=f.keys(this.routes);(C=D.pop())!=null;)this.route(C,this.routes[C])}},_routeToRegExp:function(C){return C=C.replace(h,"\\$&").replace(K,"(?:$1)?").replace(N,function(D,le){return le?D:"([^/?]+)"}).replace(b,"([^?]*?)"),new RegExp("^"+C+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(C,D){var le=C.exec(D).slice(1);return f.map(le,function(be,I){return I===le.length-1?be||null:be?decodeURIComponent(be):null})}});var z=_.History=function(){this.handlers=[],this.checkUrl=f.bind(this.checkUrl,this),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},R=/^[#\/]|\s+$/g,T=/^\/+|\/+$/g,P=/#.*$/;z.started=!1,f.extend(z.prototype,te,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(C){return decodeURI(C.replace(/%25/g,"%2525"))},getSearch:function(){var C=this.location.href.replace(/#.*/,"").match(/\?.+/);return C?C[0]:""},getHash:function(C){var D=(C||this).location.href.match(/#(.*)$/);return D?D[1]:""},getPath:function(){var C=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return C.charAt(0)==="/"?C.slice(1):C},getFragment:function(C){return C==null&&(C=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),C.replace(R,"")},start:function(C){if(z.started)throw new Error("Backbone.history has already been started");if(z.started=!0,this.options=f.extend({root:"/"},this.options,C),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(T,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var D=this.root.slice(0,-1)||"/";return this.location.replace(D+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var le=document.body,be=le.insertBefore(this.iframe,le.firstChild).contentWindow;be.document.open(),be.document.close(),be.location.hash="#"+this.fragment}var I=window.addEventListener||function(oe,de){return attachEvent("on"+oe,de)};if(this._usePushState?I("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?I("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var C=window.removeEventListener||function(D,le){return detachEvent("on"+D,le)};this._usePushState?C("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&C("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),z.started=!1},route:function(C,D){this.handlers.unshift({route:C,callback:D})},checkUrl:function(C){var D=this.getFragment();if(D===this.fragment&&this.iframe&&(D=this.getHash(this.iframe.contentWindow)),D===this.fragment)return!1;this.iframe&&this.navigate(D),this.loadUrl()},loadUrl:function(C){return!!this.matchRoot()&&(C=this.fragment=this.getFragment(C),f.some(this.handlers,function(D){if(D.route.test(C))return D.callback(C),!0}))},navigate:function(C,D){if(!z.started)return!1;D&&D!==!0||(D={trigger:!!D}),C=this.getFragment(C||"");var le=this.root;C!==""&&C.charAt(0)!=="?"||(le=le.slice(0,-1)||"/");var be=le+C;if(C=this.decodeFragment(C.replace(P,"")),this.fragment!==C){if(this.fragment=C,this._usePushState)this.history[D.replace?"replaceState":"pushState"]({},document.title,be);else{if(!this._wantsHashChange)return this.location.assign(be);if(this._updateHash(this.location,C,D.replace),this.iframe&&C!==this.getHash(this.iframe.contentWindow)){var I=this.iframe.contentWindow;D.replace||(I.document.open(),I.document.close()),this._updateHash(I.location,C,D.replace)}}return D.trigger?this.loadUrl(C):void 0}},_updateHash:function(C,D,le){if(le){var be=C.href.replace(/(javascript:|#).*$/,"");C.replace(be+"#"+D)}else C.hash="#"+D}}),_.history=new z;var u=function(C,D){var le,be=this;return le=C&&f.has(C,"constructor")?C.constructor:function(){return be.apply(this,arguments)},f.extend(le,be,D),le.prototype=f.create(be.prototype,C),le.prototype.constructor=le,le.__super__=be.prototype,le};re.extend=ne.extend=ae.extend=y.extend=z.extend=u;var ee=function(){throw new Error('A "url" property or function must be specified')},q=function(C,D){var le=D.error;D.error=function(be){le&&le.call(D.context,C,be,D),C.trigger("error",C,be,D)}};return _}(S,d,p,k)}.apply(ie,A),U===void 0||(ge.exports=U)},9210:(ge,ie,s)=>{(function(A){A.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(S,p){return/^[;{}]$/.test(p)}}),A.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(S,p,k,d){return this.jsonMode?/^[\[,{]$/.test(p)||/^}/.test(k):(p!=";"||!d.lexical||d.lexical.type!=")")&&/^[;{}]$/.test(p)&&!/^;/.test(k)}});var U=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;A.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(S,p,k,d){var j=!1;return this.configuration=="html"&&(j=!!d.context&&U.test(d.context.tagName)),!j&&(S=="tag"&&/>$/.test(p)&&d.context||/^</.test(k))}}),A.defineExtension("commentRange",function(S,p,k){var d=this,j=A.innerMode(d.getMode(),d.getTokenAt(p).state).mode;d.operation(function(){if(S)d.replaceRange(j.commentEnd,k),d.replaceRange(j.commentStart,p),p.line==k.line&&p.ch==k.ch&&d.setCursor(p.line,p.ch+j.commentStart.length);else{var _=d.getRange(p,k),f=_.indexOf(j.commentStart),c=_.lastIndexOf(j.commentEnd);f>-1&&c>-1&&c>f&&(_=_.substr(0,f)+_.substring(f+j.commentStart.length,c)+_.substr(c+j.commentEnd.length)),d.replaceRange(_,p,k)}})}),A.defineExtension("autoIndentRange",function(S,p){var k=this;this.operation(function(){for(var d=S.line;d<=p.line;d++)k.indentLine(d,"smart")})}),A.defineExtension("autoFormatRange",function(S,p){var k=this,d=k.getMode(),j=k.getRange(S,p).split(`
`),_=A.copyState(d,k.getTokenAt(S).state),f=k.getOption("tabSize"),c="",m=0,w=S.ch===0;function E(){c+=`
`,w=!0,++m}for(var Z=0;Z<j.length;++Z){for(var Q=new A.StringStream(j[Z],f);!Q.eol();){var J=A.innerMode(d,_),te=d.token(Q,_),X=Q.current();Q.start=Q.pos,w&&!/\S/.test(X)||(c+=X,w=!1),!w&&J.mode.newlineAfterToken&&J.mode.newlineAfterToken(te,X,Q.string.slice(Q.pos)||j[Z+1]||"",J.state)&&E()}!Q.pos&&d.blankLine&&d.blankLine(_),!w&&Z<j.length-1&&E()}k.operation(function(){k.replaceRange(c,S,p);for(var V=S.line+1,se=S.line+m;V<=se;++V)k.indentLine(V,"smart");k.setSelection(S,k.getCursor(!1))})})})(s(4631))},4631:function(ge){ge.exports=function(){var ie=navigator.userAgent,s=navigator.platform,A=/gecko\/\d/i.test(ie),U=/MSIE \d/.test(ie),S=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ie),p=/Edge\/(\d+)/.exec(ie),k=U||S||p,d=k&&(U?document.documentMode||6:+(p||S)[1]),j=!p&&/WebKit\//.test(ie),_=j&&/Qt\/\d+\.\d+/.test(ie),f=!p&&/Chrome\//.test(ie),c=/Opera\//.test(ie),m=/Apple Computer/.test(navigator.vendor),w=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ie),E=/PhantomJS/.test(ie),Z=m&&(/Mobile\/\w+/.test(ie)||navigator.maxTouchPoints>2),Q=/Android/.test(ie),J=Z||Q||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ie),te=Z||/Mac/.test(s),X=/\bCrOS\b/.test(ie),V=/win/i.test(s),se=c&&ie.match(/Version\/(\d*\.\d*)/);se&&(se=Number(se[1])),se&&se>=15&&(c=!1,j=!0);var ve=te&&(_||c&&(se==null||se<12.11)),ue=A||k&&d>=9;function M(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var L,F=function(e,t){var r=e.className,n=M(t).exec(r);if(n){var a=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(a?n[1]+a:"")}};function re(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function ne(e,t){return re(e).appendChild(t)}function H(e,t,r,n){var a=document.createElement(e);if(r&&(a.className=r),n&&(a.style.cssText=n),typeof t=="string")a.appendChild(document.createTextNode(t));else if(t)for(var B=0;B<t.length;++B)a.appendChild(t[B]);return a}function Y(e,t,r,n){var a=H(e,t,r,n);return a.setAttribute("role","presentation"),a}function l(e,t){if(t.nodeType==3&&(t=t.parentNode),e.contains)return e.contains(t);do if(t.nodeType==11&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function y(){var e;try{e=document.activeElement}catch{e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function g(e,t){var r=e.className;M(t).test(r)||(e.className+=(r?" ":"")+t)}function v(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!M(r[n]).test(t)&&(t+=" "+r[n]);return t}L=document.createRange?function(e,t,r,n){var a=document.createRange();return a.setEnd(n||e,r),a.setStart(e,t),a}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch{return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var $=function(e){e.select()};function ae(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function K(e,t,r){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||r===!1&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function N(e,t,r,n,a){t==null&&(t=e.search(/[^\s\u00a0]/))==-1&&(t=e.length);for(var B=n||0,pe=a||0;;){var me=e.indexOf("	",B);if(me<0||me>=t)return pe+(t-B);pe+=me-B,pe+=r-pe%r,B=me+1}}Z?$=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:k&&($=function(e){try{e.select()}catch{}});var b=function(){this.id=null,this.f=null,this.time=0,this.handler=ae(this.onTimeout,this)};function h(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}b.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},b.prototype.set=function(e,t){this.f=t;var r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)};var z=50,R={toString:function(){return"CodeMirror.Pass"}},T={scroll:!1},P={origin:"*mouse"},u={origin:"+move"};function ee(e,t,r){for(var n=0,a=0;;){var B=e.indexOf("	",n);B==-1&&(B=e.length);var pe=B-n;if(B==e.length||a+pe>=t)return n+Math.min(pe,t-a);if(a+=B-n,n=B+1,(a+=r-a%r)>=t)return n}}var q=[""];function C(e){for(;q.length<=e;)q.push(D(q)+" ");return q[e]}function D(e){return e[e.length-1]}function le(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function be(e,t,r){for(var n=0,a=r(t);n<e.length&&r(e[n])<=a;)n++;e.splice(n,0,t)}function I(){}function oe(e,t){var r;return Object.create?r=Object.create(e):(I.prototype=e,r=new I),t&&K(t,r),r}var de=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Oe(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||de.test(e))}function we(e,t){return t?!!(t.source.indexOf("\\w")>-1&&Oe(e))||t.test(e):Oe(e)}function Se(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var xe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Ie(e){return e.charCodeAt(0)>=768&&xe.test(e)}function Xe(e,t,r){for(;(r<0?t>0:t<e.length)&&Ie(e.charAt(t));)t+=r;return t}function tt(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var a=(t+r)/2,B=n<0?Math.ceil(a):Math.floor(a);if(B==t)return e(B)?t:r;e(B)?r=B:t=B+n}}function gt(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var a=!1,B=0;B<e.length;++B){var pe=e[B];(pe.from<r&&pe.to>t||t==r&&pe.to==t)&&(n(Math.max(pe.from,t),Math.min(pe.to,r),pe.level==1?"rtl":"ltr",B),a=!0)}a||n(t,r,"ltr")}var ct=null;function Bt(e,t,r){var n;ct=null;for(var a=0;a<e.length;++a){var B=e[a];if(B.from<t&&B.to>t)return a;B.to==t&&(B.from!=B.to&&r=="before"?n=a:ct=a),B.from==t&&(B.from!=B.to&&r!="before"?n=a:ct=a)}return n!=null?n:ct}var Lt=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function r(Pe){return Pe<=247?e.charAt(Pe):1424<=Pe&&Pe<=1524?"R":1536<=Pe&&Pe<=1785?t.charAt(Pe-1536):1774<=Pe&&Pe<=2220?"r":8192<=Pe&&Pe<=8203?"w":Pe==8204?"b":"L"}var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,a=/[stwN]/,B=/[LRr]/,pe=/[Lb1n]/,me=/[1n]/;function Ce(Pe,Ue,He){this.level=Pe,this.from=Ue,this.to=He}return function(Pe,Ue){var He=Ue=="ltr"?"L":"R";if(Pe.length==0||Ue=="ltr"&&!n.test(Pe))return!1;for(var st=Pe.length,lt=[],wt=0;wt<st;++wt)lt.push(r(Pe.charCodeAt(wt)));for(var Et=0,zt=He;Et<st;++Et){var rn=lt[Et];rn=="m"?lt[Et]=zt:zt=rn}for(var pn=0,qt=He;pn<st;++pn){var yn=lt[pn];yn=="1"&&qt=="r"?lt[pn]="n":B.test(yn)&&(qt=yn,yn=="r"&&(lt[pn]="R"))}for(var vn=1,_n=lt[0];vn<st-1;++vn){var or=lt[vn];or=="+"&&_n=="1"&&lt[vn+1]=="1"?lt[vn]="1":or!=","||_n!=lt[vn+1]||_n!="1"&&_n!="n"||(lt[vn]=_n),_n=or}for(var ar=0;ar<st;++ar){var Mr=lt[ar];if(Mr==",")lt[ar]="N";else if(Mr=="%"){var cr=void 0;for(cr=ar+1;cr<st&&lt[cr]=="%";++cr);for(var Br=ar&&lt[ar-1]=="!"||cr<st&&lt[cr]=="1"?"1":"N",Dr=ar;Dr<cr;++Dr)lt[Dr]=Br;ar=cr-1}}for(var hr=0,Sr=He;hr<st;++hr){var Or=lt[hr];Sr=="L"&&Or=="1"?lt[hr]="L":B.test(Or)&&(Sr=Or)}for(var mr=0;mr<st;++mr)if(a.test(lt[mr])){var gr=void 0;for(gr=mr+1;gr<st&&a.test(lt[gr]);++gr);for(var vr=(mr?lt[mr-1]:He)=="L",Pr=vr==((gr<st?lt[gr]:He)=="L")?vr?"L":"R":He,ai=mr;ai<gr;++ai)lt[ai]=Pr;mr=gr-1}for(var Hr,_r=[],yr=0;yr<st;)if(pe.test(lt[yr])){var ba=yr;for(++yr;yr<st&&pe.test(lt[yr]);++yr);_r.push(new Ce(0,ba,yr))}else{var Jr=yr,mi=_r.length,vi=Ue=="rtl"?1:0;for(++yr;yr<st&&lt[yr]!="L";++yr);for(var Ar=Jr;Ar<yr;)if(me.test(lt[Ar])){Jr<Ar&&(_r.splice(mi,0,new Ce(1,Jr,Ar)),mi+=vi);var Zi=Ar;for(++Ar;Ar<yr&&me.test(lt[Ar]);++Ar);_r.splice(mi,0,new Ce(2,Zi,Ar)),mi+=vi,Jr=Ar}else++Ar;Jr<yr&&_r.splice(mi,0,new Ce(1,Jr,yr))}return Ue=="ltr"&&(_r[0].level==1&&(Hr=Pe.match(/^\s+/))&&(_r[0].from=Hr[0].length,_r.unshift(new Ce(0,0,Hr[0].length))),D(_r).level==1&&(Hr=Pe.match(/\s+$/))&&(D(_r).to-=Hr[0].length,_r.push(new Ce(0,st-Hr[0].length,st)))),Ue=="rtl"?_r.reverse():_r}}();function Ft(e,t){var r=e.order;return r==null&&(r=e.order=Lt(e.text,t)),r}var ze=[],Ee=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||ze).concat(r)}};function Ne(e,t){return e._handlers&&e._handlers[t]||ze}function We(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,a=n&&n[t];if(a){var B=h(a,r);B>-1&&(n[t]=a.slice(0,B).concat(a.slice(B+1)))}}}function it(e,t){var r=Ne(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),a=0;a<r.length;++a)r[a].apply(null,n)}function vt(e,t,r){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),it(e,r||t.type,e,t),At(t)||t.codemirrorIgnore}function jt(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)h(r,t[n])==-1&&r.push(t[n])}function tn(e,t){return Ne(e,t).length>0}function Ve(e){e.prototype.on=function(t,r){Ee(this,t,r)},e.prototype.off=function(t,r){We(this,t,r)}}function et(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function ut(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function At(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==0}function yt(e){et(e),ut(e)}function ht(e){return e.target||e.srcElement}function Ut(e){var t=e.which;return t==null&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),te&&e.ctrlKey&&t==1&&(t=3),t}var $t,un,kn=function(){if(k&&d<9)return!1;var e=H("div");return"draggable"in e||"dragDrop"in e}();function en(e){if($t==null){var t=H("span","\u200B");ne(e,H("span",[t,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&($t=t.offsetWidth<=1&&t.offsetHeight>2&&!(k&&d<8))}var r=$t?H("span","\u200B"):H("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Zn(e){if(un!=null)return un;var t=ne(e,document.createTextNode("A\u062EA")),r=L(t,0,1).getBoundingClientRect(),n=L(t,1,2).getBoundingClientRect();return re(e),!(!r||r.left==r.right)&&(un=n.right-r.right<3)}var qe,$e=`

b`.split(/\n/).length!=3?function(e){for(var t=0,r=[],n=e.length;t<=n;){var a=e.indexOf(`
`,t);a==-1&&(a=e.length);var B=e.slice(t,e.charAt(a-1)=="\r"?a-1:a),pe=B.indexOf("\r");pe!=-1?(r.push(B.slice(0,pe)),t+=pe+1):(r.push(B),t=a+1)}return r}:function(e){return e.split(/\r\n?|\n/)},ft=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch{return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch{}return!(!t||t.parentElement()!=e)&&t.compareEndPoints("StartToEnd",t)!=0},Ct="oncopy"in(qe=H("div"))||(qe.setAttribute("oncopy","return;"),typeof qe.oncopy=="function"),Zt=null;function Mt(e){if(Zt!=null)return Zt;var t=ne(e,H("span","x")),r=t.getBoundingClientRect(),n=L(t,0,1).getBoundingClientRect();return Zt=Math.abs(r.left-n.left)>1}var Ht={},Gt={};function nn(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Ht[e]=t}function dn(e,t){Gt[e]=t}function ln(e){if(typeof e=="string"&&Gt.hasOwnProperty(e))e=Gt[e];else if(e&&typeof e.name=="string"&&Gt.hasOwnProperty(e.name)){var t=Gt[e.name];typeof t=="string"&&(t={name:t}),(e=oe(t,e)).name=t.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return ln("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return ln("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function bn(e,t){t=ln(t);var r=Ht[t.name];if(!r)return bn(e,"text/plain");var n=r(e,t);if(wn.hasOwnProperty(t.name)){var a=wn[t.name];for(var B in a)a.hasOwnProperty(B)&&(n.hasOwnProperty(B)&&(n["_"+B]=n[B]),n[B]=a[B])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var pe in t.modeProps)n[pe]=t.modeProps[pe];return n}var wn={};function Cn(e,t){K(t,wn.hasOwnProperty(e)?wn[e]:wn[e]={})}function Sn(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var a=t[n];a instanceof Array&&(a=a.concat([])),r[n]=a}return r}function Tn(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function qn(e,t,r){return!e.startState||e.startState(t,r)}var Nt=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};function Rt(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var a=r.children[n],B=a.chunkSize();if(t<B){r=a;break}t-=B}return r.lines[t]}function Dn(e,t,r){var n=[],a=t.line;return e.iter(t.line,r.line+1,function(B){var pe=B.text;a==r.line&&(pe=pe.slice(0,r.ch)),a==t.line&&(pe=pe.slice(t.ch)),n.push(pe),++a}),n}function Bn(e,t,r){var n=[];return e.iter(t,r,function(a){n.push(a.text)}),n}function Nn(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function Wt(e){if(e.parent==null)return null;for(var t=e.parent,r=h(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var a=0;n.children[a]!=t;++a)r+=n.children[a].chunkSize();return r+t.first}function hn(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var a=e.children[n],B=a.height;if(t<B){e=a;continue e}t-=B,r+=a.chunkSize()}return r}while(!e.lines);for(var pe=0;pe<e.lines.length;++pe){var me=e.lines[pe].height;if(t<me)break;t-=me}return r+pe}function on(e,t){return t>=e.first&&t<e.first+e.size}function sr(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function Ot(e,t,r){if(r===void 0&&(r=null),!(this instanceof Ot))return new Ot(e,t,r);this.line=e,this.ch=t,this.sticky=r}function cn(e,t){return e.line-t.line||e.ch-t.ch}function Me(e,t){return e.sticky==t.sticky&&cn(e,t)==0}function Fe(e){return Ot(e.line,e.ch)}function mt(e,t){return cn(e,t)<0?t:e}function It(e,t){return cn(e,t)<0?e:t}function rt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function _t(e,t){if(t.line<e.first)return Ot(e.first,0);var r=e.first+e.size-1;return t.line>r?Ot(r,Rt(e,r).text.length):jn(t,Rt(e,t.line).text.length)}function jn(e,t){var r=e.ch;return r==null||r>t?Ot(e.line,t):r<0?Ot(e.line,0):e}function fn(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=_t(e,t[n]);return r}Nt.prototype.eol=function(){return this.pos>=this.string.length},Nt.prototype.sol=function(){return this.pos==this.lineStart},Nt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Nt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Nt.prototype.eat=function(e){var t=this.string.charAt(this.pos);if(typeof e=="string"?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Nt.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Nt.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Nt.prototype.skipToEnd=function(){this.pos=this.string.length},Nt.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Nt.prototype.backUp=function(e){this.pos-=e},Nt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=N(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?N(this.string,this.lineStart,this.tabSize):0)},Nt.prototype.indentation=function(){return N(this.string,null,this.tabSize)-(this.lineStart?N(this.string,this.lineStart,this.tabSize):0)},Nt.prototype.match=function(e,t,r){if(typeof e!="string"){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var a=function(B){return r?B.toLowerCase():B};if(a(this.string.substr(this.pos,e.length))==a(e))return t!==!1&&(this.pos+=e.length),!0},Nt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Nt.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Nt.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Nt.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var En=function(e,t){this.state=e,this.lookAhead=t},$n=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function nr(e,t,r,n){var a=[e.state.modeGen],B={};ye(e,t.text,e.doc.mode,r,function(Pe,Ue){return a.push(Pe,Ue)},B,n);for(var pe=r.state,me=function(Pe){r.baseTokens=a;var Ue=e.state.overlays[Pe],He=1,st=0;r.state=!0,ye(e,t.text,Ue.mode,r,function(lt,wt){for(var Et=He;st<lt;){var zt=a[He];zt>lt&&a.splice(He,1,lt,a[He+1],zt),He+=2,st=Math.min(lt,zt)}if(wt)if(Ue.opaque)a.splice(Et,He-Et,lt,"overlay "+wt),He=Et+2;else for(;Et<He;Et+=2){var rn=a[Et+1];a[Et+1]=(rn?rn+" ":"")+"overlay "+wt}},B),r.state=pe,r.baseTokens=null,r.baseTokenPos=1},Ce=0;Ce<e.state.overlays.length;++Ce)me(Ce);return{styles:a,classes:B.bgClass||B.textClass?B:null}}function er(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Kn(e,Wt(t)),a=t.text.length>e.options.maxHighlightLength&&Sn(e.doc.mode,n.state),B=nr(e,t,n);a&&(n.state=a),t.stateAfter=n.save(!a),t.styles=B.styles,B.classes?t.styleClasses=B.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Kn(e,t,r){var n=e.doc,a=e.display;if(!n.mode.startState)return new $n(n,!0,t);var B=O(e,t,r),pe=B>n.first&&Rt(n,B-1).stateAfter,me=pe?$n.fromSaved(n,pe,B):new $n(n,qn(n.mode),B);return n.iter(B,t,function(Ce){Xn(e,Ce.text,me);var Pe=me.line;Ce.stateAfter=Pe==t-1||Pe%5==0||Pe>=a.viewFrom&&Pe<a.viewTo?me.save():null,me.nextLine()}),r&&(n.modeFrontier=me.line),me}function Xn(e,t,r,n){var a=e.doc.mode,B=new Nt(t,e.options.tabSize,r);for(B.start=B.pos=n||0,t==""&&Wn(a,r.state);!B.eol();)zn(a,B,r.state),B.start=B.pos}function Wn(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=Tn(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function zn(e,t,r,n){for(var a=0;a<10;a++){n&&(n[0]=Tn(e,r).mode);var B=e.token(t,r);if(t.pos>t.start)return B}throw new Error("Mode "+e.name+" failed to advance stream.")}$n.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return t!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},$n.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},$n.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},$n.fromSaved=function(e,t,r){return t instanceof En?new $n(e,Sn(e.mode,t.state),r,t.lookAhead):new $n(e,Sn(e.mode,t),r)},$n.prototype.save=function(e){var t=e!==!1?Sn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new En(t,this.maxLookAhead):t};var In=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function Gn(e,t,r,n){var a,B,pe=e.doc,me=pe.mode,Ce=Rt(pe,(t=_t(pe,t)).line),Pe=Kn(e,t.line,r),Ue=new Nt(Ce.text,e.options.tabSize,Pe);for(n&&(B=[]);(n||Ue.pos<t.ch)&&!Ue.eol();)Ue.start=Ue.pos,a=zn(me,Ue,Pe.state),n&&B.push(new In(Ue,a,Sn(pe.mode,Pe.state)));return n?B:new In(Ue,a,Pe.state)}function he(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";t[n]==null?t[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+r[2])}return e}function ye(e,t,r,n,a,B,pe){var me=r.flattenSpans;me==null&&(me=e.options.flattenSpans);var Ce,Pe=0,Ue=null,He=new Nt(t,e.options.tabSize,n),st=e.options.addModeClass&&[null];for(t==""&&he(Wn(r,n.state),B);!He.eol();){if(He.pos>e.options.maxHighlightLength?(me=!1,pe&&Xn(e,t,n,He.pos),He.pos=t.length,Ce=null):Ce=he(zn(r,He,n.state,st),B),st){var lt=st[0].name;lt&&(Ce="m-"+(Ce?lt+" "+Ce:lt))}if(!me||Ue!=Ce){for(;Pe<He.start;)a(Pe=Math.min(He.start,Pe+5e3),Ue);Ue=Ce}He.start=He.pos}for(;Pe<He.pos;){var wt=Math.min(He.pos,Pe+5e3);a(wt,Ue),Pe=wt}}function O(e,t,r){for(var n,a,B=e.doc,pe=r?-1:t-(e.doc.mode.innerMode?1e3:100),me=t;me>pe;--me){if(me<=B.first)return B.first;var Ce=Rt(B,me-1),Pe=Ce.stateAfter;if(Pe&&(!r||me+(Pe instanceof En?Pe.lookAhead:0)<=B.modeFrontier))return me;var Ue=N(Ce.text,null,e.options.tabSize);(a==null||n>Ue)&&(a=me-1,n=Ue)}return a}function W(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var a=Rt(e,n).stateAfter;if(a&&(!(a instanceof En)||n+a.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}var ce=!1,x=!1;function fe(){ce=!0}function ke(){x=!0}function De(e,t,r){this.marker=e,this.from=t,this.to=r}function Be(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function Ke(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function at(e,t,r){var n=r&&window.WeakSet&&(r.markedSpans||(r.markedSpans=new WeakSet));n&&n.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],n&&n.add(e.markedSpans)),t.marker.attachLine(e)}function ot(e,t,r){var n;if(e)for(var a=0;a<e.length;++a){var B=e[a],pe=B.marker;if(B.from==null||(pe.inclusiveLeft?B.from<=t:B.from<t)||B.from==t&&pe.type=="bookmark"&&(!r||!B.marker.insertLeft)){var me=B.to==null||(pe.inclusiveRight?B.to>=t:B.to>t);(n||(n=[])).push(new De(pe,B.from,me?null:B.to))}}return n}function bt(e,t,r){var n;if(e)for(var a=0;a<e.length;++a){var B=e[a],pe=B.marker;if(B.to==null||(pe.inclusiveRight?B.to>=t:B.to>t)||B.from==t&&pe.type=="bookmark"&&(!r||B.marker.insertLeft)){var me=B.from==null||(pe.inclusiveLeft?B.from<=t:B.from<t);(n||(n=[])).push(new De(pe,me?null:B.from-t,B.to==null?null:B.to-t))}}return n}function xt(e,t){if(t.full)return null;var r=on(e,t.from.line)&&Rt(e,t.from.line).markedSpans,n=on(e,t.to.line)&&Rt(e,t.to.line).markedSpans;if(!r&&!n)return null;var a=t.from.ch,B=t.to.ch,pe=cn(t.from,t.to)==0,me=ot(r,a,pe),Ce=bt(n,B,pe),Pe=t.text.length==1,Ue=D(t.text).length+(Pe?a:0);if(me)for(var He=0;He<me.length;++He){var st=me[He];if(st.to==null){var lt=Be(Ce,st.marker);lt?Pe&&(st.to=lt.to==null?null:lt.to+Ue):st.to=a}}if(Ce)for(var wt=0;wt<Ce.length;++wt){var Et=Ce[wt];Et.to!=null&&(Et.to+=Ue),Et.from==null?Be(me,Et.marker)||(Et.from=Ue,Pe&&(me||(me=[])).push(Et)):(Et.from+=Ue,Pe&&(me||(me=[])).push(Et))}me&&(me=Dt(me)),Ce&&Ce!=me&&(Ce=Dt(Ce));var zt=[me];if(!Pe){var rn,pn=t.text.length-2;if(pn>0&&me)for(var qt=0;qt<me.length;++qt)me[qt].to==null&&(rn||(rn=[])).push(new De(me[qt].marker,null,null));for(var yn=0;yn<pn;++yn)zt.push(rn);zt.push(Ce)}return zt}function Dt(e){for(var t=0;t<e.length;++t){var r=e[t];r.from!=null&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function Qt(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(lt){if(lt.markedSpans)for(var wt=0;wt<lt.markedSpans.length;++wt){var Et=lt.markedSpans[wt].marker;!Et.readOnly||n&&h(n,Et)!=-1||(n||(n=[])).push(Et)}}),!n)return null;for(var a=[{from:t,to:r}],B=0;B<n.length;++B)for(var pe=n[B],me=pe.find(0),Ce=0;Ce<a.length;++Ce){var Pe=a[Ce];if(!(cn(Pe.to,me.from)<0||cn(Pe.from,me.to)>0)){var Ue=[Ce,1],He=cn(Pe.from,me.from),st=cn(Pe.to,me.to);(He<0||!pe.inclusiveLeft&&!He)&&Ue.push({from:Pe.from,to:me.from}),(st>0||!pe.inclusiveRight&&!st)&&Ue.push({from:me.to,to:Pe.to}),a.splice.apply(a,Ue),Ce+=Ue.length-3}}return a}function an(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function gn(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function Mn(e){return e.inclusiveLeft?-1:0}function Rn(e){return e.inclusiveRight?1:0}function sn(e,t){var r=e.lines.length-t.lines.length;if(r!=0)return r;var n=e.find(),a=t.find(),B=cn(n.from,a.from)||Mn(e)-Mn(t);if(B)return-B;var pe=cn(n.to,a.to)||Rn(e)-Rn(t);return pe||t.id-e.id}function On(e,t){var r,n=x&&e.markedSpans;if(n)for(var a=void 0,B=0;B<n.length;++B)(a=n[B]).marker.collapsed&&(t?a.from:a.to)==null&&(!r||sn(r,a.marker)<0)&&(r=a.marker);return r}function Un(e){return On(e,!0)}function Jn(e){return On(e,!1)}function lr(e,t){var r,n=x&&e.markedSpans;if(n)for(var a=0;a<n.length;++a){var B=n[a];B.marker.collapsed&&(B.from==null||B.from<t)&&(B.to==null||B.to>t)&&(!r||sn(r,B.marker)<0)&&(r=B.marker)}return r}function An(e,t,r,n,a){var B=Rt(e,t),pe=x&&B.markedSpans;if(pe)for(var me=0;me<pe.length;++me){var Ce=pe[me];if(Ce.marker.collapsed){var Pe=Ce.marker.find(0),Ue=cn(Pe.from,r)||Mn(Ce.marker)-Mn(a),He=cn(Pe.to,n)||Rn(Ce.marker)-Rn(a);if(!(Ue>=0&&He<=0||Ue<=0&&He>=0)&&(Ue<=0&&(Ce.marker.inclusiveRight&&a.inclusiveLeft?cn(Pe.to,r)>=0:cn(Pe.to,r)>0)||Ue>=0&&(Ce.marker.inclusiveRight&&a.inclusiveLeft?cn(Pe.from,n)<=0:cn(Pe.from,n)<0)))return!0}}}function Yn(e){for(var t;t=Un(e);)e=t.find(-1,!0).line;return e}function xn(e){for(var t;t=Jn(e);)e=t.find(1,!0).line;return e}function Yt(e){for(var t,r;t=Jn(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function i(e,t){var r=Rt(e,t),n=Yn(r);return r==n?t:Wt(n)}function o(e,t){if(t>e.lastLine())return t;var r,n=Rt(e,t);if(!G(e,n))return t;for(;r=Jn(n);)n=r.find(1,!0).line;return Wt(n)+1}function G(e,t){var r=x&&t.markedSpans;if(r){for(var n=void 0,a=0;a<r.length;++a)if((n=r[a]).marker.collapsed&&(n.from==null||!n.marker.widgetNode&&n.from==0&&n.marker.inclusiveLeft&&_e(e,t,n)))return!0}}function _e(e,t,r){if(r.to==null){var n=r.marker.find(1,!0);return _e(e,n.line,Be(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var a=void 0,B=0;B<t.markedSpans.length;++B)if((a=t.markedSpans[B]).marker.collapsed&&!a.marker.widgetNode&&a.from==r.to&&(a.to==null||a.to!=r.from)&&(a.marker.inclusiveLeft||r.marker.inclusiveRight)&&_e(e,t,a))return!0}function Ze(e){for(var t=0,r=(e=Yn(e)).parent,n=0;n<r.lines.length;++n){var a=r.lines[n];if(a==e)break;t+=a.height}for(var B=r.parent;B;B=(r=B).parent)for(var pe=0;pe<B.children.length;++pe){var me=B.children[pe];if(me==r)break;t+=me.height}return t}function Le(e){if(e.height==0)return 0;for(var t,r=e.text.length,n=e;t=Un(n);){var a=t.find(0,!0);n=a.from.line,r+=a.from.ch-a.to.ch}for(n=e;t=Jn(n);){var B=t.find(0,!0);r-=n.text.length-B.from.ch,r+=(n=B.to.line).text.length-B.to.ch}return r}function Qe(e){var t=e.display,r=e.doc;t.maxLine=Rt(r,r.first),t.maxLineLength=Le(t.maxLine),t.maxLineChanged=!0,r.iter(function(n){var a=Le(n);a>t.maxLineLength&&(t.maxLineLength=a,t.maxLine=n)})}var dt=function(e,t,r){this.text=e,gn(this,t),this.height=r?r(this):1};function kt(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),an(e),gn(e,r);var a=n?n(e):1;a!=e.height&&Nn(e,a)}function Pt(e){e.parent=null,an(e)}dt.prototype.lineNo=function(){return Wt(this)},Ve(dt);var Tt={},Jt={};function Xt(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?Jt:Tt;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function Kt(e,t){var r=Y("span",null,null,j?"padding-right: .1px":null),n={pre:Y("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var a=0;a<=(t.rest?t.rest.length:0);a++){var B=a?t.rest[a-1]:t.line,pe=void 0;n.pos=0,n.addToken=Pn,Zn(e.display.measure)&&(pe=Ft(B,e.doc.direction))&&(n.addToken=Hn(n.addToken,pe)),n.map=[],$r(B,n,er(e,B,t!=e.display.externalMeasured&&Wt(B))),B.styleClasses&&(B.styleClasses.bgClass&&(n.bgClass=v(B.styleClasses.bgClass,n.bgClass||"")),B.styleClasses.textClass&&(n.textClass=v(B.styleClasses.textClass,n.textClass||""))),n.map.length==0&&n.map.push(0,0,n.content.appendChild(en(e.display.measure))),a==0?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(j){var me=n.content.lastChild;(/\bcm-tab\b/.test(me.className)||me.querySelector&&me.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return it(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=v(n.pre.className,n.textClass||"")),n}function mn(e){var t=H("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Pn(e,t,r,n,a,B,pe){if(t){var me,Ce=e.splitSpaces?Fn(t,e.trailingSpace):t,Pe=e.cm.state.specialChars,Ue=!1;if(Pe.test(t)){me=document.createDocumentFragment();for(var He=0;;){Pe.lastIndex=He;var st=Pe.exec(t),lt=st?st.index-He:t.length-He;if(lt){var wt=document.createTextNode(Ce.slice(He,He+lt));k&&d<9?me.appendChild(H("span",[wt])):me.appendChild(wt),e.map.push(e.pos,e.pos+lt,wt),e.col+=lt,e.pos+=lt}if(!st)break;He+=lt+1;var Et=void 0;if(st[0]=="	"){var zt=e.cm.options.tabSize,rn=zt-e.col%zt;(Et=me.appendChild(H("span",C(rn),"cm-tab"))).setAttribute("role","presentation"),Et.setAttribute("cm-text","	"),e.col+=rn}else st[0]=="\r"||st[0]==`
`?((Et=me.appendChild(H("span",st[0]=="\r"?"\u240D":"\u2424","cm-invalidchar"))).setAttribute("cm-text",st[0]),e.col+=1):((Et=e.cm.options.specialCharPlaceholder(st[0])).setAttribute("cm-text",st[0]),k&&d<9?me.appendChild(H("span",[Et])):me.appendChild(Et),e.col+=1);e.map.push(e.pos,e.pos+1,Et),e.pos++}}else e.col+=t.length,me=document.createTextNode(Ce),e.map.push(e.pos,e.pos+t.length,me),k&&d<9&&(Ue=!0),e.pos+=t.length;if(e.trailingSpace=Ce.charCodeAt(t.length-1)==32,r||n||a||Ue||B||pe){var pn=r||"";n&&(pn+=n),a&&(pn+=a);var qt=H("span",[me],pn,B);if(pe)for(var yn in pe)pe.hasOwnProperty(yn)&&yn!="style"&&yn!="class"&&qt.setAttribute(yn,pe[yn]);return e.content.appendChild(qt)}e.content.appendChild(me)}}function Fn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",a=0;a<e.length;a++){var B=e.charAt(a);B!=" "||!r||a!=e.length-1&&e.charCodeAt(a+1)!=32||(B="\xA0"),n+=B,r=B==" "}return n}function Hn(e,t){return function(r,n,a,B,pe,me,Ce){a=a?a+" cm-force-border":"cm-force-border";for(var Pe=r.pos,Ue=Pe+n.length;;){for(var He=void 0,st=0;st<t.length&&!((He=t[st]).to>Pe&&He.from<=Pe);st++);if(He.to>=Ue)return e(r,n,a,B,pe,me,Ce);e(r,n.slice(0,He.to-Pe),a,B,null,me,Ce),B=null,n=n.slice(He.to-Pe),Pe=He.to}}}function Qn(e,t,r,n){var a=!n&&r.widgetNode;a&&e.map.push(e.pos,e.pos+t,a),!n&&e.cm.display.input.needsContentAttribute&&(a||(a=e.content.appendChild(document.createElement("span"))),a.setAttribute("cm-marker",r.id)),a&&(e.cm.display.input.setUneditable(a),e.content.appendChild(a)),e.pos+=t,e.trailingSpace=!1}function $r(e,t,r){var n=e.markedSpans,a=e.text,B=0;if(n)for(var pe,me,Ce,Pe,Ue,He,st,lt=a.length,wt=0,Et=1,zt="",rn=0;;){if(rn==wt){Ce=Pe=Ue=me="",st=null,He=null,rn=1/0;for(var pn=[],qt=void 0,yn=0;yn<n.length;++yn){var vn=n[yn],_n=vn.marker;if(_n.type=="bookmark"&&vn.from==wt&&_n.widgetNode)pn.push(_n);else if(vn.from<=wt&&(vn.to==null||vn.to>wt||_n.collapsed&&vn.to==wt&&vn.from==wt)){if(vn.to!=null&&vn.to!=wt&&rn>vn.to&&(rn=vn.to,Pe=""),_n.className&&(Ce+=" "+_n.className),_n.css&&(me=(me?me+";":"")+_n.css),_n.startStyle&&vn.from==wt&&(Ue+=" "+_n.startStyle),_n.endStyle&&vn.to==rn&&(qt||(qt=[])).push(_n.endStyle,vn.to),_n.title&&((st||(st={})).title=_n.title),_n.attributes)for(var or in _n.attributes)(st||(st={}))[or]=_n.attributes[or];_n.collapsed&&(!He||sn(He.marker,_n)<0)&&(He=vn)}else vn.from>wt&&rn>vn.from&&(rn=vn.from)}if(qt)for(var ar=0;ar<qt.length;ar+=2)qt[ar+1]==rn&&(Pe+=" "+qt[ar]);if(!He||He.from==wt)for(var Mr=0;Mr<pn.length;++Mr)Qn(t,0,pn[Mr]);if(He&&(He.from||0)==wt){if(Qn(t,(He.to==null?lt+1:He.to)-wt,He.marker,He.from==null),He.to==null)return;He.to==wt&&(He=!1)}}if(wt>=lt)break;for(var cr=Math.min(lt,rn);;){if(zt){var Br=wt+zt.length;if(!He){var Dr=Br>cr?zt.slice(0,cr-wt):zt;t.addToken(t,Dr,pe?pe+Ce:Ce,Ue,wt+Dr.length==rn?Pe:"",me,st)}if(Br>=cr){zt=zt.slice(cr-wt),wt=cr;break}wt=Br,Ue=""}zt=a.slice(B,B=r[Et++]),pe=Xt(r[Et++],t.cm.options)}}else for(var hr=1;hr<r.length;hr+=2)t.addToken(t,a.slice(B,B=r[hr]),Xt(r[hr+1],t.cm.options))}function yi(e,t,r){this.line=t,this.rest=Yt(t),this.size=this.rest?Wt(D(this.rest))-r+1:1,this.node=this.text=null,this.hidden=G(e,t)}function Fr(e,t,r){for(var n,a=[],B=t;B<r;B=n){var pe=new yi(e.doc,Rt(e.doc,B),B);n=B+pe.size,a.push(pe)}return a}var Tr=null;function fo(e){Tr?Tr.ops.push(e):e.ownsGroup=Tr={ops:[e],delayedCallbacks:[]}}function ho(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var a=e.ops[n];if(a.cursorActivityHandlers)for(;a.cursorActivityCalled<a.cursorActivityHandlers.length;)a.cursorActivityHandlers[a.cursorActivityCalled++].call(null,a.cm)}}while(r<t.length)}function po(e,t){var r=e.ownsGroup;if(r)try{ho(r)}finally{Tr=null,t(r)}}var Gr=null;function pr(e,t){var r=Ne(e,t);if(r.length){var n,a=Array.prototype.slice.call(arguments,2);Tr?n=Tr.delayedCallbacks:Gr?n=Gr:(n=Gr=[],setTimeout(si,0));for(var B=function(me){n.push(function(){return r[me].apply(null,a)})},pe=0;pe<r.length;++pe)B(pe)}}function si(){var e=Gr;Gr=null;for(var t=0;t<e.length;++t)e[t]()}function Ii(e,t,r,n){for(var a=0;a<t.changes.length;a++){var B=t.changes[a];B=="text"?go(e,t):B=="gutter"?Fi(e,t,r,n):B=="class"?bi(e,t):B=="widget"&&zi(e,t,n)}t.changes=null}function Xr(e){return e.node==e.text&&(e.node=H("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),k&&d<8&&(e.node.style.zIndex=2)),e.node}function li(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var n=Xr(t);t.background=n.insertBefore(H("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}}function Bi(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):Kt(e,t)}function go(e,t){var r=t.text.className,n=Bi(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,bi(e,t)):r&&(t.text.className=r)}function bi(e,t){li(e,t),t.line.wrapClass?Xr(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function Fi(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var a=Xr(t);t.gutterBackground=H("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),a.insertBefore(t.gutterBackground,t.text)}var B=t.line.gutterMarkers;if(e.options.lineNumbers||B){var pe=Xr(t),me=t.gutter=H("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(me.setAttribute("aria-hidden","true"),e.display.input.setUneditable(me),pe.insertBefore(me,t.text),t.line.gutterClass&&(me.className+=" "+t.line.gutterClass),!e.options.lineNumbers||B&&B["CodeMirror-linenumbers"]||(t.lineNumber=me.appendChild(H("div",sr(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),B)for(var Ce=0;Ce<e.display.gutterSpecs.length;++Ce){var Pe=e.display.gutterSpecs[Ce].className,Ue=B.hasOwnProperty(Pe)&&B[Pe];Ue&&me.appendChild(H("div",[Ue],"CodeMirror-gutter-elt","left: "+n.gutterLeft[Pe]+"px; width: "+n.gutterWidth[Pe]+"px"))}}}function zi(e,t,r){t.alignable&&(t.alignable=null);for(var n=M("CodeMirror-linewidget"),a=t.node.firstChild,B=void 0;a;a=B)B=a.nextSibling,n.test(a.className)&&t.node.removeChild(a);mo(e,t,r)}function Vi(e,t,r,n){var a=Bi(e,t);return t.text=t.node=a.pre,a.bgClass&&(t.bgClass=a.bgClass),a.textClass&&(t.textClass=a.textClass),bi(e,t),Fi(e,t,r,n),mo(e,t,n),t.node}function mo(e,t,r){if(wi(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)wi(e,t.rest[n],t,r,!1)}function wi(e,t,r,n,a){if(t.widgets)for(var B=Xr(r),pe=0,me=t.widgets;pe<me.length;++pe){var Ce=me[pe],Pe=H("div",[Ce.node],"CodeMirror-linewidget"+(Ce.className?" "+Ce.className:""));Ce.handleMouseEvents||Pe.setAttribute("cm-ignore-events","true"),Fo(Ce,Pe,r,n),e.display.input.setUneditable(Pe),a&&Ce.above?B.insertBefore(Pe,r.gutter||r.text):B.appendChild(Pe),pr(Ce,"redraw")}}function Fo(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var a=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(a-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=a+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Ae(e){if(e.height!=null)return e.height;var t=e.doc.cm;if(!t)return 0;if(!l(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),ne(t.display.measure,H("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function Re(e,t){for(var r=ht(t);r!=e.wrapper;r=r.parentNode)if(!r||r.nodeType==1&&r.getAttribute("cm-ignore-events")=="true"||r.parentNode==e.sizer&&r!=e.mover)return!0}function Ge(e){return e.lineSpace.offsetTop}function Je(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function pt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=ne(e.measure,H("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function nt(e){return z-e.display.nativeBarWidth}function St(e){return e.display.scroller.clientWidth-nt(e)-e.display.barWidth}function Vt(e){return e.display.scroller.clientHeight-nt(e)-e.display.barHeight}function Ln(e,t,r){var n=e.options.lineWrapping,a=n&&St(e);if(!t.measure.heights||n&&t.measure.width!=a){var B=t.measure.heights=[];if(n){t.measure.width=a;for(var pe=t.text.firstChild.getClientRects(),me=0;me<pe.length-1;me++){var Ce=pe[me],Pe=pe[me+1];Math.abs(Ce.bottom-Pe.bottom)>2&&B.push((Ce.bottom+Pe.top)/2-r.top)}}B.push(r.bottom-r.top)}}function Vn(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var a=0;a<e.rest.length;a++)if(Wt(e.rest[a])>r)return{map:e.measure.maps[a],cache:e.measure.caches[a],before:!0}}function ur(e,t){var r=Wt(t=Yn(t)),n=e.display.externalMeasured=new yi(e.doc,t,r);n.lineN=r;var a=n.built=Kt(e,n);return n.text=a.pre,ne(e.display.lineMeasure,a.pre),n}function Lr(e,t,r,n){return Wr(e,Yr(e,t),r,n)}function xi(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[fi(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Yr(e,t){var r=Wt(t),n=xi(e,r);n&&!n.text?n=null:n&&n.changes&&(Ii(e,n,r,qo(e)),e.curOp.forceUpdate=!0),n||(n=ur(e,t));var a=Vn(n,t,r);return{line:t,view:n,rect:null,map:a.map,cache:a.cache,before:a.before,hasHeights:!1}}function Wr(e,t,r,n,a){t.before&&(r=-1);var B,pe=r+(n||"");return t.cache.hasOwnProperty(pe)?B=t.cache[pe]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ln(e,t.view,t.rect),t.hasHeights=!0),(B=nl(e,t,r,n)).bogus||(t.cache[pe]=B)),{left:B.left,right:B.right,top:a?B.rtop:B.top,bottom:a?B.rbottom:B.bottom}}var ci,ja={left:0,right:0,top:0,bottom:0};function Ca(e,t,r){for(var n,a,B,pe,me,Ce,Pe=0;Pe<e.length;Pe+=3)if(me=e[Pe],Ce=e[Pe+1],t<me?(a=0,B=1,pe="left"):t<Ce?B=1+(a=t-me):(Pe==e.length-3||t==Ce&&e[Pe+3]>t)&&(a=(B=Ce-me)-1,t>=Ce&&(pe="right")),a!=null){if(n=e[Pe+2],me==Ce&&r==(n.insertLeft?"left":"right")&&(pe=r),r=="left"&&a==0)for(;Pe&&e[Pe-2]==e[Pe-3]&&e[Pe-1].insertLeft;)n=e[2+(Pe-=3)],pe="left";if(r=="right"&&a==Ce-me)for(;Pe<e.length-3&&e[Pe+3]==e[Pe+4]&&!e[Pe+5].insertLeft;)n=e[(Pe+=3)+2],pe="right";break}return{node:n,start:a,end:B,collapse:pe,coverStart:me,coverEnd:Ce}}function tl(e,t){var r=ja;if(t=="left")for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var a=e.length-1;a>=0&&(r=e[a]).left==r.right;a--);return r}function nl(e,t,r,n){var a,B=Ca(t.map,r,n),pe=B.node,me=B.start,Ce=B.end,Pe=B.collapse;if(pe.nodeType==3){for(var Ue=0;Ue<4;Ue++){for(;me&&Ie(t.line.text.charAt(B.coverStart+me));)--me;for(;B.coverStart+Ce<B.coverEnd&&Ie(t.line.text.charAt(B.coverStart+Ce));)++Ce;if((a=k&&d<9&&me==0&&Ce==B.coverEnd-B.coverStart?pe.parentNode.getBoundingClientRect():tl(L(pe,me,Ce).getClientRects(),n)).left||a.right||me==0)break;Ce=me,me-=1,Pe="right"}k&&d<11&&(a=rl(e.display.measure,a))}else{var He;me>0&&(Pe=n="right"),a=e.options.lineWrapping&&(He=pe.getClientRects()).length>1?He[n=="right"?He.length-1:0]:pe.getBoundingClientRect()}if(k&&d<9&&!me&&(!a||!a.left&&!a.right)){var st=pe.parentNode.getClientRects()[0];a=st?{left:st.left,right:st.left+ki(e.display),top:st.top,bottom:st.bottom}:ja}for(var lt=a.top-t.rect.top,wt=a.bottom-t.rect.top,Et=(lt+wt)/2,zt=t.view.measure.heights,rn=0;rn<zt.length-1&&!(Et<zt[rn]);rn++);var pn=rn?zt[rn-1]:0,qt=zt[rn],yn={left:(Pe=="right"?a.right:a.left)-t.rect.left,right:(Pe=="left"?a.left:a.right)-t.rect.left,top:pn,bottom:qt};return a.left||a.right||(yn.bogus=!0),e.options.singleCursorHeightPerLine||(yn.rtop=lt,yn.rbottom=wt),yn}function rl(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Mt(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function Sa(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Pa(e){e.display.externalMeasure=null,re(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Sa(e.display.view[t])}function Ui(e){Pa(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Ta(){return f&&Q?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Ea(){return f&&Q?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function zo(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=Ae(e.widgets[r]));return t}function vo(e,t,r,n,a){if(!a){var B=zo(t);r.top+=B,r.bottom+=B}if(n=="line")return r;n||(n="local");var pe=Ze(t);if(n=="local"?pe+=Ge(e.display):pe-=e.display.viewOffset,n=="page"||n=="window"){var me=e.display.lineSpace.getBoundingClientRect();pe+=me.top+(n=="window"?0:Ea());var Ce=me.left+(n=="window"?0:Ta());r.left+=Ce,r.right+=Ce}return r.top+=pe,r.bottom+=pe,r}function Ma(e,t,r){if(r=="div")return t;var n=t.left,a=t.top;if(r=="page")n-=Ta(),a-=Ea();else if(r=="local"||!r){var B=e.display.sizer.getBoundingClientRect();n+=B.left,a+=B.top}var pe=e.display.lineSpace.getBoundingClientRect();return{left:n-pe.left,top:a-pe.top}}function yo(e,t,r,n,a){return n||(n=Rt(e.doc,t.line)),vo(e,n,Lr(e,n,t.ch,a),r)}function zr(e,t,r,n,a,B){function pe(wt,Et){var zt=Wr(e,a,wt,Et?"right":"left",B);return Et?zt.left=zt.right:zt.right=zt.left,vo(e,n,zt,r)}n=n||Rt(e.doc,t.line),a||(a=Yr(e,n));var me=Ft(n,e.doc.direction),Ce=t.ch,Pe=t.sticky;if(Ce>=n.text.length?(Ce=n.text.length,Pe="before"):Ce<=0&&(Ce=0,Pe="after"),!me)return pe(Pe=="before"?Ce-1:Ce,Pe=="before");function Ue(wt,Et,zt){return pe(zt?wt-1:wt,me[Et].level==1!=zt)}var He=Bt(me,Ce,Pe),st=ct,lt=Ue(Ce,He,Pe=="before");return st!=null&&(lt.other=Ue(Ce,st,Pe!="before")),lt}function Da(e,t){var r=0;t=_t(e.doc,t),e.options.lineWrapping||(r=ki(e.display)*t.ch);var n=Rt(e.doc,t.line),a=Ze(n)+Ge(e.display);return{left:r,right:r,top:a,bottom:a+n.height}}function Vo(e,t,r,n,a){var B=Ot(e,t,r);return B.xRel=a,n&&(B.outside=n),B}function Uo(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return Vo(n.first,0,null,-1,-1);var a=hn(n,r),B=n.first+n.size-1;if(a>B)return Vo(n.first+n.size-1,Rt(n,B).text.length,null,1,1);t<0&&(t=0);for(var pe=Rt(n,a);;){var me=il(e,pe,a,t,r),Ce=lr(pe,me.ch+(me.xRel>0||me.outside>0?1:0));if(!Ce)return me;var Pe=Ce.find(1);if(Pe.line==a)return Pe;pe=Rt(n,a=Pe.line)}}function Ra(e,t,r,n){n-=zo(t);var a=t.text.length,B=tt(function(pe){return Wr(e,r,pe-1).bottom<=n},a,0);return{begin:B,end:a=tt(function(pe){return Wr(e,r,pe).top>n},B,a)}}function La(e,t,r,n){return r||(r=Yr(e,t)),Ra(e,t,r,vo(e,t,Wr(e,r,n),"line").top)}function Ho(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function il(e,t,r,n,a){a-=Ze(t);var B=Yr(e,t),pe=zo(t),me=0,Ce=t.text.length,Pe=!0,Ue=Ft(t,e.doc.direction);if(Ue){var He=(e.options.lineWrapping?al:ol)(e,t,r,B,Ue,n,a);me=(Pe=He.level!=1)?He.from:He.to-1,Ce=Pe?He.to:He.from-1}var st,lt,wt=null,Et=null,zt=tt(function(vn){var _n=Wr(e,B,vn);return _n.top+=pe,_n.bottom+=pe,!!Ho(_n,n,a,!1)&&(_n.top<=a&&_n.left<=n&&(wt=vn,Et=_n),!0)},me,Ce),rn=!1;if(Et){var pn=n-Et.left<Et.right-n,qt=pn==Pe;zt=wt+(qt?0:1),lt=qt?"after":"before",st=pn?Et.left:Et.right}else{Pe||zt!=Ce&&zt!=me||zt++,lt=zt==0?"after":zt==t.text.length?"before":Wr(e,B,zt-(Pe?1:0)).bottom+pe<=a==Pe?"after":"before";var yn=zr(e,Ot(r,zt,lt),"line",t,B);st=yn.left,rn=a<yn.top?-1:a>=yn.bottom?1:0}return Vo(r,zt=Xe(t.text,zt,1),lt,rn,n-st)}function ol(e,t,r,n,a,B,pe){var me=tt(function(He){var st=a[He],lt=st.level!=1;return Ho(zr(e,Ot(r,lt?st.to:st.from,lt?"before":"after"),"line",t,n),B,pe,!0)},0,a.length-1),Ce=a[me];if(me>0){var Pe=Ce.level!=1,Ue=zr(e,Ot(r,Pe?Ce.from:Ce.to,Pe?"after":"before"),"line",t,n);Ho(Ue,B,pe,!0)&&Ue.top>pe&&(Ce=a[me-1])}return Ce}function al(e,t,r,n,a,B,pe){var me=Ra(e,t,n,pe),Ce=me.begin,Pe=me.end;/\s/.test(t.text.charAt(Pe-1))&&Pe--;for(var Ue=null,He=null,st=0;st<a.length;st++){var lt=a[st];if(!(lt.from>=Pe||lt.to<=Ce)){var wt=Wr(e,n,lt.level!=1?Math.min(Pe,lt.to)-1:Math.max(Ce,lt.from)).right,Et=wt<B?B-wt+1e9:wt-B;(!Ue||He>Et)&&(Ue=lt,He=Et)}}return Ue||(Ue=a[a.length-1]),Ue.from<Ce&&(Ue={from:Ce,to:Ue.to,level:Ue.level}),Ue.to>Pe&&(Ue={from:Ue.from,to:Pe,level:Ue.level}),Ue}function _i(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(ci==null){ci=H("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)ci.appendChild(document.createTextNode("x")),ci.appendChild(H("br"));ci.appendChild(document.createTextNode("x"))}ne(e.measure,ci);var r=ci.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),re(e.measure),r||1}function ki(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=H("span","xxxxxxxxxx"),r=H("pre",[t],"CodeMirror-line-like");ne(e.measure,r);var n=t.getBoundingClientRect(),a=(n.right-n.left)/10;return a>2&&(e.cachedCharWidth=a),a||10}function qo(e){for(var t=e.display,r={},n={},a=t.gutters.clientLeft,B=t.gutters.firstChild,pe=0;B;B=B.nextSibling,++pe){var me=e.display.gutterSpecs[pe].className;r[me]=B.offsetLeft+B.clientLeft+a,n[me]=B.clientWidth}return{fixedPos:Wo(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function Wo(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Za(e){var t=_i(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/ki(e.display)-3);return function(a){if(G(e.doc,a))return 0;var B=0;if(a.widgets)for(var pe=0;pe<a.widgets.length;pe++)a.widgets[pe].height&&(B+=a.widgets[pe].height);return r?B+(Math.ceil(a.text.length/n)||1)*t:B+t}}function $o(e){var t=e.doc,r=Za(e);t.iter(function(n){var a=r(n);a!=n.height&&Nn(n,a)})}function ui(e,t,r,n){var a=e.display;if(!r&&ht(t).getAttribute("cm-not-content")=="true")return null;var B,pe,me=a.lineSpace.getBoundingClientRect();try{B=t.clientX-me.left,pe=t.clientY-me.top}catch{return null}var Ce,Pe=Uo(e,B,pe);if(n&&Pe.xRel>0&&(Ce=Rt(e.doc,Pe.line).text).length==Pe.ch){var Ue=N(Ce,Ce.length,e.options.tabSize)-Ce.length;Pe=Ot(Pe.line,Math.max(0,Math.round((B-pt(e.display).left)/ki(e.display))-Ue))}return Pe}function fi(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function jr(e,t,r,n){t==null&&(t=e.doc.first),r==null&&(r=e.doc.first+e.doc.size),n||(n=0);var a=e.display;if(n&&r<a.viewTo&&(a.updateLineNumbers==null||a.updateLineNumbers>t)&&(a.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=a.viewTo)x&&i(e.doc,t)<a.viewTo&&ei(e);else if(r<=a.viewFrom)x&&o(e.doc,r+n)>a.viewFrom?ei(e):(a.viewFrom+=n,a.viewTo+=n);else if(t<=a.viewFrom&&r>=a.viewTo)ei(e);else if(t<=a.viewFrom){var B=bo(e,r,r+n,1);B?(a.view=a.view.slice(B.index),a.viewFrom=B.lineN,a.viewTo+=n):ei(e)}else if(r>=a.viewTo){var pe=bo(e,t,t,-1);pe?(a.view=a.view.slice(0,pe.index),a.viewTo=pe.lineN):ei(e)}else{var me=bo(e,t,t,-1),Ce=bo(e,r,r+n,1);me&&Ce?(a.view=a.view.slice(0,me.index).concat(Fr(e,me.lineN,Ce.lineN)).concat(a.view.slice(Ce.index)),a.viewTo+=n):ei(e)}var Pe=a.externalMeasured;Pe&&(r<Pe.lineN?Pe.lineN+=n:t<Pe.lineN+Pe.size&&(a.externalMeasured=null))}function Qr(e,t,r){e.curOp.viewChanged=!0;var n=e.display,a=e.display.externalMeasured;if(a&&t>=a.lineN&&t<a.lineN+a.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var B=n.view[fi(e,t)];if(B.node!=null){var pe=B.changes||(B.changes=[]);h(pe,r)==-1&&pe.push(r)}}}function ei(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function bo(e,t,r,n){var a,B=fi(e,t),pe=e.display.view;if(!x||r==e.doc.first+e.doc.size)return{index:B,lineN:r};for(var me=e.display.viewFrom,Ce=0;Ce<B;Ce++)me+=pe[Ce].size;if(me!=t){if(n>0){if(B==pe.length-1)return null;a=me+pe[B].size-t,B++}else a=me-t;t+=a,r+=a}for(;i(e.doc,r)!=r;){if(B==(n<0?0:pe.length-1))return null;r+=n*pe[B-(n<0?1:0)].size,B+=n}return{index:B,lineN:r}}function sl(e,t,r){var n=e.display;n.view.length==0||t>=n.viewTo||r<=n.viewFrom?(n.view=Fr(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=Fr(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(fi(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(Fr(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,fi(e,r)))),n.viewTo=r}function Na(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var a=t[n];a.hidden||a.node&&!a.changes||++r}return r}function Hi(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Ia(e,t){t===void 0&&(t=!0);for(var r=e.doc,n={},a=n.cursors=document.createDocumentFragment(),B=n.selection=document.createDocumentFragment(),pe=0;pe<r.sel.ranges.length;pe++)if(t||pe!=r.sel.primIndex){var me=r.sel.ranges[pe];if(!(me.from().line>=e.display.viewTo||me.to().line<e.display.viewFrom)){var Ce=me.empty();(Ce||e.options.showCursorWhenSelecting)&&Ba(e,me.head,a),Ce||ll(e,me,B)}}return n}function Ba(e,t,r){var n=zr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),a=r.appendChild(H("div","\xA0","CodeMirror-cursor"));if(a.style.left=n.left+"px",a.style.top=n.top+"px",a.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var B=yo(e,t,"div",null,null);B.right-B.left>0&&(a.style.width=B.right-B.left+"px")}if(n.other){var pe=r.appendChild(H("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));pe.style.display="",pe.style.left=n.other.left+"px",pe.style.top=n.other.top+"px",pe.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function wo(e,t){return e.top-t.top||e.left-t.left}function ll(e,t,r){var n=e.display,a=e.doc,B=document.createDocumentFragment(),pe=pt(e.display),me=pe.left,Ce=Math.max(n.sizerWidth,St(e)-n.sizer.offsetLeft)-pe.right,Pe=a.direction=="ltr";function Ue(qt,yn,vn,_n){yn<0&&(yn=0),yn=Math.round(yn),_n=Math.round(_n),B.appendChild(H("div",null,"CodeMirror-selected","position: absolute; left: "+qt+`px;
                             top: `+yn+"px; width: "+(vn==null?Ce-qt:vn)+`px;
                             height: `+(_n-yn)+"px"))}function He(qt,yn,vn){var _n,or,ar=Rt(a,qt),Mr=ar.text.length;function cr(hr,Sr){return yo(e,Ot(qt,hr),"div",ar,Sr)}function Br(hr,Sr,Or){var mr=La(e,ar,null,hr),gr=Sr=="ltr"==(Or=="after")?"left":"right";return cr(Or=="after"?mr.begin:mr.end-(/\s/.test(ar.text.charAt(mr.end-1))?2:1),gr)[gr]}var Dr=Ft(ar,a.direction);return gt(Dr,yn||0,vn==null?Mr:vn,function(hr,Sr,Or,mr){var gr=Or=="ltr",vr=cr(hr,gr?"left":"right"),Pr=cr(Sr-1,gr?"right":"left"),ai=yn==null&&hr==0,Hr=vn==null&&Sr==Mr,_r=mr==0,yr=!Dr||mr==Dr.length-1;if(Pr.top-vr.top<=3){var ba=(Pe?Hr:ai)&&yr,Jr=(Pe?ai:Hr)&&_r?me:(gr?vr:Pr).left,mi=ba?Ce:(gr?Pr:vr).right;Ue(Jr,vr.top,mi-Jr,vr.bottom)}else{var vi,Ar,Zi,wa;gr?(vi=Pe&&ai&&_r?me:vr.left,Ar=Pe?Ce:Br(hr,Or,"before"),Zi=Pe?me:Br(Sr,Or,"after"),wa=Pe&&Hr&&yr?Ce:Pr.right):(vi=Pe?Br(hr,Or,"before"):me,Ar=!Pe&&ai&&_r?Ce:vr.right,Zi=!Pe&&Hr&&yr?me:Pr.left,wa=Pe?Br(Sr,Or,"after"):Ce),Ue(vi,vr.top,Ar-vi,vr.bottom),vr.bottom<Pr.top&&Ue(me,vr.bottom,null,Pr.top),Ue(Zi,Pr.top,wa-Zi,Pr.bottom)}(!_n||wo(vr,_n)<0)&&(_n=vr),wo(Pr,_n)<0&&(_n=Pr),(!or||wo(vr,or)<0)&&(or=vr),wo(Pr,or)<0&&(or=Pr)}),{start:_n,end:or}}var st=t.from(),lt=t.to();if(st.line==lt.line)He(st.line,st.ch,lt.ch);else{var wt=Rt(a,st.line),Et=Rt(a,lt.line),zt=Yn(wt)==Yn(Et),rn=He(st.line,st.ch,zt?wt.text.length+1:null).end,pn=He(lt.line,zt?0:null,lt.ch).start;zt&&(rn.top<pn.top-2?(Ue(rn.right,rn.top,null,rn.bottom),Ue(me,pn.top,pn.left,pn.bottom)):Ue(rn.right,rn.top,pn.left-rn.right,rn.bottom)),rn.bottom<pn.top&&Ue(me,rn.bottom,null,pn.top)}r.appendChild(B)}function Go(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||Oi(e),t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Fa(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Ko(e))}function Yo(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Oi(e))},100)}function Ko(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(it(e,"focus",e,t),e.state.focused=!0,g(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),j&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Go(e))}function Oi(e,t){e.state.delayingBlurEvent||(e.state.focused&&(it(e,"blur",e,t),e.state.focused=!1,F(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function xo(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=Math.max(0,t.scroller.getBoundingClientRect().top),a=t.lineDiv.getBoundingClientRect().top,B=0,pe=0;pe<t.view.length;pe++){var me=t.view[pe],Ce=e.options.lineWrapping,Pe=void 0,Ue=0;if(!me.hidden){if(a+=me.line.height,k&&d<8){var He=me.node.offsetTop+me.node.offsetHeight;Pe=He-r,r=He}else{var st=me.node.getBoundingClientRect();Pe=st.bottom-st.top,!Ce&&me.text.firstChild&&(Ue=me.text.firstChild.getBoundingClientRect().right-st.left-1)}var lt=me.line.height-Pe;if((lt>.005||lt<-.005)&&(a<n&&(B-=lt),Nn(me.line,Pe),za(me.line),me.rest))for(var wt=0;wt<me.rest.length;wt++)za(me.rest[wt]);if(Ue>e.display.sizerWidth){var Et=Math.ceil(Ue/ki(e.display));Et>e.display.maxLineLength&&(e.display.maxLineLength=Et,e.display.maxLine=me.line,e.display.maxLineChanged=!0)}}}Math.abs(B)>2&&(t.scroller.scrollTop+=B)}function za(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function _o(e,t,r){var n=r&&r.top!=null?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Ge(e));var a=r&&r.bottom!=null?r.bottom:n+e.wrapper.clientHeight,B=hn(t,n),pe=hn(t,a);if(r&&r.ensure){var me=r.ensure.from.line,Ce=r.ensure.to.line;me<B?(B=me,pe=hn(t,Ze(Rt(t,me))+e.wrapper.clientHeight)):Math.min(Ce,t.lastLine())>=pe&&(B=hn(t,Ze(Rt(t,Ce))-e.wrapper.clientHeight),pe=Ce)}return{from:B,to:Math.max(pe,B+1)}}function cl(e,t){if(!vt(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),a=null;if(t.top+n.top<0?a=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(a=!1),a!=null&&!E){var B=H("div","\u200B",null,`position: absolute;
                         top: `+(t.top-r.viewOffset-Ge(e.display))+`px;
                         height: `+(t.bottom-t.top+nt(e)+r.barHeight)+`px;
                         left: `+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(B),B.scrollIntoView(a),e.display.lineSpace.removeChild(B)}}}function ul(e,t,r,n){var a;n==null&&(n=0),e.options.lineWrapping||t!=r||(r=t.sticky=="before"?Ot(t.line,t.ch+1,"before"):t,t=t.ch?Ot(t.line,t.sticky=="before"?t.ch-1:t.ch,"after"):t);for(var B=0;B<5;B++){var pe=!1,me=zr(e,t),Ce=r&&r!=t?zr(e,r):me,Pe=Jo(e,a={left:Math.min(me.left,Ce.left),top:Math.min(me.top,Ce.top)-n,right:Math.max(me.left,Ce.left),bottom:Math.max(me.bottom,Ce.bottom)+n}),Ue=e.doc.scrollTop,He=e.doc.scrollLeft;if(Pe.scrollTop!=null&&(Wi(e,Pe.scrollTop),Math.abs(e.doc.scrollTop-Ue)>1&&(pe=!0)),Pe.scrollLeft!=null&&(hi(e,Pe.scrollLeft),Math.abs(e.doc.scrollLeft-He)>1&&(pe=!0)),!pe)break}return a}function fl(e,t){var r=Jo(e,t);r.scrollTop!=null&&Wi(e,r.scrollTop),r.scrollLeft!=null&&hi(e,r.scrollLeft)}function Jo(e,t){var r=e.display,n=_i(e.display);t.top<0&&(t.top=0);var a=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:r.scroller.scrollTop,B=Vt(e),pe={};t.bottom-t.top>B&&(t.bottom=t.top+B);var me=e.doc.height+Je(r),Ce=t.top<n,Pe=t.bottom>me-n;if(t.top<a)pe.scrollTop=Ce?0:t.top;else if(t.bottom>a+B){var Ue=Math.min(t.top,(Pe?me:t.bottom)-B);Ue!=a&&(pe.scrollTop=Ue)}var He=e.options.fixedGutter?0:r.gutters.offsetWidth,st=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:r.scroller.scrollLeft-He,lt=St(e)-r.gutters.offsetWidth,wt=t.right-t.left>lt;return wt&&(t.right=t.left+lt),t.left<10?pe.scrollLeft=0:t.left<st?pe.scrollLeft=Math.max(0,t.left+He-(wt?0:10)):t.right>lt+st-3&&(pe.scrollLeft=t.right+(wt?0:10)-lt),pe}function Xo(e,t){t!=null&&(ko(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Ai(e){ko(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function qi(e,t,r){t==null&&r==null||ko(e),t!=null&&(e.curOp.scrollLeft=t),r!=null&&(e.curOp.scrollTop=r)}function hl(e,t){ko(e),e.curOp.scrollToPos=t}function ko(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Va(e,Da(e,t.from),Da(e,t.to),t.margin))}function Va(e,t,r,n){var a=Jo(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});qi(e,a.scrollLeft,a.scrollTop)}function Wi(e,t){Math.abs(e.doc.scrollTop-t)<2||(A||ea(e,{top:t}),Ua(e,t,!0),A&&ea(e),Yi(e,100))}function Ua(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function hi(e,t,r,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,Ga(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function $i(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+Je(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+nt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var pi=function(e,t,r){this.cm=r;var n=this.vert=H("div",[H("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),a=this.horiz=H("div",[H("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=a.tabIndex=-1,e(n),e(a),Ee(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),Ee(a,"scroll",function(){a.clientWidth&&t(a.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,k&&d<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};pi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var a=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+a)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var B=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+B)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(n==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},pi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},pi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},pi.prototype.zeroWidthHack=function(){var e=te&&!w?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new b,this.disableVert=new b},pi.prototype.enableZeroWidthBar=function(e,t,r){function n(){var a=e.getBoundingClientRect();(r=="vert"?document.elementFromPoint(a.right-1,(a.top+a.bottom)/2):document.elementFromPoint((a.right+a.left)/2,a.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},pi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Gi=function(){};function ji(e,t){t||(t=$i(e));var r=e.display.barWidth,n=e.display.barHeight;Ha(e,t);for(var a=0;a<4&&r!=e.display.barWidth||n!=e.display.barHeight;a++)r!=e.display.barWidth&&e.options.lineWrapping&&xo(e),Ha(e,$i(e)),r=e.display.barWidth,n=e.display.barHeight}function Ha(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}Gi.prototype.update=function(){return{bottom:0,right:0}},Gi.prototype.setScrollLeft=function(){},Gi.prototype.setScrollTop=function(){},Gi.prototype.clear=function(){};var qa={native:pi,null:Gi};function Wa(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&F(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new qa[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Ee(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){r=="horizontal"?hi(e,t):Wi(e,t)},e),e.display.scrollbars.addClass&&g(e.display.wrapper,e.display.scrollbars.addClass)}var pl=0;function di(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++pl,markArrays:null},fo(e.curOp)}function gi(e){var t=e.curOp;t&&po(t,function(r){for(var n=0;n<r.ops.length;n++)r.ops[n].cm.curOp=null;dl(r)})}function dl(e){for(var t=e.ops,r=0;r<t.length;r++)gl(t[r]);for(var n=0;n<t.length;n++)ml(t[n]);for(var a=0;a<t.length;a++)vl(t[a]);for(var B=0;B<t.length;B++)yl(t[B]);for(var pe=0;pe<t.length;pe++)bl(t[pe])}function gl(e){var t=e.cm,r=t.display;xl(t),e.updateMaxLine&&Qe(t),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Oo(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function ml(e){e.updatedDisplay=e.mustUpdate&&Qo(e.cm,e.update)}function vl(e){var t=e.cm,r=t.display;e.updatedDisplay&&xo(t),e.barMeasure=$i(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Lr(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+nt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-St(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function yl(e){var t=e.cm;e.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&hi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==y();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&ji(t,e.barMeasure),e.updatedDisplay&&na(t,e.barMeasure),e.selectionChanged&&Go(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&Fa(e.cm)}function bl(e){var t=e.cm,r=t.display,n=t.doc;e.updatedDisplay&&$a(t,e.update),r.wheelStartX==null||e.scrollTop==null&&e.scrollLeft==null&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),e.scrollTop!=null&&Ua(t,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&hi(t,e.scrollLeft,!0,!0),e.scrollToPos&&cl(t,ul(t,_t(n,e.scrollToPos.from),_t(n,e.scrollToPos.to),e.scrollToPos.margin));var a=e.maybeHiddenMarkers,B=e.maybeUnhiddenMarkers;if(a)for(var pe=0;pe<a.length;++pe)a[pe].lines.length||it(a[pe],"hide");if(B)for(var me=0;me<B.length;++me)B[me].lines.length&&it(B[me],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&it(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Er(e,t){if(e.curOp)return t();di(e);try{return t()}finally{gi(e)}}function br(e,t){return function(){if(e.curOp)return t.apply(e,arguments);di(e);try{return t.apply(e,arguments)}finally{gi(e)}}}function kr(e){return function(){if(this.curOp)return e.apply(this,arguments);di(this);try{return e.apply(this,arguments)}finally{gi(this)}}}function wr(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);di(t);try{return e.apply(this,arguments)}finally{gi(t)}}}function Yi(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,ae(wl,e))}function wl(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=Kn(e,t.highlightFrontier),a=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(B){if(n.line>=e.display.viewFrom){var pe=B.styles,me=B.text.length>e.options.maxHighlightLength?Sn(t.mode,n.state):null,Ce=nr(e,B,n,!0);me&&(n.state=me),B.styles=Ce.styles;var Pe=B.styleClasses,Ue=Ce.classes;Ue?B.styleClasses=Ue:Pe&&(B.styleClasses=null);for(var He=!pe||pe.length!=B.styles.length||Pe!=Ue&&(!Pe||!Ue||Pe.bgClass!=Ue.bgClass||Pe.textClass!=Ue.textClass),st=0;!He&&st<pe.length;++st)He=pe[st]!=B.styles[st];He&&a.push(n.line),B.stateAfter=n.save(),n.nextLine()}else B.text.length<=e.options.maxHighlightLength&&Xn(e,B.text,n),B.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return Yi(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),a.length&&Er(e,function(){for(var B=0;B<a.length;B++)Qr(e,a[B],"text")})}}var Oo=function(e,t,r){var n=e.display;this.viewport=t,this.visible=_o(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=St(e),this.force=r,this.dims=qo(e),this.events=[]};function xl(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=nt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=nt(e)+"px",t.scrollbarsClipped=!0)}function _l(e){if(e.hasFocus())return null;var t=y();if(!t||!l(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&l(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}function kl(e){if(e&&e.activeElt&&e.activeElt!=y()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&l(document.body,e.anchorNode)&&l(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}function Qo(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return ei(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&Na(e)==0)return!1;Ya(e)&&(ei(e),t.dims=qo(e));var a=n.first+n.size,B=Math.max(t.visible.from-e.options.viewportMargin,n.first),pe=Math.min(a,t.visible.to+e.options.viewportMargin);r.viewFrom<B&&B-r.viewFrom<20&&(B=Math.max(n.first,r.viewFrom)),r.viewTo>pe&&r.viewTo-pe<20&&(pe=Math.min(a,r.viewTo)),x&&(B=i(e.doc,B),pe=o(e.doc,pe));var me=B!=r.viewFrom||pe!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;sl(e,B,pe),r.viewOffset=Ze(Rt(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var Ce=Na(e);if(!me&&Ce==0&&!t.force&&r.renderedView==r.view&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo))return!1;var Pe=_l(e);return Ce>4&&(r.lineDiv.style.display="none"),Ol(e,r.updateLineNumbers,t.dims),Ce>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,kl(Pe),re(r.cursorDiv),re(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,me&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,Yi(e,400)),r.updateLineNumbers=null,!0}function $a(e,t){for(var r=t.viewport,n=!0;;n=!1){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=St(e))n&&(t.visible=_o(e.display,e.doc,r));else if(r&&r.top!=null&&(r={top:Math.min(e.doc.height+Je(e.display)-Vt(e),r.top)}),t.visible=_o(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Qo(e,t))break;xo(e);var a=$i(e);Hi(e),ji(e,a),na(e,a),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function ea(e,t){var r=new Oo(e,t);if(Qo(e,r)){xo(e),$a(e,r);var n=$i(e);Hi(e),ji(e,n),na(e,n),r.finish()}}function Ol(e,t,r){var n=e.display,a=e.options.lineNumbers,B=n.lineDiv,pe=B.firstChild;function me(wt){var Et=wt.nextSibling;return j&&te&&e.display.currentWheelTarget==wt?wt.style.display="none":wt.parentNode.removeChild(wt),Et}for(var Ce=n.view,Pe=n.viewFrom,Ue=0;Ue<Ce.length;Ue++){var He=Ce[Ue];if(!He.hidden)if(He.node&&He.node.parentNode==B){for(;pe!=He.node;)pe=me(pe);var st=a&&t!=null&&t<=Pe&&He.lineNumber;He.changes&&(h(He.changes,"gutter")>-1&&(st=!1),Ii(e,He,Pe,r)),st&&(re(He.lineNumber),He.lineNumber.appendChild(document.createTextNode(sr(e.options,Pe)))),pe=He.node.nextSibling}else{var lt=Vi(e,He,Pe,r);B.insertBefore(lt,pe)}Pe+=He.size}for(;pe;)pe=me(pe)}function ta(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",pr(e,"gutterChanged",e)}function na(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+nt(e)+"px"}function Ga(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=Wo(t)-t.scroller.scrollLeft+e.doc.scrollLeft,a=t.gutters.offsetWidth,B=n+"px",pe=0;pe<r.length;pe++)if(!r[pe].hidden){e.options.fixedGutter&&(r[pe].gutter&&(r[pe].gutter.style.left=B),r[pe].gutterBackground&&(r[pe].gutterBackground.style.left=B));var me=r[pe].alignable;if(me)for(var Ce=0;Ce<me.length;Ce++)me[Ce].style.left=B}e.options.fixedGutter&&(t.gutters.style.left=n+a+"px")}}function Ya(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=sr(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var a=n.measure.appendChild(H("div",[H("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),B=a.firstChild.offsetWidth,pe=a.offsetWidth-B;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(B,n.lineGutter.offsetWidth-pe)+1,n.lineNumWidth=n.lineNumInnerWidth+pe,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",ta(e.display),!0}return!1}function ra(e,t){for(var r=[],n=!1,a=0;a<e.length;a++){var B=e[a],pe=null;if(typeof B!="string"&&(pe=B.style,B=B.className),B=="CodeMirror-linenumbers"){if(!t)continue;n=!0}r.push({className:B,style:pe})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function Ka(e){var t=e.gutters,r=e.gutterSpecs;re(t),e.lineGutter=null;for(var n=0;n<r.length;++n){var a=r[n],B=a.className,pe=a.style,me=t.appendChild(H("div",null,"CodeMirror-gutter "+B));pe&&(me.style.cssText=pe),B=="CodeMirror-linenumbers"&&(e.lineGutter=me,me.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",ta(e)}function Ki(e){Ka(e.display),jr(e),Ga(e)}function Al(e,t,r,n){var a=this;this.input=r,a.scrollbarFiller=H("div",null,"CodeMirror-scrollbar-filler"),a.scrollbarFiller.setAttribute("cm-not-content","true"),a.gutterFiller=H("div",null,"CodeMirror-gutter-filler"),a.gutterFiller.setAttribute("cm-not-content","true"),a.lineDiv=Y("div",null,"CodeMirror-code"),a.selectionDiv=H("div",null,null,"position: relative; z-index: 1"),a.cursorDiv=H("div",null,"CodeMirror-cursors"),a.measure=H("div",null,"CodeMirror-measure"),a.lineMeasure=H("div",null,"CodeMirror-measure"),a.lineSpace=Y("div",[a.measure,a.lineMeasure,a.selectionDiv,a.cursorDiv,a.lineDiv],null,"position: relative; outline: none");var B=Y("div",[a.lineSpace],"CodeMirror-lines");a.mover=H("div",[B],null,"position: relative"),a.sizer=H("div",[a.mover],"CodeMirror-sizer"),a.sizerWidth=null,a.heightForcer=H("div",null,null,"position: absolute; height: "+z+"px; width: 1px;"),a.gutters=H("div",null,"CodeMirror-gutters"),a.lineGutter=null,a.scroller=H("div",[a.sizer,a.heightForcer,a.gutters],"CodeMirror-scroll"),a.scroller.setAttribute("tabIndex","-1"),a.wrapper=H("div",[a.scrollbarFiller,a.gutterFiller,a.scroller],"CodeMirror"),a.wrapper.setAttribute("translate","no"),k&&d<8&&(a.gutters.style.zIndex=-1,a.scroller.style.paddingRight=0),j||A&&J||(a.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(a.wrapper):e(a.wrapper)),a.viewFrom=a.viewTo=t.first,a.reportedViewFrom=a.reportedViewTo=t.first,a.view=[],a.renderedView=null,a.externalMeasured=null,a.viewOffset=0,a.lastWrapHeight=a.lastWrapWidth=0,a.updateLineNumbers=null,a.nativeBarWidth=a.barHeight=a.barWidth=0,a.scrollbarsClipped=!1,a.lineNumWidth=a.lineNumInnerWidth=a.lineNumChars=null,a.alignWidgets=!1,a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.maxLine=null,a.maxLineLength=0,a.maxLineChanged=!1,a.wheelDX=a.wheelDY=a.wheelStartX=a.wheelStartY=null,a.shift=!1,a.selForContextMenu=null,a.activeTouch=null,a.gutterSpecs=ra(n.gutters,n.lineNumbers),Ka(a),r.init(a)}Oo.prototype.signal=function(e,t){tn(e,t)&&this.events.push(arguments)},Oo.prototype.finish=function(){for(var e=0;e<this.events.length;e++)it.apply(null,this.events[e])};var Ao=0,Zr=null;function Ja(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),r==null&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:r==null&&(r=e.wheelDelta),{x:t,y:r}}function jl(e){var t=Ja(e);return t.x*=Zr,t.y*=Zr,t}function Xa(e,t){var r=Ja(t),n=r.x,a=r.y,B=e.display,pe=B.scroller,me=pe.scrollWidth>pe.clientWidth,Ce=pe.scrollHeight>pe.clientHeight;if(n&&me||a&&Ce){if(a&&te&&j){e:for(var Pe=t.target,Ue=B.view;Pe!=pe;Pe=Pe.parentNode)for(var He=0;He<Ue.length;He++)if(Ue[He].node==Pe){e.display.currentWheelTarget=Pe;break e}}if(n&&!A&&!c&&Zr!=null)return a&&Ce&&Wi(e,Math.max(0,pe.scrollTop+a*Zr)),hi(e,Math.max(0,pe.scrollLeft+n*Zr)),(!a||a&&Ce)&&et(t),void(B.wheelStartX=null);if(a&&Zr!=null){var st=a*Zr,lt=e.doc.scrollTop,wt=lt+B.wrapper.clientHeight;st<0?lt=Math.max(0,lt+st-50):wt=Math.min(e.doc.height,wt+st+50),ea(e,{top:lt,bottom:wt})}Ao<20&&(B.wheelStartX==null?(B.wheelStartX=pe.scrollLeft,B.wheelStartY=pe.scrollTop,B.wheelDX=n,B.wheelDY=a,setTimeout(function(){if(B.wheelStartX!=null){var Et=pe.scrollLeft-B.wheelStartX,zt=pe.scrollTop-B.wheelStartY,rn=zt&&B.wheelDY&&zt/B.wheelDY||Et&&B.wheelDX&&Et/B.wheelDX;B.wheelStartX=B.wheelStartY=null,rn&&(Zr=(Zr*Ao+rn)/(Ao+1),++Ao)}},200)):(B.wheelDX+=n,B.wheelDY+=a))}}k?Zr=-.53:A?Zr=15:f?Zr=-.7:m&&(Zr=-.3333333333333333);var Nr=function(e,t){this.ranges=e,this.primIndex=t};Nr.prototype.primary=function(){return this.ranges[this.primIndex]},Nr.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!Me(r.anchor,n.anchor)||!Me(r.head,n.head))return!1}return!0},Nr.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new tr(Fe(this.ranges[t].anchor),Fe(this.ranges[t].head));return new Nr(e,this.primIndex)},Nr.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},Nr.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(cn(t,n.from())>=0&&cn(e,n.to())<=0)return r}return-1};var tr=function(e,t){this.anchor=e,this.head=t};function Vr(e,t,r){var n=e&&e.options.selectionsMayTouch,a=t[r];t.sort(function(st,lt){return cn(st.from(),lt.from())}),r=h(t,a);for(var B=1;B<t.length;B++){var pe=t[B],me=t[B-1],Ce=cn(me.to(),pe.from());if(n&&!pe.empty()?Ce>0:Ce>=0){var Pe=It(me.from(),pe.from()),Ue=mt(me.to(),pe.to()),He=me.empty()?pe.from()==pe.head:me.from()==me.head;B<=r&&--r,t.splice(--B,2,new tr(He?Ue:Pe,He?Pe:Ue))}}return new Nr(t,r)}function ti(e,t){return new Nr([new tr(e,t||e)],0)}function ni(e){return e.text?Ot(e.from.line+e.text.length-1,D(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function Qa(e,t){if(cn(e,t.from)<0)return e;if(cn(e,t.to)<=0)return ni(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=ni(t).ch-t.to.ch),Ot(r,n)}function ia(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var a=e.sel.ranges[n];r.push(new tr(Qa(a.anchor,t),Qa(a.head,t)))}return Vr(e.cm,r,e.sel.primIndex)}function es(e,t,r){return e.line==t.line?Ot(r.line,e.ch-t.ch+r.ch):Ot(r.line+(e.line-t.line),e.ch)}function Cl(e,t,r){for(var n=[],a=Ot(e.first,0),B=a,pe=0;pe<t.length;pe++){var me=t[pe],Ce=es(me.from,a,B),Pe=es(ni(me),a,B);if(a=me.to,B=Pe,r=="around"){var Ue=e.sel.ranges[pe],He=cn(Ue.head,Ue.anchor)<0;n[pe]=new tr(He?Pe:Ce,He?Ce:Pe)}else n[pe]=new tr(Ce,Ce)}return new Nr(n,e.sel.primIndex)}function oa(e){e.doc.mode=bn(e.options,e.doc.modeOption),Ji(e)}function Ji(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Yi(e,100),e.state.modeGen++,e.curOp&&jr(e)}function ts(e,t){return t.from.ch==0&&t.to.ch==0&&D(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function aa(e,t,r,n){function a(pn){return r?r[pn]:null}function B(pn,qt,yn){kt(pn,qt,yn,n),pr(pn,"change",pn,t)}function pe(pn,qt){for(var yn=[],vn=pn;vn<qt;++vn)yn.push(new dt(Pe[vn],a(vn),n));return yn}var me=t.from,Ce=t.to,Pe=t.text,Ue=Rt(e,me.line),He=Rt(e,Ce.line),st=D(Pe),lt=a(Pe.length-1),wt=Ce.line-me.line;if(t.full)e.insert(0,pe(0,Pe.length)),e.remove(Pe.length,e.size-Pe.length);else if(ts(e,t)){var Et=pe(0,Pe.length-1);B(He,He.text,lt),wt&&e.remove(me.line,wt),Et.length&&e.insert(me.line,Et)}else if(Ue==He)if(Pe.length==1)B(Ue,Ue.text.slice(0,me.ch)+st+Ue.text.slice(Ce.ch),lt);else{var zt=pe(1,Pe.length-1);zt.push(new dt(st+Ue.text.slice(Ce.ch),lt,n)),B(Ue,Ue.text.slice(0,me.ch)+Pe[0],a(0)),e.insert(me.line+1,zt)}else if(Pe.length==1)B(Ue,Ue.text.slice(0,me.ch)+Pe[0]+He.text.slice(Ce.ch),a(0)),e.remove(me.line+1,wt);else{B(Ue,Ue.text.slice(0,me.ch)+Pe[0],a(0)),B(He,st+He.text.slice(Ce.ch),lt);var rn=pe(1,Pe.length-1);wt>1&&e.remove(me.line+1,wt-1),e.insert(me.line+1,rn)}pr(e,"change",e,t)}function ri(e,t,r){function n(a,B,pe){if(a.linked)for(var me=0;me<a.linked.length;++me){var Ce=a.linked[me];if(Ce.doc!=B){var Pe=pe&&Ce.sharedHist;r&&!Pe||(t(Ce.doc,Pe),n(Ce.doc,a,Pe))}}}n(e,null,!0)}function ns(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,$o(e),oa(e),rs(e),e.options.direction=t.direction,e.options.lineWrapping||Qe(e),e.options.mode=t.modeOption,jr(e)}function rs(e){(e.doc.direction=="rtl"?g:F)(e.display.lineDiv,"CodeMirror-rtl")}function Sl(e){Er(e,function(){rs(e),jr(e)})}function jo(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function sa(e,t){var r={from:Fe(t.from),to:ni(t),text:Dn(e,t.from,t.to)};return as(e,r,t.from.line,t.to.line+1),ri(e,function(n){return as(n,r,t.from.line,t.to.line+1)},!0),r}function is(e){for(;e.length&&D(e).ranges;)e.pop()}function Pl(e,t){return t?(is(e.done),D(e.done)):e.done.length&&!D(e.done).ranges?D(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),D(e.done)):void 0}function os(e,t,r,n){var a=e.history;a.undone.length=0;var B,pe,me=+new Date;if((a.lastOp==n||a.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&a.lastModTime>me-(e.cm?e.cm.options.historyEventDelay:500)||t.origin.charAt(0)=="*"))&&(B=Pl(a,a.lastOp==n)))pe=D(B.changes),cn(t.from,t.to)==0&&cn(t.from,pe.to)==0?pe.to=ni(t):B.changes.push(sa(e,t));else{var Ce=D(a.done);for(Ce&&Ce.ranges||Co(e.sel,a.done),B={changes:[sa(e,t)],generation:a.generation},a.done.push(B);a.done.length>a.undoDepth;)a.done.shift(),a.done[0].ranges||a.done.shift()}a.done.push(r),a.generation=++a.maxGeneration,a.lastModTime=a.lastSelTime=me,a.lastOp=a.lastSelOp=n,a.lastOrigin=a.lastSelOrigin=t.origin,pe||it(e,"historyAdded")}function Tl(e,t,r,n){var a=t.charAt(0);return a=="*"||a=="+"&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function El(e,t,r,n){var a=e.history,B=n&&n.origin;r==a.lastSelOp||B&&a.lastSelOrigin==B&&(a.lastModTime==a.lastSelTime&&a.lastOrigin==B||Tl(e,B,D(a.done),t))?a.done[a.done.length-1]=t:Co(t,a.done),a.lastSelTime=+new Date,a.lastSelOrigin=B,a.lastSelOp=r,n&&n.clearRedo!==!1&&is(a.undone)}function Co(e,t){var r=D(t);r&&r.ranges&&r.equals(e)||t.push(e)}function as(e,t,r,n){var a=t["spans_"+e.id],B=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(pe){pe.markedSpans&&((a||(a=t["spans_"+e.id]={}))[B]=pe.markedSpans),++B})}function Ml(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function Dl(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],a=0;a<t.text.length;++a)n.push(Ml(r[a]));return n}function ss(e,t){var r=Dl(e,t),n=xt(e,t);if(!r)return n;if(!n)return r;for(var a=0;a<r.length;++a){var B=r[a],pe=n[a];if(B&&pe)e:for(var me=0;me<pe.length;++me){for(var Ce=pe[me],Pe=0;Pe<B.length;++Pe)if(B[Pe].marker==Ce.marker)continue e;B.push(Ce)}else pe&&(r[a]=pe)}return r}function Ci(e,t,r){for(var n=[],a=0;a<e.length;++a){var B=e[a];if(B.ranges)n.push(r?Nr.prototype.deepCopy.call(B):B);else{var pe=B.changes,me=[];n.push({changes:me});for(var Ce=0;Ce<pe.length;++Ce){var Pe=pe[Ce],Ue=void 0;if(me.push({from:Pe.from,to:Pe.to,text:Pe.text}),t)for(var He in Pe)(Ue=He.match(/^spans_(\d+)$/))&&h(t,Number(Ue[1]))>-1&&(D(me)[He]=Pe[He],delete Pe[He])}}}return n}function la(e,t,r,n){if(n){var a=e.anchor;if(r){var B=cn(t,a)<0;B!=cn(r,a)<0?(a=t,t=r):B!=cn(t,r)<0&&(t=r)}return new tr(a,t)}return new tr(r||t,t)}function So(e,t,r,n,a){a==null&&(a=e.cm&&(e.cm.display.shift||e.extend)),xr(e,new Nr([la(e.sel.primary(),t,r,a)],0),n)}function ls(e,t,r){for(var n=[],a=e.cm&&(e.cm.display.shift||e.extend),B=0;B<e.sel.ranges.length;B++)n[B]=la(e.sel.ranges[B],t[B],null,a);xr(e,Vr(e.cm,n,e.sel.primIndex),r)}function ca(e,t,r,n){var a=e.sel.ranges.slice(0);a[t]=r,xr(e,Vr(e.cm,a,e.sel.primIndex),n)}function cs(e,t,r,n){xr(e,ti(t,r),n)}function Rl(e,t,r){var n={ranges:t.ranges,update:function(a){this.ranges=[];for(var B=0;B<a.length;B++)this.ranges[B]=new tr(_t(e,a[B].anchor),_t(e,a[B].head))},origin:r&&r.origin};return it(e,"beforeSelectionChange",e,n),e.cm&&it(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?Vr(e.cm,n.ranges,n.ranges.length-1):t}function us(e,t,r){var n=e.history.done,a=D(n);a&&a.ranges?(n[n.length-1]=t,Po(e,t,r)):xr(e,t,r)}function xr(e,t,r){Po(e,t,r),El(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Po(e,t,r){(tn(e,"beforeSelectionChange")||e.cm&&tn(e.cm,"beforeSelectionChange"))&&(t=Rl(e,t,r));var n=r&&r.bias||(cn(t.primary().head,e.sel.primary().head)<0?-1:1);fs(e,ps(e,t,n,!0)),r&&r.scroll===!1||!e.cm||e.cm.getOption("readOnly")=="nocursor"||Ai(e.cm)}function fs(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,jt(e.cm)),pr(e,"cursorActivity",e))}function hs(e){fs(e,ps(e,e.sel,null,!1))}function ps(e,t,r,n){for(var a,B=0;B<t.ranges.length;B++){var pe=t.ranges[B],me=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[B],Ce=To(e,pe.anchor,me&&me.anchor,r,n),Pe=To(e,pe.head,me&&me.head,r,n);(a||Ce!=pe.anchor||Pe!=pe.head)&&(a||(a=t.ranges.slice(0,B)),a[B]=new tr(Ce,Pe))}return a?Vr(e.cm,a,t.primIndex):t}function Si(e,t,r,n,a){var B=Rt(e,t.line);if(B.markedSpans)for(var pe=0;pe<B.markedSpans.length;++pe){var me=B.markedSpans[pe],Ce=me.marker,Pe="selectLeft"in Ce?!Ce.selectLeft:Ce.inclusiveLeft,Ue="selectRight"in Ce?!Ce.selectRight:Ce.inclusiveRight;if((me.from==null||(Pe?me.from<=t.ch:me.from<t.ch))&&(me.to==null||(Ue?me.to>=t.ch:me.to>t.ch))){if(a&&(it(Ce,"beforeCursorEnter"),Ce.explicitlyCleared)){if(B.markedSpans){--pe;continue}break}if(!Ce.atomic)continue;if(r){var He=Ce.find(n<0?1:-1),st=void 0;if((n<0?Ue:Pe)&&(He=ds(e,He,-n,He&&He.line==t.line?B:null)),He&&He.line==t.line&&(st=cn(He,r))&&(n<0?st<0:st>0))return Si(e,He,t,n,a)}var lt=Ce.find(n<0?-1:1);return(n<0?Pe:Ue)&&(lt=ds(e,lt,n,lt.line==t.line?B:null)),lt?Si(e,lt,t,n,a):null}}return t}function To(e,t,r,n,a){var B=n||1,pe=Si(e,t,r,B,a)||!a&&Si(e,t,r,B,!0)||Si(e,t,r,-B,a)||!a&&Si(e,t,r,-B,!0);return pe||(e.cantEdit=!0,Ot(e.first,0))}function ds(e,t,r,n){return r<0&&t.ch==0?t.line>e.first?_t(e,Ot(t.line-1)):null:r>0&&t.ch==(n||Rt(e,t.line)).text.length?t.line<e.first+e.size-1?Ot(t.line+1,0):null:new Ot(t.line,t.ch+r)}function gs(e){e.setSelection(Ot(e.firstLine(),0),Ot(e.lastLine()),T)}function ms(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(a,B,pe,me){a&&(n.from=_t(e,a)),B&&(n.to=_t(e,B)),pe&&(n.text=pe),me!==void 0&&(n.origin=me)}),it(e,"beforeChange",e,n),e.cm&&it(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Pi(e,t,r){if(e.cm){if(!e.cm.curOp)return br(e.cm,Pi)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(tn(e,"beforeChange")||e.cm&&tn(e.cm,"beforeChange"))||(t=ms(e,t,!0))){var n=ce&&!r&&Qt(e,t.from,t.to);if(n)for(var a=n.length-1;a>=0;--a)vs(e,{from:n[a].from,to:n[a].to,text:a?[""]:t.text,origin:t.origin});else vs(e,t)}}function vs(e,t){if(t.text.length!=1||t.text[0]!=""||cn(t.from,t.to)!=0){var r=ia(e,t);os(e,t,r,e.cm?e.cm.curOp.id:NaN),Xi(e,t,r,xt(e,t));var n=[];ri(e,function(a,B){B||h(n,a.history)!=-1||(xs(a.history,t),n.push(a.history)),Xi(a,t,null,xt(a,t))})}}function Eo(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var a,B=e.history,pe=e.sel,me=t=="undo"?B.done:B.undone,Ce=t=="undo"?B.undone:B.done,Pe=0;Pe<me.length&&(a=me[Pe],r?!a.ranges||a.equals(e.sel):a.ranges);Pe++);if(Pe!=me.length){for(B.lastOrigin=B.lastSelOrigin=null;;){if(!(a=me.pop()).ranges){if(n)return void me.push(a);break}if(Co(a,Ce),r&&!a.equals(e.sel))return void xr(e,a,{clearRedo:!1});pe=a}var Ue=[];Co(pe,Ce),Ce.push({changes:Ue,generation:B.generation}),B.generation=a.generation||++B.maxGeneration;for(var He=tn(e,"beforeChange")||e.cm&&tn(e.cm,"beforeChange"),st=function(Et){var zt=a.changes[Et];if(zt.origin=t,He&&!ms(e,zt,!1))return me.length=0,{};Ue.push(sa(e,zt));var rn=Et?ia(e,zt):D(me);Xi(e,zt,rn,ss(e,zt)),!Et&&e.cm&&e.cm.scrollIntoView({from:zt.from,to:ni(zt)});var pn=[];ri(e,function(qt,yn){yn||h(pn,qt.history)!=-1||(xs(qt.history,zt),pn.push(qt.history)),Xi(qt,zt,null,ss(qt,zt))})},lt=a.changes.length-1;lt>=0;--lt){var wt=st(lt);if(wt)return wt.v}}}}function ys(e,t){if(t!=0&&(e.first+=t,e.sel=new Nr(le(e.sel.ranges,function(a){return new tr(Ot(a.anchor.line+t,a.anchor.ch),Ot(a.head.line+t,a.head.ch))}),e.sel.primIndex),e.cm)){jr(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)Qr(e.cm,n,"gutter")}}function Xi(e,t,r,n){if(e.cm&&!e.cm.curOp)return br(e.cm,Xi)(e,t,r,n);if(t.to.line<e.first)ys(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var a=t.text.length-1-(e.first-t.from.line);ys(e,a),t={from:Ot(e.first,0),to:Ot(t.to.line+a,t.to.ch),text:[D(t.text)],origin:t.origin}}var B=e.lastLine();t.to.line>B&&(t={from:t.from,to:Ot(B,Rt(e,B).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Dn(e,t.from,t.to),r||(r=ia(e,t)),e.cm?Ll(e.cm,t,n):aa(e,t,n),Po(e,r,T),e.cantEdit&&To(e,Ot(e.firstLine(),0))&&(e.cantEdit=!1)}}function Ll(e,t,r){var n=e.doc,a=e.display,B=t.from,pe=t.to,me=!1,Ce=B.line;e.options.lineWrapping||(Ce=Wt(Yn(Rt(n,B.line))),n.iter(Ce,pe.line+1,function(lt){if(lt==a.maxLine)return me=!0,!0})),n.sel.contains(t.from,t.to)>-1&&jt(e),aa(n,t,r,Za(e)),e.options.lineWrapping||(n.iter(Ce,B.line+t.text.length,function(lt){var wt=Le(lt);wt>a.maxLineLength&&(a.maxLine=lt,a.maxLineLength=wt,a.maxLineChanged=!0,me=!1)}),me&&(e.curOp.updateMaxLine=!0)),W(n,B.line),Yi(e,400);var Pe=t.text.length-(pe.line-B.line)-1;t.full?jr(e):B.line!=pe.line||t.text.length!=1||ts(e.doc,t)?jr(e,B.line,pe.line+1,Pe):Qr(e,B.line,"text");var Ue=tn(e,"changes"),He=tn(e,"change");if(He||Ue){var st={from:B,to:pe,text:t.text,removed:t.removed,origin:t.origin};He&&pr(e,"change",e,st),Ue&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(st)}e.display.selForContextMenu=null}function Ti(e,t,r,n,a){var B;n||(n=r),cn(n,r)<0&&(r=(B=[n,r])[0],n=B[1]),typeof t=="string"&&(t=e.splitLines(t)),Pi(e,{from:r,to:n,text:t,origin:a})}function bs(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function ws(e,t,r,n){for(var a=0;a<e.length;++a){var B=e[a],pe=!0;if(B.ranges){B.copied||((B=e[a]=B.deepCopy()).copied=!0);for(var me=0;me<B.ranges.length;me++)bs(B.ranges[me].anchor,t,r,n),bs(B.ranges[me].head,t,r,n)}else{for(var Ce=0;Ce<B.changes.length;++Ce){var Pe=B.changes[Ce];if(r<Pe.from.line)Pe.from=Ot(Pe.from.line+n,Pe.from.ch),Pe.to=Ot(Pe.to.line+n,Pe.to.ch);else if(t<=Pe.to.line){pe=!1;break}}pe||(e.splice(0,a+1),a=0)}}}function xs(e,t){var r=t.from.line,n=t.to.line,a=t.text.length-(n-r)-1;ws(e.done,r,n,a),ws(e.undone,r,n,a)}function Qi(e,t,r,n){var a=t,B=t;return typeof t=="number"?B=Rt(e,rt(e,t)):a=Wt(t),a==null?null:(n(B,a)&&e.cm&&Qr(e.cm,a,r),B)}function eo(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function to(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var a=e[n];t+=a.chunkSize(),r+=a.height,a.parent=this}this.size=t,this.height=r,this.parent=null}tr.prototype.from=function(){return It(this.anchor,this.head)},tr.prototype.to=function(){return mt(this.anchor,this.head)},tr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},eo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var a=this.lines[r];this.height-=a.height,Pt(a),pr(a,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},to.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],a=n.chunkSize();if(e<a){var B=Math.min(t,a-e),pe=n.height;if(n.removeInner(e,B),this.height-=pe-n.height,a==B&&(this.children.splice(r--,1),n.parent=null),(t-=B)==0)break;e=0}else e-=a}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof eo))){var me=[];this.collapse(me),this.children=[new eo(me)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var a=this.children[n],B=a.chunkSize();if(e<=B){if(a.insertInner(e,t,r),a.lines&&a.lines.length>50){for(var pe=a.lines.length%25+25,me=pe;me<a.lines.length;){var Ce=new eo(a.lines.slice(me,me+=25));a.height-=Ce.height,this.children.splice(++n,0,Ce),Ce.parent=this}a.lines=a.lines.slice(0,pe),this.maybeSpill()}break}e-=B}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new to(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=h(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new to(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var a=this.children[n],B=a.chunkSize();if(e<B){var pe=Math.min(t,B-e);if(a.iterN(e,pe,r))return!0;if((t-=pe)==0)break;e=0}else e-=B}}};var no=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};function _s(e,t,r){Ze(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Xo(e,r)}function Zl(e,t,r,n){var a=new no(e,r,n),B=e.cm;return B&&a.noHScroll&&(B.display.alignWidgets=!0),Qi(e,t,"widget",function(pe){var me=pe.widgets||(pe.widgets=[]);if(a.insertAt==null?me.push(a):me.splice(Math.min(me.length,Math.max(0,a.insertAt)),0,a),a.line=pe,B&&!G(e,pe)){var Ce=Ze(pe)<e.scrollTop;Nn(pe,pe.height+Ae(a)),Ce&&Xo(B,a.height),B.curOp.forceUpdate=!0}return!0}),B&&pr(B,"lineWidgetAdded",B,a,typeof t=="number"?t:Wt(t)),a}no.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=Wt(r);if(n!=null&&t){for(var a=0;a<t.length;++a)t[a]==this&&t.splice(a--,1);t.length||(r.widgets=null);var B=Ae(this);Nn(r,Math.max(0,r.height-B)),e&&(Er(e,function(){_s(e,r,-B),Qr(e,n,"widget")}),pr(e,"lineWidgetCleared",e,this,n))}},no.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var a=Ae(this)-t;a&&(G(this.doc,n)||Nn(n,n.height+a),r&&Er(r,function(){r.curOp.forceUpdate=!0,_s(r,n,a),pr(r,"lineWidgetChanged",r,e,Wt(n))}))},Ve(no);var ks=0,ii=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ks};function Ei(e,t,r,n,a){if(n&&n.shared)return Nl(e,t,r,n,a);if(e.cm&&!e.cm.curOp)return br(e.cm,Ei)(e,t,r,n,a);var B=new ii(e,a),pe=cn(t,r);if(n&&K(n,B,!1),pe>0||pe==0&&B.clearWhenEmpty!==!1)return B;if(B.replacedWith&&(B.collapsed=!0,B.widgetNode=Y("span",[B.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||B.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(B.widgetNode.insertLeft=!0)),B.collapsed){if(An(e,t.line,t,r,B)||t.line!=r.line&&An(e,r.line,t,r,B))throw new Error("Inserting collapsed marker partially overlapping an existing one");ke()}B.addToHistory&&os(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var me,Ce=t.line,Pe=e.cm;if(e.iter(Ce,r.line+1,function(He){Pe&&B.collapsed&&!Pe.options.lineWrapping&&Yn(He)==Pe.display.maxLine&&(me=!0),B.collapsed&&Ce!=t.line&&Nn(He,0),at(He,new De(B,Ce==t.line?t.ch:null,Ce==r.line?r.ch:null),e.cm&&e.cm.curOp),++Ce}),B.collapsed&&e.iter(t.line,r.line+1,function(He){G(e,He)&&Nn(He,0)}),B.clearOnEnter&&Ee(B,"beforeCursorEnter",function(){return B.clear()}),B.readOnly&&(fe(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),B.collapsed&&(B.id=++ks,B.atomic=!0),Pe){if(me&&(Pe.curOp.updateMaxLine=!0),B.collapsed)jr(Pe,t.line,r.line+1);else if(B.className||B.startStyle||B.endStyle||B.css||B.attributes||B.title)for(var Ue=t.line;Ue<=r.line;Ue++)Qr(Pe,Ue,"text");B.atomic&&hs(Pe.doc),pr(Pe,"markerAdded",Pe,B)}return B}ii.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&di(e),tn(this,"clear")){var r=this.find();r&&pr(this,"clear",r.from,r.to)}for(var n=null,a=null,B=0;B<this.lines.length;++B){var pe=this.lines[B],me=Be(pe.markedSpans,this);e&&!this.collapsed?Qr(e,Wt(pe),"text"):e&&(me.to!=null&&(a=Wt(pe)),me.from!=null&&(n=Wt(pe))),pe.markedSpans=Ke(pe.markedSpans,me),me.from==null&&this.collapsed&&!G(this.doc,pe)&&e&&Nn(pe,_i(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var Ce=0;Ce<this.lines.length;++Ce){var Pe=Yn(this.lines[Ce]),Ue=Le(Pe);Ue>e.display.maxLineLength&&(e.display.maxLine=Pe,e.display.maxLineLength=Ue,e.display.maxLineChanged=!0)}n!=null&&e&&this.collapsed&&jr(e,n,a+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&hs(e.doc)),e&&pr(e,"markerCleared",e,this,n,a),t&&gi(e),this.parent&&this.parent.clear()}},ii.prototype.find=function(e,t){var r,n;e==null&&this.type=="bookmark"&&(e=1);for(var a=0;a<this.lines.length;++a){var B=this.lines[a],pe=Be(B.markedSpans,this);if(pe.from!=null&&(r=Ot(t?B:Wt(B),pe.from),e==-1))return r;if(pe.to!=null&&(n=Ot(t?B:Wt(B),pe.to),e==1))return n}return r&&{from:r,to:n}},ii.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&Er(n,function(){var a=t.line,B=Wt(t.line),pe=xi(n,B);if(pe&&(Sa(pe),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!G(r.doc,a)&&r.height!=null){var me=r.height;r.height=null;var Ce=Ae(r)-me;Ce&&Nn(a,a.height+Ce)}pr(n,"markerChanged",n,e)})},ii.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&h(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ii.prototype.detachLine=function(e){if(this.lines.splice(h(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Ve(ii);var ro=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};function Nl(e,t,r,n,a){(n=K(n)).shared=!1;var B=[Ei(e,t,r,n,a)],pe=B[0],me=n.widgetNode;return ri(e,function(Ce){me&&(n.widgetNode=me.cloneNode(!0)),B.push(Ei(Ce,_t(Ce,t),_t(Ce,r),n,a));for(var Pe=0;Pe<Ce.linked.length;++Pe)if(Ce.linked[Pe].isParent)return;pe=D(B)}),new ro(B,pe)}function Os(e){return e.findMarks(Ot(e.first,0),e.clipPos(Ot(e.lastLine())),function(t){return t.parent})}function Il(e,t){for(var r=0;r<t.length;r++){var n=t[r],a=n.find(),B=e.clipPos(a.from),pe=e.clipPos(a.to);if(cn(B,pe)){var me=Ei(e,B,pe,n.primary,n.primary.type);n.markers.push(me),me.parent=n}}}function Bl(e){for(var t=function(n){var a=e[n],B=[a.primary.doc];ri(a.primary.doc,function(Ce){return B.push(Ce)});for(var pe=0;pe<a.markers.length;pe++){var me=a.markers[pe];h(B,me.doc)==-1&&(me.parent=null,a.markers.splice(pe--,1))}},r=0;r<e.length;r++)t(r)}ro.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();pr(this,"clear")}},ro.prototype.find=function(e,t){return this.primary.find(e,t)},Ve(ro);var Fl=0,Cr=function(e,t,r,n,a){if(!(this instanceof Cr))return new Cr(e,t,r,n,a);r==null&&(r=0),to.call(this,[new eo([new dt("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var B=Ot(r,0);this.sel=ti(B),this.history=new jo(null),this.id=++Fl,this.modeOption=t,this.lineSep=n,this.direction=a=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),aa(this,{from:B,to:B,text:e}),xr(this,ti(B),T)};Cr.prototype=oe(to.prototype,{constructor:Cr,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Bn(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:wr(function(e){var t=Ot(this.first,0),r=this.first+this.size-1;Pi(this,{from:t,to:Ot(r,Rt(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&qi(this.cm,0,0),xr(this,ti(t),T)}),replaceRange:function(e,t,r,n){Ti(this,e,t=_t(this,t),r=r?_t(this,r):t,n)},getRange:function(e,t,r){var n=Dn(this,_t(this,e),_t(this,t));return r===!1?n:r===""?n.join(""):n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(on(this,e))return Rt(this,e)},getLineNumber:function(e){return Wt(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=Rt(this,e)),Yn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return _t(this,e)},getCursor:function(e){var t=this.sel.primary();return e==null||e=="head"?t.head:e=="anchor"?t.anchor:e=="end"||e=="to"||e===!1?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:wr(function(e,t,r){cs(this,_t(this,typeof e=="number"?Ot(e,t||0):e),null,r)}),setSelection:wr(function(e,t,r){cs(this,_t(this,e),_t(this,t||e),r)}),extendSelection:wr(function(e,t,r){So(this,_t(this,e),t&&_t(this,t),r)}),extendSelections:wr(function(e,t){ls(this,fn(this,e),t)}),extendSelectionsBy:wr(function(e,t){ls(this,fn(this,le(this.sel.ranges,e)),t)}),setSelections:wr(function(e,t,r){if(e.length){for(var n=[],a=0;a<e.length;a++)n[a]=new tr(_t(this,e[a].anchor),_t(this,e[a].head||e[a].anchor));t==null&&(t=Math.min(e.length-1,this.sel.primIndex)),xr(this,Vr(this.cm,n,t),r)}}),addSelection:wr(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new tr(_t(this,e),_t(this,t||e))),xr(this,Vr(this.cm,n,n.length-1),r)}),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var a=Dn(this,r[n].from(),r[n].to());t=t?t.concat(a):a}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var a=Dn(this,r[n].from(),r[n].to());e!==!1&&(a=a.join(e||this.lineSeparator())),t[n]=a}return t},replaceSelection:function(e,t,r){for(var n=[],a=0;a<this.sel.ranges.length;a++)n[a]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:wr(function(e,t,r){for(var n=[],a=this.sel,B=0;B<a.ranges.length;B++){var pe=a.ranges[B];n[B]={from:pe.from(),to:pe.to(),text:this.splitLines(e[B]),origin:r}}for(var me=t&&t!="end"&&Cl(this,n,t),Ce=n.length-1;Ce>=0;Ce--)Pi(this,n[Ce]);me?us(this,me):this.cm&&Ai(this.cm)}),undo:wr(function(){Eo(this,"undo")}),redo:wr(function(){Eo(this,"redo")}),undoSelection:wr(function(){Eo(this,"undo",!0)}),redoSelection:wr(function(){Eo(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var a=0;a<e.undone.length;a++)e.undone[a].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new jo(this.history),ri(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Ci(this.history.done),undone:Ci(this.history.undone)}},setHistory:function(e){var t=this.history=new jo(this.history);t.done=Ci(e.done.slice(0),null,!0),t.undone=Ci(e.undone.slice(0),null,!0)},setGutterMarker:wr(function(e,t,r){return Qi(this,e,"gutter",function(n){var a=n.gutterMarkers||(n.gutterMarkers={});return a[t]=r,!r&&Se(a)&&(n.gutterMarkers=null),!0})}),clearGutter:wr(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&Qi(t,r,"gutter",function(){return r.gutterMarkers[e]=null,Se(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if(typeof e=="number"){if(!on(this,e)||(t=e,!(e=Rt(this,e))))return null}else if((t=Wt(e))==null)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:wr(function(e,t,r){return Qi(this,e,t=="gutter"?"gutter":"class",function(n){var a=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(n[a]){if(M(r).test(n[a]))return!1;n[a]+=" "+r}else n[a]=r;return!0})}),removeLineClass:wr(function(e,t,r){return Qi(this,e,t=="gutter"?"gutter":"class",function(n){var a=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",B=n[a];if(!B)return!1;if(r==null)n[a]=null;else{var pe=B.match(M(r));if(!pe)return!1;var me=pe.index+pe[0].length;n[a]=B.slice(0,pe.index)+(pe.index&&me!=B.length?" ":"")+B.slice(me)||null}return!0})}),addLineWidget:wr(function(e,t,r){return Zl(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Ei(this,_t(this,e),_t(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Ei(this,e=_t(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=Rt(this,(e=_t(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var a=r[n];(a.from==null||a.from<=e.ch)&&(a.to==null||a.to>=e.ch)&&t.push(a.marker.parent||a.marker)}return t},findMarks:function(e,t,r){e=_t(this,e),t=_t(this,t);var n=[],a=e.line;return this.iter(e.line,t.line+1,function(B){var pe=B.markedSpans;if(pe)for(var me=0;me<pe.length;me++){var Ce=pe[me];Ce.to!=null&&a==e.line&&e.ch>=Ce.to||Ce.from==null&&a!=e.line||Ce.from!=null&&a==t.line&&Ce.from>=t.ch||r&&!r(Ce.marker)||n.push(Ce.marker.parent||Ce.marker)}++a}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)r[n].from!=null&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(a){var B=a.text.length+n;if(B>e)return t=e,!0;e-=B,++r}),_t(this,Ot(r,t))},indexFromPos:function(e){var t=(e=_t(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(n){t+=n.text.length+r}),t},copy:function(e){var t=new Cr(Bn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<r&&(r=e.to);var n=new Cr(Bn(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Il(n,Os(this)),n},unlinkDoc:function(e){if(e instanceof fr&&(e=e.doc),this.linked){for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Bl(Os(this));break}}if(e.history==this.history){var r=[e.id];ri(e,function(n){return r.push(n.id)},!0),e.history=new jo(null),e.history.done=Ci(this.history.done,r),e.history.undone=Ci(this.history.undone,r)}},iterLinkedDocs:function(e){ri(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):$e(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:wr(function(e){e!="rtl"&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(t){return t.order=null}),this.cm&&Sl(this.cm))})}),Cr.prototype.eachLine=Cr.prototype.iter;var As=0;function zl(e){var t=this;if(js(t),!vt(t,e)&&!Re(t.display,e)){et(e),k&&(As=+new Date);var r=ui(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var a=n.length,B=Array(a),pe=0,me=function(){++pe==a&&br(t,function(){var lt={from:r=_t(t.doc,r),to:r,text:t.doc.splitLines(B.filter(function(wt){return wt!=null}).join(t.doc.lineSeparator())),origin:"paste"};Pi(t.doc,lt),us(t.doc,ti(_t(t.doc,r),_t(t.doc,ni(lt))))})()},Ce=function(lt,wt){if(t.options.allowDropFileTypes&&h(t.options.allowDropFileTypes,lt.type)==-1)me();else{var Et=new FileReader;Et.onerror=function(){return me()},Et.onload=function(){var zt=Et.result;/[\x00-\x08\x0e-\x1f]{2}/.test(zt)||(B[wt]=zt),me()},Et.readAsText(lt)}},Pe=0;Pe<n.length;Pe++)Ce(n[Pe],Pe);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var Ue=e.dataTransfer.getData("Text");if(Ue){var He;if(t.state.draggingText&&!t.state.draggingText.copy&&(He=t.listSelections()),Po(t.doc,ti(r,r)),He)for(var st=0;st<He.length;++st)Ti(t.doc,"",He[st].anchor,He[st].head,"drag");t.replaceSelection(Ue,"around","paste"),t.display.input.focus()}}catch{}}}}function Vl(e,t){if(k&&(!e.state.draggingText||+new Date-As<100))yt(t);else if(!vt(e,t)&&!Re(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!m)){var r=H("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",c&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),c&&r.parentNode.removeChild(r)}}function Ul(e,t){var r=ui(e,t);if(r){var n=document.createDocumentFragment();Ba(e,r,n),e.display.dragCursor||(e.display.dragCursor=H("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),ne(e.display.dragCursor,n)}}function js(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Cs(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<t.length;n++){var a=t[n].CodeMirror;a&&r.push(a)}r.length&&r[0].operation(function(){for(var B=0;B<r.length;B++)e(r[B])})}}var Ss=!1;function Hl(){Ss||(ql(),Ss=!0)}function ql(){var e;Ee(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,Cs(Wl)},100))}),Ee(window,"blur",function(){return Cs(Oi)})}function Wl(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var oi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},io=0;io<10;io++)oi[io+48]=oi[io+96]=String(io);for(var Mo=65;Mo<=90;Mo++)oi[Mo]=String.fromCharCode(Mo);for(var oo=1;oo<=12;oo++)oi[oo+111]=oi[oo+63235]="F"+oo;var Kr={};function $l(e){var t,r,n,a,B=e.split(/-(?!$)/);e=B[B.length-1];for(var pe=0;pe<B.length-1;pe++){var me=B[pe];if(/^(cmd|meta|m)$/i.test(me))a=!0;else if(/^a(lt)?$/i.test(me))t=!0;else if(/^(c|ctrl|control)$/i.test(me))r=!0;else{if(!/^s(hift)?$/i.test(me))throw new Error("Unrecognized modifier name: "+me);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),a&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Gl(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if(n=="..."){delete e[r];continue}for(var a=le(r.split(" "),$l),B=0;B<a.length;B++){var pe=void 0,me=void 0;B==a.length-1?(me=a.join(" "),pe=n):(me=a.slice(0,B+1).join(" "),pe="...");var Ce=t[me];if(Ce){if(Ce!=pe)throw new Error("Inconsistent bindings for "+me)}else t[me]=pe}delete e[r]}for(var Pe in t)e[Pe]=t[Pe];return e}function Mi(e,t,r,n){var a=(t=Do(t)).call?t.call(e,n):t[e];if(a===!1)return"nothing";if(a==="...")return"multi";if(a!=null&&r(a))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return Mi(e,t.fallthrough,r,n);for(var B=0;B<t.fallthrough.length;B++){var pe=Mi(e,t.fallthrough[B],r,n);if(pe)return pe}}}function Ps(e){var t=typeof e=="string"?e:oi[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function Ts(e,t,r){var n=e;return t.altKey&&n!="Alt"&&(e="Alt-"+e),(ve?t.metaKey:t.ctrlKey)&&n!="Ctrl"&&(e="Ctrl-"+e),(ve?t.ctrlKey:t.metaKey)&&n!="Mod"&&(e="Cmd-"+e),!r&&t.shiftKey&&n!="Shift"&&(e="Shift-"+e),e}function Es(e,t){if(c&&e.keyCode==34&&e.char)return!1;var r=oi[e.keyCode];return r!=null&&!e.altGraphKey&&(e.keyCode==3&&e.code&&(r=e.code),Ts(r,e,t))}function Do(e){return typeof e=="string"?Kr[e]:e}function Di(e,t){for(var r=e.doc.sel.ranges,n=[],a=0;a<r.length;a++){for(var B=t(r[a]);n.length&&cn(B.from,D(n).to)<=0;){var pe=n.pop();if(cn(pe.from,B.from)<0){B.from=pe.from;break}}n.push(B)}Er(e,function(){for(var me=n.length-1;me>=0;me--)Ti(e.doc,"",n[me].from,n[me].to,"+delete");Ai(e)})}function ua(e,t,r){var n=Xe(e.text,t+r,r);return n<0||n>e.text.length?null:n}function fa(e,t,r){var n=ua(e,t.ch,r);return n==null?null:new Ot(t.line,n,r<0?"after":"before")}function ha(e,t,r,n,a){if(e){t.doc.direction=="rtl"&&(a=-a);var B=Ft(r,t.doc.direction);if(B){var pe,me=a<0?D(B):B[0],Ce=a<0==(me.level==1)?"after":"before";if(me.level>0||t.doc.direction=="rtl"){var Pe=Yr(t,r);pe=a<0?r.text.length-1:0;var Ue=Wr(t,Pe,pe).top;pe=tt(function(He){return Wr(t,Pe,He).top==Ue},a<0==(me.level==1)?me.from:me.to-1,pe),Ce=="before"&&(pe=ua(r,pe,1))}else pe=a<0?me.to:me.from;return new Ot(n,pe,Ce)}}return new Ot(n,a<0?r.text.length:0,a<0?"before":"after")}function Yl(e,t,r,n){var a=Ft(t,e.doc.direction);if(!a)return fa(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var B=Bt(a,r.ch,r.sticky),pe=a[B];if(e.doc.direction=="ltr"&&pe.level%2==0&&(n>0?pe.to>r.ch:pe.from<r.ch))return fa(t,r,n);var me,Ce=function(rn,pn){return ua(t,rn instanceof Ot?rn.ch:rn,pn)},Pe=function(rn){return e.options.lineWrapping?(me=me||Yr(e,t),La(e,t,me,rn)):{begin:0,end:t.text.length}},Ue=Pe(r.sticky=="before"?Ce(r,-1):r.ch);if(e.doc.direction=="rtl"||pe.level==1){var He=pe.level==1==n<0,st=Ce(r,He?1:-1);if(st!=null&&(He?st<=pe.to&&st<=Ue.end:st>=pe.from&&st>=Ue.begin)){var lt=He?"before":"after";return new Ot(r.line,st,lt)}}var wt=function(rn,pn,qt){for(var yn=function(ar,Mr){return Mr?new Ot(r.line,Ce(ar,1),"before"):new Ot(r.line,ar,"after")};rn>=0&&rn<a.length;rn+=pn){var vn=a[rn],_n=pn>0==(vn.level!=1),or=_n?qt.begin:Ce(qt.end,-1);if(vn.from<=or&&or<vn.to||(or=_n?vn.from:Ce(vn.to,-1),qt.begin<=or&&or<qt.end))return yn(or,_n)}},Et=wt(B+n,n,Ue);if(Et)return Et;var zt=n>0?Ue.end:Ce(Ue.begin,-1);return zt==null||n>0&&zt==t.text.length||!(Et=wt(n>0?0:a.length-1,n,Pe(zt)))?null:Et}Kr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Kr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Kr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Kr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Kr.default=te?Kr.macDefault:Kr.pcDefault;var ao={selectAll:gs,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),T)},killLine:function(e){return Di(e,function(t){if(t.empty()){var r=Rt(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:Ot(t.head.line+1,0)}:{from:t.head,to:Ot(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Di(e,function(t){return{from:Ot(t.from().line,0),to:_t(e.doc,Ot(t.to().line+1,0))}})},delLineLeft:function(e){return Di(e,function(t){return{from:Ot(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return Di(e,function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}})},delWrappedLineRight:function(e){return Di(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(Ot(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(Ot(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Ms(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Ds(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return Kl(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},u)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},u)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?Ds(e,t.head):n},u)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,a=0;a<r.length;a++){var B=r[a].from(),pe=N(e.getLine(B.line),B.ch,n);t.push(C(n-pe%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Er(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var a=t[n].head,B=Rt(e.doc,a.line).text;if(B){if(a.ch==B.length&&(a=new Ot(a.line,a.ch-1)),a.ch>0)a=new Ot(a.line,a.ch+1),e.replaceRange(B.charAt(a.ch-1)+B.charAt(a.ch-2),Ot(a.line,a.ch-2),a,"+transpose");else if(a.line>e.doc.first){var pe=Rt(e.doc,a.line-1).text;pe&&(a=new Ot(a.line,1),e.replaceRange(B.charAt(0)+e.doc.lineSeparator()+pe.charAt(pe.length-1),Ot(a.line-1,pe.length-1),a,"+transpose"))}}r.push(new tr(a,a))}e.setSelections(r)})},newlineAndIndent:function(e){return Er(e,function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Ai(e)})},openLine:function(e){return e.replaceSelection(`
`,"start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Ms(e,t){var r=Rt(e.doc,t),n=Yn(r);return n!=r&&(t=Wt(n)),ha(!0,e,n,t,1)}function Kl(e,t){var r=Rt(e.doc,t),n=xn(r);return n!=r&&(t=Wt(n)),ha(!0,e,r,t,-1)}function Ds(e,t){var r=Ms(e,t.line),n=Rt(e.doc,r.line),a=Ft(n,e.doc.direction);if(!a||a[0].level==0){var B=Math.max(r.ch,n.text.search(/\S/)),pe=t.line==r.line&&t.ch<=B&&t.ch;return Ot(r.line,pe?0:B,r.sticky)}return r}function Ro(e,t,r){if(typeof t=="string"&&!(t=ao[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,a=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),a=t(e)!=R}finally{e.display.shift=n,e.state.suppressEdits=!1}return a}function Jl(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var a=Mi(t,e.state.keyMaps[n],r,e);if(a)return a}return e.options.extraKeys&&Mi(t,e.options.extraKeys,r,e)||Mi(t,e.options.keyMap,r,e)}var Xl=new b;function so(e,t,r,n){var a=e.state.keySeq;if(a){if(Ps(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Xl.set(50,function(){e.state.keySeq==a&&(e.state.keySeq=null,e.display.input.reset())}),Rs(e,a+" "+t,r,n))return!0}return Rs(e,t,r,n)}function Rs(e,t,r,n){var a=Jl(e,t,n);return a=="multi"&&(e.state.keySeq=t),a=="handled"&&pr(e,"keyHandled",e,t,r),a!="handled"&&a!="multi"||(et(r),Go(e)),!!a}function Ls(e,t){var r=Es(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?so(e,"Shift-"+r,t,function(n){return Ro(e,n,!0)})||so(e,r,t,function(n){if(typeof n=="string"?/^go[A-Z]/.test(n):n.motion)return Ro(e,n)}):so(e,r,t,function(n){return Ro(e,n)}))}function Ql(e,t,r){return so(e,"'"+r+"'",t,function(n){return Ro(e,n,!0)})}var pa=null;function Zs(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=y(),vt(t,e)))){k&&d<11&&e.keyCode==27&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=r==16||e.shiftKey;var n=Ls(t,e);c&&(pa=n?r:null,n||r!=88||Ct||!(te?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),A&&!te&&!n&&r==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),r!=18||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||ec(t)}}function ec(e){var t=e.display.lineDiv;function r(n){n.keyCode!=18&&n.altKey||(F(t,"CodeMirror-crosshair"),We(document,"keyup",r),We(document,"mouseover",r))}g(t,"CodeMirror-crosshair"),Ee(document,"keyup",r),Ee(document,"mouseover",r)}function Ns(e){e.keyCode==16&&(this.doc.sel.shift=!1),vt(this,e)}function Is(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||Re(t.display,e)||vt(t,e)||e.ctrlKey&&!e.altKey||te&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(c&&r==pa)return pa=null,void et(e);if(!c||e.which&&!(e.which<10)||!Ls(t,e)){var a=String.fromCharCode(n==null?r:n);a!="\b"&&(Ql(t,e,a)||t.display.input.onKeyPress(e))}}}var lo,co,tc=400,da=function(e,t,r){this.time=e,this.pos=t,this.button=r};function nc(e,t){var r=+new Date;return co&&co.compare(r,e,t)?(lo=co=null,"triple"):lo&&lo.compare(r,e,t)?(co=new da(r,e,t),lo=null,"double"):(lo=new da(r,e,t),co=null,"single")}function Bs(e){var t=this,r=t.display;if(!(vt(t,e)||r.activeTouch&&r.input.supportsTouch())){if(r.input.ensurePolled(),r.shift=e.shiftKey,Re(r,e))j||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100));else if(!ga(t,e)){var n=ui(t,e),a=Ut(e),B=n?nc(n,a):"single";window.focus(),a==1&&t.state.selectingText&&t.state.selectingText(e),n&&rc(t,a,n,B,e)||(a==1?n?oc(t,n,B,e):ht(e)==r.scroller&&et(e):a==2?(n&&So(t.doc,n),setTimeout(function(){return r.input.focus()},20)):a==3&&(ue?t.display.input.onContextMenu(e):Yo(t)))}}}function rc(e,t,r,n,a){var B="Click";return n=="double"?B="Double"+B:n=="triple"&&(B="Triple"+B),so(e,Ts(B=(t==1?"Left":t==2?"Middle":"Right")+B,a),a,function(pe){if(typeof pe=="string"&&(pe=ao[pe]),!pe)return!1;var me=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),me=pe(e,r)!=R}finally{e.state.suppressEdits=!1}return me})}function ic(e,t,r){var n=e.getOption("configureMouse"),a=n?n(e,t,r):{};if(a.unit==null){var B=X?r.shiftKey&&r.metaKey:r.altKey;a.unit=B?"rectangle":t=="single"?"char":t=="double"?"word":"line"}return(a.extend==null||e.doc.extend)&&(a.extend=e.doc.extend||r.shiftKey),a.addNew==null&&(a.addNew=te?r.metaKey:r.ctrlKey),a.moveOnDrag==null&&(a.moveOnDrag=!(te?r.altKey:r.ctrlKey)),a}function oc(e,t,r,n){k?setTimeout(ae(Fa,e),0):e.curOp.focus=y();var a,B=ic(e,r,n),pe=e.doc.sel;e.options.dragDrop&&kn&&!e.isReadOnly()&&r=="single"&&(a=pe.contains(t))>-1&&(cn((a=pe.ranges[a]).from(),t)<0||t.xRel>0)&&(cn(a.to(),t)>0||t.xRel<0)?ac(e,n,t,B):sc(e,n,t,B)}function ac(e,t,r,n){var a=e.display,B=!1,pe=br(e,function(Pe){j&&(a.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Yo(e)),We(a.wrapper.ownerDocument,"mouseup",pe),We(a.wrapper.ownerDocument,"mousemove",me),We(a.scroller,"dragstart",Ce),We(a.scroller,"drop",pe),B||(et(Pe),n.addNew||So(e.doc,r,null,null,n.extend),j&&!m||k&&d==9?setTimeout(function(){a.wrapper.ownerDocument.body.focus({preventScroll:!0}),a.input.focus()},20):a.input.focus())}),me=function(Pe){B=B||Math.abs(t.clientX-Pe.clientX)+Math.abs(t.clientY-Pe.clientY)>=10},Ce=function(){return B=!0};j&&(a.scroller.draggable=!0),e.state.draggingText=pe,pe.copy=!n.moveOnDrag,Ee(a.wrapper.ownerDocument,"mouseup",pe),Ee(a.wrapper.ownerDocument,"mousemove",me),Ee(a.scroller,"dragstart",Ce),Ee(a.scroller,"drop",pe),e.state.delayingBlurEvent=!0,setTimeout(function(){return a.input.focus()},20),a.scroller.dragDrop&&a.scroller.dragDrop()}function Fs(e,t,r){if(r=="char")return new tr(t,t);if(r=="word")return e.findWordAt(t);if(r=="line")return new tr(Ot(t.line,0),_t(e.doc,Ot(t.line+1,0)));var n=r(e,t);return new tr(n.from,n.to)}function sc(e,t,r,n){k&&Yo(e);var a=e.display,B=e.doc;et(t);var pe,me,Ce=B.sel,Pe=Ce.ranges;if(n.addNew&&!n.extend?(me=B.sel.contains(r),pe=me>-1?Pe[me]:new tr(r,r)):(pe=B.sel.primary(),me=B.sel.primIndex),n.unit=="rectangle")n.addNew||(pe=new tr(r,r)),r=ui(e,t,!0,!0),me=-1;else{var Ue=Fs(e,r,n.unit);pe=n.extend?la(pe,Ue.anchor,Ue.head,n.extend):Ue}n.addNew?me==-1?(me=Pe.length,xr(B,Vr(e,Pe.concat([pe]),me),{scroll:!1,origin:"*mouse"})):Pe.length>1&&Pe[me].empty()&&n.unit=="char"&&!n.extend?(xr(B,Vr(e,Pe.slice(0,me).concat(Pe.slice(me+1)),0),{scroll:!1,origin:"*mouse"}),Ce=B.sel):ca(B,me,pe,P):(me=0,xr(B,new Nr([pe],0),P),Ce=B.sel);var He=r;function st(qt){if(cn(He,qt)!=0)if(He=qt,n.unit=="rectangle"){for(var yn=[],vn=e.options.tabSize,_n=N(Rt(B,r.line).text,r.ch,vn),or=N(Rt(B,qt.line).text,qt.ch,vn),ar=Math.min(_n,or),Mr=Math.max(_n,or),cr=Math.min(r.line,qt.line),Br=Math.min(e.lastLine(),Math.max(r.line,qt.line));cr<=Br;cr++){var Dr=Rt(B,cr).text,hr=ee(Dr,ar,vn);ar==Mr?yn.push(new tr(Ot(cr,hr),Ot(cr,hr))):Dr.length>hr&&yn.push(new tr(Ot(cr,hr),Ot(cr,ee(Dr,Mr,vn))))}yn.length||yn.push(new tr(r,r)),xr(B,Vr(e,Ce.ranges.slice(0,me).concat(yn),me),{origin:"*mouse",scroll:!1}),e.scrollIntoView(qt)}else{var Sr,Or=pe,mr=Fs(e,qt,n.unit),gr=Or.anchor;cn(mr.anchor,gr)>0?(Sr=mr.head,gr=It(Or.from(),mr.anchor)):(Sr=mr.anchor,gr=mt(Or.to(),mr.head));var vr=Ce.ranges.slice(0);vr[me]=lc(e,new tr(_t(B,gr),Sr)),xr(B,Vr(e,vr,me),P)}}var lt=a.wrapper.getBoundingClientRect(),wt=0;function Et(qt){var yn=++wt,vn=ui(e,qt,!0,n.unit=="rectangle");if(vn)if(cn(vn,He)!=0){e.curOp.focus=y(),st(vn);var _n=_o(a,B);(vn.line>=_n.to||vn.line<_n.from)&&setTimeout(br(e,function(){wt==yn&&Et(qt)}),150)}else{var or=qt.clientY<lt.top?-20:qt.clientY>lt.bottom?20:0;or&&setTimeout(br(e,function(){wt==yn&&(a.scroller.scrollTop+=or,Et(qt))}),50)}}function zt(qt){e.state.selectingText=!1,wt=1/0,qt&&(et(qt),a.input.focus()),We(a.wrapper.ownerDocument,"mousemove",rn),We(a.wrapper.ownerDocument,"mouseup",pn),B.history.lastSelOrigin=null}var rn=br(e,function(qt){qt.buttons!==0&&Ut(qt)?Et(qt):zt(qt)}),pn=br(e,zt);e.state.selectingText=pn,Ee(a.wrapper.ownerDocument,"mousemove",rn),Ee(a.wrapper.ownerDocument,"mouseup",pn)}function lc(e,t){var r=t.anchor,n=t.head,a=Rt(e.doc,r.line);if(cn(r,n)==0&&r.sticky==n.sticky)return t;var B=Ft(a);if(!B)return t;var pe=Bt(B,r.ch,r.sticky),me=B[pe];if(me.from!=r.ch&&me.to!=r.ch)return t;var Ce,Pe=pe+(me.from==r.ch==(me.level!=1)?0:1);if(Pe==0||Pe==B.length)return t;if(n.line!=r.line)Ce=(n.line-r.line)*(e.doc.direction=="ltr"?1:-1)>0;else{var Ue=Bt(B,n.ch,n.sticky),He=Ue-pe||(n.ch-r.ch)*(me.level==1?-1:1);Ce=Ue==Pe-1||Ue==Pe?He<0:He>0}var st=B[Pe+(Ce?-1:0)],lt=Ce==(st.level==1),wt=lt?st.from:st.to,Et=lt?"after":"before";return r.ch==wt&&r.sticky==Et?t:new tr(new Ot(r.line,wt,Et),n)}function zs(e,t,r,n){var a,B;if(t.touches)a=t.touches[0].clientX,B=t.touches[0].clientY;else try{a=t.clientX,B=t.clientY}catch{return!1}if(a>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&et(t);var pe=e.display,me=pe.lineDiv.getBoundingClientRect();if(B>me.bottom||!tn(e,r))return At(t);B-=me.top-pe.viewOffset;for(var Ce=0;Ce<e.display.gutterSpecs.length;++Ce){var Pe=pe.gutters.childNodes[Ce];if(Pe&&Pe.getBoundingClientRect().right>=a)return it(e,r,e,hn(e.doc,B),e.display.gutterSpecs[Ce].className,t),At(t)}}function ga(e,t){return zs(e,t,"gutterClick",!0)}function Vs(e,t){Re(e.display,t)||cc(e,t)||vt(e,t,"contextmenu")||ue||e.display.input.onContextMenu(t)}function cc(e,t){return!!tn(e,"gutterContextMenu")&&zs(e,t,"gutterContextMenu",!1)}function Us(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ui(e)}da.prototype.compare=function(e,t,r){return this.time+tc>e&&cn(t,this.pos)==0&&r==this.button};var Ri={toString:function(){return"CodeMirror.Init"}},Hs={},Lo={};function uc(e){var t=e.optionHandlers;function r(n,a,B,pe){e.defaults[n]=a,B&&(t[n]=pe?function(me,Ce,Pe){Pe!=Ri&&B(me,Ce,Pe)}:B)}e.defineOption=r,e.Init=Ri,r("value","",function(n,a){return n.setValue(a)},!0),r("mode",null,function(n,a){n.doc.modeOption=a,oa(n)},!0),r("indentUnit",2,oa,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,function(n){Ji(n),Ui(n),jr(n)},!0),r("lineSeparator",null,function(n,a){if(n.doc.lineSep=a,a){var B=[],pe=n.doc.first;n.doc.iter(function(Ce){for(var Pe=0;;){var Ue=Ce.text.indexOf(a,Pe);if(Ue==-1)break;Pe=Ue+a.length,B.push(Ot(pe,Ue))}pe++});for(var me=B.length-1;me>=0;me--)Ti(n.doc,a,B[me],Ot(B[me].line,B[me].ch+a.length))}}),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(n,a,B){n.state.specialChars=new RegExp(a.source+(a.test("	")?"":"|	"),"g"),B!=Ri&&n.refresh()}),r("specialCharPlaceholder",mn,function(n){return n.refresh()},!0),r("electricChars",!0),r("inputStyle",J?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("spellcheck",!1,function(n,a){return n.getInputField().spellcheck=a},!0),r("autocorrect",!1,function(n,a){return n.getInputField().autocorrect=a},!0),r("autocapitalize",!1,function(n,a){return n.getInputField().autocapitalize=a},!0),r("rtlMoveVisually",!V),r("wholeLineUpdateBefore",!0),r("theme","default",function(n){Us(n),Ki(n)},!0),r("keyMap","default",function(n,a,B){var pe=Do(a),me=B!=Ri&&Do(B);me&&me.detach&&me.detach(n,pe),pe.attach&&pe.attach(n,me||null)}),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,hc,!0),r("gutters",[],function(n,a){n.display.gutterSpecs=ra(a,n.options.lineNumbers),Ki(n)},!0),r("fixedGutter",!0,function(n,a){n.display.gutters.style.left=a?Wo(n.display)+"px":"0",n.refresh()},!0),r("coverGutterNextToScrollbar",!1,function(n){return ji(n)},!0),r("scrollbarStyle","native",function(n){Wa(n),ji(n),n.display.scrollbars.setScrollTop(n.doc.scrollTop),n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0),r("lineNumbers",!1,function(n,a){n.display.gutterSpecs=ra(n.options.gutters,a),Ki(n)},!0),r("firstLineNumber",1,Ki,!0),r("lineNumberFormatter",function(n){return n},Ki,!0),r("showCursorWhenSelecting",!1,Hi,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,function(n,a){a=="nocursor"&&(Oi(n),n.display.input.blur()),n.display.input.readOnlyChanged(a)}),r("screenReaderLabel",null,function(n,a){a=a===""?null:a,n.display.input.screenReaderLabelChanged(a)}),r("disableInput",!1,function(n,a){a||n.display.input.reset()},!0),r("dragDrop",!0,fc),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,Hi,!0),r("singleCursorHeightPerLine",!0,Hi,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,Ji,!0),r("addModeClass",!1,Ji,!0),r("pollInterval",100),r("undoDepth",200,function(n,a){return n.doc.history.undoDepth=a}),r("historyEventDelay",1250),r("viewportMargin",10,function(n){return n.refresh()},!0),r("maxHighlightLength",1e4,Ji,!0),r("moveInputWithCursor",!0,function(n,a){a||n.display.input.resetPosition()}),r("tabindex",null,function(n,a){return n.display.input.getField().tabIndex=a||""}),r("autofocus",null),r("direction","ltr",function(n,a){return n.doc.setDirection(a)},!0),r("phrases",null)}function fc(e,t,r){if(!t!=!(r&&r!=Ri)){var n=e.display.dragFunctions,a=t?Ee:We;a(e.display.scroller,"dragstart",n.start),a(e.display.scroller,"dragenter",n.enter),a(e.display.scroller,"dragover",n.over),a(e.display.scroller,"dragleave",n.leave),a(e.display.scroller,"drop",n.drop)}}function hc(e){e.options.lineWrapping?(g(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(F(e.display.wrapper,"CodeMirror-wrap"),Qe(e)),$o(e),jr(e),Ui(e),setTimeout(function(){return ji(e)},100)}function fr(e,t){var r=this;if(!(this instanceof fr))return new fr(e,t);this.options=t=t?K(t):{},K(Hs,t,!1);var n=t.value;typeof n=="string"?n=new Cr(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var a=new fr.inputStyles[t.inputStyle](this),B=this.display=new Al(e,n,a,t);for(var pe in B.wrapper.CodeMirror=this,Us(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Wa(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new b,keySeq:null,specialChars:null},t.autofocus&&!J&&B.input.focus(),k&&d<11&&setTimeout(function(){return r.display.input.reset(!0)},20),pc(this),Hl(),di(this),this.curOp.forceUpdate=!0,ns(this,n),t.autofocus&&!J||this.hasFocus()?setTimeout(function(){r.hasFocus()&&!r.state.focused&&Ko(r)},20):Oi(this),Lo)Lo.hasOwnProperty(pe)&&Lo[pe](this,t[pe],Ri);Ya(this),t.finishInit&&t.finishInit(this);for(var me=0;me<ma.length;++me)ma[me](this);gi(this),j&&t.lineWrapping&&getComputedStyle(B.lineDiv).textRendering=="optimizelegibility"&&(B.lineDiv.style.textRendering="auto")}function pc(e){var t=e.display;Ee(t.scroller,"mousedown",br(e,Bs)),Ee(t.scroller,"dblclick",k&&d<11?br(e,function(Ce){if(!vt(e,Ce)){var Pe=ui(e,Ce);if(Pe&&!ga(e,Ce)&&!Re(e.display,Ce)){et(Ce);var Ue=e.findWordAt(Pe);So(e.doc,Ue.anchor,Ue.head)}}}):function(Ce){return vt(e,Ce)||et(Ce)}),Ee(t.scroller,"contextmenu",function(Ce){return Vs(e,Ce)}),Ee(t.input.getField(),"contextmenu",function(Ce){t.scroller.contains(Ce.target)||Vs(e,Ce)});var r,n={end:0};function a(){t.activeTouch&&(r=setTimeout(function(){return t.activeTouch=null},1e3),(n=t.activeTouch).end=+new Date)}function B(Ce){if(Ce.touches.length!=1)return!1;var Pe=Ce.touches[0];return Pe.radiusX<=1&&Pe.radiusY<=1}function pe(Ce,Pe){if(Pe.left==null)return!0;var Ue=Pe.left-Ce.left,He=Pe.top-Ce.top;return Ue*Ue+He*He>400}Ee(t.scroller,"touchstart",function(Ce){if(!vt(e,Ce)&&!B(Ce)&&!ga(e,Ce)){t.input.ensurePolled(),clearTimeout(r);var Pe=+new Date;t.activeTouch={start:Pe,moved:!1,prev:Pe-n.end<=300?n:null},Ce.touches.length==1&&(t.activeTouch.left=Ce.touches[0].pageX,t.activeTouch.top=Ce.touches[0].pageY)}}),Ee(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),Ee(t.scroller,"touchend",function(Ce){var Pe=t.activeTouch;if(Pe&&!Re(t,Ce)&&Pe.left!=null&&!Pe.moved&&new Date-Pe.start<300){var Ue,He=e.coordsChar(t.activeTouch,"page");Ue=!Pe.prev||pe(Pe,Pe.prev)?new tr(He,He):!Pe.prev.prev||pe(Pe,Pe.prev.prev)?e.findWordAt(He):new tr(Ot(He.line,0),_t(e.doc,Ot(He.line+1,0))),e.setSelection(Ue.anchor,Ue.head),e.focus(),et(Ce)}a()}),Ee(t.scroller,"touchcancel",a),Ee(t.scroller,"scroll",function(){t.scroller.clientHeight&&(Wi(e,t.scroller.scrollTop),hi(e,t.scroller.scrollLeft,!0),it(e,"scroll",e))}),Ee(t.scroller,"mousewheel",function(Ce){return Xa(e,Ce)}),Ee(t.scroller,"DOMMouseScroll",function(Ce){return Xa(e,Ce)}),Ee(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(Ce){vt(e,Ce)||yt(Ce)},over:function(Ce){vt(e,Ce)||(Ul(e,Ce),yt(Ce))},start:function(Ce){return Vl(e,Ce)},drop:br(e,zl),leave:function(Ce){vt(e,Ce)||js(e)}};var me=t.input.getField();Ee(me,"keyup",function(Ce){return Ns.call(e,Ce)}),Ee(me,"keydown",br(e,Zs)),Ee(me,"keypress",br(e,Is)),Ee(me,"focus",function(Ce){return Ko(e,Ce)}),Ee(me,"blur",function(Ce){return Oi(e,Ce)})}fr.defaults=Hs,fr.optionHandlers=Lo;var ma=[];function uo(e,t,r,n){var a,B=e.doc;r==null&&(r="add"),r=="smart"&&(B.mode.indent?a=Kn(e,t).state:r="prev");var pe=e.options.tabSize,me=Rt(B,t),Ce=N(me.text,null,pe);me.stateAfter&&(me.stateAfter=null);var Pe,Ue=me.text.match(/^\s*/)[0];if(n||/\S/.test(me.text)){if(r=="smart"&&((Pe=B.mode.indent(a,me.text.slice(Ue.length),me.text))==R||Pe>150)){if(!n)return;r="prev"}}else Pe=0,r="not";r=="prev"?Pe=t>B.first?N(Rt(B,t-1).text,null,pe):0:r=="add"?Pe=Ce+e.options.indentUnit:r=="subtract"?Pe=Ce-e.options.indentUnit:typeof r=="number"&&(Pe=Ce+r),Pe=Math.max(0,Pe);var He="",st=0;if(e.options.indentWithTabs)for(var lt=Math.floor(Pe/pe);lt;--lt)st+=pe,He+="	";if(st<Pe&&(He+=C(Pe-st)),He!=Ue)return Ti(B,He,Ot(t,0),Ot(t,Ue.length),"+input"),me.stateAfter=null,!0;for(var wt=0;wt<B.sel.ranges.length;wt++){var Et=B.sel.ranges[wt];if(Et.head.line==t&&Et.head.ch<Ue.length){var zt=Ot(t,Ue.length);ca(B,wt,new tr(zt,zt));break}}}fr.defineInitHook=function(e){return ma.push(e)};var Ur=null;function Zo(e){Ur=e}function va(e,t,r,n,a){var B=e.doc;e.display.shift=!1,n||(n=B.sel);var pe=+new Date-200,me=a=="paste"||e.state.pasteIncoming>pe,Ce=$e(t),Pe=null;if(me&&n.ranges.length>1)if(Ur&&Ur.text.join(`
`)==t){if(n.ranges.length%Ur.text.length==0){Pe=[];for(var Ue=0;Ue<Ur.text.length;Ue++)Pe.push(B.splitLines(Ur.text[Ue]))}}else Ce.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(Pe=le(Ce,function(rn){return[rn]}));for(var He=e.curOp.updateInput,st=n.ranges.length-1;st>=0;st--){var lt=n.ranges[st],wt=lt.from(),Et=lt.to();lt.empty()&&(r&&r>0?wt=Ot(wt.line,wt.ch-r):e.state.overwrite&&!me?Et=Ot(Et.line,Math.min(Rt(B,Et.line).text.length,Et.ch+D(Ce).length)):me&&Ur&&Ur.lineWise&&Ur.text.join(`
`)==Ce.join(`
`)&&(wt=Et=Ot(wt.line,0)));var zt={from:wt,to:Et,text:Pe?Pe[st%Pe.length]:Ce,origin:a||(me?"paste":e.state.cutIncoming>pe?"cut":"+input")};Pi(e.doc,zt),pr(e,"inputRead",e,zt)}t&&!me&&Ws(e,t),Ai(e),e.curOp.updateInput<2&&(e.curOp.updateInput=He),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function qs(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Er(t,function(){return va(t,r,0,null,"paste")}),!0}function Ws(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var a=r.ranges[n];if(!(a.head.ch>100||n&&r.ranges[n-1].head.line==a.head.line)){var B=e.getModeAt(a.head),pe=!1;if(B.electricChars){for(var me=0;me<B.electricChars.length;me++)if(t.indexOf(B.electricChars.charAt(me))>-1){pe=uo(e,a.head.line,"smart");break}}else B.electricInput&&B.electricInput.test(Rt(e.doc,a.head.line).text.slice(0,a.head.ch))&&(pe=uo(e,a.head.line,"smart"));pe&&pr(e,"electricInput",e,a.head.line)}}}function $s(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var a=e.doc.sel.ranges[n].head.line,B={anchor:Ot(a,0),head:Ot(a+1,0)};r.push(B),t.push(e.getRange(B.anchor,B.head))}return{text:t,ranges:r}}function Gs(e,t,r,n){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function Ys(){var e=H("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=H("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return j?e.style.width="1000px":e.setAttribute("wrap","off"),Z&&(e.style.border="1px solid black"),Gs(e),t}function dc(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(n,a){var B=this.options,pe=B[n];B[n]==a&&n!="mode"||(B[n]=a,t.hasOwnProperty(n)&&br(this,t[n])(this,a,pe),it(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,a){this.state.keyMaps[a?"push":"unshift"](Do(n))},removeKeyMap:function(n){for(var a=this.state.keyMaps,B=0;B<a.length;++B)if(a[B]==n||a[B].name==n)return a.splice(B,1),!0},addOverlay:kr(function(n,a){var B=n.token?n:e.getMode(this.options,n);if(B.startState)throw new Error("Overlays may not be stateful.");be(this.state.overlays,{mode:B,modeSpec:n,opaque:a&&a.opaque,priority:a&&a.priority||0},function(pe){return pe.priority}),this.state.modeGen++,jr(this)}),removeOverlay:kr(function(n){for(var a=this.state.overlays,B=0;B<a.length;++B){var pe=a[B].modeSpec;if(pe==n||typeof n=="string"&&pe.name==n)return a.splice(B,1),this.state.modeGen++,void jr(this)}}),indentLine:kr(function(n,a,B){typeof a!="string"&&typeof a!="number"&&(a=a==null?this.options.smartIndent?"smart":"prev":a?"add":"subtract"),on(this.doc,n)&&uo(this,n,a,B)}),indentSelection:kr(function(n){for(var a=this.doc.sel.ranges,B=-1,pe=0;pe<a.length;pe++){var me=a[pe];if(me.empty())me.head.line>B&&(uo(this,me.head.line,n,!0),B=me.head.line,pe==this.doc.sel.primIndex&&Ai(this));else{var Ce=me.from(),Pe=me.to(),Ue=Math.max(B,Ce.line);B=Math.min(this.lastLine(),Pe.line-(Pe.ch?0:1))+1;for(var He=Ue;He<B;++He)uo(this,He,n);var st=this.doc.sel.ranges;Ce.ch==0&&a.length==st.length&&st[pe].from().ch>0&&ca(this.doc,pe,new tr(Ce,st[pe].to()),T)}}}),getTokenAt:function(n,a){return Gn(this,n,a)},getLineTokens:function(n,a){return Gn(this,Ot(n),a,!0)},getTokenTypeAt:function(n){n=_t(this.doc,n);var a,B=er(this,Rt(this.doc,n.line)),pe=0,me=(B.length-1)/2,Ce=n.ch;if(Ce==0)a=B[2];else for(;;){var Pe=pe+me>>1;if((Pe?B[2*Pe-1]:0)>=Ce)me=Pe;else{if(!(B[2*Pe+1]<Ce)){a=B[2*Pe+2];break}pe=Pe+1}}var Ue=a?a.indexOf("overlay "):-1;return Ue<0?a:Ue==0?null:a.slice(0,Ue-1)},getModeAt:function(n){var a=this.doc.mode;return a.innerMode?e.innerMode(a,this.getTokenAt(n).state).mode:a},getHelper:function(n,a){return this.getHelpers(n,a)[0]},getHelpers:function(n,a){var B=[];if(!r.hasOwnProperty(a))return B;var pe=r[a],me=this.getModeAt(n);if(typeof me[a]=="string")pe[me[a]]&&B.push(pe[me[a]]);else if(me[a])for(var Ce=0;Ce<me[a].length;Ce++){var Pe=pe[me[a][Ce]];Pe&&B.push(Pe)}else me.helperType&&pe[me.helperType]?B.push(pe[me.helperType]):pe[me.name]&&B.push(pe[me.name]);for(var Ue=0;Ue<pe._global.length;Ue++){var He=pe._global[Ue];He.pred(me,this)&&h(B,He.val)==-1&&B.push(He.val)}return B},getStateAfter:function(n,a){var B=this.doc;return Kn(this,(n=rt(B,n==null?B.first+B.size-1:n))+1,a).state},cursorCoords:function(n,a){var B=this.doc.sel.primary();return zr(this,n==null?B.head:typeof n=="object"?_t(this.doc,n):n?B.from():B.to(),a||"page")},charCoords:function(n,a){return yo(this,_t(this.doc,n),a||"page")},coordsChar:function(n,a){return Uo(this,(n=Ma(this,n,a||"page")).left,n.top)},lineAtHeight:function(n,a){return n=Ma(this,{top:n,left:0},a||"page").top,hn(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,a,B){var pe,me=!1;if(typeof n=="number"){var Ce=this.doc.first+this.doc.size-1;n<this.doc.first?n=this.doc.first:n>Ce&&(n=Ce,me=!0),pe=Rt(this.doc,n)}else pe=n;return vo(this,pe,{top:0,left:0},a||"page",B||me).top+(me?this.doc.height-Ze(pe):0)},defaultTextHeight:function(){return _i(this.display)},defaultCharWidth:function(){return ki(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,a,B,pe,me){var Ce=this.display,Pe=(n=zr(this,_t(this.doc,n))).bottom,Ue=n.left;if(a.style.position="absolute",a.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(a),Ce.sizer.appendChild(a),pe=="over")Pe=n.top;else if(pe=="above"||pe=="near"){var He=Math.max(Ce.wrapper.clientHeight,this.doc.height),st=Math.max(Ce.sizer.clientWidth,Ce.lineSpace.clientWidth);(pe=="above"||n.bottom+a.offsetHeight>He)&&n.top>a.offsetHeight?Pe=n.top-a.offsetHeight:n.bottom+a.offsetHeight<=He&&(Pe=n.bottom),Ue+a.offsetWidth>st&&(Ue=st-a.offsetWidth)}a.style.top=Pe+"px",a.style.left=a.style.right="",me=="right"?(Ue=Ce.sizer.clientWidth-a.offsetWidth,a.style.right="0px"):(me=="left"?Ue=0:me=="middle"&&(Ue=(Ce.sizer.clientWidth-a.offsetWidth)/2),a.style.left=Ue+"px"),B&&fl(this,{left:Ue,top:Pe,right:Ue+a.offsetWidth,bottom:Pe+a.offsetHeight})},triggerOnKeyDown:kr(Zs),triggerOnKeyPress:kr(Is),triggerOnKeyUp:Ns,triggerOnMouseDown:kr(Bs),execCommand:function(n){if(ao.hasOwnProperty(n))return ao[n].call(null,this)},triggerElectric:kr(function(n){Ws(this,n)}),findPosH:function(n,a,B,pe){var me=1;a<0&&(me=-1,a=-a);for(var Ce=_t(this.doc,n),Pe=0;Pe<a&&!(Ce=ya(this.doc,Ce,me,B,pe)).hitSide;++Pe);return Ce},moveH:kr(function(n,a){var B=this;this.extendSelectionsBy(function(pe){return B.display.shift||B.doc.extend||pe.empty()?ya(B.doc,pe.head,n,a,B.options.rtlMoveVisually):n<0?pe.from():pe.to()},u)}),deleteH:kr(function(n,a){var B=this.doc.sel,pe=this.doc;B.somethingSelected()?pe.replaceSelection("",null,"+delete"):Di(this,function(me){var Ce=ya(pe,me.head,n,a,!1);return n<0?{from:Ce,to:me.head}:{from:me.head,to:Ce}})}),findPosV:function(n,a,B,pe){var me=1,Ce=pe;a<0&&(me=-1,a=-a);for(var Pe=_t(this.doc,n),Ue=0;Ue<a;++Ue){var He=zr(this,Pe,"div");if(Ce==null?Ce=He.left:He.left=Ce,(Pe=Ks(this,He,me,B)).hitSide)break}return Pe},moveV:kr(function(n,a){var B=this,pe=this.doc,me=[],Ce=!this.display.shift&&!pe.extend&&pe.sel.somethingSelected();if(pe.extendSelectionsBy(function(Ue){if(Ce)return n<0?Ue.from():Ue.to();var He=zr(B,Ue.head,"div");Ue.goalColumn!=null&&(He.left=Ue.goalColumn),me.push(He.left);var st=Ks(B,He,n,a);return a=="page"&&Ue==pe.sel.primary()&&Xo(B,yo(B,st,"div").top-He.top),st},u),me.length)for(var Pe=0;Pe<pe.sel.ranges.length;Pe++)pe.sel.ranges[Pe].goalColumn=me[Pe]}),findWordAt:function(n){var a=Rt(this.doc,n.line).text,B=n.ch,pe=n.ch;if(a){var me=this.getHelper(n,"wordChars");n.sticky!="before"&&pe!=a.length||!B?++pe:--B;for(var Ce=a.charAt(B),Pe=we(Ce,me)?function(Ue){return we(Ue,me)}:/\s/.test(Ce)?function(Ue){return/\s/.test(Ue)}:function(Ue){return!/\s/.test(Ue)&&!we(Ue)};B>0&&Pe(a.charAt(B-1));)--B;for(;pe<a.length&&Pe(a.charAt(pe));)++pe}return new tr(Ot(n.line,B),Ot(n.line,pe))},toggleOverwrite:function(n){n!=null&&n==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?g(this.display.cursorDiv,"CodeMirror-overwrite"):F(this.display.cursorDiv,"CodeMirror-overwrite"),it(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==y()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:kr(function(n,a){qi(this,n,a)}),getScrollInfo:function(){var n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-nt(this)-this.display.barHeight,width:n.scrollWidth-nt(this)-this.display.barWidth,clientHeight:Vt(this),clientWidth:St(this)}},scrollIntoView:kr(function(n,a){n==null?(n={from:this.doc.sel.primary().head,to:null},a==null&&(a=this.options.cursorScrollMargin)):typeof n=="number"?n={from:Ot(n,0),to:null}:n.from==null&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=a||0,n.from.line!=null?hl(this,n):Va(this,n.from,n.to,n.margin)}),setSize:kr(function(n,a){var B=this,pe=function(Ce){return typeof Ce=="number"||/^\d+$/.test(String(Ce))?Ce+"px":Ce};n!=null&&(this.display.wrapper.style.width=pe(n)),a!=null&&(this.display.wrapper.style.height=pe(a)),this.options.lineWrapping&&Pa(this);var me=this.display.viewFrom;this.doc.iter(me,this.display.viewTo,function(Ce){if(Ce.widgets){for(var Pe=0;Pe<Ce.widgets.length;Pe++)if(Ce.widgets[Pe].noHScroll){Qr(B,me,"widget");break}}++me}),this.curOp.forceUpdate=!0,it(this,"refresh",this)}),operation:function(n){return Er(this,n)},startOperation:function(){return di(this)},endOperation:function(){return gi(this)},refresh:kr(function(){var n=this.display.cachedTextHeight;jr(this),this.curOp.forceUpdate=!0,Ui(this),qi(this,this.doc.scrollLeft,this.doc.scrollTop),ta(this.display),(n==null||Math.abs(n-_i(this.display))>.5||this.options.lineWrapping)&&$o(this),it(this,"refresh",this)}),swapDoc:kr(function(n){var a=this.doc;return a.cm=null,this.state.selectingText&&this.state.selectingText(),ns(this,n),Ui(this),this.display.input.reset(),qi(this,n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,pr(this,"swapDoc",this,a),a}),phrase:function(n){var a=this.options.phrases;return a&&Object.prototype.hasOwnProperty.call(a,n)?a[n]:n},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ve(e),e.registerHelper=function(n,a,B){r.hasOwnProperty(n)||(r[n]=e[n]={_global:[]}),r[n][a]=B},e.registerGlobalHelper=function(n,a,B,pe){e.registerHelper(n,a,pe),r[n]._global.push({pred:B,val:pe})}}function ya(e,t,r,n,a){var B=t,pe=r,me=Rt(e,t.line),Ce=a&&e.direction=="rtl"?-r:r;function Pe(){var pn=t.line+Ce;return!(pn<e.first||pn>=e.first+e.size)&&(t=new Ot(pn,t.ch,t.sticky),me=Rt(e,pn))}function Ue(pn){var qt;if(n=="codepoint"){var yn=me.text.charCodeAt(t.ch+(r>0?0:-1));if(isNaN(yn))qt=null;else{var vn=r>0?yn>=55296&&yn<56320:yn>=56320&&yn<57343;qt=new Ot(t.line,Math.max(0,Math.min(me.text.length,t.ch+r*(vn?2:1))),-r)}}else qt=a?Yl(e.cm,me,t,r):fa(me,t,r);if(qt==null){if(pn||!Pe())return!1;t=ha(a,e.cm,me,t.line,Ce)}else t=qt;return!0}if(n=="char"||n=="codepoint")Ue();else if(n=="column")Ue(!0);else if(n=="word"||n=="group")for(var He=null,st=n=="group",lt=e.cm&&e.cm.getHelper(t,"wordChars"),wt=!0;!(r<0)||Ue(!wt);wt=!1){var Et=me.text.charAt(t.ch)||`
`,zt=we(Et,lt)?"w":st&&Et==`
`?"n":!st||/\s/.test(Et)?null:"p";if(!st||wt||zt||(zt="s"),He&&He!=zt){r<0&&(r=1,Ue(),t.sticky="after");break}if(zt&&(He=zt),r>0&&!Ue(!wt))break}var rn=To(e,t,B,pe,!0);return Me(B,rn)&&(rn.hitSide=!0),rn}function Ks(e,t,r,n){var a,B,pe=e.doc,me=t.left;if(n=="page"){var Ce=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),Pe=Math.max(Ce-.5*_i(e.display),3);a=(r>0?t.bottom:t.top)+r*Pe}else n=="line"&&(a=r>0?t.bottom+3:t.top-3);for(;(B=Uo(e,me,a)).outside;){if(r<0?a<=0:a>=pe.height){B.hitSide=!0;break}a+=5*r}return B}var rr=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new b,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Js(e,t){var r=xi(e,t.line);if(!r||r.hidden)return null;var n=Rt(e.doc,t.line),a=Vn(r,n,t.line),B=Ft(n,e.doc.direction),pe="left";B&&(pe=Bt(B,t.ch)%2?"right":"left");var me=Ca(a.map,t.ch,pe);return me.offset=me.collapse=="right"?me.end:me.start,me}function gc(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function Li(e,t){return t&&(e.bad=!0),e}function mc(e,t,r,n,a){var B="",pe=!1,me=e.doc.lineSeparator(),Ce=!1;function Pe(lt){return function(wt){return wt.id==lt}}function Ue(){pe&&(B+=me,Ce&&(B+=me),pe=Ce=!1)}function He(lt){lt&&(Ue(),B+=lt)}function st(lt){if(lt.nodeType==1){var wt=lt.getAttribute("cm-text");if(wt)return void He(wt);var Et,zt=lt.getAttribute("cm-marker");if(zt){var rn=e.findMarks(Ot(n,0),Ot(a+1,0),Pe(+zt));return void(rn.length&&(Et=rn[0].find(0))&&He(Dn(e.doc,Et.from,Et.to).join(me)))}if(lt.getAttribute("contenteditable")=="false")return;var pn=/^(pre|div|p|li|table|br)$/i.test(lt.nodeName);if(!/^br$/i.test(lt.nodeName)&&lt.textContent.length==0)return;pn&&Ue();for(var qt=0;qt<lt.childNodes.length;qt++)st(lt.childNodes[qt]);/^(pre|p)$/i.test(lt.nodeName)&&(Ce=!0),pn&&(pe=!0)}else lt.nodeType==3&&He(lt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;st(t),t!=r;)t=t.nextSibling,Ce=!1;return B}function No(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return Li(e.clipPos(Ot(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var a=0;a<e.display.view.length;a++){var B=e.display.view[a];if(B.node==n)return vc(B,t,r)}}function vc(e,t,r){var n=e.text.firstChild,a=!1;if(!t||!l(n,t))return Li(Ot(Wt(e.line),0),!0);if(t==n&&(a=!0,t=n.childNodes[r],r=0,!t)){var B=e.rest?D(e.rest):e.line;return Li(Ot(Wt(B),B.text.length),a)}var pe=t.nodeType==3?t:null,me=t;for(pe||t.childNodes.length!=1||t.firstChild.nodeType!=3||(pe=t.firstChild,r&&(r=pe.nodeValue.length));me.parentNode!=n;)me=me.parentNode;var Ce=e.measure,Pe=Ce.maps;function Ue(zt,rn,pn){for(var qt=-1;qt<(Pe?Pe.length:0);qt++)for(var yn=qt<0?Ce.map:Pe[qt],vn=0;vn<yn.length;vn+=3){var _n=yn[vn+2];if(_n==zt||_n==rn){var or=Wt(qt<0?e.line:e.rest[qt]),ar=yn[vn]+pn;return(pn<0||_n!=zt)&&(ar=yn[vn+(pn?1:0)]),Ot(or,ar)}}}var He=Ue(pe,me,r);if(He)return Li(He,a);for(var st=me.nextSibling,lt=pe?pe.nodeValue.length-r:0;st;st=st.nextSibling){if(He=Ue(st,st.firstChild,0))return Li(Ot(He.line,He.ch-lt),a);lt+=st.textContent.length}for(var wt=me.previousSibling,Et=r;wt;wt=wt.previousSibling){if(He=Ue(wt,wt.firstChild,-1))return Li(Ot(He.line,He.ch+Et),a);Et+=wt.textContent.length}}rr.prototype.init=function(e){var t=this,r=this,n=r.cm,a=r.div=e.lineDiv;function B(me){for(var Ce=me.target;Ce;Ce=Ce.parentNode){if(Ce==a)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Ce.className))break}return!1}function pe(me){if(B(me)&&!vt(n,me)){if(n.somethingSelected())Zo({lineWise:!1,text:n.getSelections()}),me.type=="cut"&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var Ce=$s(n);Zo({lineWise:!0,text:Ce.text}),me.type=="cut"&&n.operation(function(){n.setSelections(Ce.ranges,0,T),n.replaceSelection("",null,"cut")})}if(me.clipboardData){me.clipboardData.clearData();var Pe=Ur.text.join(`
`);if(me.clipboardData.setData("Text",Pe),me.clipboardData.getData("Text")==Pe)return void me.preventDefault()}var Ue=Ys(),He=Ue.firstChild;n.display.lineSpace.insertBefore(Ue,n.display.lineSpace.firstChild),He.value=Ur.text.join(`
`);var st=y();$(He),setTimeout(function(){n.display.lineSpace.removeChild(Ue),st.focus(),st==a&&r.showPrimarySelection()},50)}}a.contentEditable=!0,Gs(a,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),Ee(a,"paste",function(me){!B(me)||vt(n,me)||qs(me,n)||d<=11&&setTimeout(br(n,function(){return t.updateFromDOM()}),20)}),Ee(a,"compositionstart",function(me){t.composing={data:me.data,done:!1}}),Ee(a,"compositionupdate",function(me){t.composing||(t.composing={data:me.data,done:!1})}),Ee(a,"compositionend",function(me){t.composing&&(me.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),Ee(a,"touchstart",function(){return r.forceCompositionEnd()}),Ee(a,"input",function(){t.composing||t.readFromDOMSoon()}),Ee(a,"copy",pe),Ee(a,"cut",pe)},rr.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},rr.prototype.prepareSelection=function(){var e=Ia(this.cm,!1);return e.focus=y()==this.div,e},rr.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},rr.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},rr.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),n=r.from(),a=r.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||a.line<t.display.viewFrom)e.removeAllRanges();else{var B=No(t,e.anchorNode,e.anchorOffset),pe=No(t,e.focusNode,e.focusOffset);if(!B||B.bad||!pe||pe.bad||cn(It(B,pe),n)!=0||cn(mt(B,pe),a)!=0){var me=t.display.view,Ce=n.line>=t.display.viewFrom&&Js(t,n)||{node:me[0].measure.map[2],offset:0},Pe=a.line<t.display.viewTo&&Js(t,a);if(!Pe){var Ue=me[me.length-1].measure,He=Ue.maps?Ue.maps[Ue.maps.length-1]:Ue.map;Pe={node:He[He.length-1],offset:He[He.length-2]-He[He.length-3]}}if(Ce&&Pe){var st,lt=e.rangeCount&&e.getRangeAt(0);try{st=L(Ce.node,Ce.offset,Pe.offset,Pe.node)}catch{}st&&(!A&&t.state.focused?(e.collapse(Ce.node,Ce.offset),st.collapsed||(e.removeAllRanges(),e.addRange(st))):(e.removeAllRanges(),e.addRange(st)),lt&&e.anchorNode==null?e.addRange(lt):A&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},rr.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},rr.prototype.showMultipleSelections=function(e){ne(this.cm.display.cursorDiv,e.cursors),ne(this.cm.display.selectionDiv,e.selection)},rr.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},rr.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return l(this.div,t)},rr.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&(this.selectionInEditor()&&y()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},rr.prototype.blur=function(){this.div.blur()},rr.prototype.getField=function(){return this.div},rr.prototype.supportsTouch=function(){return!0},rr.prototype.receivedFocus=function(){var e=this,t=this;function r(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,r))}this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):Er(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,r)},rr.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},rr.prototype.pollSelection=function(){if(this.readDOMTimeout==null&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(Q&&f&&this.cm.display.gutterSpecs.length&&gc(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=No(t,e.anchorNode,e.anchorOffset),n=No(t,e.focusNode,e.focusOffset);r&&n&&Er(t,function(){xr(t.doc,ti(r,n),T),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},rr.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,r,n=this.cm,a=n.display,B=n.doc.sel.primary(),pe=B.from(),me=B.to();if(pe.ch==0&&pe.line>n.firstLine()&&(pe=Ot(pe.line-1,Rt(n.doc,pe.line-1).length)),me.ch==Rt(n.doc,me.line).text.length&&me.line<n.lastLine()&&(me=Ot(me.line+1,0)),pe.line<a.viewFrom||me.line>a.viewTo-1)return!1;pe.line==a.viewFrom||(e=fi(n,pe.line))==0?(t=Wt(a.view[0].line),r=a.view[0].node):(t=Wt(a.view[e].line),r=a.view[e-1].node.nextSibling);var Ce,Pe,Ue=fi(n,me.line);if(Ue==a.view.length-1?(Ce=a.viewTo-1,Pe=a.lineDiv.lastChild):(Ce=Wt(a.view[Ue+1].line)-1,Pe=a.view[Ue+1].node.previousSibling),!r)return!1;for(var He=n.doc.splitLines(mc(n,r,Pe,t,Ce)),st=Dn(n.doc,Ot(t,0),Ot(Ce,Rt(n.doc,Ce).text.length));He.length>1&&st.length>1;)if(D(He)==D(st))He.pop(),st.pop(),Ce--;else{if(He[0]!=st[0])break;He.shift(),st.shift(),t++}for(var lt=0,wt=0,Et=He[0],zt=st[0],rn=Math.min(Et.length,zt.length);lt<rn&&Et.charCodeAt(lt)==zt.charCodeAt(lt);)++lt;for(var pn=D(He),qt=D(st),yn=Math.min(pn.length-(He.length==1?lt:0),qt.length-(st.length==1?lt:0));wt<yn&&pn.charCodeAt(pn.length-wt-1)==qt.charCodeAt(qt.length-wt-1);)++wt;if(He.length==1&&st.length==1&&t==pe.line)for(;lt&&lt>pe.ch&&pn.charCodeAt(pn.length-wt-1)==qt.charCodeAt(qt.length-wt-1);)lt--,wt++;He[He.length-1]=pn.slice(0,pn.length-wt).replace(/^\u200b+/,""),He[0]=He[0].slice(lt).replace(/\u200b+$/,"");var vn=Ot(t,lt),_n=Ot(Ce,st.length?D(st).length-wt:0);return He.length>1||He[0]||cn(vn,_n)?(Ti(n.doc,He,vn,_n,"+input"),!0):void 0},rr.prototype.ensurePolled=function(){this.forceCompositionEnd()},rr.prototype.reset=function(){this.forceCompositionEnd()},rr.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},rr.prototype.readFromDOMSoon=function(){var e=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},rr.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Er(this.cm,function(){return jr(e.cm)})},rr.prototype.setUneditable=function(e){e.contentEditable="false"},rr.prototype.onKeyPress=function(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||br(this.cm,va)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))},rr.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},rr.prototype.onContextMenu=function(){},rr.prototype.resetPosition=function(){},rr.prototype.needsContentAttribute=!0;var dr=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new b,this.hasSelection=!1,this.composing=null};function yc(e,t){if((t=t?K(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),t.autofocus==null){var r=y();t.autofocus=r==e||e.getAttribute("autofocus")!=null&&r==document.body}function n(){e.value=me.getValue()}var a;if(e.form&&(Ee(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var B=e.form;a=B.submit;try{var pe=B.submit=function(){n(),B.submit=a,B.submit(),B.submit=pe}}catch{}}t.finishInit=function(Ce){Ce.save=n,Ce.getTextArea=function(){return e},Ce.toTextArea=function(){Ce.toTextArea=isNaN,n(),e.parentNode.removeChild(Ce.getWrapperElement()),e.style.display="",e.form&&(We(e.form,"submit",n),t.leaveSubmitMethodAlone||typeof e.form.submit!="function"||(e.form.submit=a))}},e.style.display="none";var me=fr(function(Ce){return e.parentNode.insertBefore(Ce,e.nextSibling)},t);return me}function bc(e){e.off=We,e.on=Ee,e.wheelEventPixels=jl,e.Doc=Cr,e.splitLines=$e,e.countColumn=N,e.findColumn=ee,e.isWordChar=Oe,e.Pass=R,e.signal=it,e.Line=dt,e.changeEnd=ni,e.scrollbarModel=qa,e.Pos=Ot,e.cmpPos=cn,e.modes=Ht,e.mimeModes=Gt,e.resolveMode=ln,e.getMode=bn,e.modeExtensions=wn,e.extendMode=Cn,e.copyState=Sn,e.startState=qn,e.innerMode=Tn,e.commands=ao,e.keyMap=Kr,e.keyName=Es,e.isModifierKey=Ps,e.lookupKey=Mi,e.normalizeKeyMap=Gl,e.StringStream=Nt,e.SharedTextMarker=ro,e.TextMarker=ii,e.LineWidget=no,e.e_preventDefault=et,e.e_stopPropagation=ut,e.e_stop=yt,e.addClass=g,e.contains=l,e.rmClass=F,e.keyNames=oi}dr.prototype.init=function(e){var t=this,r=this,n=this.cm;this.createField(e);var a=this.textarea;function B(pe){if(!vt(n,pe)){if(n.somethingSelected())Zo({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var me=$s(n);Zo({lineWise:!0,text:me.text}),pe.type=="cut"?n.setSelections(me.ranges,null,T):(r.prevInput="",a.value=me.text.join(`
`),$(a))}pe.type=="cut"&&(n.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),Z&&(a.style.width="0px"),Ee(a,"input",function(){k&&d>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()}),Ee(a,"paste",function(pe){vt(n,pe)||qs(pe,n)||(n.state.pasteIncoming=+new Date,r.fastPoll())}),Ee(a,"cut",B),Ee(a,"copy",B),Ee(e.scroller,"paste",function(pe){if(!Re(e,pe)&&!vt(n,pe)){if(!a.dispatchEvent)return n.state.pasteIncoming=+new Date,void r.focus();var me=new Event("paste");me.clipboardData=pe.clipboardData,a.dispatchEvent(me)}}),Ee(e.lineSpace,"selectstart",function(pe){Re(e,pe)||et(pe)}),Ee(a,"compositionstart",function(){var pe=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:pe,range:n.markText(pe,n.getCursor("to"),{className:"CodeMirror-composing"})}}),Ee(a,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},dr.prototype.createField=function(e){this.wrapper=Ys(),this.textarea=this.wrapper.firstChild},dr.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},dr.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=Ia(e);if(e.options.moveInputWithCursor){var a=zr(e,r.sel.primary().head,"div"),B=t.wrapper.getBoundingClientRect(),pe=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,a.top+pe.top-B.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,a.left+pe.left-B.left))}return n},dr.prototype.showSelection=function(e){var t=this.cm.display;ne(t.cursorDiv,e.cursors),ne(t.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},dr.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&$(this.textarea),k&&d>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",k&&d>=9&&(this.hasSelection=null))}},dr.prototype.getField=function(){return this.textarea},dr.prototype.supportsTouch=function(){return!1},dr.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!J||y()!=this.textarea))try{this.textarea.focus()}catch{}},dr.prototype.blur=function(){this.textarea.blur()},dr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},dr.prototype.receivedFocus=function(){this.slowPoll()},dr.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},dr.prototype.fastPoll=function(){var e=!1,t=this;function r(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,r))}t.pollingFast=!0,t.polling.set(20,r)},dr.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||ft(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var a=r.value;if(a==n&&!t.somethingSelected())return!1;if(k&&d>=9&&this.hasSelection===a||te&&/[\uf700-\uf7ff]/.test(a))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var B=a.charCodeAt(0);if(B!=8203||n||(n="\u200B"),B==8666)return this.reset(),this.cm.execCommand("undo")}for(var pe=0,me=Math.min(n.length,a.length);pe<me&&n.charCodeAt(pe)==a.charCodeAt(pe);)++pe;return Er(t,function(){va(t,a.slice(pe),n.length-pe,null,e.composing?"*compose":null),a.length>1e3||a.indexOf(`
`)>-1?r.value=e.prevInput="":e.prevInput=a,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},dr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},dr.prototype.onKeyPress=function(){k&&d>=9&&(this.hasSelection=null),this.fastPoll()},dr.prototype.onContextMenu=function(e){var t=this,r=t.cm,n=r.display,a=t.textarea;t.contextMenuPending&&t.contextMenuPending();var B=ui(r,e),pe=n.scroller.scrollTop;if(B&&!c){r.options.resetSelectionOnContextMenu&&r.doc.sel.contains(B)==-1&&br(r,xr)(r.doc,ti(B),T);var me,Ce=a.style.cssText,Pe=t.wrapper.style.cssText,Ue=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",a.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(e.clientY-Ue.top-5)+"px; left: "+(e.clientX-Ue.left-5)+`px;
      z-index: 1000; background: `+(k?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`,j&&(me=window.scrollY),n.input.focus(),j&&window.scrollTo(null,me),n.input.reset(),r.somethingSelected()||(a.value=t.prevInput=" "),t.contextMenuPending=lt,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll),k&&d>=9&&st(),ue){yt(e);var He=function(){We(window,"mouseup",He),setTimeout(lt,20)};Ee(window,"mouseup",He)}else setTimeout(lt,50)}function st(){if(a.selectionStart!=null){var wt=r.somethingSelected(),Et="\u200B"+(wt?a.value:"");a.value="\u21DA",a.value=Et,t.prevInput=wt?"":"\u200B",a.selectionStart=1,a.selectionEnd=Et.length,n.selForContextMenu=r.doc.sel}}function lt(){if(t.contextMenuPending==lt&&(t.contextMenuPending=!1,t.wrapper.style.cssText=Pe,a.style.cssText=Ce,k&&d<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=pe),a.selectionStart!=null)){(!k||k&&d<9)&&st();var wt=0,Et=function(){n.selForContextMenu==r.doc.sel&&a.selectionStart==0&&a.selectionEnd>0&&t.prevInput=="\u200B"?br(r,gs)(r):wt++<10?n.detectingSelectAll=setTimeout(Et,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(Et,200)}}},dr.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e},dr.prototype.setUneditable=function(){},dr.prototype.needsContentAttribute=!1,uc(fr),dc(fr);var wc="iter insert remove copy getEditor constructor".split(" ");for(var Io in Cr.prototype)Cr.prototype.hasOwnProperty(Io)&&h(wc,Io)<0&&(fr.prototype[Io]=function(e){return function(){return e.apply(this.doc,arguments)}}(Cr.prototype[Io]));return Ve(Cr),fr.inputStyles={textarea:dr,contenteditable:rr},fr.defineMode=function(e){fr.defaults.mode||e=="null"||(fr.defaults.mode=e),nn.apply(this,arguments)},fr.defineMIME=dn,fr.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),fr.defineMIME("text/plain","null"),fr.defineExtension=function(e,t){fr.prototype[e]=t},fr.defineDocExtension=function(e,t){Cr.prototype[e]=t},fr.fromTextArea=yc,bc(fr),fr.version="5.63.0",fr}()},6629:(ge,ie,s)=>{(function(A){function U(M){for(var L={},F=0;F<M.length;++F)L[M[F].toLowerCase()]=!0;return L}A.defineMode("css",function(M,L){var F=L.inline;L.propertyKeywords||(L=A.resolveMode("text/css"));var re,ne,H=M.indentUnit,Y=L.tokenHooks,l=L.documentTypes||{},y=L.mediaTypes||{},g=L.mediaFeatures||{},v=L.mediaValueKeywords||{},$=L.propertyKeywords||{},ae=L.nonStandardPropertyKeywords||{},K=L.fontProperties||{},N=L.counterDescriptors||{},b=L.colorKeywords||{},h=L.valueKeywords||{},z=L.allowNested,R=L.lineComment,T=L.supportsAtComponent===!0,P=M.highlightNonStandardPropertyKeywords!==!1;function u(we,Se){return re=Se,we}function ee(we,Se){var xe=we.next();if(Y[xe]){var Ie=Y[xe](we,Se);if(Ie!==!1)return Ie}return xe=="@"?(we.eatWhile(/[\w\\\-]/),u("def",we.current())):xe=="="||(xe=="~"||xe=="|")&&we.eat("=")?u(null,"compare"):xe=='"'||xe=="'"?(Se.tokenize=q(xe),Se.tokenize(we,Se)):xe=="#"?(we.eatWhile(/[\w\\\-]/),u("atom","hash")):xe=="!"?(we.match(/^\s*\w*/),u("keyword","important")):/\d/.test(xe)||xe=="."&&we.eat(/\d/)?(we.eatWhile(/[\w.%]/),u("number","unit")):xe!=="-"?/[,+>*\/]/.test(xe)?u(null,"select-op"):xe=="."&&we.match(/^-?[_a-z][_a-z0-9-]*/i)?u("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(xe)?u(null,xe):we.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(we.current())&&(Se.tokenize=C),u("variable callee","variable")):/[\w\\\-]/.test(xe)?(we.eatWhile(/[\w\\\-]/),u("property","word")):u(null,null):/[\d.]/.test(we.peek())?(we.eatWhile(/[\w.%]/),u("number","unit")):we.match(/^-[\w\\\-]*/)?(we.eatWhile(/[\w\\\-]/),we.match(/^\s*:/,!1)?u("variable-2","variable-definition"):u("variable-2","variable")):we.match(/^\w+-/)?u("meta","meta"):void 0}function q(we){return function(Se,xe){for(var Ie,Xe=!1;(Ie=Se.next())!=null;){if(Ie==we&&!Xe){we==")"&&Se.backUp(1);break}Xe=!Xe&&Ie=="\\"}return(Ie==we||!Xe&&we!=")")&&(xe.tokenize=null),u("string","string")}}function C(we,Se){return we.next(),we.match(/^\s*[\"\')]/,!1)?Se.tokenize=null:Se.tokenize=q(")"),u(null,"(")}function D(we,Se,xe){this.type=we,this.indent=Se,this.prev=xe}function le(we,Se,xe,Ie){return we.context=new D(xe,Se.indentation()+(Ie===!1?0:H),we.context),xe}function be(we){return we.context.prev&&(we.context=we.context.prev),we.context.type}function I(we,Se,xe){return Oe[xe.context.type](we,Se,xe)}function oe(we,Se,xe,Ie){for(var Xe=Ie||1;Xe>0;Xe--)xe.context=xe.context.prev;return I(we,Se,xe)}function de(we){var Se=we.current().toLowerCase();ne=h.hasOwnProperty(Se)?"atom":b.hasOwnProperty(Se)?"keyword":"variable"}var Oe={top:function(we,Se,xe){if(we=="{")return le(xe,Se,"block");if(we=="}"&&xe.context.prev)return be(xe);if(T&&/@component/i.test(we))return le(xe,Se,"atComponentBlock");if(/^@(-moz-)?document$/i.test(we))return le(xe,Se,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(we))return le(xe,Se,"atBlock");if(/^@(font-face|counter-style)/i.test(we))return xe.stateArg=we,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(we))return"keyframes";if(we&&we.charAt(0)=="@")return le(xe,Se,"at");if(we=="hash")ne="builtin";else if(we=="word")ne="tag";else{if(we=="variable-definition")return"maybeprop";if(we=="interpolation")return le(xe,Se,"interpolation");if(we==":")return"pseudo";if(z&&we=="(")return le(xe,Se,"parens")}return xe.context.type},block:function(we,Se,xe){if(we=="word"){var Ie=Se.current().toLowerCase();return $.hasOwnProperty(Ie)?(ne="property","maybeprop"):ae.hasOwnProperty(Ie)?(ne=P?"string-2":"property","maybeprop"):z?(ne=Se.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(ne+=" error","maybeprop")}return we=="meta"?"block":z||we!="hash"&&we!="qualifier"?Oe.top(we,Se,xe):(ne="error","block")},maybeprop:function(we,Se,xe){return we==":"?le(xe,Se,"prop"):I(we,Se,xe)},prop:function(we,Se,xe){if(we==";")return be(xe);if(we=="{"&&z)return le(xe,Se,"propBlock");if(we=="}"||we=="{")return oe(we,Se,xe);if(we=="(")return le(xe,Se,"parens");if(we!="hash"||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(Se.current())){if(we=="word")de(Se);else if(we=="interpolation")return le(xe,Se,"interpolation")}else ne+=" error";return"prop"},propBlock:function(we,Se,xe){return we=="}"?be(xe):we=="word"?(ne="property","maybeprop"):xe.context.type},parens:function(we,Se,xe){return we=="{"||we=="}"?oe(we,Se,xe):we==")"?be(xe):we=="("?le(xe,Se,"parens"):we=="interpolation"?le(xe,Se,"interpolation"):(we=="word"&&de(Se),"parens")},pseudo:function(we,Se,xe){return we=="meta"?"pseudo":we=="word"?(ne="variable-3",xe.context.type):I(we,Se,xe)},documentTypes:function(we,Se,xe){return we=="word"&&l.hasOwnProperty(Se.current())?(ne="tag",xe.context.type):Oe.atBlock(we,Se,xe)},atBlock:function(we,Se,xe){if(we=="(")return le(xe,Se,"atBlock_parens");if(we=="}"||we==";")return oe(we,Se,xe);if(we=="{")return be(xe)&&le(xe,Se,z?"block":"top");if(we=="interpolation")return le(xe,Se,"interpolation");if(we=="word"){var Ie=Se.current().toLowerCase();ne=Ie=="only"||Ie=="not"||Ie=="and"||Ie=="or"?"keyword":y.hasOwnProperty(Ie)?"attribute":g.hasOwnProperty(Ie)?"property":v.hasOwnProperty(Ie)?"keyword":$.hasOwnProperty(Ie)?"property":ae.hasOwnProperty(Ie)?P?"string-2":"property":h.hasOwnProperty(Ie)?"atom":b.hasOwnProperty(Ie)?"keyword":"error"}return xe.context.type},atComponentBlock:function(we,Se,xe){return we=="}"?oe(we,Se,xe):we=="{"?be(xe)&&le(xe,Se,z?"block":"top",!1):(we=="word"&&(ne="error"),xe.context.type)},atBlock_parens:function(we,Se,xe){return we==")"?be(xe):we=="{"||we=="}"?oe(we,Se,xe,2):Oe.atBlock(we,Se,xe)},restricted_atBlock_before:function(we,Se,xe){return we=="{"?le(xe,Se,"restricted_atBlock"):we=="word"&&xe.stateArg=="@counter-style"?(ne="variable","restricted_atBlock_before"):I(we,Se,xe)},restricted_atBlock:function(we,Se,xe){return we=="}"?(xe.stateArg=null,be(xe)):we=="word"?(ne=xe.stateArg=="@font-face"&&!K.hasOwnProperty(Se.current().toLowerCase())||xe.stateArg=="@counter-style"&&!N.hasOwnProperty(Se.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(we,Se,xe){return we=="word"?(ne="variable","keyframes"):we=="{"?le(xe,Se,"top"):I(we,Se,xe)},at:function(we,Se,xe){return we==";"?be(xe):we=="{"||we=="}"?oe(we,Se,xe):(we=="word"?ne="tag":we=="hash"&&(ne="builtin"),"at")},interpolation:function(we,Se,xe){return we=="}"?be(xe):we=="{"||we==";"?oe(we,Se,xe):(we=="word"?ne="variable":we!="variable"&&we!="("&&we!=")"&&(ne="error"),"interpolation")}};return{startState:function(we){return{tokenize:null,state:F?"block":"top",stateArg:null,context:new D(F?"block":"top",we||0,null)}},token:function(we,Se){if(!Se.tokenize&&we.eatSpace())return null;var xe=(Se.tokenize||ee)(we,Se);return xe&&typeof xe=="object"&&(re=xe[1],xe=xe[0]),ne=xe,re!="comment"&&(Se.state=Oe[Se.state](re,we,Se)),ne},indent:function(we,Se){var xe=we.context,Ie=Se&&Se.charAt(0),Xe=xe.indent;return xe.type!="prop"||Ie!="}"&&Ie!=")"||(xe=xe.prev),xe.prev&&(Ie!="}"||xe.type!="block"&&xe.type!="top"&&xe.type!="interpolation"&&xe.type!="restricted_atBlock"?(Ie!=")"||xe.type!="parens"&&xe.type!="atBlock_parens")&&(Ie!="{"||xe.type!="at"&&xe.type!="atBlock")||(Xe=Math.max(0,xe.indent-H)):Xe=(xe=xe.prev).indent),Xe},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:R,fold:"brace"}});var S=["domain","regexp","url","url-prefix"],p=U(S),k=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],d=U(k),j=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],_=U(j),f=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],c=U(f),m=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],w=U(m),E=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],Z=U(E),Q=U(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),J=U(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),te=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],X=U(te),V=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],se=U(V),ve=S.concat(k).concat(j).concat(f).concat(m).concat(E).concat(te).concat(V);function ue(M,L){for(var F,re=!1;(F=M.next())!=null;){if(re&&F=="/"){L.tokenize=null;break}re=F=="*"}return["comment","comment"]}A.registerHelper("hintWords","css",ve),A.defineMIME("text/css",{documentTypes:p,mediaTypes:d,mediaFeatures:_,mediaValueKeywords:c,propertyKeywords:w,nonStandardPropertyKeywords:Z,fontProperties:Q,counterDescriptors:J,colorKeywords:X,valueKeywords:se,tokenHooks:{"/":function(M,L){return!!M.eat("*")&&(L.tokenize=ue,ue(M,L))}},name:"css"}),A.defineMIME("text/x-scss",{mediaTypes:d,mediaFeatures:_,mediaValueKeywords:c,propertyKeywords:w,nonStandardPropertyKeywords:Z,colorKeywords:X,valueKeywords:se,fontProperties:Q,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(M,L){return M.eat("/")?(M.skipToEnd(),["comment","comment"]):M.eat("*")?(L.tokenize=ue,ue(M,L)):["operator","operator"]},":":function(M){return!!M.match(/^\s*\{/,!1)&&[null,null]},$:function(M){return M.match(/^[\w-]+/),M.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(M){return!!M.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),A.defineMIME("text/x-less",{mediaTypes:d,mediaFeatures:_,mediaValueKeywords:c,propertyKeywords:w,nonStandardPropertyKeywords:Z,colorKeywords:X,valueKeywords:se,fontProperties:Q,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(M,L){return M.eat("/")?(M.skipToEnd(),["comment","comment"]):M.eat("*")?(L.tokenize=ue,ue(M,L)):["operator","operator"]},"@":function(M){return M.eat("{")?[null,"interpolation"]:!M.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(M.eatWhile(/[\w\\\-]/),M.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),A.defineMIME("text/x-gss",{documentTypes:p,mediaTypes:d,mediaFeatures:_,propertyKeywords:w,nonStandardPropertyKeywords:Z,fontProperties:Q,counterDescriptors:J,colorKeywords:X,valueKeywords:se,supportsAtComponent:!0,tokenHooks:{"/":function(M,L){return!!M.eat("*")&&(L.tokenize=ue,ue(M,L))}},name:"css",helperType:"gss"})})(s(4631))},6531:(ge,ie,s)=>{(function(A){var U={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function S(c,m,w){var E=c.current(),Z=E.search(m);return Z>-1?c.backUp(E.length-Z):E.match(/<\/?$/)&&(c.backUp(E.length),c.match(m,!1)||c.match(E)),w}var p={};function k(c){var m=p[c];return m||(p[c]=new RegExp("\\s+"+c+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function d(c,m){var w=c.match(k(m));return w?/^\s*(.*?)\s*$/.exec(w[2])[1]:""}function j(c,m){return new RegExp((m?"^":"")+"</s*"+c+"s*>","i")}function _(c,m){for(var w in c)for(var E=m[w]||(m[w]=[]),Z=c[w],Q=Z.length-1;Q>=0;Q--)E.unshift(Z[Q])}function f(c,m){for(var w=0;w<c.length;w++){var E=c[w];if(!E[0]||E[1].test(d(m,E[0])))return E[2]}}A.defineMode("htmlmixed",function(c,m){var w=A.getMode(c,{name:"xml",htmlMode:!0,multilineTagIndentFactor:m.multilineTagIndentFactor,multilineTagIndentPastTag:m.multilineTagIndentPastTag,allowMissingTagName:m.allowMissingTagName}),E={},Z=m&&m.tags,Q=m&&m.scriptTypes;if(_(U,E),Z&&_(Z,E),Q)for(var J=Q.length-1;J>=0;J--)E.script.unshift(["type",Q[J].matches,Q[J].mode]);function te(X,V){var se,ve=w.token(X,V.htmlState),ue=/\btag\b/.test(ve);if(ue&&!/[<>\s\/]/.test(X.current())&&(se=V.htmlState.tagName&&V.htmlState.tagName.toLowerCase())&&E.hasOwnProperty(se))V.inTag=se+" ";else if(V.inTag&&ue&&/>$/.test(X.current())){var M=/^([\S]+) (.*)/.exec(V.inTag);V.inTag=null;var L=X.current()==">"&&f(E[M[1]],M[2]),F=A.getMode(c,L),re=j(M[1],!0),ne=j(M[1],!1);V.token=function(H,Y){return H.match(re,!1)?(Y.token=te,Y.localState=Y.localMode=null,null):S(H,ne,Y.localMode.token(H,Y.localState))},V.localMode=F,V.localState=A.startState(F,w.indent(V.htmlState,"",""))}else V.inTag&&(V.inTag+=X.current(),X.eol()&&(V.inTag+=" "));return ve}return{startState:function(){return{token:te,inTag:null,localMode:null,localState:null,htmlState:A.startState(w)}},copyState:function(X){var V;return X.localState&&(V=A.copyState(X.localMode,X.localState)),{token:X.token,inTag:X.inTag,localMode:X.localMode,localState:V,htmlState:A.copyState(w,X.htmlState)}},token:function(X,V){return V.token(X,V)},indent:function(X,V,se){return!X.localMode||/^\s*<\//.test(V)?w.indent(X.htmlState,V,se):X.localMode.indent?X.localMode.indent(X.localState,V,se):A.Pass},innerMode:function(X){return{state:X.localState||X.htmlState,mode:X.localMode||w}}}},"xml","javascript","css"),A.defineMIME("text/html","htmlmixed")})(s(4631),s(9589),s(6876),s(6629))},6876:(ge,ie,s)=>{(function(A){A.defineMode("javascript",function(U,S){var p,k,d=U.indentUnit,j=S.statementIndent,_=S.jsonld,f=S.json||_,c=S.trackScope!==!1,m=S.typescript,w=S.wordCharacters||/[\w$\xa1-\uffff]/,E=function(){function Me(fn){return{type:fn,style:"keyword"}}var Fe=Me("keyword a"),mt=Me("keyword b"),It=Me("keyword c"),rt=Me("keyword d"),_t=Me("operator"),jn={type:"atom",style:"atom"};return{if:Me("if"),while:Fe,with:Fe,else:mt,do:mt,try:mt,finally:mt,return:rt,break:rt,continue:rt,new:Me("new"),delete:It,void:It,throw:It,debugger:Me("debugger"),var:Me("var"),const:Me("var"),let:Me("var"),function:Me("function"),catch:Me("catch"),for:Me("for"),switch:Me("switch"),case:Me("case"),default:Me("default"),in:_t,typeof:_t,instanceof:_t,true:jn,false:jn,null:jn,undefined:jn,NaN:jn,Infinity:jn,this:Me("this"),class:Me("class"),super:Me("atom"),yield:It,export:Me("export"),import:Me("import"),extends:It,await:It}}(),Z=/[+\-*&%=<>!?|~^@]/,Q=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function J(Me){for(var Fe,mt=!1,It=!1;(Fe=Me.next())!=null;){if(!mt){if(Fe=="/"&&!It)return;Fe=="["?It=!0:It&&Fe=="]"&&(It=!1)}mt=!mt&&Fe=="\\"}}function te(Me,Fe,mt){return p=Me,k=mt,Fe}function X(Me,Fe){var mt=Me.next();if(mt=='"'||mt=="'")return Fe.tokenize=V(mt),Fe.tokenize(Me,Fe);if(mt=="."&&Me.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return te("number","number");if(mt=="."&&Me.match(".."))return te("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(mt))return te(mt);if(mt=="="&&Me.eat(">"))return te("=>","operator");if(mt=="0"&&Me.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return te("number","number");if(/\d/.test(mt))return Me.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),te("number","number");if(mt=="/")return Me.eat("*")?(Fe.tokenize=se,se(Me,Fe)):Me.eat("/")?(Me.skipToEnd(),te("comment","comment")):cn(Me,Fe,1)?(J(Me),Me.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),te("regexp","string-2")):(Me.eat("="),te("operator","operator",Me.current()));if(mt=="`")return Fe.tokenize=ve,ve(Me,Fe);if(mt=="#"&&Me.peek()=="!")return Me.skipToEnd(),te("meta","meta");if(mt=="#"&&Me.eatWhile(w))return te("variable","property");if(mt=="<"&&Me.match("!--")||mt=="-"&&Me.match("->")&&!/\S/.test(Me.string.slice(0,Me.start)))return Me.skipToEnd(),te("comment","comment");if(Z.test(mt))return mt==">"&&Fe.lexical&&Fe.lexical.type==">"||(Me.eat("=")?mt!="!"&&mt!="="||Me.eat("="):/[<>*+\-|&?]/.test(mt)&&(Me.eat(mt),mt==">"&&Me.eat(mt))),mt=="?"&&Me.eat(".")?te("."):te("operator","operator",Me.current());if(w.test(mt)){Me.eatWhile(w);var It=Me.current();if(Fe.lastType!="."){if(E.propertyIsEnumerable(It)){var rt=E[It];return te(rt.type,rt.style,It)}if(It=="async"&&Me.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return te("async","keyword",It)}return te("variable","variable",It)}}function V(Me){return function(Fe,mt){var It,rt=!1;if(_&&Fe.peek()=="@"&&Fe.match(Q))return mt.tokenize=X,te("jsonld-keyword","meta");for(;(It=Fe.next())!=null&&(It!=Me||rt);)rt=!rt&&It=="\\";return rt||(mt.tokenize=X),te("string","string")}}function se(Me,Fe){for(var mt,It=!1;mt=Me.next();){if(mt=="/"&&It){Fe.tokenize=X;break}It=mt=="*"}return te("comment","comment")}function ve(Me,Fe){for(var mt,It=!1;(mt=Me.next())!=null;){if(!It&&(mt=="`"||mt=="$"&&Me.eat("{"))){Fe.tokenize=X;break}It=!It&&mt=="\\"}return te("quasi","string-2",Me.current())}var ue="([{}])";function M(Me,Fe){Fe.fatArrowAt&&(Fe.fatArrowAt=null);var mt=Me.string.indexOf("=>",Me.start);if(!(mt<0)){if(m){var It=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(Me.string.slice(Me.start,mt));It&&(mt=It.index)}for(var rt=0,_t=!1,jn=mt-1;jn>=0;--jn){var fn=Me.string.charAt(jn),En=ue.indexOf(fn);if(En>=0&&En<3){if(!rt){++jn;break}if(--rt==0){fn=="("&&(_t=!0);break}}else if(En>=3&&En<6)++rt;else if(w.test(fn))_t=!0;else if(/["'\/`]/.test(fn))for(;;--jn){if(jn==0)return;if(Me.string.charAt(jn-1)==fn&&Me.string.charAt(jn-2)!="\\"){jn--;break}}else if(_t&&!rt){++jn;break}}_t&&!rt&&(Fe.fatArrowAt=jn)}}var L={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function F(Me,Fe,mt,It,rt,_t){this.indented=Me,this.column=Fe,this.type=mt,this.prev=rt,this.info=_t,It!=null&&(this.align=It)}function re(Me,Fe){if(!c)return!1;for(var mt=Me.localVars;mt;mt=mt.next)if(mt.name==Fe)return!0;for(var It=Me.context;It;It=It.prev)for(mt=It.vars;mt;mt=mt.next)if(mt.name==Fe)return!0}function ne(Me,Fe,mt,It,rt){var _t=Me.cc;for(H.state=Me,H.stream=rt,H.marked=null,H.cc=_t,H.style=Fe,Me.lexical.hasOwnProperty("align")||(Me.lexical.align=!0);;)if((_t.length?_t.pop():f?q:u)(mt,It)){for(;_t.length&&_t[_t.length-1].lex;)_t.pop()();return H.marked?H.marked:mt=="variable"&&re(Me,It)?"variable-2":Fe}}var H={state:null,column:null,marked:null,cc:null};function Y(){for(var Me=arguments.length-1;Me>=0;Me--)H.cc.push(arguments[Me])}function l(){return Y.apply(null,arguments),!0}function y(Me,Fe){for(var mt=Fe;mt;mt=mt.next)if(mt.name==Me)return!0;return!1}function g(Me){var Fe=H.state;if(H.marked="def",c){if(Fe.context){if(Fe.lexical.info=="var"&&Fe.context&&Fe.context.block){var mt=v(Me,Fe.context);if(mt!=null)return void(Fe.context=mt)}else if(!y(Me,Fe.localVars))return void(Fe.localVars=new K(Me,Fe.localVars))}S.globalVars&&!y(Me,Fe.globalVars)&&(Fe.globalVars=new K(Me,Fe.globalVars))}}function v(Me,Fe){if(Fe){if(Fe.block){var mt=v(Me,Fe.prev);return mt?mt==Fe.prev?Fe:new ae(mt,Fe.vars,!0):null}return y(Me,Fe.vars)?Fe:new ae(Fe.prev,new K(Me,Fe.vars),!1)}return null}function $(Me){return Me=="public"||Me=="private"||Me=="protected"||Me=="abstract"||Me=="readonly"}function ae(Me,Fe,mt){this.prev=Me,this.vars=Fe,this.block=mt}function K(Me,Fe){this.name=Me,this.next=Fe}var N=new K("this",new K("arguments",null));function b(){H.state.context=new ae(H.state.context,H.state.localVars,!1),H.state.localVars=N}function h(){H.state.context=new ae(H.state.context,H.state.localVars,!0),H.state.localVars=null}function z(){H.state.localVars=H.state.context.vars,H.state.context=H.state.context.prev}function R(Me,Fe){var mt=function(){var It=H.state,rt=It.indented;if(It.lexical.type=="stat")rt=It.lexical.indented;else for(var _t=It.lexical;_t&&_t.type==")"&&_t.align;_t=_t.prev)rt=_t.indented;It.lexical=new F(rt,H.stream.column(),Me,null,It.lexical,Fe)};return mt.lex=!0,mt}function T(){var Me=H.state;Me.lexical.prev&&(Me.lexical.type==")"&&(Me.indented=Me.lexical.indented),Me.lexical=Me.lexical.prev)}function P(Me){function Fe(mt){return mt==Me?l():Me==";"||mt=="}"||mt==")"||mt=="]"?Y():l(Fe)}return Fe}function u(Me,Fe){return Me=="var"?l(R("vardef",Fe),kn,P(";"),T):Me=="keyword a"?l(R("form"),D,u,T):Me=="keyword b"?l(R("form"),u,T):Me=="keyword d"?H.stream.match(/^\s*$/,!1)?l():l(R("stat"),be,P(";"),T):Me=="debugger"?l(P(";")):Me=="{"?l(R("}"),h,Ee,T,z):Me==";"?l():Me=="if"?(H.state.lexical.info=="else"&&H.state.cc[H.state.cc.length-1]==T&&H.state.cc.pop()(),l(R("form"),D,u,T,Ct)):Me=="function"?l(Gt):Me=="for"?l(R("form"),h,Zt,u,z,T):Me=="class"||m&&Fe=="interface"?(H.marked="keyword",l(R("form",Me=="class"?Me:Fe),wn,T)):Me=="variable"?m&&Fe=="declare"?(H.marked="keyword",l(u)):m&&(Fe=="module"||Fe=="enum"||Fe=="type")&&H.stream.match(/^\s*\w/,!1)?(H.marked="keyword",Fe=="enum"?l(on):Fe=="type"?l(dn,P("operator"),jt,P(";")):l(R("form"),en,P("{"),R("}"),Ee,T,T)):m&&Fe=="namespace"?(H.marked="keyword",l(R("form"),q,u,T)):m&&Fe=="abstract"?(H.marked="keyword",l(u)):l(R("stat"),tt):Me=="switch"?l(R("form"),D,P("{"),R("}","switch"),h,Ee,T,T,z):Me=="case"?l(q,P(":")):Me=="default"?l(P(":")):Me=="catch"?l(R("form"),b,ee,u,T,z):Me=="export"?l(R("stat"),qn,T):Me=="import"?l(R("stat"),Rt,T):Me=="async"?l(u):Fe=="@"?l(q,u):Y(R("stat"),q,P(";"),T)}function ee(Me){if(Me=="(")return l(ln,P(")"))}function q(Me,Fe){return le(Me,Fe,!1)}function C(Me,Fe){return le(Me,Fe,!0)}function D(Me){return Me!="("?Y():l(R(")"),be,P(")"),T)}function le(Me,Fe,mt){if(H.state.fatArrowAt==H.stream.start){var It=mt?Se:we;if(Me=="(")return l(b,R(")"),Ft(ln,")"),T,P("=>"),It,z);if(Me=="variable")return Y(b,en,P("=>"),It,z)}var rt=mt?oe:I;return L.hasOwnProperty(Me)?l(rt):Me=="function"?l(Gt,rt):Me=="class"||m&&Fe=="interface"?(H.marked="keyword",l(R("form"),bn,T)):Me=="keyword c"||Me=="async"?l(mt?C:q):Me=="("?l(R(")"),be,P(")"),T,rt):Me=="operator"||Me=="spread"?l(mt?C:q):Me=="["?l(R("]"),hn,T,rt):Me=="{"?ze(ct,"}",null,rt):Me=="quasi"?Y(de,rt):Me=="new"?l(xe(mt)):l()}function be(Me){return Me.match(/[;\}\)\],]/)?Y():Y(q)}function I(Me,Fe){return Me==","?l(be):oe(Me,Fe,!1)}function oe(Me,Fe,mt){var It=mt==0?I:oe,rt=mt==0?q:C;return Me=="=>"?l(b,mt?Se:we,z):Me=="operator"?/\+\+|--/.test(Fe)||m&&Fe=="!"?l(It):m&&Fe=="<"&&H.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?l(R(">"),Ft(jt,">"),T,It):Fe=="?"?l(q,P(":"),rt):l(rt):Me=="quasi"?Y(de,It):Me!=";"?Me=="("?ze(C,")","call",It):Me=="."?l(gt,It):Me=="["?l(R("]"),be,P("]"),T,It):m&&Fe=="as"?(H.marked="keyword",l(jt,It)):Me=="regexp"?(H.state.lastType=H.marked="operator",H.stream.backUp(H.stream.pos-H.stream.start-1),l(rt)):void 0:void 0}function de(Me,Fe){return Me!="quasi"?Y():Fe.slice(Fe.length-2)!="${"?l(de):l(be,Oe)}function Oe(Me){if(Me=="}")return H.marked="string-2",H.state.tokenize=ve,l(de)}function we(Me){return M(H.stream,H.state),Y(Me=="{"?u:q)}function Se(Me){return M(H.stream,H.state),Y(Me=="{"?u:C)}function xe(Me){return function(Fe){return Fe=="."?l(Me?Xe:Ie):Fe=="variable"&&m?l(Ut,Me?oe:I):Y(Me?C:q)}}function Ie(Me,Fe){if(Fe=="target")return H.marked="keyword",l(I)}function Xe(Me,Fe){if(Fe=="target")return H.marked="keyword",l(oe)}function tt(Me){return Me==":"?l(T,u):Y(I,P(";"),T)}function gt(Me){if(Me=="variable")return H.marked="property",l()}function ct(Me,Fe){return Me=="async"?(H.marked="property",l(ct)):Me=="variable"||H.style=="keyword"?(H.marked="property",Fe=="get"||Fe=="set"?l(Bt):(m&&H.state.fatArrowAt==H.stream.start&&(mt=H.stream.match(/^\s*:\s*/,!1))&&(H.state.fatArrowAt=H.stream.pos+mt[0].length),l(Lt))):Me=="number"||Me=="string"?(H.marked=_?"property":H.style+" property",l(Lt)):Me=="jsonld-keyword"?l(Lt):m&&$(Fe)?(H.marked="keyword",l(ct)):Me=="["?l(q,Ne,P("]"),Lt):Me=="spread"?l(C,Lt):Fe=="*"?(H.marked="keyword",l(ct)):Me==":"?Y(Lt):void 0;var mt}function Bt(Me){return Me!="variable"?Y(Lt):(H.marked="property",l(Gt))}function Lt(Me){return Me==":"?l(C):Me=="("?Y(Gt):void 0}function Ft(Me,Fe,mt){function It(rt,_t){if(mt?mt.indexOf(rt)>-1:rt==","){var jn=H.state.lexical;return jn.info=="call"&&(jn.pos=(jn.pos||0)+1),l(function(fn,En){return fn==Fe||En==Fe?Y():Y(Me)},It)}return rt==Fe||_t==Fe?l():mt&&mt.indexOf(";")>-1?Y(Me):l(P(Fe))}return function(rt,_t){return rt==Fe||_t==Fe?l():Y(Me,It)}}function ze(Me,Fe,mt){for(var It=3;It<arguments.length;It++)H.cc.push(arguments[It]);return l(R(Fe,mt),Ft(Me,Fe),T)}function Ee(Me){return Me=="}"?l():Y(u,Ee)}function Ne(Me,Fe){if(m){if(Me==":")return l(jt);if(Fe=="?")return l(Ne)}}function We(Me,Fe){if(m&&(Me==":"||Fe=="in"))return l(jt)}function it(Me){if(m&&Me==":")return H.stream.match(/^\s*\w+\s+is\b/,!1)?l(q,vt,jt):l(jt)}function vt(Me,Fe){if(Fe=="is")return H.marked="keyword",l()}function jt(Me,Fe){return Fe=="keyof"||Fe=="typeof"||Fe=="infer"||Fe=="readonly"?(H.marked="keyword",l(Fe=="typeof"?C:jt)):Me=="variable"||Fe=="void"?(H.marked="type",l(ht)):Fe=="|"||Fe=="&"?l(jt):Me=="string"||Me=="number"||Me=="atom"?l(ht):Me=="["?l(R("]"),Ft(jt,"]",","),T,ht):Me=="{"?l(R("}"),Ve,T,ht):Me=="("?l(Ft(yt,")"),tn,ht):Me=="<"?l(Ft(jt,">"),jt):Me=="quasi"?Y(ut,ht):void 0}function tn(Me){if(Me=="=>")return l(jt)}function Ve(Me){return Me.match(/[\}\)\]]/)?l():Me==","||Me==";"?l(Ve):Y(et,Ve)}function et(Me,Fe){return Me=="variable"||H.style=="keyword"?(H.marked="property",l(et)):Fe=="?"||Me=="number"||Me=="string"?l(et):Me==":"?l(jt):Me=="["?l(P("variable"),We,P("]"),et):Me=="("?Y(nn,et):Me.match(/[;\}\)\],]/)?void 0:l()}function ut(Me,Fe){return Me!="quasi"?Y():Fe.slice(Fe.length-2)!="${"?l(ut):l(jt,At)}function At(Me){if(Me=="}")return H.marked="string-2",H.state.tokenize=ve,l(ut)}function yt(Me,Fe){return Me=="variable"&&H.stream.match(/^\s*[?:]/,!1)||Fe=="?"?l(yt):Me==":"?l(jt):Me=="spread"?l(yt):Y(jt)}function ht(Me,Fe){return Fe=="<"?l(R(">"),Ft(jt,">"),T,ht):Fe=="|"||Me=="."||Fe=="&"?l(jt):Me=="["?l(jt,P("]"),ht):Fe=="extends"||Fe=="implements"?(H.marked="keyword",l(jt)):Fe=="?"?l(jt,P(":"),jt):void 0}function Ut(Me,Fe){if(Fe=="<")return l(R(">"),Ft(jt,">"),T,ht)}function $t(){return Y(jt,un)}function un(Me,Fe){if(Fe=="=")return l(jt)}function kn(Me,Fe){return Fe=="enum"?(H.marked="keyword",l(on)):Y(en,Ne,$e,ft)}function en(Me,Fe){return m&&$(Fe)?(H.marked="keyword",l(en)):Me=="variable"?(g(Fe),l()):Me=="spread"?l(en):Me=="["?ze(qe,"]"):Me=="{"?ze(Zn,"}"):void 0}function Zn(Me,Fe){return Me!="variable"||H.stream.match(/^\s*:/,!1)?(Me=="variable"&&(H.marked="property"),Me=="spread"?l(en):Me=="}"?Y():Me=="["?l(q,P("]"),P(":"),Zn):l(P(":"),en,$e)):(g(Fe),l($e))}function qe(){return Y(en,$e)}function $e(Me,Fe){if(Fe=="=")return l(C)}function ft(Me){if(Me==",")return l(kn)}function Ct(Me,Fe){if(Me=="keyword b"&&Fe=="else")return l(R("form","else"),u,T)}function Zt(Me,Fe){return Fe=="await"?l(Zt):Me=="("?l(R(")"),Mt,T):void 0}function Mt(Me){return Me=="var"?l(kn,Ht):Me=="variable"?l(Ht):Y(Ht)}function Ht(Me,Fe){return Me==")"?l():Me==";"?l(Ht):Fe=="in"||Fe=="of"?(H.marked="keyword",l(q,Ht)):Y(q,Ht)}function Gt(Me,Fe){return Fe=="*"?(H.marked="keyword",l(Gt)):Me=="variable"?(g(Fe),l(Gt)):Me=="("?l(b,R(")"),Ft(ln,")"),T,it,u,z):m&&Fe=="<"?l(R(">"),Ft($t,">"),T,Gt):void 0}function nn(Me,Fe){return Fe=="*"?(H.marked="keyword",l(nn)):Me=="variable"?(g(Fe),l(nn)):Me=="("?l(b,R(")"),Ft(ln,")"),T,it,z):m&&Fe=="<"?l(R(">"),Ft($t,">"),T,nn):void 0}function dn(Me,Fe){return Me=="keyword"||Me=="variable"?(H.marked="type",l(dn)):Fe=="<"?l(R(">"),Ft($t,">"),T):void 0}function ln(Me,Fe){return Fe=="@"&&l(q,ln),Me=="spread"?l(ln):m&&$(Fe)?(H.marked="keyword",l(ln)):m&&Me=="this"?l(Ne,$e):Y(en,Ne,$e)}function bn(Me,Fe){return Me=="variable"?wn(Me,Fe):Cn(Me,Fe)}function wn(Me,Fe){if(Me=="variable")return g(Fe),l(Cn)}function Cn(Me,Fe){return Fe=="<"?l(R(">"),Ft($t,">"),T,Cn):Fe=="extends"||Fe=="implements"||m&&Me==","?(Fe=="implements"&&(H.marked="keyword"),l(m?jt:q,Cn)):Me=="{"?l(R("}"),Sn,T):void 0}function Sn(Me,Fe){return Me=="async"||Me=="variable"&&(Fe=="static"||Fe=="get"||Fe=="set"||m&&$(Fe))&&H.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(H.marked="keyword",l(Sn)):Me=="variable"||H.style=="keyword"?(H.marked="property",l(Tn,Sn)):Me=="number"||Me=="string"?l(Tn,Sn):Me=="["?l(q,Ne,P("]"),Tn,Sn):Fe=="*"?(H.marked="keyword",l(Sn)):m&&Me=="("?Y(nn,Sn):Me==";"||Me==","?l(Sn):Me=="}"?l():Fe=="@"?l(q,Sn):void 0}function Tn(Me,Fe){if(Fe=="!"||Fe=="?")return l(Tn);if(Me==":")return l(jt,$e);if(Fe=="=")return l(C);var mt=H.state.lexical.prev;return Y(mt&&mt.info=="interface"?nn:Gt)}function qn(Me,Fe){return Fe=="*"?(H.marked="keyword",l(Wt,P(";"))):Fe=="default"?(H.marked="keyword",l(q,P(";"))):Me=="{"?l(Ft(Nt,"}"),Wt,P(";")):Y(u)}function Nt(Me,Fe){return Fe=="as"?(H.marked="keyword",l(P("variable"))):Me=="variable"?Y(C,Nt):void 0}function Rt(Me){return Me=="string"?l():Me=="("?Y(q):Me=="."?Y(I):Y(Dn,Bn,Wt)}function Dn(Me,Fe){return Me=="{"?ze(Dn,"}"):(Me=="variable"&&g(Fe),Fe=="*"&&(H.marked="keyword"),l(Nn))}function Bn(Me){if(Me==",")return l(Dn,Bn)}function Nn(Me,Fe){if(Fe=="as")return H.marked="keyword",l(Dn)}function Wt(Me,Fe){if(Fe=="from")return H.marked="keyword",l(q)}function hn(Me){return Me=="]"?l():Y(Ft(C,"]"))}function on(){return Y(R("form"),en,P("{"),R("}"),Ft(sr,"}"),T,T)}function sr(){return Y(en,$e)}function Ot(Me,Fe){return Me.lastType=="operator"||Me.lastType==","||Z.test(Fe.charAt(0))||/[,.]/.test(Fe.charAt(0))}function cn(Me,Fe,mt){return Fe.tokenize==X&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Fe.lastType)||Fe.lastType=="quasi"&&/\{\s*$/.test(Me.string.slice(0,Me.pos-(mt||0)))}return z.lex=!0,T.lex=!0,{startState:function(Me){var Fe={tokenize:X,lastType:"sof",cc:[],lexical:new F((Me||0)-d,0,"block",!1),localVars:S.localVars,context:S.localVars&&new ae(null,null,!1),indented:Me||0};return S.globalVars&&typeof S.globalVars=="object"&&(Fe.globalVars=S.globalVars),Fe},token:function(Me,Fe){if(Me.sol()&&(Fe.lexical.hasOwnProperty("align")||(Fe.lexical.align=!1),Fe.indented=Me.indentation(),M(Me,Fe)),Fe.tokenize!=se&&Me.eatSpace())return null;var mt=Fe.tokenize(Me,Fe);return p=="comment"?mt:(Fe.lastType=p!="operator"||k!="++"&&k!="--"?p:"incdec",ne(Fe,mt,p,k,Me))},indent:function(Me,Fe){if(Me.tokenize==se||Me.tokenize==ve)return A.Pass;if(Me.tokenize!=X)return 0;var mt,It=Fe&&Fe.charAt(0),rt=Me.lexical;if(!/^\s*else\b/.test(Fe))for(var _t=Me.cc.length-1;_t>=0;--_t){var jn=Me.cc[_t];if(jn==T)rt=rt.prev;else if(jn!=Ct&&jn!=z)break}for(;(rt.type=="stat"||rt.type=="form")&&(It=="}"||(mt=Me.cc[Me.cc.length-1])&&(mt==I||mt==oe)&&!/^[,\.=+\-*:?[\(]/.test(Fe));)rt=rt.prev;j&&rt.type==")"&&rt.prev.type=="stat"&&(rt=rt.prev);var fn=rt.type,En=It==fn;return fn=="vardef"?rt.indented+(Me.lastType=="operator"||Me.lastType==","?rt.info.length+1:0):fn=="form"&&It=="{"?rt.indented:fn=="form"?rt.indented+d:fn=="stat"?rt.indented+(Ot(Me,Fe)?j||d:0):rt.info!="switch"||En||S.doubleIndentSwitch==0?rt.align?rt.column+(En?0:1):rt.indented+(En?0:d):rt.indented+(/^(?:case|default)\b/.test(Fe)?d:2*d)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:f?null:"/*",blockCommentEnd:f?null:"*/",blockCommentContinue:f?null:" * ",lineComment:f?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:f?"json":"javascript",jsonldMode:_,jsonMode:f,expressionAllowed:cn,skipExpression:function(Me){ne(Me,"atom","atom","true",new A.StringStream("",2,null))}}}),A.registerHelper("wordChars","javascript",/[\w$]/),A.defineMIME("text/javascript","javascript"),A.defineMIME("text/ecmascript","javascript"),A.defineMIME("application/javascript","javascript"),A.defineMIME("application/x-javascript","javascript"),A.defineMIME("application/ecmascript","javascript"),A.defineMIME("application/json",{name:"javascript",json:!0}),A.defineMIME("application/x-json",{name:"javascript",json:!0}),A.defineMIME("application/manifest+json",{name:"javascript",json:!0}),A.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),A.defineMIME("text/typescript",{name:"javascript",typescript:!0}),A.defineMIME("application/typescript",{name:"javascript",typescript:!0})})(s(4631))},9589:(ge,ie,s)=>{(function(A){var U={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},S={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};A.defineMode("xml",function(p,k){var d,j,_=p.indentUnit,f={},c=k.htmlMode?U:S;for(var m in c)f[m]=c[m];for(var m in k)f[m]=k[m];function w(l,y){function g($){return y.tokenize=$,$(l,y)}var v=l.next();return v=="<"?l.eat("!")?l.eat("[")?l.match("CDATA[")?g(Q("atom","]]>")):null:l.match("--")?g(Q("comment","-->")):l.match("DOCTYPE",!0,!0)?(l.eatWhile(/[\w\._\-]/),g(J(1))):null:l.eat("?")?(l.eatWhile(/[\w\._\-]/),y.tokenize=Q("meta","?>"),"meta"):(d=l.eat("/")?"closeTag":"openTag",y.tokenize=E,"tag bracket"):v=="&"?(l.eat("#")?l.eat("x")?l.eatWhile(/[a-fA-F\d]/)&&l.eat(";"):l.eatWhile(/[\d]/)&&l.eat(";"):l.eatWhile(/[\w\.\-:]/)&&l.eat(";"))?"atom":"error":(l.eatWhile(/[^&<]/),null)}function E(l,y){var g=l.next();if(g==">"||g=="/"&&l.eat(">"))return y.tokenize=w,d=g==">"?"endTag":"selfcloseTag","tag bracket";if(g=="=")return d="equals",null;if(g=="<"){y.tokenize=w,y.state=ve,y.tagName=y.tagStart=null;var v=y.tokenize(l,y);return v?v+" tag error":"tag error"}return/[\'\"]/.test(g)?(y.tokenize=Z(g),y.stringStartCol=l.column(),y.tokenize(l,y)):(l.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function Z(l){var y=function(g,v){for(;!g.eol();)if(g.next()==l){v.tokenize=E;break}return"string"};return y.isInAttribute=!0,y}function Q(l,y){return function(g,v){for(;!g.eol();){if(g.match(y)){v.tokenize=w;break}g.next()}return l}}function J(l){return function(y,g){for(var v;(v=y.next())!=null;){if(v=="<")return g.tokenize=J(l+1),g.tokenize(y,g);if(v==">"){if(l==1){g.tokenize=w;break}return g.tokenize=J(l-1),g.tokenize(y,g)}}return"meta"}}function te(l){return l&&l.toLowerCase()}function X(l,y,g){this.prev=l.context,this.tagName=y||"",this.indent=l.indented,this.startOfLine=g,(f.doNotIndent.hasOwnProperty(y)||l.context&&l.context.noIndent)&&(this.noIndent=!0)}function V(l){l.context&&(l.context=l.context.prev)}function se(l,y){for(var g;;){if(!l.context||(g=l.context.tagName,!f.contextGrabbers.hasOwnProperty(te(g))||!f.contextGrabbers[te(g)].hasOwnProperty(te(y))))return;V(l)}}function ve(l,y,g){return l=="openTag"?(g.tagStart=y.column(),ue):l=="closeTag"?M:ve}function ue(l,y,g){return l=="word"?(g.tagName=y.current(),j="tag",re):f.allowMissingTagName&&l=="endTag"?(j="tag bracket",re(l,y,g)):(j="error",ue)}function M(l,y,g){if(l=="word"){var v=y.current();return g.context&&g.context.tagName!=v&&f.implicitlyClosed.hasOwnProperty(te(g.context.tagName))&&V(g),g.context&&g.context.tagName==v||f.matchClosing===!1?(j="tag",L):(j="tag error",F)}return f.allowMissingTagName&&l=="endTag"?(j="tag bracket",L(l,y,g)):(j="error",F)}function L(l,y,g){return l!="endTag"?(j="error",L):(V(g),ve)}function F(l,y,g){return j="error",L(l,y,g)}function re(l,y,g){if(l=="word")return j="attribute",ne;if(l=="endTag"||l=="selfcloseTag"){var v=g.tagName,$=g.tagStart;return g.tagName=g.tagStart=null,l=="selfcloseTag"||f.autoSelfClosers.hasOwnProperty(te(v))?se(g,v):(se(g,v),g.context=new X(g,v,$==g.indented)),ve}return j="error",re}function ne(l,y,g){return l=="equals"?H:(f.allowMissing||(j="error"),re(l,y,g))}function H(l,y,g){return l=="string"?Y:l=="word"&&f.allowUnquoted?(j="string",re):(j="error",re(l,y,g))}function Y(l,y,g){return l=="string"?Y:re(l,y,g)}return w.isInText=!0,{startState:function(l){var y={tokenize:w,state:ve,indented:l||0,tagName:null,tagStart:null,context:null};return l!=null&&(y.baseIndent=l),y},token:function(l,y){if(!y.tagName&&l.sol()&&(y.indented=l.indentation()),l.eatSpace())return null;d=null;var g=y.tokenize(l,y);return(g||d)&&g!="comment"&&(j=null,y.state=y.state(d||g,l,y),j&&(g=j=="error"?g+" error":j)),g},indent:function(l,y,g){var v=l.context;if(l.tokenize.isInAttribute)return l.tagStart==l.indented?l.stringStartCol+1:l.indented+_;if(v&&v.noIndent)return A.Pass;if(l.tokenize!=E&&l.tokenize!=w)return g?g.match(/^(\s*)/)[0].length:0;if(l.tagName)return f.multilineTagIndentPastTag!==!1?l.tagStart+l.tagName.length+2:l.tagStart+_*(f.multilineTagIndentFactor||1);if(f.alignCDATA&&/<!\[CDATA\[/.test(y))return 0;var $=y&&/^<(\/)?([\w_:\.-]*)/.exec(y);if($&&$[1])for(;v;){if(v.tagName==$[2]){v=v.prev;break}if(!f.implicitlyClosed.hasOwnProperty(te(v.tagName)))break;v=v.prev}else if($)for(;v;){var ae=f.contextGrabbers[te(v.tagName)];if(!ae||!ae.hasOwnProperty(te($[2])))break;v=v.prev}for(;v&&v.prev&&!v.startOfLine;)v=v.prev;return v?v.indent+_:l.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:f.htmlMode?"html":"xml",helperType:f.htmlMode?"html":"xml",skipAttribute:function(l){l.state==H&&(l.state=re)},xmlCurrentTag:function(l){return l.tagName?{name:l.tagName,close:l.type=="closeTag"}:null},xmlCurrentContext:function(l){for(var y=[],g=l.context;g;g=g.prev)y.push(g.tagName);return y.reverse()}}}),A.defineMIME("text/xml","xml"),A.defineMIME("application/xml","xml"),A.mimeModes.hasOwnProperty("text/html")||A.defineMIME("text/html",{name:"xml",htmlMode:!0})})(s(4631))},9714:(ge,ie,s)=>{s.d(ie,{Z:()=>f});var A=s(4942),U=s(2982),S=s(5671),p=s(3144),k=s(9050),d=s(1163);function j(c,m){var w=Object.keys(c);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(c);m&&(E=E.filter(function(Z){return Object.getOwnPropertyDescriptor(c,Z).enumerable})),w.push.apply(w,E)}return w}function _(c){for(var m=1;m<arguments.length;m++){var w=arguments[m]!=null?arguments[m]:{};m%2?j(Object(w),!0).forEach(function(E){(0,A.Z)(c,E,w[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(w)):j(Object(w)).forEach(function(E){Object.defineProperty(c,E,Object.getOwnPropertyDescriptor(w,E))})}return c}var f=function(){function c(){(0,S.Z)(this,c)}return(0,p.Z)(c,[{key:"getConfig",value:function(m){return this.__getConfig(m)}},{key:"getProjectData",value:function(m){var w={},E=this.storageKey;return E&&(w[E]=m||this.getAll()),w}},{key:"loadProjectData",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=w.all,Z=w.onResult,Q=w.reset,J=this.storageKey,te={action:"load"},X=E||this.getAll(),V=m[J];if(typeof V=="string")try{V=JSON.parse(V)}catch{this.__logWarn("Data parsing failed",{input:V})}return Q&&V&&X.reset(null,te),Z?V&&Z(V,te):V&&(0,d.isDef)(V.length)&&X.reset(V,te),V}},{key:"clear",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=this.all;return w&&w.reset(null,m),this}},{key:"__getConfig",value:function(m){var w=this.config||{};return m?w[m]:w}},{key:"getAll",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.all?m.array?(0,U.Z)(this.all.models):this.all:[]}},{key:"getAllMap",value:function(){return this.getAll().reduce(function(m,w){return m[w.get(w.idAttribute)]=w,m},{})}},{key:"__initConfig",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.config=(0,d.deepMerge)(m,w),this.em=this.config.em,this.cls=[]}},{key:"__initListen",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=this.all,E=this.em,Z=this.events;w&&E&&w.on("add",function(Q,J,te){return E.trigger(Z.add,Q,te)}).on("remove",function(Q,J,te){return E.trigger(Z.remove,Q,te)}).on("change",function(Q,J){return E.trigger(Z.update,Q,Q.changedAttributes(),J)}).on("all",this.__catchAllEvent,this),this.cls=[w].concat(m.collections||[]),(m.propagate||[]).forEach(function(Q){var J=Q.entity,te=Q.event;J.on("all",function(X,V,se,ve){var ue=_({event:X},ve||se);[E,w].map(function(M){return M.trigger(te,V,ue)})})})}},{key:"__remove",value:function(m){var w=this,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=this.em,Q=(0,k.isString)(m)?this.get(m):m,J=function(){return Q&&w.all.remove(Q,E),Q};return!E.silent&&Z&&Z.trigger(this.events.removeBefore,Q,J,E),!E.abort&&J()}},{key:"__catchAllEvent",value:function(m,w,E,Z){var Q=this.em,J=this.events,te=Z||E;Q&&J.all&&Q.trigger(J.all,{event:m,model:w,options:te}),this.__onAllEvent()}},{key:"__appendTo",value:function(){var m=this.getConfig().appendTo;if(m){var w=(0,k.isElement)(m)?m:document.querySelector(m);if(!w)return this.__logWarn('"appendTo" element not found');w.appendChild(this.render())}}},{key:"__onAllEvent",value:function(){}},{key:"__logWarn",value:function(m,w){this.em.logWarning("[".concat(this.name,"]: ").concat(m),w)}},{key:"_createId",value:function(){var m,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,E=this.getAll(),Z=E.length+w,Q=this.getAllMap();do m=(0,d.createId)(Z);while(Q[m]);return m}},{key:"__listenAdd",value:function(m,w){var E=this;m.on("add",function(Z,Q,J){return E.em.trigger(w,Z,J)})}},{key:"__listenRemove",value:function(m,w){var E=this;m.on("remove",function(Z,Q,J){return E.em.trigger(w,Z,J)})}},{key:"__listenUpdate",value:function(m,w){var E=this;m.on("change",function(Z,Q){return E.em.trigger(w,Z,Z.changedAttributes(),Q)})}},{key:"__destroy",value:function(){var m;this.cls.forEach(function(w){w.stopListening(),w.reset()}),this.em=0,this.config=0,(m=this.view)===null||m===void 0||m.remove(),this.view=0}}]),c}()},1030:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>de,evAdd:()=>T,evAll:()=>b,evClose:()=>C,evCustom:()=>ee,evOpen:()=>q,evPfx:()=>h,evRemove:()=>P,evRemoveBefore:()=>u,evSelect:()=>z,evUpdate:()=>R,evUpload:()=>D,evUploadEnd:()=>be,evUploadError:()=>I,evUploadRes:()=>oe,evUploadStart:()=>le});var A=s(4942),U=s(9050),S=s(9304);const p={assets:[],noAssets:"",stylePrefix:"am-",upload:0,uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,autoAdd:!0,customFetch:null,uploadFile:null,embedAsBase64:!0,handleAdd:null,beforeUpload:null,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:1,dropzoneContent:""};var k=s(3144),d=s(5671),j=s(9340),_=s(2963),f=s(1120),c=s(2316);function m(Oe){var we=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Se,xe=(0,f.Z)(Oe);if(we){var Ie=(0,f.Z)(this).constructor;Se=Reflect.construct(xe,arguments,Ie)}else Se=xe.apply(this,arguments);return(0,_.Z)(this,Se)}}var w=function(Oe){(0,j.Z)(Se,Oe);var we=m(Se);function Se(){return(0,d.Z)(this,Se),we.apply(this,arguments)}return(0,k.Z)(Se,[{key:"defaults",value:function(){return{type:"",src:""}}},{key:"getType",value:function(){return this.get("type")}},{key:"getSrc",value:function(){return this.get("src")}},{key:"getFilename",value:function(){return this.get("src").split("/").pop().split("?").shift()}},{key:"getExtension",value:function(){return this.getFilename().split(".").pop()}}]),Se}(c.Model);function E(Oe,we){var Se=Object.keys(Oe);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(Oe);we&&(xe=xe.filter(function(Ie){return Object.getOwnPropertyDescriptor(Oe,Ie).enumerable})),Se.push.apply(Se,xe)}return Se}function Z(Oe){for(var we=1;we<arguments.length;we++){var Se=arguments[we]!=null?arguments[we]:{};we%2?E(Object(Se),!0).forEach(function(xe){(0,A.Z)(Oe,xe,Se[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors(Se)):E(Object(Se)).forEach(function(xe){Object.defineProperty(Oe,xe,Object.getOwnPropertyDescriptor(Se,xe))})}return Oe}function Q(Oe){var we=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Se,xe=(0,f.Z)(Oe);if(we){var Ie=(0,f.Z)(this).constructor;Se=Reflect.construct(xe,arguments,Ie)}else Se=xe.apply(this,arguments);return(0,_.Z)(this,Se)}}w.prototype.idAttribute="src",w.getDefaults=function(){return(0,U.result)(this.prototype,"defaults")};var J=function(Oe){(0,j.Z)(Se,Oe);var we=Q(Se);function Se(){return(0,d.Z)(this,Se),we.apply(this,arguments)}return(0,k.Z)(Se,[{key:"defaults",value:function(){return Z(Z({},w.getDefaults()),{},{type:"image",unitDim:"px",height:0,width:0})}}]),Se}(w),te=s(168);function X(Oe){var we=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Se,xe=(0,f.Z)(Oe);if(we){var Ie=(0,f.Z)(this).constructor;Se=Reflect.construct(xe,arguments,Ie)}else Se=xe.apply(this,arguments);return(0,_.Z)(this,Se)}}var V,se,ve=function(Oe){(0,j.Z)(Se,Oe);var we=X(Se);function Se(){return(0,d.Z)(this,Se),we.apply(this,arguments)}return(0,k.Z)(Se,[{key:"initialize",value:function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=xe,this.collection=xe.collection;var Ie=xe.config||{};this.config=Ie,this.pfx=Ie.stylePrefix||"",this.ppfx=Ie.pStylePrefix||"",this.em=Ie.em,this.className=this.pfx+"asset",this.listenTo(this.model,"destroy remove",this.remove),this.model.view=this;var Xe=this.init&&this.init.bind(this);Xe&&Xe(xe)}},{key:"__getBhv",value:function(){var xe=this.em,Ie=xe&&xe.get("AssetManager");return Ie&&Ie.__getBehaviour()||{}}},{key:"template",value:function(){var xe=this.pfx;return`
      <div class="`.concat(xe,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(xe,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(xe,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)}},{key:"updateTarget",value:function(xe){xe&&xe.set&&(xe.set("attributes",(0,U.clone)(xe.get("attributes"))),xe.set("src",this.model.get("src")))}},{key:"getPreview",value:function(){return""}},{key:"getInfo",value:function(){return""}},{key:"render",value:function(){var xe=this.el;return xe.innerHTML=this.template(this,this.model),xe.className=this.className,this}}]),Se}(c.View),ue=s(7539);function M(Oe){var we=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Se,xe=(0,f.Z)(Oe);if(we){var Ie=(0,f.Z)(this).constructor;Se=Reflect.construct(xe,arguments,Ie)}else Se=xe.apply(this,arguments);return(0,_.Z)(this,Se)}}var L=function(Oe){(0,j.Z)(Se,Oe);var we=M(Se);function Se(){return(0,d.Z)(this,Se),we.apply(this,arguments)}return(0,k.Z)(Se,[{key:"getPreview",value:function(){var xe=this.pfx,Ie=this.ppfx,Xe=this.model.get("src");return(0,ue.Z)(V||(V=(0,te.Z)([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),xe,Xe,xe,Ie)}},{key:"getInfo",value:function(){var xe=this.pfx,Ie=this.model,Xe=Ie.get("name"),tt=Ie.get("width"),gt=Ie.get("height"),ct=Ie.get("unitDim"),Bt=tt&&gt?"".concat(tt,"x").concat(gt).concat(ct):"";return Xe=Xe||Ie.getFilename(),(0,ue.Z)(se||(se=(0,te.Z)([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),xe,Xe,xe,Bt)}},{key:"init",value:function(xe){var Ie=this.pfx;this.className+=" ".concat(Ie,"asset-image")}},{key:"onClick",value:function(){var xe=this.model,Ie=this.pfx,Xe=this.__getBhv().select,tt=this.config.onClick,gt=this.collection;gt.trigger("deselectAll"),this.$el.addClass(Ie+"highlight"),(0,U.isFunction)(Xe)?Xe(xe,!1):(0,U.isFunction)(tt)?tt(xe):this.updateTarget(gt.target)}},{key:"onDblClick",value:function(){var xe=this.em,Ie=this.model,Xe=this.__getBhv().select,tt=this.config.onDblClick,gt=this.collection,ct=gt.target,Bt=gt.onSelect;(0,U.isFunction)(Xe)?Xe(Ie,!0):(0,U.isFunction)(tt)?tt(Ie):(this.updateTarget(ct),xe&&xe.get("Modal").close()),(0,U.isFunction)(Bt)&&Bt(Ie)}},{key:"onRemove",value:function(xe){xe.stopImmediatePropagation(),this.model.collection.remove(this.model)}}]),Se}(ve);L.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var F=s(793);function re(Oe){var we=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Se,xe=(0,f.Z)(Oe);if(we){var Ie=(0,f.Z)(this).constructor;Se=Reflect.construct(xe,arguments,Ie)}else Se=xe.apply(this,arguments);return(0,_.Z)(this,Se)}}var ne=function(Oe){(0,j.Z)(Se,Oe);var we=re(Se);function Se(){return(0,d.Z)(this,Se),we.apply(this,arguments)}return(0,k.Z)(Se)}(c.Collection.extend(F.Z));function H(Oe){var we=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Se,xe=(0,f.Z)(Oe);if(we){var Ie=(0,f.Z)(this).constructor;Se=Reflect.construct(xe,arguments,Ie)}else Se=xe.apply(this,arguments);return(0,_.Z)(this,Se)}}ne.prototype.types=[{id:"image",model:J,view:L,isType:function(Oe){return typeof Oe=="string"?{type:"image",src:Oe}:Oe}}];var Y=function(Oe){(0,j.Z)(Se,Oe);var we=H(Se);function Se(){return(0,d.Z)(this,Se),we.apply(this,arguments)}return(0,k.Z)(Se,[{key:"template",value:function(xe){var Ie=xe.pfx,Xe=xe.ppfx,tt=xe.em,gt="";return this.config.showUrlInput&&(gt=`
          <form class="`.concat(Ie,`add-asset">
            <div class="`).concat(Xe,"field ").concat(Ie,`add-field">
              <input placeholder="`).concat(tt&&tt.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(Xe,'btn-prim">').concat(tt&&tt.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(Ie,`assets-cont">
      <div class="`).concat(Ie,`assets-header">
        `).concat(gt,`
      </div>
      <div class="`).concat(Ie,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)}},{key:"initialize",value:function(xe){this.options=xe,this.config=xe.config,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.em=this.config.em;var Ie=this.collection;this.listenTo(Ie,"reset",this.renderAssets),this.listenTo(Ie,"add",this.addToAsset),this.listenTo(Ie,"remove",this.removedAsset),this.listenTo(Ie,"deselectAll",this.deselectAll)}},{key:"handleSubmit",value:function(xe){xe.preventDefault();var Ie=this.getAddInput(),Xe=Ie&&Ie.value.trim(),tt=this.config.handleAdd;Xe&&(Ie.value="",this.getAssetsEl().scrollTop=0,tt?tt.bind(this)(Xe):this.options.globalCollection.add(Xe,{at:0}))}},{key:"getAssetsEl",value:function(){return this.el.querySelector(".".concat(this.pfx,"assets"))}},{key:"getAddInput",value:function(){return this.inputUrl&&this.inputUrl.value||(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl}},{key:"removedAsset",value:function(xe){this.collection.length||this.toggleNoAssets()}},{key:"addToAsset",value:function(xe){this.collection.length==1&&this.toggleNoAssets(1),this.addAsset(xe)}},{key:"addAsset",value:function(xe){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Xe=Ie,tt=this.collection,gt=this.config,ct=new xe.typeView({model:xe,collection:tt,config:gt}).render().el;if(Xe)Xe.appendChild(ct);else{var Bt=this.getAssetsEl();Bt&&Bt.insertBefore(ct,Bt.firstChild)}return ct}},{key:"toggleNoAssets",value:function(xe){var Ie=this.$el.find(".".concat(this.pfx,"assets"));if(xe)Ie.empty();else{var Xe=this.config.noAssets;Xe&&Ie.append(Xe)}}},{key:"deselectAll",value:function(){var xe=this.pfx;this.$el.find(".".concat(xe,"highlight")).removeClass("".concat(xe,"highlight"))}},{key:"renderAssets",value:function(){var xe=this,Ie=document.createDocumentFragment(),Xe=this.$el.find(".".concat(this.pfx,"assets"));Xe.empty(),this.toggleNoAssets(this.collection.length),this.collection.each(function(tt){return xe.addAsset(tt,Ie)}),Xe.append(Ie)}},{key:"render",value:function(){var xe=this.options.fu.render().el;return this.$el.empty(),this.$el.append(xe).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this}}]),Se}(c.View);Y.prototype.events={submit:"handleSubmit"};var l,y=s(9661);function g(Oe,we){var Se=typeof Symbol!="undefined"&&Oe[Symbol.iterator]||Oe["@@iterator"];if(!Se){if(Array.isArray(Oe)||(Se=function(ct,Bt){if(!!ct){if(typeof ct=="string")return v(ct,Bt);var Lt=Object.prototype.toString.call(ct).slice(8,-1);if(Lt==="Object"&&ct.constructor&&(Lt=ct.constructor.name),Lt==="Map"||Lt==="Set")return Array.from(ct);if(Lt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Lt))return v(ct,Bt)}}(Oe))||we&&Oe&&typeof Oe.length=="number"){Se&&(Oe=Se);var xe=0,Ie=function(){};return{s:Ie,n:function(){return xe>=Oe.length?{done:!0}:{done:!1,value:Oe[xe++]}},e:function(ct){throw ct},f:Ie}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Xe,tt=!0,gt=!1;return{s:function(){Se=Se.call(Oe)},n:function(){var ct=Se.next();return tt=ct.done,ct},e:function(ct){gt=!0,Xe=ct},f:function(){try{tt||Se.return==null||Se.return()}finally{if(gt)throw Xe}}}}function v(Oe,we){(we==null||we>Oe.length)&&(we=Oe.length);for(var Se=0,xe=new Array(we);Se<we;Se++)xe[Se]=Oe[Se];return xe}function $(Oe){var we=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Se,xe=(0,f.Z)(Oe);if(we){var Ie=(0,f.Z)(this).constructor;Se=Reflect.construct(xe,arguments,Ie)}else Se=xe.apply(this,arguments);return(0,_.Z)(this,Se)}}var ae=function(Oe){(0,j.Z)(Se,Oe);var we=$(Se);function Se(){return(0,d.Z)(this,Se),we.apply(this,arguments)}return(0,k.Z)(Se,[{key:"template",value:function(xe){var Ie=xe.pfx,Xe=xe.title,tt=xe.uploadId,gt=xe.disabled,ct=xe.multiUpload;return(0,ue.Z)(l||(l=(0,te.Z)([`
      <form>
        <div id="`,'title">',`</div>
        <input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),Ie,Xe,tt,gt?"disabled":"",ct?"multiple":"")}},{key:"initialize",value:function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=xe;var Ie=xe.config||{};this.module=xe.module,this.config=Ie,this.em=this.config.em,this.pfx=Ie.stylePrefix||"",this.ppfx=Ie.pStylePrefix||"",this.target=this.options.globalCollection||{},this.uploadId=this.pfx+"uploadFile",this.disabled=Ie.disableUpload!==void 0?Ie.disableUpload:!Ie.upload&&!Ie.embedAsBase64,this.multiUpload=Ie.multiUpload===void 0||Ie.multiUpload,this.events=(0,A.Z)({},"change #".concat(this.uploadId),"uploadFile");var Xe=Ie.uploadFile;Xe?this.uploadFile=Xe.bind(this):!Ie.upload&&Ie.embedAsBase64&&(this.uploadFile=this.constructor.embedAsBase64),this.delegateEvents()}},{key:"onUploadStart",value:function(){var xe=this.module;xe&&xe.__propEv("asset:upload:start")}},{key:"onUploadEnd",value:function(xe){var Ie=this.$el,Xe=this.module;Xe&&Xe.__propEv("asset:upload:end",xe);var tt=Ie.find("input");tt&&tt.val("")}},{key:"onUploadError",value:function(xe){var Ie=this.module;console.error(xe),this.onUploadEnd(xe),Ie&&Ie.__propEv("asset:upload:error",xe)}},{key:"onUploadResponse",value:function(xe,Ie){var Xe,tt=this.module,gt=this.config,ct=this.target;try{Xe=typeof xe=="string"?JSON.parse(xe):xe}catch{Xe=xe}tt&&tt.__propEv("asset:upload:response",Xe),gt.autoAdd&&ct&&ct.add(Xe.data,{at:0}),this.onUploadEnd(xe),Ie&&Ie(Xe)}},{key:"uploadFile",value:function(xe,Ie){var Xe=this,tt=xe.dataTransfer?xe.dataTransfer.files:xe.target.files,gt=this.config,ct=gt.beforeUpload;if((ct&&ct(tt))!==!1){var Bt=new FormData,Lt=gt.params,Ft=gt.customFetch;for(var ze in Lt)Bt.append(ze,Lt[ze]);if(this.multiUpload)for(var Ee=0;Ee<tt.length;Ee++)Bt.append("".concat(gt.uploadName,"[]"),tt[Ee]);else tt.length&&Bt.append(gt.uploadName,tt[0]);this.target;var Ne=gt.upload,We=gt.headers,it="X-Requested-With";if(We[it]===void 0&&(We[it]="XMLHttpRequest"),Ne){this.onUploadStart();var vt={method:"post",credentials:gt.credentials||"include",headers:We,body:Bt};return(Ft?Ft(Ne,vt):(0,y.Z)(Ne,vt).then(function(jt){return(jt.status/200|0)==1?jt.text():jt.text().then(function(tn){return Promise.reject(tn)})})).then(function(jt){return Xe.onUploadResponse(jt,Ie)}).catch(function(jt){return Xe.onUploadError(jt)})}}}},{key:"initDrop",value:function(){var xe=this;!this.uploadForm&&(this.uploadForm=this.$el.find("form").get(0),"draggable"in this.uploadForm)&&(this.uploadFile,this.uploadForm.ondragover=function(){return this.className=xe.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return this.className="",!1},this.uploadForm.ondrop=function(Ie){this.className="",Ie.preventDefault(),xe.uploadFile(Ie)})}},{key:"initDropzone",value:function(xe){var Ie=this,Xe=0,tt=this.config,gt=xe.model,ct=xe.el,Bt=gt.get("Editor"),Lt=(gt.get("Config").el,gt.get("Canvas").getBody()),Ft=this.ppfx,ze="".concat(Ft,"dropzone-active"),Ee="".concat(Ft,"dropzone"),Ne=function(){ct.className=ct.className.replace(ze,"").trim(),Xe=0},We=function(){return Xe||(ct.className+=" ".concat(ze),Xe=1),!1},it=function(){return Ne(),!1},vt=function(jt){if(Ne(),jt.preventDefault(),jt.stopPropagation(),Ie.uploadFile(jt),tt.openAssetsOnDrop&&Bt){var tn=Bt.getSelected();Bt.runCommand("open-assets",{target:tn,onSelect:function(){Bt.Modal.close(),Bt.AssetManager.setTarget(null)}})}return!1};xe.$el.append('<div class="'.concat(Ee,'">').concat(tt.dropzoneContent,"</div>")),Ne(),"draggable"in ct&&[ct,Lt].forEach(function(jt){jt.ondragover=We,jt.ondragleave=it,jt.ondrop=vt})}},{key:"render",value:function(){var xe=this.$el,Ie=this.pfx,Xe=this.em;return xe.html(this.template({title:Xe&&Xe.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:Ie})),this.initDrop(),xe.attr("class",Ie+"file-uploader"),this}}]),Se}(c.View);function K(Oe,we){var Se=Object.keys(Oe);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(Oe);we&&(xe=xe.filter(function(Ie){return Object.getOwnPropertyDescriptor(Oe,Ie).enumerable})),Se.push.apply(Se,xe)}return Se}function N(Oe){for(var we=1;we<arguments.length;we++){var Se=arguments[we]!=null?arguments[we]:{};we%2?K(Object(Se),!0).forEach(function(xe){(0,A.Z)(Oe,xe,Se[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors(Se)):K(Object(Se)).forEach(function(xe){Object.defineProperty(Oe,xe,Object.getOwnPropertyDescriptor(Se,xe))})}return Oe}ae.embedAsBase64=function(Oe,we){var Se=this,xe=Oe.dataTransfer?Oe.dataTransfer.files:Oe.target.files,Ie={data:[]};if(FileReader){var Xe,tt=[],gt=/^(.+)\/(.+)$/,ct=g(xe);try{var Bt=function(){var Lt=Xe.value,Ft=new Promise(function(ze,Ee){var Ne=new FileReader;Ne.addEventListener("load",function(We){var it,vt=Lt.name,jt=gt.exec(Lt.type);if((it=jt?jt[1]:Lt.type)==="image"){var tn={src:Ne.result,name:vt,type:it,height:0,width:0},Ve=new Image;Ve.addEventListener("error",function(et){Ee(et)}),Ve.addEventListener("load",function(){tn.height=Ve.height,tn.width=Ve.width,ze(tn)}),Ve.src=tn.src}else ze(it?{src:Ne.result,name:vt,type:it}:Ne.result)}),Ne.addEventListener("error",function(We){Ee(We)}),Ne.addEventListener("abort",function(We){Ee("Aborted")}),Ne.readAsDataURL(Lt)});tt.push(Ft)};for(ct.s();!(Xe=ct.n()).done;)Bt()}catch(Lt){ct.e(Lt)}finally{ct.f()}Promise.all(tt).then(function(Lt){Ie.data=Lt,Se.onUploadResponse(Ie,we)},function(Lt){Se.onUploadError(Lt)})}else this.onUploadError(new Error("Unsupported platform, FileReader is not defined"))};var b="asset",h="".concat(b,":"),z="".concat(h,"select"),R="".concat(h,"update"),T="".concat(h,"add"),P="".concat(h,"remove"),u="".concat(P,":before"),ee="".concat(h,"custom"),q="".concat(h,"open"),C="".concat(h,"close"),D="".concat(h,"upload"),le="".concat(D,":start"),be="".concat(D,":end"),I="".concat(D,":error"),oe="".concat(D,":response");const de=function(){var Oe,we,Se,xe,Ie={},Xe="open-assets";return N(N({},S.Z),{},{name:"AssetManager",storageKey:"assets",Asset:ne,Assets:ne,events:{all:b,select:z,update:R,add:T,remove:P,removeBefore:u,custom:ee,open:q,close:C,uploadStart:le,uploadEnd:be,uploadError:I,uploadResponse:oe},init:function(){var tt=this,gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ct=(Ie=N(N({},p),gt)).pStylePrefix,Bt=Ie,Lt=Bt.em;return this.config=Ie,this.em=Lt,ct&&(Ie.stylePrefix=ct+Ie.stylePrefix),Oe=new ne([]),we=new ne([]),this.all=Oe,this.__initListen(),Oe.on("add",function(Ft){return tt.getAllVisible().add(Ft)}),Oe.on("remove",function(Ft){return tt.getAllVisible().remove(Ft)}),this},__propEv:function(tt){for(var gt,ct,Bt=arguments.length,Lt=new Array(Bt>1?Bt-1:0),Ft=1;Ft<Bt;Ft++)Lt[Ft-1]=arguments[Ft];(gt=this.em).trigger.apply(gt,[tt].concat(Lt)),(ct=this.getAll()).trigger.apply(ct,[tt].concat(Lt))},__onAllEvent:(0,U.debounce)(function(){this.__trgCustom()}),__trgCustom:function(){(this.__getBehaviour().container||this.getConfig().custom.open)&&this.em.trigger(this.events.custom,this.__customData())},__customData:function(){var tt=this,gt=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:gt.types||[],container:gt.container,close:function(){return tt.close()},remove:function(){return tt.remove.apply(tt,arguments)},select:function(ct,Bt){var Lt=tt.add(ct);(0,U.isFunction)(gt.select)&&gt.select(Lt,Bt)},options:gt.options||{}}},open:function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},gt=this.em.get("Commands");gt.run(Xe,N({types:["image"],select:function(){}},tt))},close:function(){this.em.get("Commands").stop(Xe)},isOpen:function(){var tt=this.em.get("Commands");return!(!tt||!tt.isActive(Xe))},add:function(tt){var gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return gt.at===void 0&&(gt.at=0),Oe.add(tt,gt)},get:function(tt){return Oe.where({src:tt})[0]||null},getAll:function(){return Oe},getAllVisible:function(){return we},remove:function(tt,gt){return this.__remove(tt,gt)},store:function(){return this.getProjectData()},load:function(tt){return this.loadProjectData(tt)},getContainer:function(){return this.__getBehaviour().container||Se&&Se.el},getAssetsEl:function(){return Se.el.querySelector("[data-el=assets]")},render:function(tt){if(!this.getConfig().custom){var gt=tt||this.getAll().models;if(!Se){var ct=this.__viewParams();ct.fu=this.FileUploader();var Bt=Se&&Se.el;(Se=new Y(N({el:Bt},ct))).render()}return we.reset(gt),this.getContainer()}},__viewParams:function(){return{collection:we,globalCollection:Oe,config:Ie,module:this}},addType:function(tt,gt){this.getAll().addType(tt,gt)},getType:function(tt){return this.getAll().getType(tt)},getTypes:function(){return this.getAll().getTypes()},AssetsView:function(){return Se},FileUploader:function(){return xe||(xe=new ae(this.__viewParams())),xe},onLoad:function(){var tt=this;this.getAll().reset(Ie.assets);var gt=this.em,ct=this.events;gt.on("run:".concat(Xe),function(){return tt.__propEv(ct.open)}),gt.on("stop:".concat(Xe),function(){return tt.__propEv(ct.close)})},postRender:function(tt){Ie.dropzone&&xe&&xe.initDropzone(tt)},setTarget:function(tt){we.target=tt},onSelect:function(tt){we.onSelect=tt},onClick:function(tt){Ie.onClick=tt},onDblClick:function(tt){Ie.onDblClick=tt},__behaviour:function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._bhv=N(N({},this._bhv||{}),tt)},__getBehaviour:function(){return this._bhv||{}},destroy:function(){Oe.stopListening(),we.stopListening(),Oe.reset(),we.reset(),xe&&xe.remove(),Se&&Se.remove(),this._bhv={},this.all={},Ie={}}})}},6407:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>ee,evAdd:()=>N,evAll:()=>ae,evCustom:()=>u,evDrag:()=>R,evDragStart:()=>T,evDragStop:()=>P,evPfx:()=>K,evRemove:()=>h,evRemoveBefore:()=>z,evUpdate:()=>b});var A=s(5671),U=s(3144),S=s(7326),p=s(9340),k=s(2963),d=s(1120),j=s(4942),_=s(9050),f=s(9714);const c={appendTo:"",appendOnClick:!1,blocks:[],custom:!1};var m=s(2316);function w(q){var C=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var D,le=(0,d.Z)(q);if(C){var be=(0,d.Z)(this).constructor;D=Reflect.construct(le,arguments,be)}else D=le.apply(this,arguments);return(0,k.Z)(this,D)}}var E=function(q){(0,p.Z)(D,q);var C=w(D);function D(){return(0,A.Z)(this,D),C.apply(this,arguments)}return(0,U.Z)(D,[{key:"defaults",value:function(){return{label:"",content:"",media:"",category:"",activate:!1,select:null,resetId:!1,disable:!1,onClick:null,attributes:{}}}},{key:"getId",value:function(){return this.id}},{key:"getLabel",value:function(){return this.get("label")}},{key:"getMedia",value:function(){return this.get("media")}},{key:"getContent",value:function(){return this.get("content")}},{key:"getCategoryLabel",value:function(){var le=this.get("category");return(0,_.isFunction)(le.get)?le.get("label"):le.label?le.label:le}}]),D}(m.Model);function Z(q){var C=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var D,le=(0,d.Z)(q);if(C){var be=(0,d.Z)(this).constructor;D=Reflect.construct(le,arguments,be)}else D=le.apply(this,arguments);return(0,k.Z)(this,D)}}var Q=function(q){(0,p.Z)(D,q);var C=Z(D);function D(){return(0,A.Z)(this,D),C.apply(this,arguments)}return(0,U.Z)(D)}(m.Collection);function J(q){var C=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var D,le=(0,d.Z)(q);if(C){var be=(0,d.Z)(this).constructor;D=Reflect.construct(le,arguments,be)}else D=le.apply(this,arguments);return(0,k.Z)(this,D)}}Q.prototype.model=E;var te=function(q){(0,p.Z)(D,q);var C=J(D);function D(){return(0,A.Z)(this,D),C.apply(this,arguments)}return(0,U.Z)(D,[{key:"defaults",value:function(){return{id:"",label:"",open:!0,attributes:{}}}}]),D}(m.Model);function X(q){var C=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var D,le=(0,d.Z)(q);if(C){var be=(0,d.Z)(this).constructor;D=Reflect.construct(le,arguments,be)}else D=le.apply(this,arguments);return(0,k.Z)(this,D)}}var V=function(q){(0,p.Z)(D,q);var C=X(D);function D(){return(0,A.Z)(this,D),C.apply(this,arguments)}return(0,U.Z)(D)}(m.Collection);V.prototype.model=te;var se=s(1163);function ve(q){var C=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var D,le=(0,d.Z)(q);if(C){var be=(0,d.Z)(this).constructor;D=Reflect.construct(le,arguments,be)}else D=le.apply(this,arguments);return(0,k.Z)(this,D)}}var ue,M=function(q){(0,p.Z)(D,q);var C=ve(D);function D(){return(0,A.Z)(this,D),C.apply(this,arguments)}return(0,U.Z)(D,[{key:"events",value:function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}}},{key:"initialize",value:function(le){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=this.model;this.em=be.em,this.config=be,this.endDrag=this.endDrag.bind(this),this.ppfx=be.pStylePrefix||"",this.listenTo(I,"destroy remove",this.remove),this.listenTo(I,"change",this.render)}},{key:"__getModule",value:function(){return this.em.get("BlockManager")}},{key:"handleClick",value:function(le){var be=this.config,I=this.model,oe=this.em,de=I.get("onClick")||be.appendOnClick;if(oe.trigger("block:click",I,le),de){if((0,_.isFunction)(de))return de(I,oe.getEditor(),{event:le});var Oe,we,Se=be.getSorter(),xe=I.get("content"),Ie=oe.getSelected();if(Se.setDropContent(xe),Ie)if(Se.validTarget(Ie.getEl(),xe).valid)Oe=Ie;else{var Xe=Ie.parent();Se.validTarget(Xe.getEl(),xe).valid&&(Oe=Xe,we=Xe.components().indexOf(Ie)+1)}if(!Oe){var tt=oe.getWrapper();Se.validTarget(tt.getEl(),xe).valid&&(Oe=tt)}var gt=Oe&&Oe.append(xe,{at:we})[0];gt&&oe.setSelected(gt,{scroll:1})}}},{key:"startDrag",value:function(le){var be=this.config,I=this.em,oe=this.model.get("disable");if(le.button===0&&be.getSorter&&!this.el.draggable&&!oe){I.refreshCanvas();var de=be.getSorter();de.setDragHelper(this.el,le),de.setDropContent(this.model.get("content")),de.startSort(this.el),(0,se.on)(document,"mouseup",this.endDrag)}}},{key:"handleDragStart",value:function(le){this.__getModule().__startDrag(this.model,le)}},{key:"handleDrag",value:function(le){this.__getModule().__drag(le)}},{key:"handleDragEnd",value:function(){this.__getModule().__endDrag()}},{key:"endDrag",value:function(le){(0,se.off)(document,"mouseup",this.endDrag);var be=this.config.getSorter();be.moved=0,be.endMove()}},{key:"render",value:function(){var le=this.em,be=this.el,I=this.$el,oe=this.ppfx,de=this.model,Oe=de.get("disable"),we=de.get("attributes")||{},Se=we.class||"",xe="".concat(oe,"block"),Ie=le&&le.t("blockManager.labels.".concat(de.id))||de.get("label"),Xe=de.get("render"),tt=de.get("media"),gt=Oe?"".concat(xe,"--disable"):"".concat(oe,"four-color-h");I.attr(we),be.className="".concat(Se," ").concat(xe," ").concat(oe,"one-bg ").concat(gt).trim(),be.innerHTML=`
      `.concat(tt?'<div class="'.concat(xe,'__media">').concat(tt,"</div>"):"",`
      <div class="`).concat(xe,'-label">').concat(Ie,`</div>
    `),be.title=we.title||be.textContent.trim(),be.setAttribute("draggable",!(!(0,se.hasDnd)(le)||Oe));var ct=Xe&&Xe({el:be,model:de,className:xe,prefix:oe});return ct&&(be.innerHTML=ct),this}}]),D}(m.View),L=s(168),F=s(7539);function re(q){var C=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var D,le=(0,d.Z)(q);if(C){var be=(0,d.Z)(this).constructor;D=Reflect.construct(le,arguments,be)}else D=le.apply(this,arguments);return(0,k.Z)(this,D)}}var ne=function(q){(0,p.Z)(D,q);var C=re(D);function D(){return(0,A.Z)(this,D),C.apply(this,arguments)}return(0,U.Z)(D,[{key:"template",value:function(le){var be=le.pfx,I=le.label;return(0,F.Z)(ue||(ue=(0,L.Z)([`
      <div class="`,`title">
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,`blocks-c"></div>
    `])),be,be,I,be)}},{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"initialize",value:function(){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.config=le;var be=le.pStylePrefix||"";this.em=le.em,this.pfx=be,this.caretR="fa fa-caret-right",this.caretD="fa fa-caret-down",this.iconClass="".concat(be,"caret-icon"),this.activeClass="".concat(be,"open"),this.className="".concat(be,"block-category"),this.events={},this.events["click .".concat(be,"title")]="toggle",this.listenTo(this.model,"change:open",this.updateVisibility),this.delegateEvents(),this.model.view=this}},{key:"updateVisibility",value:function(){this.model.get("open")?this.open():this.close()}},{key:"open",value:function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getBlocksEl().style.display=""}},{key:"close",value:function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getBlocksEl().style.display="none"}},{key:"toggle",value:function(){var le=this.model;le.set("open",!le.get("open"))}},{key:"getIconEl",value:function(){return this.iconEl||(this.iconEl=this.el.querySelector("."+this.iconClass)),this.iconEl}},{key:"getBlocksEl",value:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector("."+this.pfx+"blocks-c")),this.blocksEl}},{key:"append",value:function(le){this.getBlocksEl().appendChild(le)}},{key:"render",value:function(){var le=this.em,be=this.el,I=this.$el,oe=this.model,de=this.pfx,Oe=le.t("blockManager.categories.".concat(oe.id))||oe.get("label");return be.innerHTML=this.template({pfx:de,label:Oe}),I.addClass(this.className),I.css({order:oe.get("order")}),this.updateVisibility(),this}}]),D}(m.View);function H(q,C){var D=Object.keys(q);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(q);C&&(le=le.filter(function(be){return Object.getOwnPropertyDescriptor(q,be).enumerable})),D.push.apply(D,le)}return D}function Y(q){for(var C=1;C<arguments.length;C++){var D=arguments[C]!=null?arguments[C]:{};C%2?H(Object(D),!0).forEach(function(le){(0,j.Z)(q,le,D[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(D)):H(Object(D)).forEach(function(le){Object.defineProperty(q,le,Object.getOwnPropertyDescriptor(D,le))})}return q}function l(q){var C=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var D,le=(0,d.Z)(q);if(C){var be=(0,d.Z)(this).constructor;D=Reflect.construct(le,arguments,be)}else D=le.apply(this,arguments);return(0,k.Z)(this,D)}}var y=function(q){(0,p.Z)(D,q);var C=l(D);function D(){return(0,A.Z)(this,D),C.apply(this,arguments)}return(0,U.Z)(D,[{key:"initialize",value:function(le,be){(0,_.bindAll)(this,"getSorter","onDrag","onDrop","onMove"),this.config=be||{},this.categories=le.categories||"",this.renderedCategories=[];var I=this.config.pStylePrefix||"";this.ppfx=I,this.noCatClass="".concat(I,"blocks-no-cat"),this.blockContClass="".concat(I,"blocks-c"),this.catsClass="".concat(I,"block-categories");var oe=this.collection;this.listenTo(oe,"add",this.addTo),this.listenTo(oe,"reset",this.render),this.em=this.config.em,this.tac="test-tac",this.grabbingCls=this.ppfx+"grabbing",this.em&&(this.config.getSorter=this.getSorter,this.canvas=this.em.get("Canvas"))}},{key:"updateConfig",value:function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.config=Y(Y({},this.config),le)}},{key:"getSorter",value:function(){if(this.em){if(!this.sorter){var le=this.em.get("Utils"),be=this.canvas;this.sorter=new le.Sorter({container:be.getBody(),placer:be.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:be.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:this.em,canvasRelative:1})}return this.sorter}}},{key:"onDrag",value:function(le){this.em.stopDefault(),this.em.trigger("block:drag:start",le)}},{key:"onMove",value:function(le){this.em.trigger("block:drag:move",le)}},{key:"onDrop",value:function(le){var be=this.em;if(be.runDefault(),le&&le.get){var I="activeOnRender";le.get(I)&&(le.trigger("active"),le.unset(I)),be.trigger("block:drag:stop",le)}}},{key:"addTo",value:function(le){this.add(le)}},{key:"add",value:function(le,be){var I=this.config,oe=be||null,de=new M({model:le,attributes:le.get("attributes")},I).render().el,Oe=le.get("category");if(Oe&&this.categories&&!I.ignoreCategories){(0,_.isString)(Oe)?Oe={id:Oe,label:Oe}:(0,_.isObject)(Oe)&&!Oe.id&&(Oe.id=Oe.label);var we=this.categories.add(Oe),Se=we.get("id"),xe=this.renderedCategories[Se],Ie=this.getCategoriesEl();return le.set("category",we,{silent:!0}),!xe&&Ie&&(xe=new ne({model:we},this.config).render(),this.renderedCategories[Se]=xe,Ie.appendChild(xe.el)),void(xe&&xe.append(de))}oe?oe.appendChild(de):this.append(de)}},{key:"getCategoriesEl",value:function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl}},{key:"getBlocksEl",value:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl}},{key:"append",value:function(le){var be=this.getBlocksEl();be&&be.appendChild(le)}},{key:"render",value:function(){var le=this,be=this.ppfx,I=document.createDocumentFragment();this.catsEl=null,this.blocksEl=null,this.renderedCategories=[],this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(de){return le.add(de,I)}),this.append(I);var oe="".concat(this.blockContClass,"s ").concat(be,"one-bg ").concat(be,"two-color");return this.$el.addClass(oe),this.rendered=!0,this}}]),D}(m.View);function g(q,C){var D=Object.keys(q);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(q);C&&(le=le.filter(function(be){return Object.getOwnPropertyDescriptor(q,be).enumerable})),D.push.apply(D,le)}return D}function v(q){for(var C=1;C<arguments.length;C++){var D=arguments[C]!=null?arguments[C]:{};C%2?g(Object(D),!0).forEach(function(le){(0,j.Z)(q,le,D[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(D)):g(Object(D)).forEach(function(le){Object.defineProperty(q,le,Object.getOwnPropertyDescriptor(D,le))})}return q}function $(q){var C=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var D,le=(0,d.Z)(q);if(C){var be=(0,d.Z)(this).constructor;D=Reflect.construct(le,arguments,be)}else D=le.apply(this,arguments);return(0,k.Z)(this,D)}}var ae="block",K="".concat(ae,":"),N="".concat(K,"add"),b="".concat(K,"update"),h="".concat(K,"remove"),z="".concat(h,":before"),R="".concat(K,"drag"),T="".concat(R,":start"),P="".concat(R,":stop"),u="".concat(K,"custom"),ee=function(q){(0,p.Z)(D,q);var C=$(D);function D(){var le;(0,A.Z)(this,D);for(var be=arguments.length,I=new Array(be),oe=0;oe<be;oe++)I[oe]=arguments[oe];return le=C.call.apply(C,[this].concat(I)),(0,j.Z)((0,S.Z)(le),"name","BlockManager"),(0,j.Z)((0,S.Z)(le),"Block",E),(0,j.Z)((0,S.Z)(le),"Blocks",Q),(0,j.Z)((0,S.Z)(le),"Category",te),(0,j.Z)((0,S.Z)(le),"Categories",V),(0,j.Z)((0,S.Z)(le),"events",{all:ae,update:b,add:N,remove:h,removeBefore:z,drag:R,dragStart:T,dragEnd:P,custom:u}),le}return(0,U.Z)(D,[{key:"init",value:function(){var le=this,be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.c=v(v({},c),be);var I=this.c.em;return this.em=I,this.blocks=new Q(this.c.blocks),this.blocksVisible=new Q(this.blocks.models),this.categories=new V,this.all=this.blocks,this.__initListen(),this.blocks.on("add",function(oe){return le.blocksVisible.add(oe)}),this.blocks.on("remove",function(oe){return le.blocksVisible.remove(oe)}),this.blocks.on("reset",function(oe){return le.blocksVisible.reset(oe.models)}),this}},{key:"__trgCustom",value:function(){this.em.trigger(this.events.custom,this.__customData())}},{key:"__customData",value:function(){var le=this,be=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:be.container,dragStart:function(I,oe){return le.startDrag(I,oe)},drag:function(I){return le.__drag(I)},dragStop:function(I){return le.endDrag(I)}}}},{key:"__startDrag",value:function(le,be){var I=this.em,oe=this.events,de=this.blocks,Oe=le.getContent?le.getContent():le;this._dragBlock=le,I.set({dragResult:null,dragContent:Oe}),[I,de].map(function(we){return we.trigger(oe.dragStart,le,be)})}},{key:"__drag",value:function(le){var be=this.em,I=this.events,oe=this.blocks,de=this._dragBlock;[be,oe].map(function(Oe){return Oe.trigger(I.drag,de,le)})}},{key:"__endDrag",value:function(){var le=this.em,be=this.events,I=this.blocks,oe=this._dragBlock,de=le.get("dragResult");if(this._dragBlock=null,de){var Oe="activeOnRender",we=de.get&&de.get(Oe),Se=oe.get("activate")||we,xe=oe.get("select"),Ie=(0,_.isArray)(de)?de[0]:de;(xe||Se&&xe!==!1)&&le.setSelected(Ie),Se&&(Ie.trigger("active"),we&&Ie.unset(Oe)),oe.get("resetId")&&Ie.onAll(function(Xe){return Xe.resetId()})}le.set({dragResult:null,dragContent:null}),[le,I].map(function(Xe){return Xe.trigger(be.dragEnd,de,oe)})}},{key:"__getFrameViews",value:function(){return this.em.get("Canvas").getFrames().map(function(le){return le.view})}},{key:"__behaviour",value:function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._bhv=v(v({},this._bhv||{}),le)}},{key:"__getBehaviour",value:function(){return this._bhv||{}}},{key:"startDrag",value:function(le,be){this.__startDrag(le,be),this.__getFrameViews().forEach(function(I){return I.droppable.startCustom()})}},{key:"endDrag",value:function(le){this.__getFrameViews().forEach(function(be){return be.droppable.endCustom(le)}),this.__endDrag()}},{key:"getConfig",value:function(){return this.c}},{key:"postRender",value:function(){var le=this.categories,be=this.blocksVisible;this.blocksView=new y({collection:be,categories:le},this.c);var I=this.getConfig().appendTo;if(I){var oe=(0,_.isElement)(I)?I:document.querySelector(I);if(!oe)return this.__logWarn('"appendTo" element not found');oe.appendChild(this.render(this.blocksVisible.models))}this.__trgCustom()}},{key:"add",value:function(le,be){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},oe=be||{};return oe.id=le,this.blocks.add(oe,I)}},{key:"get",value:function(le){return this.blocks.get(le)}},{key:"getAll",value:function(){return this.blocks}},{key:"getAllVisible",value:function(){return this.blocksVisible}},{key:"remove",value:function(le){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.__remove(le,be)}},{key:"getCategories",value:function(){return this.categories}},{key:"getContainer",value:function(){return this.blocksView.el}},{key:"render",value:function(le){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=this.categories.categories,oe=le||this.getAll().models;if(be.external){var de=new Q(oe);return new y({collection:de,categories:I},v(v({},this.c),be)).render().el}return this.blocksView&&(this.blocksView.updateConfig(be),this.blocksView.collection.reset(oe),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=1)),this.getContainer()}},{key:"destroy",value:function(){var le,be=[this.blocks,this.blocksVisible,this.categories];be.map(function(I){return I.stopListening()}),be.map(function(I){return I.reset()}),(le=this.blocksView)===null||le===void 0||le.remove(),this.c={},this.blocks={},this.blocksVisible={},this.blocksView={},this.categories=[],this.all={}}}]),D}(f.Z)},4068:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>T});var A=s(2982),U=s(5671),S=s(3144),p=s(4942),k=s(9050),d=s(1163);const j={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:"",autoscrollLimit:50,extHl:0,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"]};var _,f=s(2316),c=s.n(f),m=s(7948),w=s(3560),E=(_=function(P,u){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,q){ee.__proto__=q}||function(ee,q){for(var C in q)Object.prototype.hasOwnProperty.call(q,C)&&(ee[C]=q[C])},_(P,u)},function(P,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function ee(){this.constructor=P}_(P,u),P.prototype=u===null?Object.create(u):(ee.prototype=u.prototype,new ee)});const Z=function(P){function u(ee,q){q===void 0&&(q={});var C=P.call(this,ee)||this,D=q.em;return C.config=q,C.em=D,C.listenTo(C,"change:zoom",C.onZoomChange),C.listenTo(D,"change:device",C.updateDevice),C.listenTo(D,m.evPageSelect,C._pageUpdated),C}return E(u,P),u.prototype.defaults=function(){return{frame:"",frames:new w.Z,rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[]}},Object.defineProperty(u.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),u.prototype.init=function(){var ee=this.em.get("PageManager").getMain(),q=ee.getMainFrame();this.set("frames",ee.getFrames()),this.updateDevice({frame:q})},u.prototype._pageUpdated=function(ee,q){var C=this.em;C.setSelected(),C.get("readyCanvas")&&C.stopDefault(),q==null||q.getFrames().map(function(D){return D.disable()}),this.set("frames",ee.getFrames())},u.prototype.updateDevice=function(ee){ee===void 0&&(ee={});var q=this.em,C=q.getDeviceModel(),D=ee.frame||q.getCurrentFrameModel();if(D&&C){var le=C.attributes,be=le.width,I=le.height;D.set({width:be,height:I},{noUndo:1})}},u.prototype.onZoomChange=function(){this.get("zoom")<1&&this.set("zoom",1)},u}(c().Model);var Q=s(6840),J=s(9340),te=s(2963),X=s(1120),V=s(9283),se=s(6602),ve=s(4868);function ue(P,u){var ee=Object.keys(P);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(P);u&&(q=q.filter(function(C){return Object.getOwnPropertyDescriptor(P,C).enumerable})),ee.push.apply(ee,q)}return ee}var M=function(){function P(u,ee){var q=this;(0,U.Z)(this,P),this.em=u;var C=ee||u.get("Canvas").getFrames().map(function(le){return le.getComponent().getEl()}),D=Array.isArray(C)?C:[C];return this.el=C,this.counter=0,(0,k.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),D.forEach(function(le){return q.toggleEffects(le,1)}),this}return(0,S.Z)(P,[{key:"toggleEffects",value:function(u,ee){var q={on:d.on,off:d.off},C=ee?"on":"off";q[C](u,"dragenter",this.handleDragEnter),q[C](u,"dragover",this.handleDragOver),q[C](u,"drop",this.handleDrop),q[C](u,"dragleave",this.handleDragLeave)}},{key:"__customTglEff",value:function(u){var ee=u?d.on:d.off,q=this.el.ownerDocument,C=q.defaultView.frameElement;this.sortOpts=u?{onStart:function(D){var le=D.sorter;(0,d.on)(C,"pointermove",le.onMove)},onEnd:function(D){var le=D.sorter;(0,d.off)(C,"pointermove",le.onMove)},customTarget:function(D){var le=D.event;return q.elementFromPoint(le.clientX,le.clientY)}}:null,ee(C,"pointerenter",this.handleDragEnter),ee(C,"pointermove",this.handleDragOver),ee(document,"pointerup",this.handleDrop),ee(C,"pointerout",this.handleDragLeave)}},{key:"startCustom",value:function(){this.__customTglEff(!0)}},{key:"endCustom",value:function(u){this.over?this.endDrop(u):this.__customTglEff(!1)}},{key:"endDrop",value:function(u,ee){var q=this.em,C=this.dragStop;this.counter=0,C&&C(u),this.__customTglEff(!1),q.trigger("canvas:dragend",ee)}},{key:"handleDragLeave",value:function(u){this.updateCounter(-1,u)}},{key:"updateCounter",value:function(u,ee){this.counter+=u,this.counter===0&&this.endDrop(1,ee)}},{key:"handleDragEnter",value:function(u){var ee=this,q=this.em,C=u.dataTransfer;if(this.updateCounter(1,u),!this.over){this.over=1;var D,le,be=q.get("Utils"),I=q.get("Canvas"),oe=q.get("dragContent")||"<br>";if(q.stopDefault(),q.inAbsoluteMode()){var de=q.get("DomComponents").getWrapper(),Oe=de.append({})[0],we=q.get("Commands").run("core:component-drag",{event:u,guidesInfo:1,center:1,target:Oe,onEnd:function(xe,Ie,Xe){var tt;if(!Xe.cancelled){tt=de.append(oe)[0];var gt=Oe.getStyle(),ct=gt.left,Bt=gt.top,Lt=gt.position;tt.addStyle({left:ct,top:Bt,position:Lt})}ee.handleDragEnd(tt,C),Oe.remove()}});D=function(xe){return we.stop(u,{cancel:xe})},le=function(xe){return oe=xe}}else{var Se=new be.Sorter(function(xe){for(var Ie=1;Ie<arguments.length;Ie++){var Xe=arguments[Ie]!=null?arguments[Ie]:{};Ie%2?ue(Object(Xe),!0).forEach(function(tt){(0,p.Z)(xe,tt,Xe[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(Xe)):ue(Object(Xe)).forEach(function(tt){Object.defineProperty(xe,tt,Object.getOwnPropertyDescriptor(Xe,tt))})}return xe}({em:q,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:I.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(xe){return ee.handleDragEnd(xe,C)},document:this.el.ownerDocument},this.sortOpts||{}));Se.setDropContent(oe),Se.startSort(),this.sorter=Se,D=function(xe){xe&&(Se.moved=0),Se.endMove()},le=function(xe){return Se.setDropContent(xe)}}this.dragStop=D,this.dragContent=le,q.trigger("canvas:dragenter",C,oe)}}},{key:"handleDragEnd",value:function(u,ee){var q=this.em;this.over=0,u&&(q.set("dragResult",u),q.trigger("canvas:drop",ee,u)),q.runDefault({preserveSelected:1})}},{key:"handleDragOver",value:function(u){u.preventDefault(),this.em.trigger("canvas:dragover",u)}},{key:"handleDrop",value:function(u){u.preventDefault();var ee=this.dragContent,q=u.dataTransfer,C=this.getContentByData(q).content;u.target.style.border="",C&&ee&&ee(C),this.endDrop(!C,u)}},{key:"getContentByData",value:function(u){var ee=this.em,q=u&&u.types,C=u&&u.files||[],D=ee.get("dragContent"),le=u&&u.getData("text");if(C.length){le=[];for(var be=0;be<C.length;be++){var I=C[be],oe=I.type.split("/")[0];oe=="image"&&le.push({type:oe,file:I,attributes:{alt:I.name}})}}else if(D)le=D;else if((0,k.indexOf)(q,"text/html")>=0)le=u&&u.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,k.indexOf)(q,"text/uri-list")>=0)le={type:"link",attributes:{href:le},content:le};else if((0,k.indexOf)(q,"text/json")>=0){var de=u&&u.getData("text/json");de&&(le=JSON.parse(de))}else q.length===1&&q[0]==="text/plain"&&(le="<div>".concat(le,"</div>"));var Oe={content:le};return ee.trigger("canvas:dragdata",u,Oe),Oe}}]),P}();function L(P,u){var ee=Object.keys(P);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(P);u&&(q=q.filter(function(C){return Object.getOwnPropertyDescriptor(P,C).enumerable})),ee.push.apply(ee,q)}return ee}function F(P){for(var u=1;u<arguments.length;u++){var ee=arguments[u]!=null?arguments[u]:{};u%2?L(Object(ee),!0).forEach(function(q){(0,p.Z)(P,q,ee[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(ee)):L(Object(ee)).forEach(function(q){Object.defineProperty(P,q,Object.getOwnPropertyDescriptor(ee,q))})}return P}function re(P){var u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ee,q=(0,X.Z)(P);if(u){var C=(0,X.Z)(this).constructor;ee=Reflect.construct(q,arguments,C)}else ee=q.apply(this,arguments);return(0,te.Z)(this,ee)}}var ne=function(P){(0,J.Z)(ee,P);var u=re(ee);function ee(){return(0,U.Z)(this,ee),u.apply(this,arguments)}return(0,S.Z)(ee,[{key:"tagName",value:function(){return"iframe"}},{key:"attributes",value:function(){return{allowfullscreen:"allowfullscreen"}}},{key:"initialize",value:function(q){(0,k.bindAll)(this,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var C=this.model,D=this.el;this.tools={},this.config=F(F({},q.config||{}),{},{frameView:this}),this.ppfx=this.config.pStylePrefix||"",this.em=this.config.em,this.showGlobalTools=(0,k.debounce)(this.showGlobalTools.bind(this),50);var le=this.getCanvasModel();this.listenTo(C,"change:head",this.updateHead),this.listenTo(le,"change:styles",this.renderStyles),C.view=this,(0,d.setViewEl)(D,this)}},{key:"updateHead",value:function(){var q=this.model,C=this.getHead(),D=[],le=[],be=q.get("head"),I=q.previous("head"),oe=function(){var Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(Oe).sort().map(function(we){return"[".concat(we,'="').concat(Oe[we],'"]')}).join("")},de=function(Oe,we,Se){Oe.forEach(function(xe){var Ie=xe.tag,Xe=xe.attributes;!we.some(function(tt){return tt.tag===Ie&&oe(tt.attributes)===oe(Xe)})&&Se.push(xe)})};de(be,I,le),de(I,be,D),D.forEach(function(Oe){var we=C.querySelector("".concat(Oe.tag).concat(oe(Oe.attributes)));we&&we.parentNode.removeChild(we)}),(0,V.SJ)(C,le)}},{key:"getEl",value:function(){return this.el}},{key:"getCanvasModel",value:function(){return this.em.get("Canvas").getModel()}},{key:"getWindow",value:function(){return this.getEl().contentWindow}},{key:"getDoc",value:function(){return this.getEl().contentDocument}},{key:"getHead",value:function(){return this.getDoc().querySelector("head")}},{key:"getBody",value:function(){return this.getDoc().querySelector("body")}},{key:"getWrapper",value:function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")}},{key:"getJsContainer",value:function(){return this.jsContainer||(this.jsContainer=(0,V.ut)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer}},{key:"getToolsEl",value:function(){var q=this.config.frameWrapView;return q&&q.elTools}},{key:"getGlobalToolsEl",value:function(){return this.em.get("Canvas").getGlobalToolsEl()}},{key:"getHighlighter",value:function(){return this._getTool("[data-hl]")}},{key:"getBadgeEl",value:function(){return this._getTool("[data-badge]")}},{key:"getOffsetViewerEl",value:function(){return this._getTool("[data-offset]")}},{key:"getRect",value:function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect}},{key:"getOffsetRect",value:function(){var q=this.el,C=this.getBody(),D=C.scrollTop,le=C.scrollLeft,be=q.offsetHeight,I=q.offsetWidth;return{top:q.offsetTop,left:q.offsetLeft,height:be,width:I,scrollTop:D,scrollLeft:le,scrollBottom:D+be,scrollRight:le+I}}},{key:"_getTool",value:function(q){var C=this.tools,D=this.getToolsEl();return C[q]||(C[q]=D.querySelector(q)),C[q]}},{key:"remove",value:function(){var q=this.wrapper;this._toggleEffects(),this.tools={},q&&q.remove(),f.View.prototype.remove.apply(this,arguments)}},{key:"startAutoscroll",value:function(){var q=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){q._toggleAutoscrollFx(1),requestAnimationFrame(q.autoscroll)},0)}},{key:"autoscroll",value:function(){if(this.dragging){var q=this.lastClientY,C=this.em.get("Canvas"),D=this.getWindow(),le=D.pageYOffset,be=q||0,I=C.getConfig().autoscrollLimit,oe=this.getRect().height-I,de=le;be<I&&(de-=I-be),be>oe&&(de+=be-oe),!(0,k.isUndefined)(q)&&de!==le&&de>0&&de<this.lastMaxHeight&&(this.getGlobalToolsEl().style.opacity=0,this.showGlobalTools(),D.scrollTo(0,de)),requestAnimationFrame(this.autoscroll)}}},{key:"updateClientY",value:function(q){q.preventDefault(),this.lastClientY=(0,d.getPointerEvent)(q).clientY*this.em.getZoomDecimal()}},{key:"showGlobalTools",value:function(){this.getGlobalToolsEl().style.opacity=""}},{key:"stopAutoscroll",value:function(){this.dragging&&this._toggleAutoscrollFx()}},{key:"_toggleAutoscrollFx",value:function(q){this.dragging=q;var C=this.getWindow(),D=q?"on":"off",le={on:d.on,off:d.off};le[D](C,"mousemove dragover",this.updateClientY),le[D](C,"mouseup",this.stopAutoscroll)}},{key:"render",value:function(){var q=this.$el,C=this.ppfx;return q.attr({class:"".concat(C,"frame")}),this.renderScripts(),this}},{key:"renderScripts",value:function(){var q=this,C=this.el,D=this.model,le=this.em,be="frame:load",I={el:C,model:D,view:this},oe=this.getCanvasModel(),de=function Oe(we){if(we.length>0){var Se=we.shift(),xe=(0,V.ut)("script",F({type:"text/javascript"},(0,k.isString)(Se)?{src:Se}:Se));xe.onerror=xe.onload=Oe.bind(null,we),C.contentDocument.head.appendChild(xe)}else q.renderBody(),le&&le.trigger(be,I)};C.onload=function(){var Oe=q.config.frameContent;if(Oe){var we=q.getDoc();we.open(),we.write(Oe),we.close()}le&&le.trigger("".concat(be,":before"),I),de((0,A.Z)(oe.get("scripts")))}}},{key:"renderStyles",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=this.getHead(),D=this.getCanvasModel(),le=function(we){return we.map(function(Se){return{tag:"link",attributes:F({rel:"stylesheet"},(0,k.isString)(Se)?{href:Se}:Se)}})},be=le(q.prev||D.previous("styles")),I=le(D.get("styles")),oe=[],de=[],Oe=function(we,Se,xe){we.forEach(function(Ie){var Xe=Ie.attributes.href;!Se.some(function(tt){return tt.attributes.href===Xe})&&xe.push(Ie)})};Oe(I,be,de),Oe(be,I,oe),oe.forEach(function(we){var Se=C.querySelector('link[href="'.concat(we.attributes.href,'"]'));Se&&Se.parentNode.removeChild(Se)}),(0,V.SJ)(C,de)}},{key:"renderBody",value:function(){var q=this,C=this.config,D=this.model,le=this.ppfx,be=C.em,I=this.getDoc(),oe=this.getBody(),de=this.getWindow(),Oe=be.get("Config");de._isEditor=!0,this.renderStyles({prev:[]}),(0,V.R3)(oe,`<style>
      `.concat(Oe.baseCss||C.frameStyle||"",`

      [data-gjs-type="wrapper"] {
        min-height: 100vh;
        padding-top: 0.001em;
      }

      .`).concat(le,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(le,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(le,`selected-parent {
        outline: 2px solid `).concat("#ffca6f",` !important
      }

      .`).concat(le,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(le,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(le,`no-pointer {
        pointer-events: none;
      }

      .`).concat(le,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(le,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(le,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(le,`is__grabbing,
      .`).concat(le,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(Oe.canvasCss||"",`
      `).concat(Oe.protectedCss||"",`
    </style>`));var we=D.getComponent(),Se=be.get("DomComponents").getType("wrapper").view;this.wrapper=new Se({model:we,config:F(F({},we.config),{},{frameView:this})}).render(),(0,V.R3)(oe,this.wrapper.el),(0,V.R3)(oe,new ve.Z({collection:D.getStyles(),config:F(F({},be.get("CssComposer").getConfig()),{},{frameView:this})}).render().el),(0,V.R3)(oe,this.getJsContainer()),(0,d.on)(oe,"click",function(xe){return xe&&xe.target.tagName=="A"&&xe.preventDefault()}),(0,d.on)(oe,"submit",function(xe){return xe&&xe.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent"}].forEach(function(xe){return xe.event.split(" ").forEach(function(Ie){I.addEventListener(Ie,function(Xe){return q.el.dispatchEvent((0,V.t3)(Xe,xe.class))})})}),this._toggleEffects(1),this.droppable=(0,d.hasDnd)(be)&&new M(be,this.wrapper.el),D.trigger("loaded")}},{key:"_toggleEffects",value:function(q){var C=q?d.on:d.off,D=this.getWindow();D&&C(D,"".concat(V.G1," resize"),this._emitUpdate)}},{key:"_emitUpdate",value:function(){this.model._emitUpdated()}}]),ee}(f.View),H=s(5610);function Y(P,u){var ee=Object.keys(P);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(P);u&&(q=q.filter(function(C){return Object.getOwnPropertyDescriptor(P,C).enumerable})),ee.push.apply(ee,q)}return ee}function l(P){for(var u=1;u<arguments.length;u++){var ee=arguments[u]!=null?arguments[u]:{};u%2?Y(Object(ee),!0).forEach(function(q){(0,p.Z)(P,q,ee[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(ee)):Y(Object(ee)).forEach(function(q){Object.defineProperty(P,q,Object.getOwnPropertyDescriptor(ee,q))})}return P}function y(P){var u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ee,q=(0,X.Z)(P);if(u){var C=(0,X.Z)(this).constructor;ee=Reflect.construct(q,arguments,C)}else ee=q.apply(this,arguments);return(0,te.Z)(this,ee)}}var g=function(P){(0,J.Z)(ee,P);var u=y(ee);function ee(){return(0,U.Z)(this,ee),u.apply(this,arguments)}return(0,S.Z)(ee,[{key:"events",value:function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}}},{key:"initialize",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,k.bindAll)(this,"onScroll","frameLoaded","updateOffset","remove","startDrag");var D=this.model,le=l(l({},q.config||C),{},{frameWrapView:this}),be=le.canvasView,I=le.em;this.cv=be,this.config=le,this.em=I,this.canvas=I&&I.get("Canvas"),this.ppfx=le.pStylePrefix||"",this.frame=new ne({model:D,config:le}),this.classAnim="".concat(this.ppfx,"frame-wrapper--anim"),this.updateOffset=(0,k.debounce)(this.updateOffset.bind(this)),this.updateSize=(0,k.debounce)(this.updateSize.bind(this)),this.listenTo(D,"loaded",this.frameLoaded),this.listenTo(D,"change:x change:y",this.updatePos),this.listenTo(D,"change:width change:height",this.updateSize),this.listenTo(D,"destroy remove",this.remove),this.updatePos(),this.setupDragger()}},{key:"setupDragger",value:function(){var q,C,D,le=this,be=this.canvas,I=this.model,oe=function(de){be.toggleFramesEvents(de)};this.dragger=new H.Z({onStart:function(){var de=I.attributes,Oe=de.x,we=de.y;D=le.em.getZoomMultiplier(),q=Oe,C=we,oe()},onEnd:function(){return oe(1)},setPosition:function(de){I.set({x:q+de.x*D,y:C+de.y*D})}})}},{key:"startDrag",value:function(q){q&&this.dragger.start(q)}},{key:"__clear",value:function(q){var C=this.frame;C&&C.remove(q),(0,V.L_)(this.elTools)}},{key:"remove",value:function(q){var C=this;return this.__clear(q),f.View.prototype.remove.apply(this,arguments),["frame","dragger","cv","em","canvas","elTools"].forEach(function(D){return C[D]=0}),this}},{key:"updateOffset",value:function(){var q=this.em,C=this.$el,D=this.frame;q&&(q.runDefault({preserveSelected:1}),C.removeClass(this.classAnim),D.model._emitUpdated())}},{key:"updatePos",value:function(q){var C=this.model,D=this.el,le=C.attributes,be=le.x,I=le.y,oe=D.style;this.frame.rect=0,oe.left=isNaN(be)?be:"".concat(be,"px"),oe.top=isNaN(I)?I:"".concat(I,"px"),q&&this.updateOffset()}},{key:"updateSize",value:function(){this.updateDim()}},{key:"updateDim",value:function(){var q=this.em,C=this.el,D=this.$el,le=this.model,be=this.classAnim,I=this.frame;if(I){I.rect=0,D.addClass(be);var oe=this.__handleSize(),de=oe.noChanges,Oe=oe.width,we=oe.height;((0,k.isNull)(Oe)||(0,k.isNull)(we))&&le.set(l(l({},Oe?{}:{width:C.offsetWidth}),we?{}:{height:C.offsetHeight}),{silent:1}),q.stopDefault({preserveSelected:1}),de?this.updateOffset():setTimeout(this.updateOffset,350)}}},{key:"onScroll",value:function(){var q=this.frame;this.em.trigger("frame:scroll",{frame:q,body:q.getBody(),target:q.getWindow()})}},{key:"frameLoaded",value:function(){this.frame.getWindow().onscroll=this.onScroll,this.updateDim()}},{key:"__handleSize",value:function(){var q=this.model,C=this.el.style,D=q.attributes,le=D.width,be=D.height,I=C.width||"",oe=C.height||"",de=le||"",Oe=be||"",we=I==de&&oe==Oe;return C.width=(0,k.isNumber)(de)?"".concat(de).concat("px"):de,C.height=(0,k.isNumber)(Oe)?"".concat(Oe).concat("px"):Oe,{noChanges:we,width:le,height:be,newW:de,newH:Oe}}},{key:"render",value:function(){var q=this.frame,C=this.$el,D=this.ppfx,le=this.cv,be=this.model,I=this.el,oe=be.attributes.onRender;this.__clear(),this.__handleSize(),q.render(),C.empty().attr({class:"".concat(D,"frame-wrapper")}).append(`
      <div class="`.concat(D,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(D,`frame-wrapper__name" data-action-move>
          `).concat(be.get("name")||"",`
        </div>
        <div class="`).concat(D,`frame-wrapper__top-r">
          <div class="`).concat(D,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(D,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(D,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(D,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(q.el);var de=(0,V.ut)("div",{class:"".concat(D,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(D,`highlighter" data-hl></div>
      <div class="`).concat(D,`badge" data-badge></div>
      <div class="`).concat(D,`placeholder">
        <div class="`).concat(D,`placeholder-int"></div>
      </div>
      <div class="`).concat(D,`ghost"></div>
      <div class="`).concat(D,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(D,`resizer"></div>
      <div class="`).concat(D,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(D,`offset-fixed-v"></div>
    `));this.elTools=de;var Oe=le.toolsWrapper;return Oe&&Oe.appendChild(de),oe&&oe({el:I,elTop:I.querySelector("[data-frame-top]"),elRight:I.querySelector("[data-frame-right]"),elBottom:I.querySelector("[data-frame-bottom]"),elLeft:I.querySelector("[data-frame-left]"),frame:be,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this}}]),ee}(f.View);function v(P){var u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ee,q=(0,X.Z)(P);if(u){var C=(0,X.Z)(this).constructor;ee=Reflect.construct(q,arguments,C)}else ee=q.apply(this,arguments);return(0,te.Z)(this,ee)}}var $,ae=function(P){(0,J.Z)(ee,P);var u=v(ee);function ee(){var q,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=arguments.length>1?arguments[1]:void 0;return(0,U.Z)(this,ee),(q=u.call(this,C,D,!0)).listenTo(q.collection,"reset",q.render),q}return(0,S.Z)(ee,[{key:"onRemoveBefore",value:function(q,C){q.forEach(function(D){return D.remove(C)})}},{key:"onRender",value:function(){var q=this.config,C=this.$el,D=q.em;D&&C.attr({class:"".concat(D.getConfig().stylePrefix,"frames")})}}]),ee}(se.Z);function K(P,u){var ee=Object.keys(P);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(P);u&&(q=q.filter(function(C){return Object.getOwnPropertyDescriptor(P,C).enumerable})),ee.push.apply(ee,q)}return ee}function N(P){for(var u=1;u<arguments.length;u++){var ee=arguments[u]!=null?arguments[u]:{};u%2?K(Object(ee),!0).forEach(function(q){(0,p.Z)(P,q,ee[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(ee)):K(Object(ee)).forEach(function(q){Object.defineProperty(P,q,Object.getOwnPropertyDescriptor(ee,q))})}return P}function b(P){var u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ee,q=(0,X.Z)(P);if(u){var C=(0,X.Z)(this).constructor;ee=Reflect.construct(q,arguments,C)}else ee=q.apply(this,arguments);return(0,te.Z)(this,ee)}}ae.prototype.itemView=g;var h=function(P){(0,J.Z)(ee,P);var u=b(ee);function ee(){return(0,U.Z)(this,ee),u.apply(this,arguments)}return(0,S.Z)(ee,[{key:"events",value:function(){return{wheel:"onWheel"}}},{key:"template",value:function(){var q=this.pfx;return`
      <div class="`.concat(q,`canvas__frames" data-frames></div>
      <div id="`).concat(q,'tools" class="').concat(q,`canvas__tools" data-tools></div>
    `)}},{key:"initialize",value:function(q){(0,k.bindAll)(this,"clearOff","onKeyPress","onCanvasMove");var C=this.model;this.config=q.config||{},this.em=this.config.em||{},this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.className=this.config.stylePrefix+"canvas";var D=this.em;this._initFrames(),this.listenTo(D,"change:canvasOffset",this.clearOff),this.listenTo(D,"component:selected",this.checkSelected),this.listenTo(C,"change:zoom change:x change:y",this.updateFrames),this.listenTo(C,"change:frames",this._onFramesUpdate),this.toggleListeners(1)}},{key:"_onFramesUpdate",value:function(){this._initFrames(),this._renderFrames()}},{key:"_initFrames",value:function(){var q=this.frames,C=this.model,D=this.config,le=this.em,be=C.get("frames");le.set("readyCanvas",0),be.once("loaded:all",function(){return le.set("readyCanvas",1)}),q&&q.remove(),this.frames=new ae({collection:be,config:N(N({},D),{},{canvasView:this})})}},{key:"checkSelected",value:function(q){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},D=C.scroll,le=this.em.get("currentFrame");D&&q.views.forEach(function(be){be._getFrame()===le&&be.scrollIntoView(D)})}},{key:"remove",value:function(){this.frames.remove(),this.frames={},f.View.prototype.remove.apply(this,arguments),this.toggleListeners()}},{key:"preventDefault",value:function(q){q&&(q.preventDefault(),q._parentEvent&&q._parentEvent.preventDefault())}},{key:"onCanvasMove",value:function(q){}},{key:"toggleListeners",value:function(q){this.el;var C=q?d.on:d.off;C(document,"keypress",this.onKeyPress),C(window,"scroll resize",this.clearOff)}},{key:"onKeyPress",value:function(q){var C=this.em;(0,d.getKeyChar)(q)!==" "||C.getZoomDecimal()===1||C.get("Canvas").isInputFocused()||(this.preventDefault(q),C.get("Editor").runCommand("core:canvas-move"))}},{key:"onWheel",value:function(q){if((q.ctrlKey||q.metaKey)&&this.em.getConfig().multiFrames){this.preventDefault(q);var C=this.model,D=Math.max(-1,Math.min(1,q.wheelDelta||-q.detail)),le=C.get("zoom");C.set("zoom",le+2*D)}}},{key:"updateFrames",value:function(q){var C=this.em,D=this.model.attributes,le=D.x,be=D.y,I=this.getZoom(),oe={preserveSelected:1},de=I?1/I:1;this.framesArea.style.transform="scale(".concat(I,") translate(").concat(le*de,"px, ").concat(be*de,"px)"),this.clearOff(),C.stopDefault(oe),C.trigger("canvas:update",q),$&&clearTimeout($),$=setTimeout(function(){return C.runDefault(oe)},300)}},{key:"getZoom",value:function(){return this.em.getZoomDecimal()}},{key:"isElInViewport",value:function(q){var C=(0,d.getElement)(q),D=(0,d.getElRect)(C),le=this.getFrameOffset(C),be=D.top,I=D.left;return be>=0&&I>=0&&be<=le.height&&I<=le.width}},{key:"offset",value:function(q){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},D=(0,d.getElRect)(q),le=q.ownerDocument.body,be=C.noScroll;return{top:D.top+(be?0:le.scrollTop),left:D.left+(be?0:le.scrollLeft),width:D.width,height:D.height}}},{key:"clearOff",value:function(){this.frmOff=null,this.cvsOff=null}},{key:"getFrameOffset",value:function(q){if(!this.frmOff||q){var C=this.frame.el,D=q&&q.ownerDocument.defaultView,le=D?D.frameElement:C;this.frmOff=this.offset(le||C)}return this.frmOff}},{key:"getCanvasOffset",value:function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff}},{key:"getElementPos",value:function(q,C){var D=this.getZoom(),le=C||{},be=this.getFrameOffset(q),I=this.el,oe=this.getCanvasOffset(),de=this.offset(q,C),Oe=le.avoidFrameOffset?0:be.top,we=le.avoidFrameOffset?0:be.left;return{top:de.top*D+Oe-oe.top+I.scrollTop,left:de.left*D+we-oe.left+I.scrollLeft,height:de.height*D,width:de.width*D,zoom:D,rect:de}}},{key:"getElementOffsets",value:function(q){var C=this;if(!q||(0,d.isTextNode)(q))return{};var D={},le=window.getComputedStyle(q);return["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft"].forEach(function(be){D[be]=parseFloat(le[be])*C.getZoom()}),D}},{key:"getPosition",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=this.frame.el.contentDocument;if(C){var D=C.body,le=this.getZoom(),be=this.getFrameOffset(),I=this.getCanvasOffset(),oe=q.noScroll;return{top:be.top+(oe?0:D.scrollTop)*le-I.top,left:be.left+(oe?0:D.scrollLeft)*le-I.left,width:I.width,height:I.height}}}},{key:"updateScript",value:function(q){var C=q.model,D=C.getId();q.scriptContainer||(q.scriptContainer=(0,V.ut)("div",{"data-id":D}),this.getJsContainer().appendChild(q.scriptContainer)),q.el.id=D,q.scriptContainer.innerHTML="";var le=document.createElement("script"),be=C.getScriptString(),I=C.get("script-props")?be:`function(){
`.concat(be,`
;}`),oe=JSON.stringify(C.__getScriptProps());le.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(D,`');
        if (!item) return;
        (`).concat(I,".bind(item))(").concat(oe,`)
      }, 1);`),setTimeout(function(){var de=q.scriptContainer;de==null||de.appendChild(le)},0)}},{key:"getJsContainer",value:function(q){var C=this.getFrameView(q);return C&&C.getJsContainer()}},{key:"getFrameView",value:function(q){return q&&q._getFrame()||this.em.get("currentFrame")}},{key:"_renderFrames",value:function(){if(this.ready){var q=this.model,C=this.frames,D=this.em,le=this.framesArea,be=q.get("frames");be.listenToLoad(),C.render();var I=be.at(0),oe=I&&I.view;D.setCurrentFrame(oe),le&&le.appendChild(C.el),this.frame=oe}}},{key:"render",value:function(){var q=this.el,C=this.$el,D=this.ppfx,le=this.config,be=this.em;C.html(this.template());var I=C.find("[data-frames]");this.framesArea=I.get(0);var oe=C.find("[data-tools]");this.toolsWrapper=oe.get(0),oe.append(`
      <div class="`.concat(D,"tools ").concat(D,`tools-gl" style="pointer-events:none">
        <div class="`).concat(D,`placeholder">
          <div class="`).concat(D,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(D,`tools" style="pointer-events:none">
        `).concat(le.extHl?'<div class="'.concat(D,'highlighter-sel"></div>'):"",`
        <div class="`).concat(D,`badge"></div>
        <div class="`).concat(D,`ghost"></div>
        <div class="`).concat(D,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(D,`resizer"></div>
        <div class="`).concat(D,`offset-v"></div>
        <div class="`).concat(D,`offset-fixed-v"></div>
      </div>
    `));var de=q.querySelector("#".concat(D,"tools"));return this.hlEl=q.querySelector(".".concat(D,"highlighter")),this.badgeEl=q.querySelector(".".concat(D,"badge")),this.placerEl=q.querySelector(".".concat(D,"placeholder")),this.ghostEl=q.querySelector(".".concat(D,"ghost")),this.toolbarEl=q.querySelector(".".concat(D,"toolbar")),this.resizerEl=q.querySelector(".".concat(D,"resizer")),this.offsetEl=q.querySelector(".".concat(D,"offset-v")),this.fixedOffsetEl=q.querySelector(".".concat(D,"offset-fixed-v")),this.toolsGlobEl=q.querySelector(".".concat(D,"tools-gl")),this.toolsEl=de,this.el.className=(0,d.getUiClass)(be,this.className),this.ready=1,this._renderFrames(),this}}]),ee}(f.View);function z(P,u){var ee=Object.keys(P);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(P);u&&(q=q.filter(function(C){return Object.getOwnPropertyDescriptor(P,C).enumerable})),ee.push.apply(ee,q)}return ee}function R(P){for(var u=1;u<arguments.length;u++){var ee=arguments[u]!=null?arguments[u]:{};u%2?z(Object(ee),!0).forEach(function(q){(0,p.Z)(P,q,ee[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(ee)):z(Object(ee)).forEach(function(q){Object.defineProperty(P,q,Object.getOwnPropertyDescriptor(ee,q))})}return P}var T=function(){function P(){(0,U.Z)(this,P),(0,p.Z)(this,"name","Canvas"),(0,p.Z)(this,"c",{}),(0,p.Z)(this,"canvas",void 0),(0,p.Z)(this,"canvasView",void 0)}return(0,S.Z)(P,[{key:"getCanvasView",value:function(){return this.canvasView}},{key:"init",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.c=R(R(R({},j),u),{},{module:this}),this.em=this.c.em;var ee=this.c,q=ee.scripts,C=ee.styles,D=this.c.pStylePrefix;return D&&(this.c.stylePrefix=D+this.c.stylePrefix),this.canvas=new Z({scripts:q,styles:C},u),this.model=this.canvas,this.startAutoscroll=this.startAutoscroll.bind(this),this.stopAutoscroll=this.stopAutoscroll.bind(this),this}},{key:"onLoad",value:function(){this.model.init()}},{key:"getModel",value:function(){return this.canvas}},{key:"getConfig",value:function(){return this.c}},{key:"getElement",value:function(){return this.canvasView.el}},{key:"getFrame",value:function(u){return this.getFrames()[u||0]}},{key:"getFrameEl",value:function(){var u=(this.canvasView||{}).frame;return u&&u.el}},{key:"getFramesEl",value:function(){return this.canvasView.framesArea}},{key:"getWindow",value:function(){return this.getFrameEl().contentWindow}},{key:"getDocument",value:function(){var u=this.getFrameEl();return u&&u.contentDocument}},{key:"getBody",value:function(){var u=this.getDocument();return u&&u.body}},{key:"_getCompFrame",value:function(u){return u&&u._getFrame()}},{key:"_getLocalEl",value:function(u,ee,q){var C=u,D=this._getCompFrame(ee);return C=D?D[q]():C}},{key:"getGlobalToolsEl",value:function(){return this.canvasView.toolsGlobEl}},{key:"getToolsEl",value:function(u){return this._getLocalEl(this.canvasView.toolsEl,u,"getToolsEl")}},{key:"getHighlighter",value:function(u){return this._getLocalEl(this.canvasView.hlEl,u,"getHighlighter")}},{key:"getBadgeEl",value:function(u){return this._getLocalEl(this.canvasView.badgeEl,u,"getBadgeEl")}},{key:"getPlacerEl",value:function(){return this.canvasView.placerEl}},{key:"getGhostEl",value:function(){return this.canvasView.ghostEl}},{key:"getToolbarEl",value:function(){return this.canvasView.toolbarEl}},{key:"getResizerEl",value:function(){return this.canvasView.resizerEl}},{key:"getOffsetViewerEl",value:function(u){return this._getLocalEl(this.canvasView.offsetEl,u,"getOffsetViewerEl")}},{key:"getFixedOffsetViewerEl",value:function(){return this.canvasView.fixedOffsetEl}},{key:"render",value:function(){var u;return(u=this.canvasView)===null||u===void 0||u.remove(),this.canvasView=new h({model:this.canvas,config:this.c}),this.canvasView.render().el}},{key:"getOffset",value:function(){var u=this.offset(this.getFrameEl()),ee=this.offset(this.getElement());return{top:u.top-ee.top,left:u.left-ee.left}}},{key:"offset",value:function(u){return this.canvasView.offset(u)}},{key:"setCustomBadgeLabel",value:function(u){this.c.customBadgeLabel=u}},{key:"getElementPos",value:function(u,ee){return this.canvasView.getElementPos(u,ee)}},{key:"getElementOffsets",value:function(u){return this.canvasView.getElementOffsets(u)}},{key:"getRect",value:function(){var u=this.canvasView.getPosition(),ee=u.top,q=u.left;return R(R({},this.canvasView.getCanvasOffset()),{},{topScroll:ee,leftScroll:q})}},{key:"getTargetToElementDim",value:function(u,ee){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},C=q||{},D=this.canvasView.getPosition();if(D){var le=C.elPos||this.canvasView.getElementPos(ee),be=q.toRight||0,I=C.targetHeight||u.offsetHeight,oe=C.targetWidth||u.offsetWidth,de=C.event||null,Oe=le.top-I,we=le.left;we+=be?le.width:0;var Se=(we=be?we-oe:we)<D.left?D.left:we,xe=Oe<D.top?D.top:Oe,Ie={top:xe=xe>le.top+le.height?le.top+le.height:xe,left:Se,elementTop:le.top,elementLeft:le.left,elementWidth:le.width,elementHeight:le.height,targetWidth:u.offsetWidth,targetHeight:u.offsetHeight,canvasTop:D.top,canvasLeft:D.left,canvasWidth:D.width,canvasHeight:D.height};return de&&this.c.em&&this.c.em.trigger(de,Ie),Ie}}},{key:"canvasRectOffset",value:function(u,ee){var q=this,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=function(be){var I=be.defaultView;return I&&I.frameElement},le=function(be){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,oe=arguments.length>2?arguments[2]:void 0,de=q.em.getZoomDecimal(),Oe=I?"top":"left",we=be.ownerDocument,Se=C.offset?D(we):{},xe=Se.offsetTop,Ie=xe===void 0?0:xe,Xe=Se.offsetLeft,tt=Xe===void 0?0:Xe,gt=we.body||{},ct=gt.scrollTop,Bt=ct===void 0?0:ct,Lt=gt.scrollLeft,Ft=Lt===void 0?0:Lt,ze=I?Bt:Ft,Ee=I?Ie:tt;return oe[Oe]-(ze-Ee)*de};return{top:le(u,1,ee),left:le(u,0,ee)}}},{key:"getTargetToElementFixed",value:function(u,ee){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},C=q.pos||this.getElementPos(u),D=q.canvasOff||this.canvasRectOffset(u,C),le=ee.offsetHeight||0,be=ee.offsetWidth||0,I=C.left+C.width,oe=this.getCanvasView(),de=oe.getPosition(),Oe=oe.getFrameOffset(u),we=q.event,Se=-le,xe=(0,k.isUndefined)(q.left)?C.width-be:q.left;xe=C.left<-xe?-C.left:xe,xe=I>de.width?xe-(I-de.width):xe;var Ie=C.height+le,Xe=Ie<Oe.height;D.top<le&&(Xe?Se+=Ie:Se=-D.top<C.height?-D.top:C.height);var tt={top:Se,left:xe,canvasOffsetTop:D.top,canvasOffsetLeft:D.left};return we&&this.em.trigger(we,tt),tt}},{key:"getMouseRelativePos",value:function(u,ee){var q=0,C=0,D=(ee||{}).subWinOffset,le=u.target.ownerDocument,be=le.defaultView||le.parentWindow,I=be.frameElement,oe=D?be.pageYOffset:0,de=D?be.pageXOffset:0;if(I){var Oe=I.getBoundingClientRect();q=Oe.top||0,C=Oe.left||0}return{y:u.clientY+q-oe,x:u.clientX+C-de}}},{key:"getMouseRelativeCanvas",value:function(u,ee){var q=this.getZoomDecimal(),C=this.canvasView.getPosition(ee),D=C.top,le=C.left;return{y:u.clientY*q+D,x:u.clientX*q+le}}},{key:"hasFocus",value:function(){return this.getDocument().hasFocus()}},{key:"isInputFocused",value:function(){var u=this.getDocument(),ee=this.getFrameEl(),q=["body"].concat((0,A.Z)(this.getConfig().notTextable)),C=ee&&document.activeElement===ee?u&&u.activeElement:document.activeElement;return C&&!q.some(function(D){return C.matches(D)})}},{key:"scrollTo",value:function(u){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=(0,d.getElement)(u),C=q&&(0,d.getViewEl)(q);C&&C.scrollIntoView(ee)}},{key:"startAutoscroll",value:function(u){var ee=u&&u.view||this.em.getCurrentFrame();ee&&ee.startAutoscroll()}},{key:"stopAutoscroll",value:function(u){var ee=u&&u.view||this.em.getCurrentFrame();ee&&ee.stopAutoscroll()}},{key:"setZoom",value:function(u){return this.canvas.set("zoom",parseFloat(u)),this}},{key:"getZoom",value:function(){return parseFloat(this.canvas.get("zoom"))}},{key:"setCoords",value:function(u,ee){return this.canvas.set({x:parseFloat(u),y:parseFloat(ee)}),this}},{key:"getCoords",value:function(){var u=this.canvas.attributes;return{x:u.x,y:u.y}}},{key:"getZoomDecimal",value:function(){return this.getZoom()/100}},{key:"getZoomMultiplier",value:function(){var u=this.getZoomDecimal();return u?1/u:1}},{key:"toggleFramesEvents",value:function(u){this.getFramesEl().style.pointerEvents=u?"":"none"}},{key:"getFrames",value:function(){return this.canvas.get("frames").map(function(u){return u})}},{key:"addFrame",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.canvas.frames.add(new Q.Z(R({},u),{em:this.em}),ee)}},{key:"destroy",value:function(){var u,ee=this;this.canvas.stopListening(),(u=this.canvasView)===null||u===void 0||u.remove(),[this.c,this.canvas,this.canvasView].forEach(function(q){return{}}),["em","model","droppable"].forEach(function(q){return ee[q]={}})}}]),P}()},7619:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>re});var A=s(9050);const U={stylePrefix:"cm-",inlineCss:!1};var S=s(5671),p=s(3144),k=s(9340),d=s(2963),j=s(1120),_=s(2316);function f(ne){var H=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,l=(0,j.Z)(ne);if(H){var y=(0,j.Z)(this).constructor;Y=Reflect.construct(l,arguments,y)}else Y=l.apply(this,arguments);return(0,d.Z)(this,Y)}}var c=function(ne){(0,k.Z)(Y,ne);var H=f(Y);function Y(){return(0,S.Z)(this,Y),H.apply(this,arguments)}return(0,p.Z)(Y,[{key:"build",value:function(l){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g={},v=y.em;if(y.cleanId&&v){var $=v.get("CssComposer").getAll(),ae=$.toJSON().map(function(K){var N=K.selectors,b=N&&N.length===1&&N.models[0];return b&&b.isId()&&b.get("name")}).filter(function(K){return K});g.attributes=function(K,N){var b=N.id;return b&&b[0]==="i"&&!K.get("script")&&!K.get("attributes").id&&ae.indexOf(b)<0&&delete N.id,N}}return l.toHTML(g)}}]),Y}(_.Model),m=s(8795);function w(ne){var H=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,l=(0,j.Z)(ne);if(H){var y=(0,j.Z)(this).constructor;Y=Reflect.construct(l,arguments,y)}else Y=l.apply(this,arguments);return(0,d.Z)(this,Y)}}var E=function(ne){(0,k.Z)(Y,ne);var H=w(Y);function Y(){return(0,S.Z)(this,Y),H.apply(this,arguments)}return(0,p.Z)(Y,[{key:"build",value:function(l){var y=l.toJSON();return this.beforeEach(y),(0,A.each)(y,function(g,v){var $=y[v];if($ instanceof _.Model)y[v]=this.build($);else if($ instanceof _.Collection){var ae=$;y[v]=[],ae.length&&ae.each(function(K,N){y[v][N]=this.build(K)},this)}},this),y}},{key:"beforeEach",value:function(l){delete l.status}}]),Y}(_.Model),Z=s(4942);function Q(ne){var H=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,l=(0,j.Z)(ne);if(H){var y=(0,j.Z)(this).constructor;Y=Reflect.construct(l,arguments,y)}else Y=l.apply(this,arguments);return(0,d.Z)(this,Y)}}var J,te=function(ne){(0,k.Z)(Y,ne);var H=Q(Y);function Y(){return(0,S.Z)(this,Y),H.apply(this,arguments)}return(0,p.Z)(Y,[{key:"mapModel",value:function(l){var y="",g=l.get("script-export")||l.get("script"),v=l.get("type"),$=l.get("components"),ae=l.getId();if(g){var K=l.get("attributes");K=(0,A.extend)({},K,{id:ae}),l.set("attributes",K,{silent:1});var N=l.getScriptString(g),b=l.get("script-props");if(l.get("scriptUpdated")&&!b)this.mapJs[v+"-"+ae]={ids:[ae],code:N};else{var h,z=this.mapJs[v];if(b&&(h=l.__getScriptProps()),z)z.ids.push(ae),h&&(z.props[ae]=h);else{var R={ids:[ae],code:N};h&&(R.props=(0,Z.Z)({},ae,h)),this.mapJs[v]=R}}}return $.each(function(T){y+=this.mapModel(T)},this),y}},{key:"build",value:function(l){this.mapJs={},this.mapModel(l);var y="";for(var g in this.mapJs){var v=this.mapJs[g];if(v.code)if(v.props){if(v.code.toString().match(/\{([\s\S]*)\}/m)[1].replace(/^\s*\/\/.*$/gm,"").trim().length===0)continue;y+=`
          var props = `.concat(JSON.stringify(v.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(v.code,`.bind(el))(props[el.id]);
          }`)}else{var $="#"+v.ids.join(", #");y+=`
          var items = document.querySelectorAll('`.concat($,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(v.code,`
}.bind(items[i]))();
          }`)}}return y}}]),Y}(_.Model);function X(ne,H){var Y=Object.keys(ne);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(ne);H&&(l=l.filter(function(y){return Object.getOwnPropertyDescriptor(ne,y).enumerable})),Y.push.apply(Y,l)}return Y}function V(ne){var H=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,l=(0,j.Z)(ne);if(H){var y=(0,j.Z)(this).constructor;Y=Reflect.construct(l,arguments,y)}else Y=l.apply(this,arguments);return(0,d.Z)(this,Y)}}(0,s(1163).hasWin)()&&(J=s(4631),s(6531),s(6629),s(9210));var se=function(ne){(0,k.Z)(Y,ne);var H=V(Y);function Y(){return(0,S.Z)(this,Y),H.apply(this,arguments)}return(0,p.Z)(Y,[{key:"defaults",value:function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0}}},{key:"init",value:function(l){return(0,A.bindAll)(this,"onChange"),this.editor=J.fromTextArea(l,function(y){for(var g=1;g<arguments.length;g++){var v=arguments[g]!=null?arguments[g]:{};g%2?X(Object(v),!0).forEach(function($){(0,Z.Z)(y,$,v[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(v)):X(Object(v)).forEach(function($){Object.defineProperty(y,$,Object.getOwnPropertyDescriptor(v,$))})}return y}({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=l,this.editor.on("change",this.onChange),this}},{key:"onChange",value:function(){this.trigger("update",this)}},{key:"getEditor",value:function(){return this.editor}},{key:"getElement",value:function(){return this.element}},{key:"setElement",value:function(l){return this.element=l,this}},{key:"refresh",value:function(){return this.getEditor().refresh(),this}},{key:"focus",value:function(){return this.getEditor().focus(),this}},{key:"getContent",value:function(){var l=this.getEditor();return l&&l.getValue()}},{key:"setContent",value:function(l){var y=this,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=this.editor;v&&(v.setValue(l),v.autoFormatRange&&(J.commands.selectAll(v),v.autoFormatRange(v.getCursor(!0),v.getCursor(!1)),J.commands.goDocStart(v)),!g.noRefresh&&setTimeout(function(){return y.refresh()}))}}]),Y}(_.Model);se.prototype.CodeMirror=J;var ve,ue=s(168),M=s(7539);function L(ne){var H=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,l=(0,j.Z)(ne);if(H){var y=(0,j.Z)(this).constructor;Y=Reflect.construct(l,arguments,y)}else Y=l.apply(this,arguments);return(0,d.Z)(this,Y)}}var F=function(ne){(0,k.Z)(Y,ne);var H=L(Y);function Y(){return(0,S.Z)(this,Y),H.apply(this,arguments)}return(0,p.Z)(Y,[{key:"template",value:function(l){var y=l.pfx,g=l.codeName,v=l.label;return(0,M.Z)(ve||(ve=(0,ue.Z)([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),y,y,g,y,v,y)}},{key:"initialize",value:function(l){this.config=l.config||{},this.pfx=this.config.stylePrefix}},{key:"render",value:function(){var l=this.model,y=this.pfx,g=this.$el,v=l.toJSON();return v.pfx=y,g.html(this.template(v)),g.attr("class","".concat(y,"editor-c")),g.find("#".concat(y,"code")).append(l.get("input")),this}}]),Y}(_.View);const re=function(){var ne={},H={},Y={},l={},y={},g="CodeMirror";return{getConfig:function(){return ne},config:ne,EditorView:F,name:"CodeManager",init:function(v){for(var $ in ne=v||{},U)$ in ne||(ne[$]=U[$]);var ae=ne.pStylePrefix;return ae&&(ne.stylePrefix=ae+ne.stylePrefix),Y.html=new c,Y.css=new m.Z,Y.json=new E,Y.js=new te,y.CodeMirror=new se,this.loadDefaultGenerators().loadDefaultViewers(),this},addGenerator:function(v,$){return H[v]=$,this},getGenerator:function(v){return H[v]||null},getGenerators:function(){return H},addViewer:function(v,$){return l[v]=$,this},getViewer:function(v){return l[v]||null},getViewers:function(){return l},createViewer:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=(0,A.isUndefined)(v.type)?g:v.type,ae=this.getViewer($)&&this.getViewer($).clone(),K=document.createElement("div"),N=document.createElement("textarea");return K.appendChild(N),ae.set(v),ae.init(N),ae.setElement(K),ae},updateViewer:function(v,$){v.setContent($)},getCode:function(v,$){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ae.em=ne.em;var K=this.getGenerator($);return K?K.build(v,ae):""},loadDefaultGenerators:function(){for(var v in Y)this.addGenerator(v,Y[v]);return this},loadDefaultViewers:function(){for(var v in y)this.addViewer(v,y[v]);return this},destroy:function(){}}}},8795:(ge,ie,s)=>{s.d(ie,{U:()=>m,Z:()=>w});var A=s(5671),U=s(3144),S=s(9340),p=s(2963),k=s(1120),d=s(9050),j=s(2316),_=s(1163);function f(E){var Z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Q,J=(0,k.Z)(E);if(Z){var te=(0,k.Z)(this).constructor;Q=Reflect.construct(J,arguments,te)}else Q=J.apply(this,arguments);return(0,p.Z)(this,Q)}}var c=Number.MAX_VALUE,m=function(E){var Z=/(-?\d*\.?\d+)\w{0,}/.exec(E);return Z?Z[0]:""},w=function(E){(0,S.Z)(Q,E);var Z=f(Q);function Q(){return(0,A.Z)(this,Q),Z.apply(this,arguments)}return(0,U.Z)(Q,[{key:"initialize",value:function(){(0,d.bindAll)(this,"sortRules"),this.compCls=[],this.ids=[]}},{key:"buildFromModel",value:function(J){var te=this,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V="",se=this.em,ve=se&&se.getConfig().avoidInlineStyle,ue=J.styleToString(),M=J.get("classes");this.ids.push("#".concat(J.getId())),M.each(function(F){return te.compCls.push(F.getFullName())}),!ve&&ue&&(V="#".concat(J.getId(),"{").concat(ue,"}"));var L=J.components();return L.each(function(F){return V+=te.buildFromModel(F,X)}),V}},{key:"build",value:function(J){var te=this,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=X.json,se=X.em||"",ve=X.cssc||se&&se.get("CssComposer");this.em=se,this.compCls=[],this.ids=[],this.model=J;var ue=[],M=J?this.buildFromModel(J,X):"",L=(0,d.isUndefined)(X.clearStyles)&&se?se.getConfig().clearStyles:X.clearStyles;if(ve){var F=X.rules||ve.getAll(),re={},ne=[];X.onlyMatched&&J&&(0,_.hasWin)()&&(F=this.matchedRules(J,F)),F.forEach(function(H){var Y=H.getAtRule();if(Y){var l=re[Y];l?l.push(H):re[Y]=[H]}else{var y=te.buildFromRule(H,ne,X);V?ue.push(y):M+=y}}),this.sortMediaObject(re).forEach(function(H){var Y="",l=H.key;H.value.forEach(function(y){var g=te.buildFromRule(y,ne,X);y.get("singleAtRule")?M+="".concat(l,"{").concat(g,"}"):Y+=g,V&&ue.push(g)}),Y&&(M+="".concat(l,"{").concat(Y,"}"))}),se&&L&&F.remove&&F.remove(ne)}return V?ue.filter(function(H){return H}):M}},{key:"buildFromRule",value:function(J,te){var X,V=this,se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ve="",ue=this.model,M=J.selectorsToString({skipAdd:1}),L=J.get("selectorsAdd"),F=J.get("singleAtRule");if(J.get("selectors").each(function(ne){var H=ne.getFullName();(V.compCls.indexOf(H)>=0||V.ids.indexOf(H)>=0||se.keepUnusedStyles)&&(X=1)}),M&&X||L||F||!ue){var re=J.getDeclaration({body:1});re&&(se.json?ve=J:ve+=re)}else te.push(J);return ve}},{key:"matchedRules",value:function(J,te){var X=this,V=J.getEl(),se=[];return te.forEach(function(ve){try{ve.selectorsToString().split(",").some(function(ue){return V.matches(X.__cleanSelector(ue))})&&se.push(ve)}catch{}}),J.components().forEach(function(ve){se=se.concat(X.matchedRules(ve,te))}),se=se.filter(function(ve,ue){return se.indexOf(ve)===ue})}},{key:"getQueryLength",value:function(J){var te=/(-?\d*\.?\d+)\w{0,}/.exec(J);return te?parseFloat(te[1]):c}},{key:"sortMediaObject",value:function(){var J=this,te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=[];return(0,d.each)(te,function(V,se){return X.push({key:se,value:V})}),X.sort(function(V,se){var ve=[V.key,se.key].every(function(L){return L.indexOf("min-width")!==-1}),ue=ve?V.key:se.key,M=ve?se.key:V.key;return J.getQueryLength(ue)-J.getQueryLength(M)})}},{key:"sortRules",value:function(J,te){var X=function(ue){return ue.get("mediaText")},V=[X(J),X(te)].every(function(ue){return ue.indexOf("min-width")!==-1}),se=X(V?J:te),ve=X(V?te:J);return this.getQueryLength(se)-this.getQueryLength(ve)}},{key:"__cleanSelector",value:function(J){return J.split(" ").map(function(te){return te.split(":")[0]}).join(" ")}}]),Q}(j.Model)},289:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>c});var A=s(2982),U=s(4942),S=s(9050),p=s(238);const k={stylePrefix:"com-",defaults:[],strict:1};var d=s(7375);function j(m,w){var E=Object.keys(m);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(m);w&&(Z=Z.filter(function(Q){return Object.getOwnPropertyDescriptor(m,Q).enumerable})),E.push.apply(E,Z)}return E}function _(m){for(var w=1;w<arguments.length;w++){var E=arguments[w]!=null?arguments[w]:{};w%2?j(Object(E),!0).forEach(function(Z){(0,U.Z)(m,Z,E[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(E)):j(Object(E)).forEach(function(Z){Object.defineProperty(m,Z,Object.getOwnPropertyDescriptor(E,Z))})}return m}var f=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]];const c=function(){var m,w={},E={},Z={},Q={};return{CommandAbstract:p.default,name:"Commands",init:function(){var J=this,te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};w=_(_({},k),te),m=w.em;var X=w.pStylePrefix;return X&&(w.stylePrefix=X+w.stylePrefix),Object.keys(w.defaults).forEach(function(V){var se=w.defaults[V];se.id&&J.add(se.id,se)}),Z["tlb-delete"]={run:function(V){return V.runCommand("core:component-delete")}},Z["tlb-clone"]={run:function(V){V.runCommand("core:copy"),V.runCommand("core:paste",{action:"clone-component"})}},Z["tlb-move"]={run:function(V,se){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ue=V.getModel(),M=ve&&ve.event,L=ve.target,F=L||V.getSelected(),re=L?[L]:(0,A.Z)(V.getSelectedAll()),ne=M&&M.type=="dragstart",H={preserveSelected:1},Y=["absolute","translate"];if(!F||!F.get("draggable"))return ue.logWarning("The element is not draggable");var l=F.get("dmode")||ue.get("dmode"),y=function(){return ue.stopDefault(H)},g=(0,S.includes)(Y,l);re.forEach(function(N){return N.trigger("disable")}),ne?setTimeout(y,0):y();var v=function(N){ue.trigger("".concat(d.OA,":start"),N)},$=function(N){ue.trigger(d.OA,N)},ae=function(N,b,h){re.forEach(function(z){return z.set("status","selected")}),V.select(re),F.emitUpdate(),ue.trigger("".concat(d.OA,":end"),h),setTimeout(function(){return ue.runDefault(H)}),(g||h.cancelled)&&ue.set("_cmpDrag",1)};if(g)V.runCommand("core:component-drag",{guidesInfo:1,mode:l,target:F,onStart:v,onDrag:$,onEnd:ae,event:M});else{ne&&M.dataTransfer.setDragImage(F.view.el,0,0);var K=V.Commands.get("move-comp");K.onStart=v,K.onDrag=$,K.onEndMoveFromModel=ae,K.initSorterFromModels(re)}re.forEach(function(N){return N.set("status","freezed-selected")})}},Z["core:undo"]=function(V){return V.UndoManager.undo()},Z["core:redo"]=function(V){return V.UndoManager.redo()},f.forEach(function(V){var se=V[2],ve=s(2828)("./".concat(V[1])).default,ue="core:".concat(V[0]);Z[ue]=ve,se&&(Z[se]=ve,["run","stop"].forEach(function(M){m.on("".concat(M,":").concat(se),function(){for(var L,F=arguments.length,re=new Array(F),ne=0;ne<F;ne++)re[ne]=arguments[ne];return(L=m).trigger.apply(L,["".concat(M,":").concat(ue)].concat(re))})}))}),w.em&&(w.model=w.em.get("Canvas")),this.loadDefaultCommands(),this},add:function(J,te){return(0,S.isFunction)(te)&&(te={run:te}),te.stop||(te.noStop=1),delete te.initialize,te.id=J,E[J]=p.default.extend(te),this},get:function(J){var te=E[J];return(0,S.isFunction)(te)?(te=new te(w),E[J]=te):te||m.logWarning("'".concat(J,"' command not found")),te},extend:function(J){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=this.get(J);if(X){var V=_(_({},X.constructor.prototype),te);this.add(J,V);var se=f.filter(function(ve){return"core:".concat(ve[0])===J&&ve[2]})[0];se&&this.add(se[2],V)}return this},has:function(J){return!!E[J]},getAll:function(){return E},run:function(J){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.runCommand(this.get(J),te)},stop:function(J){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.stopCommand(this.get(J),te)},isActive:function(J){return this.getActive().hasOwnProperty(J)},getActive:function(){return Q},loadDefaultCommands:function(){for(var J in Z)this.add(J,Z[J]);return this},runCommand:function(J){var te,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(J&&J.run){var V=J.id,se=m.get("Editor");this.isActive(V)&&!X.force&&w.strict||(te=se&&J.callRun(se,X),V&&J.stop&&!J.noStop&&!X.abort&&(Q[V]=te))}return te},stopCommand:function(J){var te,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(J&&J.run){var V=J.id,se=m.get("Editor");(this.isActive(V)||X.force||!w.strict)&&(V&&delete Q[V],te=J.callStop(se,X))}return te},create:function(J){return J.stop||(J.noStop=1),new(p.default.extend(J))(w)},destroy:function(){}}}},7202:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>A});const A={run:function(U){U.DomComponents.clear(),U.CssComposer.clear()}}},327:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>p});var A=s(9050),U=s(1163),S=s(5610);const p={run:function(k){(0,A.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=k,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(k){this.toggleMove(),this.disableDragger()},onKeyUp:function(k){(0,U.getKeyChar)(k)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(k){this.toggleDragger(1,k)},disableDragger:function(k){this.toggleDragger(0,k)},toggleDragger:function(k,d){var j=this.canvasModel,_=this.em,f=this.dragger,c=k?"add":"remove";this.getCanvas().classList[c]("".concat(this.ppfx,"is__grabbing")),f||(f=new S.Z({getPosition:function(){return{x:j.get("x"),y:j.get("y")}},setPosition:function(m){var w=m.x,E=m.y;j.set({x:w,y:E})},onStart:function(m,w){_.trigger("canvas:move:start",w)},onDrag:function(m,w){_.trigger("canvas:move",w)},onEnd:function(m,w){_.trigger("canvas:move:end",w)}}),this.dragger=f),k?f.start(d):f.stop()},toggleMove:function(k){var d=this.ppfx,j=k?"add":"remove",_=k?"on":"off",f={on:U.on,off:U.off},c=this.getCanvas(),m=["".concat(d,"is__grab")];!k&&m.push("".concat(d,"is__grabbing")),m.forEach(function(w){return c.classList[j](w)}),f[_](document,"keyup",this.onKeyUp),f[_](c,"mousedown",this.enableDragger),f[_](document,"mouseup",this.disableDragger)}}},238:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>_});var A=s(5671),U=s(3144),S=s(9340),p=s(2963),k=s(1120),d=s(2316);function j(f){var c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var m,w=(0,k.Z)(f);if(c){var E=(0,k.Z)(this).constructor;m=Reflect.construct(w,arguments,E)}else m=w.apply(this,arguments);return(0,p.Z)(this,m)}}var _=function(f){(0,S.Z)(m,f);var c=j(m);function m(){return(0,A.Z)(this,m),c.apply(this,arguments)}return(0,U.Z)(m,[{key:"initialize",value:function(w){this.config=w||{},this.editorModel=this.em=this.config.em||{},this.pfx=this.config.stylePrefix,this.ppfx=this.config.pStylePrefix,this.hoverClass=this.pfx+"hover",this.badgeClass=this.pfx+"badge",this.plhClass=this.pfx+"placeholder",this.freezClass=this.ppfx+"freezed",this.canvas=this.em.get&&this.em.get("Canvas"),this.init(this.config)}},{key:"onFrameScroll",value:function(w){}},{key:"getCanvas",value:function(){return this.canvas.getElement()}},{key:"getCanvasBody",value:function(){return this.canvas.getBody()}},{key:"getCanvasTools",value:function(){return this.canvas.getToolsEl()}},{key:"offset",value:function(w){var E=w.getBoundingClientRect();return{top:E.top+w.ownerDocument.body.scrollTop,left:E.left+w.ownerDocument.body.scrollLeft}}},{key:"init",value:function(w){}},{key:"callRun",value:function(w){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=this.id;if(w.trigger("run:".concat(Z,":before"),E),!E||!E.abort){var Q=E.sender||w,J=this.run(w,Q,E);return w.trigger("run:".concat(Z),J,E),w.trigger("run",Z,J,E),J}w.trigger("abort:".concat(Z),E)}},{key:"callStop",value:function(w){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=this.id,Q=E.sender||w;w.trigger("stop:".concat(Z,":before"),E);var J=this.stop(w,Q,E);return w.trigger("stop:".concat(Z),J,E),w.trigger("stop",Z,J,E),J}},{key:"stopCommand",value:function(){this.em.get("Commands").stop(this.id)}},{key:"run",value:function(w,E){}},{key:"stop",value:function(w,E){}}]),m}(d.Model)},5820:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>S});var A=s(2982),U=s(9050);const S={run:function(p,k){var d=this,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_=[],f=j.component||p.getSelectedAll();return(f=(0,U.isArray)(f)?(0,A.Z)(f):[f]).filter(Boolean).forEach(function(c){if(!c.get("removable"))return _.push(c),d.em.logWarning("The element is not removable",{component:c});c.remove()}),p.select(_),f}}},6694:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>j});var A=s(4942),U=s(9050),S=s(5610);function p(_,f){var c=Object.keys(_);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(_);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(_,w).enumerable})),c.push.apply(c,m)}return c}function k(_){for(var f=1;f<arguments.length;f++){var c=arguments[f]!=null?arguments[f]:{};f%2?p(Object(c),!0).forEach(function(m){(0,A.Z)(_,m,c[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(c)):p(Object(c)).forEach(function(m){Object.defineProperty(_,m,Object.getOwnPropertyDescriptor(c,m))})}return _}var d="dmode";const j={run:function(_,f){var c=this,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,U.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var w=m.target,E=m.event,Z=m.mode,Q=m.dragger,J=Q===void 0?{}:Q,te=w.getEl(),X=k({doc:te.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return c.guidesStatic},guidesTarget:function(){return c.guidesTarget}},J);this.setupGuides(),this.opts=m,this.editor=_,this.em=_.getModel(),this.target=w,this.isTran=Z=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var V=this.dragger;return V?V.setOptions(X):(V=new S.Z(X),this.dragger=V),E&&V.start(E),this.toggleDrag(1),this.em.trigger("".concat(d,":start"),this.getEventOpts()),V},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(_){var f=_.guide;f&&f.parentNode.removeChild(f)}),this.guides=[]},getGuidesContainer:function(){var _=this,f=this.guidesEl;if(!f){var c=this.editor,m=this.em,w=this.opts,E=c.getConfig().stylePrefix,Z=document.createElement("div"),Q=document.createElement("div"),J='<div class="'.concat(E,"guide-info__line ").concat(E,`danger-bg">
        <div class="`).concat(E,"guide-info__content ").concat(E,`danger-color"></div>
      </div>`);(f=document.createElement("div")).className="".concat(E,"guides"),Z.className="".concat(E,"guide-info ").concat(E,"guide-info__x"),Q.className="".concat(E,"guide-info ").concat(E,"guide-info__y"),Z.innerHTML=J,Q.innerHTML=J,f.appendChild(Z),f.appendChild(Q),c.Canvas.getGlobalToolsEl().appendChild(f),this.guidesEl=f,this.elGuideInfoX=Z,this.elGuideInfoY=Q,this.elGuideInfoContentX=Z.querySelector(".".concat(E,"guide-info__content")),this.elGuideInfoContentY=Q.querySelector(".".concat(E,"guide-info__content")),m.on("canvas:update frame:scroll",(0,U.debounce)(function(){_.updateGuides(),w.debug&&_.guides.forEach(function(te){return _.renderGuide(te)})},200))}return f},getGuidesStatic:function(){var _=this,f=[],c=this.target.getEl(),m=c.parentNode,w=m===void 0?{}:m;return(0,U.each)(w.children,function(E){return f=f.concat(c!==E?_.getElementGuides(E):[])}),f.concat(this.getElementGuides(w))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(_){var f,c,m=this;(_||this.guides).forEach(function(w){var E=w.origin,Z=f===E?c:m.getElementPos(E);f=E,c=Z,(0,U.each)(m.getGuidePosUpdate(w,Z),function(Q,J){return w[J]=Q}),w.originRect=Z})},getGuidePosUpdate:function(_,f){var c={},m=f.top,w=f.height,E=f.left,Z=f.width;switch(_.type){case"t":c.y=m;break;case"b":c.y=m+w;break;case"l":c.x=E;break;case"r":c.x=E+Z;break;case"x":c.x=E+Z/2;break;case"y":c.y=m+w/2}return c},renderGuide:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=_.guide||document.createElement("div"),c="px",m=_.active?2:1,w=f.children[0];return f.style="position: absolute; background-color: ".concat(_.active?"green":"red",";"),f.children.length||((w=document.createElement("div")).style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",f.appendChild(w)),_.y?(f.style.width="100%",f.style.height="".concat(m).concat(c),f.style.top="".concat(_.y).concat(c),f.style.left=0):(f.style.width="".concat(m).concat(c),f.style.height="100%",f.style.left="".concat(_.x).concat(c),f.style.top="0".concat(c)),!_.guide&&this.guidesContainer.appendChild(f),f},getElementPos:function(_){return this.editor.Canvas.getElementPos(_,{noScroll:1})},getElementGuides:function(_){var f=this,c=this.opts,m=this.getElementPos(_),w=m.top,E=m.height,Z=m.left,Q=m.width,J=[{type:"t",y:w},{type:"b",y:w+E},{type:"l",x:Z},{type:"r",x:Z+Q},{type:"x",x:Z+Q/2},{type:"y",y:w+E/2}].map(function(te){return k(k({},te),{},{origin:_,originRect:m,guide:c.debug&&f.renderGuide(te)})});return J.forEach(function(te){return f.guides.push(te)}),J},getTranslate:function(_){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",c=0;return(_||"").split(" ").forEach(function(m){var w=m.trim(),E="translate".concat(f.toUpperCase(),"(");w.indexOf(E)===0&&(c=parseFloat(w.replace(E,"")))}),c},setTranslate:function(_,f,c){var m="translate".concat(f.toUpperCase(),"("),w="".concat(m).concat(c,")"),E=(_||"").split(" ").map(function(Z){return Z.trim().indexOf(m)===0&&(Z=w),Z}).join(" ");return E.indexOf(m)<0&&(E+=" ".concat(w)),E},getPosition:function(){var _=this.target,f=this.isTran,c=_.getStyle(),m=c.left,w=c.top,E=c.transform,Z=0,Q=0;return f?(Z=this.getTranslate(E),Q=this.getTranslate(E,"y")):(Z=parseFloat(m||0),Q=parseFloat(w||0)),{x:Z,y:Q}},setPosition:function(_){var f=_.x,c=_.y,m=_.end,w=_.position,E=_.width,Z=_.height,Q=this.target,J=this.isTran,te=this.em,X=m?"":1,V="".concat(f).concat("px"),se="".concat(c).concat("px"),ve={};if(J){var ue=Q.getStyle().transform||"";ue=this.setTranslate(ue,"x",V),ve={transform:ue=this.setTranslate(ue,"y",se),en:X},Q.addStyle(ve,{avoidStore:!m})}else{var M={position:w,width:E,height:Z},L={left:V,top:se,en:X};(0,U.keys)(M).forEach(function(F){var re=M[F];re&&(L[F]=re)}),ve=L,Q.addStyle(ve,{avoidStore:!m})}te.getSelected()&&(0,U.keys)(ve).forEach(function(F){return te.trigger("update:component:style:".concat(F))})},_getDragData:function(){var _=this.target;return{target:_,parent:_.parent(),index:_.index()}},onStart:function(_){var f=this.target,c=this.editor,m=this.isTran,w=this.opts,E=w.center,Z=w.onStart,Q=c.Canvas,J=f.getStyle(),te="absolute",X=[te,"relative"];if(Z&&Z(this._getDragData()),!m&&J.position!==te){var V,se=Q.offset(f.getEl()),ve=se.left,ue=se.top,M=se.width,L=se.height,F=f.parent();do{var re=F.getStyle();V=X.indexOf(re.position)>=0?F:null,F=F.parent()}while(F&&!V);if(E){var ne=Q.getMouseRelativeCanvas(_);ve=ne.x,ue=ne.y}else if(V){var H=Q.offset(V.getEl());ve-=H.left,ue-=H.top}this.setPosition({x:ve,y:ue,width:"".concat(M,"px"),height:"".concat(L,"px"),position:te})}},onDrag:function(){var _=this,f=this.guidesTarget,c=this.opts,m=c.onDrag;this.updateGuides(f),c.debug&&f.forEach(function(w){return _.renderGuide(w)}),c.guidesInfo&&this.renderGuideInfo(f.filter(function(w){return w.active})),m&&m(this._getDragData())},onEnd:function(_,f){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=this.editor,w=this.opts,E=this.id,Z=w.onEnd;Z&&Z(_,c,k(k({event:_},c),this._getDragData())),m.stopCommand(E),this.hideGuidesInfo(),this.em.trigger("".concat(d,":end"),this.getEventOpts())},hideGuidesInfo:function(){var _=this;["X","Y"].forEach(function(f){var c=_["elGuideInfo".concat(f)];c&&(c.style.display="none")})},renderGuideInfo:function(){var _=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=this.guidesStatic;this.hideGuidesInfo(),f.forEach(function(m){var w=m.origin,E=m.x,Z=_.getElementPos(w),Q=(0,U.isUndefined)(E)?"y":"x",J=Q==="y",te=Z[J?"left":"top"],X=Z.rect[J?"left":"top"],V=J?te+Z.width:te+Z.height,se=J?X+Z.rect.width:X+Z.rect.height,ve=_["elGuideInfo".concat(Q.toUpperCase())],ue=_["elGuideInfoContent".concat(Q.toUpperCase())],M=ve.style,L=c.filter(function(R){return R.type===m.type}).map(function(R){var T=R.originRect,P=T.left,u=T.width,ee=T.top,q=T.height,C=J?P+u:ee+q;return{gap:C<te?te-C:(J?P:ee)-V,guide:R}}).filter(function(R){return R.gap>0}).sort(function(R,T){return R.gap-T.gap}).map(function(R){return R.guide})[0];if(L){var F=L.originRect,re=F.left,ne=F.width,H=F.top,Y=F.height,l=F.rect,y=J?re<Z.left:H<Z.top,g=J?re:H,v=J?l.left:l.top,$=J?re+ne:H+Y,ae=J?l.left+l.width:l.top+l.height,K=J?m.y:m.x,N=y?$:V,b="".concat(K,"px"),h=y?te-$:g-V,z=y?X-ae:v-se;M.display="",M[J?"top":"left"]=b,M[J?"left":"top"]="".concat(N,"px"),M[J?"width":"height"]="".concat(h,"px"),ue.innerHTML="".concat(Math.round(z),"px"),_.em.trigger("".concat(d,":active"),k(k({},_.getEventOpts()),{},{guide:m,guidesStatic:c,matched:L,posFirst:K,posSecond:N,size:h,sizeRaw:z,elGuideInfo:ve,elGuideInfoCnt:ue}))}})},toggleDrag:function(_){var f=this.ppfx,c=this.editor,m=_?"add":"remove",w=["".concat(f,"is__grabbing")],E=c.Canvas,Z=E.getBody();w.forEach(function(Q){return Z.classList[m](Q)}),E[_?"startAutoscroll":"stopAutoscroll"]()}}},1947:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>A});const A={run:function(U){if(U.Canvas.hasFocus()){var S=[];U.getSelectedAll().forEach(function(p){var k=p.components(),d=k&&k.filter(function(j){return j.get("selectable")})[0];d&&S.push(d)}),S.length&&U.select(S)}}}},3888:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>A});const A={run:function(U,S){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(U.Canvas.hasFocus()||p.force){var k=[];U.getSelectedAll().forEach(function(d){for(var j=d.parent();j&&!j.get("selectable");)j=j.parent();j&&k.push(j)}),k.length&&U.select(k)}}}},5883:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>A});const A={run:function(U){if(U.Canvas.hasFocus()){var S=[];U.getSelectedAll().forEach(function(p){var k=p.parent();if(k){var d,j=k.components().length,_=0,f=0;do _++,d=(f=p.index()+_)<=j?k.getChildAt(f):null;while(d&&!d.get("selectable"));S.push(d||p)}}),S.length&&U.select(S)}}}},7508:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>A});const A={run:function(U){if(U.Canvas.hasFocus()){var S=[];U.getSelectedAll().forEach(function(p){var k=p.parent();if(k){var d,j=0,_=0;do j++,d=(_=p.index()-j)>=0?k.getChildAt(_):null;while(d&&!d.get("selectable"));S.push(d||p)}}),S.length&&U.select(S)}}}},8769:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>U});var A=s(9050);const U={run:function(S,p){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=k.target,j=[];if(!d.get("styles"))return j;var _=d.get("type"),f=S.Pages.getAllWrappers(),c=(0,A.flatten)(f.map(function(w){return w.findType(_)})).length;if(!c){var m=S.CssComposer.getAll();j=m.filter(function(w){return w.get("group")==="cmp:".concat(_)}),m.remove(j)}return j}}},2213:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>U});var A=s(2982);const U={run:function(S){var p=S.getModel(),k=(0,A.Z)(S.getSelectedAll());k.length&&p.set("clipboard",k)}}},5049:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>d});var A=s(9050),U=s(2316),S=s.n(U),p=s(2620),k=S().$;const d=(0,A.extend)({},p.default,{init:function(j){(0,A.bindAll)(this,"startDelete","stopDelete","onDelete"),this.hoverClass=this.pfx+"hover-delete",this.badgeClass=this.pfx+"badge-red"},enable:function(){this.$el.find("*").mouseover(this.startDelete).mouseout(this.stopDelete).click(this.onDelete)},startDelete:function(j){j.stopPropagation();var _=k(j.target);_.data("model").get("removable")&&(_.addClass(this.hoverClass),this.attachBadge(_.get(0)))},stopDelete:function(j){j.stopPropagation(),k(j.target).removeClass(this.hoverClass),this.badge&&this.badge.css({left:-1e3,top:-1e3})},onDelete:function(j){j.stopPropagation();var _=k(j.target);_.data("model").get("removable")&&(_.data("model").destroy(),this.removeBadge(),this.clean())},updateBadgeLabel:function(j){this.badge.html("Remove "+j.getName())}})},3775:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>S});var A=s(2316),U=s.n(A)().$;const S={run:function(p,k){var d=this;k&&k.set&&k.set("active",0);var j=p.getConfig(),_=p.Modal,f=j.stylePrefix;if(this.cm=p.CodeManager||null,!this.$editors){var c=this.buildEditor("htmlmixed","hopscotch","HTML"),m=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=c.el,this.cssEditor=m.el;var w=U('<div class="'.concat(f,'export-dl"></div>'));w.append(c.$el).append(m.$el),this.$editors=w}_.open({title:j.textViewCode,content:this.$editors}).getModel().once("change:open",function(){return p.stopCommand(d.id)}),this.htmlEditor.setContent(p.getHtml()),this.cssEditor.setContent(p.getCss())},stop:function(p){var k=p.Modal;k&&k.close()},buildEditor:function(p,k,d){var j=document.createElement("textarea");!this.codeMirror&&(this.codeMirror=this.cm.getViewer("CodeMirror"));var _=this.codeMirror.clone().set({label:d,codeName:p,theme:k,input:j}),f=new this.cm.EditorView({model:_,config:this.cm.getConfig()}).render().$el;return _.init(j),{el:_,$el:f}}}},58:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>U});var A=s(9050);const U={isEnabled:function(){var S=document;return S.fullscreenElement||S.webkitFullscreenElement||S.mozFullScreenElement?1:0},enable:function(S){var p="";return S.requestFullscreen?S.requestFullscreen():S.webkitRequestFullscreen?(p="webkit",S.webkitRequestFullscreen()):S.mozRequestFullScreen?(p="moz",S.mozRequestFullScreen()):S.msRequestFullscreen?S.msRequestFullscreen():console.warn("Fullscreen not supported"),p},disable:function(){var S=document;this.isEnabled()&&(S.exitFullscreen?S.exitFullscreen():S.webkitExitFullscreen?S.webkitExitFullscreen():S.mozCancelFullScreen?S.mozCancelFullScreen():S.msExitFullscreen&&S.msExitFullscreen())},fsChanged:function(S,p){var k=(S||"")+"fullscreenchange";this.isEnabled()||(this.stop(null,this.sender),document.removeEventListener(k,this.fsChanged))},run:function(S,p){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.sender=p;var d=k.target,j=(0,A.isElement)(d)?d:document.querySelector(d),_=this.enable(j||S.getContainer());this.fsChanged=this.fsChanged.bind(this,_),document.addEventListener(_+"fullscreenchange",this.fsChanged),S.trigger("change:canvasOffset")},stop:function(S,p){p&&p.set&&p.set("active",!1),this.disable(),S&&S.trigger("change:canvasOffset")}}},8658:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>_});var A=s(9050),U=s(2316),S=s.n(U),p=s(1163),k=s(2620),d=s(8463),j=S().$;const _=(0,A.extend)({},d.default,k.default,{init:function(f){k.default.init.apply(this,arguments),(0,A.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=f,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var f=arguments.length,c=new Array(f),m=0;m<f;m++)c[m]=arguments[m];k.default.enable.apply(this,c),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var w=this.$wrapper;w.css("cursor","move"),w.on("mousedown",this.initSorter),w.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(f){var c=j(f.target).data("model").get("draggable");c&&(this.cacheEl=null,this.startSelectPosition(f.target,this.frameEl.contentDocument),this.sorter.draggable=c,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,p.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(f){var c=f.get("draggable");if(c){this.cacheEl=null;var m=f.view.el;this.startSelectPosition(m,this.frameEl.contentDocument),this.sorter.draggable=c,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,p.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(f){this.cacheEl=null;var c=f[f.length-1],m=(this.em.get("currentFrame")||{}).model,w=c.getEl(m),E=w.ownerDocument;this.startSelectPosition(w,E,{onStart:this.onStart}),this.sorter.draggable=c.get("draggable"),this.sorter.toMove=f,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,p.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,p.off)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,p.off)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(f,c){},rollback:function(f,c){((f.which||f.keyCode)==27||c)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=j(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=j(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var f=arguments.length,c=new Array(f),m=0;m<f;m++)c[m]=arguments[m];k.default.stop.apply(this,c),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var w=this.$wrapper;w.css("cursor","").unbind().removeClass(this.noSelClass)}})},9617:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>S});var A=s(9050),U=s(9283);const S={open:function(p){var k=this,d=this.editor,j=this.title,_=this.config,f=this.am,c=_.custom;if((0,A.isFunction)(c.open))return c.open(f.__customData());d.Modal.open({title:j,content:p}).onceClose(function(){return d.stopCommand(k.id)})},close:function(){var p=this.config.custom;if((0,A.isFunction)(p.close))return p.close(this.am.__customData());var k=this.editor.Modal;k&&k.close()},run:function(p,k){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=p.AssetManager,_=j.getConfig(),f=d.types,c=f===void 0?[]:f,m=d.accept,w=d.select;if(this.title=d.modalTitle||p.t("assetManager.modalTitle")||"",this.editor=p,this.config=_,this.am=j,j.setTarget(d.target),j.onClick(d.onClick),j.onDblClick(d.onDblClick),j.onSelect(d.onSelect),j.__behaviour({select:w,types:c,options:d}),_.custom)this.rendered=this.rendered||(0,U.ut)("div"),this.rendered.className="".concat(_.stylePrefix,"custom-wrp"),j.__behaviour({container:this.rendered}),j.__trgCustom();else{if(!this.rendered||c){var E=j.getAll().filter(function(Q){return Q});c&&c.length&&(E=E.filter(function(Q){return c.indexOf(Q.get("type"))!==-1})),j.render(E),this.rendered=j.getContainer()}if(m){var Z=this.rendered.querySelector("input#".concat(_.stylePrefix,"uploadFile"));Z&&Z.setAttribute("accept",m)}}return this.open(this.rendered),this},stop:function(p){this.editor=p,this.close(this.rendered)}}},5821:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>S});var A=s(9050),U=s(9283);const S={open:function(){var p=this.container,k=this.editor,d=this.bm,j=this.config,_=j.custom,f=j.appendTo;if((0,A.isFunction)(_.open))return _.open(d.__customData());if(this.firstRender&&!f){var c="views-container",m=k.Panels;(m.getPanel(c)||m.addPanel({id:c})).set("appendContent",p).trigger("change:appendContent"),_||p.appendChild(d.render())}p&&(p.style.display="block")},close:function(){var p=this.container,k=this.config.custom;if((0,A.isFunction)(k.close))return k.close(this.bm.__customData());p&&(p.style.display="none")},run:function(p){var k=p.Blocks;this.config=k.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,U.ut)("div"),this.editor=p,this.bm=k;var d=this.container;k.__behaviour({container:d}),this.config.custom&&k.__trgCustom(),this.open()},stop:function(){this.close()}}},3452:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>A});const A={run:function(U){var S=U.LayerManager,p=U.Panels;if(!S.getConfig().appendTo){if(!this.layers){var k="views-container",d=document.createElement("div"),j=p.getPanel(k)||p.addPanel({id:k});d.appendChild(S.render()),j.set("appendContent",d).trigger("change:appendContent"),this.layers=d}this.layers.style.display="block"}},stop:function(){var U=this.layers;U&&(U.style.display="none")}}},2840:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>S});var A=s(2316),U=s.n(A)().$;const S={run:function(p,k){if(this.sender=k,!this.$cn){var d=p.getConfig(),j=p.Panels,_="change:appendContent";this.$cn=U("<div></div>"),this.$cn2=U("<div></div>"),this.$cn.append(this.$cn2);var f=p.DeviceManager;if(f&&d.showDevices){var c=j.addPanel({id:"devices-c"}),m=f.render();c.set("appendContent",m).trigger(_)}var w=p.SelectorManager;this.slm=w;var E=w.getConfig();E.custom?w.__trgCustom({container:this.$cn2.get(0)}):E.appendTo||this.$cn2.append(w.render([]));var Z=p.StyleManager;this.sm=Z;var Q=Z.getConfig(),J=Q.stylePrefix;this.$header=U('<div class="'.concat(J,'header">').concat(p.t("styleManager.empty"),"</div>")),this.$cn.append(this.$header),Q.custom?Z.__trgCustom({container:this.$cn2.get(0)}):Q.appendTo||this.$cn2.append(Z.render());var te="views-container";this.panel=j.getPanel(te),this.panel||(this.panel=j.addPanel({id:te})),this.panel.set("appendContent",this.$cn).trigger(_),this.em=p.getModel(),this.listenTo(this.em,Z.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var p,k,d,j,_=this.sender,f=this.sm;_&&_.get&&!_.get("active")||!f||(f.getSelected()?((p=this.$cn2)===null||p===void 0||p.show(),(k=this.$header)===null||k===void 0||k.hide()):((d=this.$cn2)===null||d===void 0||d.hide(),(j=this.$header)===null||j===void 0||j.show()))},stop:function(){var p,k;(p=this.$cn2)===null||p===void 0||p.hide(),(k=this.$header)===null||k===void 0||k.hide()}}},8644:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>S});var A=s(2316),U=s.n(A)().$;const S={run:function(p,k){this.sender=k;var d=p.getModel(),j=p.Config.stylePrefix,_=p.TraitManager,f=_.getConfig();if(!f.appendTo){if(!this.$cn){this.$cn=U("<div></div>"),this.$cn2=U("<div></div>"),this.$cn.append(this.$cn2),this.$header=U("<div>").append('<div class="'.concat(f.stylePrefix,'header">').concat(d.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),this.$cn2.append('<div class="'.concat(j,'traits-label">').concat(d.t("traitManager.label"),"</div>")),this.$cn2.append(_.render());var c=p.Panels;(c.getPanel("views-container")?c.getPanel("views-container"):c.addPanel({id:"views-container"})).set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=p.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var p=this.sender;p&&p.get&&!p.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},560:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>U});var A=s(9050);const U={run:function(S,p){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=S.getModel(),j=d.get("clipboard"),_=S.getSelected();j&&_&&(S.getSelectedAll().forEach(function(f){var c=f.collection;if(c){var m,w={at:f.index()+1,action:k.action||"paste-component"};if((0,A.contains)(j,f)&&f.get("copyable"))m=c.add(f.clone(),w);else{var E=j.filter(function(Z){return Z.get("copyable")}).filter(function(Z){return S.Components.canMove(f.parent(),Z).result});m=c.add(E.map(function(Z){return Z.clone()}),w)}(m=(0,A.isArray)(m)?m:[m]).forEach(function(Z){return S.trigger("component:paste",Z)})}}),_.emitUpdate())}}},4944:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>p});var A=s(2982),U=s(9050),S="sw-visibility";const p={getPanels:function(k){return this.panels||(this.panels=k.Panels.getPanels()),this.panels},preventDrag:function(k){k.abort=1},tglEffects:function(k){var d=this.em,j=k?"on":"off";if(d){var _=d.get("Canvas"),f=_.getBody(),c=_.getToolbarEl();c&&(c.style.display=k?"none":"");var m=f.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,U.each)(m,function(w){return w.style.pointerEvents=k?"all":""}),d[j]("run:tlb-move:before",this.preventDrag)}},run:function(k,d){var j=this;this.sender=d,this.selected=(0,A.Z)(k.getSelectedAll()),k.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=k.Commands.isActive(S)),this.shouldRunSwVisibility&&k.stopCommand(S),k.getModel().stopDefault();var _=this.getPanels(k),f=k.Canvas.getElement(),c=k.getEl(),m=k.Config.stylePrefix;if(!this.helper){var w=document.createElement("span");w.className="".concat(m,"off-prv fa fa-eye-slash"),c.appendChild(w),w.onclick=function(){return j.stopCommand()},this.helper=w}this.helper.style.display="inline-block",_.forEach(function(Z){return Z.set("visible",!1)});var E=f.style;E.width="100%",E.height="100%",E.top="0",E.left="0",E.padding="0",E.margin="0",k.refresh(),this.tglEffects(1)},stop:function(k){var d=this.sender,j=d===void 0?{}:d,_=this.selected;j.set&&j.set("active",0);var f=this.getPanels(k);this.shouldRunSwVisibility&&(k.runCommand(S),this.shouldRunSwVisibility=!1),k.getModel().runDefault(),f.forEach(function(c){return c.set("visible",!0)}),k.Canvas.getElement().setAttribute("style",""),_&&k.select(_),delete this.selected,this.helper&&(this.helper.style.display="none"),k.refresh(),this.tglEffects()}}},7538:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>S});var A=s(4942);function U(p,k){var d=Object.keys(p);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(p);k&&(j=j.filter(function(_){return Object.getOwnPropertyDescriptor(p,_).enumerable})),d.push.apply(d,j)}return d}const S={run:function(p,k,d){var j=d||{},_=p.Canvas,f=_.getCanvasView(),c=function(w){for(var E=1;E<arguments.length;E++){var Z=arguments[E]!=null?arguments[E]:{};E%2?U(Object(Z),!0).forEach(function(Q){(0,A.Z)(w,Q,Z[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(Z)):U(Object(Z)).forEach(function(Q){Object.defineProperty(w,Q,Object.getOwnPropertyDescriptor(Z,Q))})}return w}({appendTo:_.getResizerEl(),prefix:p.getConfig().stylePrefix,posFetcher:f.getElementPos.bind(f),mousePosFetcher:_.getMouseRelativePos},j.options||{}),m=this.canvasResizer;return m&&!j.forceNew||(this.canvasResizer=p.Utils.Resizer.init(c),m=this.canvasResizer),m.setOptions(c),m.blur(),m.focus(j.el),m},stop:function(){var p;(p=this.canvasResizer)===null||p===void 0||p.blur()}}},2620:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>ne});var A=s(1002),U=s(4942),S=s(2316),p=s.n(S),k=s(9050),d=s(1163),j=s(9283),_=s(3144),f=s(5671),c=s(9340),m=s(2963),w=s(1120),E=s(6602);function Z(H,Y){var l=Object.keys(H);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(H);Y&&(y=y.filter(function(g){return Object.getOwnPropertyDescriptor(H,g).enumerable})),l.push.apply(l,y)}return l}function Q(H){for(var Y=1;Y<arguments.length;Y++){var l=arguments[Y]!=null?arguments[Y]:{};Y%2?Z(Object(l),!0).forEach(function(y){(0,U.Z)(H,y,l[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(l)):Z(Object(l)).forEach(function(y){Object.defineProperty(H,y,Object.getOwnPropertyDescriptor(l,y))})}return H}function J(H){var Y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,y=(0,w.Z)(H);if(Y){var g=(0,w.Z)(this).constructor;l=Reflect.construct(y,arguments,g)}else l=y.apply(this,arguments);return(0,m.Z)(this,l)}}var te=function(H){(0,c.Z)(l,H);var Y=J(l);function l(){return(0,f.Z)(this,l),Y.apply(this,arguments)}return(0,_.Z)(l,[{key:"events",value:function(){return this.model.get("events")||{mousedown:"handleClick"}}},{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"initialize",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=y.config,v=g===void 0?{}:g;this.em=v.em,this.editor=v.editor}},{key:"handleClick",value:function(y){y.preventDefault(),y.stopPropagation();var g=this.editor,v=this.em,$=g.Canvas.getFrameEl().getBoundingClientRect(),ae=$.left,K=$.top,N=Q(Q({},y),{},{clientX:y.clientX-ae,clientY:y.clientY-K});v.trigger("toolbar:run:before"),this.execCommand(N)}},{key:"execCommand",value:function(y){var g={event:y},v=this.model.get("command"),$=this.editor;typeof v=="function"&&v($,null,g),typeof v=="string"&&$.runCommand(v,g)}},{key:"render",value:function(){var y=this.editor,g=this.$el,v=this.model,$=v.get("id"),ae=v.get("label"),K=y.getConfig().stylePrefix;return g.addClass("".concat(K,"toolbar-item")),$&&g.addClass("".concat(K,"toolbar-item__").concat($)),ae&&g.append(ae),this}}]),l}(p().View);function X(H){var Y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,y=(0,w.Z)(H);if(Y){var g=(0,w.Z)(this).constructor;l=Reflect.construct(y,arguments,g)}else l=y.apply(this,arguments);return(0,m.Z)(this,l)}}var V=function(H){(0,c.Z)(l,H);var Y=X(l);function l(){var y,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=arguments.length>1?arguments[1]:void 0;return(0,f.Z)(this,l),(y=Y.call(this,g,v)).config={editor:g.editor||"",em:g.em},y.listenTo(y.collection,"reset",y.render),y}return(0,_.Z)(l)}(E.Z);function se(H){var Y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,y=(0,w.Z)(H);if(Y){var g=(0,w.Z)(this).constructor;l=Reflect.construct(y,arguments,g)}else l=y.apply(this,arguments);return(0,m.Z)(this,l)}}V.prototype.itemView=te;var ve=function(H){(0,c.Z)(l,H);var Y=se(l);function l(){return(0,f.Z)(this,l),Y.apply(this,arguments)}return(0,_.Z)(l,[{key:"defaults",value:function(){return{command:"",attributes:{}}}}]),l}(p().Model);const ue=p().Collection.extend({model:ve});function M(H,Y){var l=Object.keys(H);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(H);Y&&(y=y.filter(function(g){return Object.getOwnPropertyDescriptor(H,g).enumerable})),l.push.apply(l,y)}return l}function L(H){for(var Y=1;Y<arguments.length;Y++){var l=arguments[Y]!=null?arguments[Y]:{};Y%2?M(Object(l),!0).forEach(function(y){(0,U.Z)(H,y,l[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(l)):M(Object(l)).forEach(function(y){Object.defineProperty(H,y,Object.getOwnPropertyDescriptor(l,y))})}return H}var F,re=p().$;const ne={init:function(H){(0,k.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),F=1},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(H){var Y=this,l=this.em,y=l.getConfig().listenToEl,g=l.getContainer().parentNode,v=H?"on":"off",$={on:d.on,off:d.off};!y.length&&g&&y.push(g),$[v](window,"resize",this.onFrameUpdated),$[v](y,"scroll",this.onContainerChange),l[v]("component:toggled component:update undo redo",this.onSelect,this),l[v]("change:componentHovered",this.onHovered,this),l[v]("component:resize styleable:change component:input",this.updateGlobalPos,this),l[v]("component:update:toolbar",this._upToolbar,this),l[v]("change:canvasOffset",this.updateAttached,this),l[v]("frame:updated",this.onFrameUpdated,this),l[v]("canvas:updateTools",this.onFrameUpdated,this),l.get("Canvas").getFrames().forEach(function(ae){var K=ae.view,N=K==null?void 0:K.getWindow();N&&function(b,h){$[v](h,"mouseover",Y.onHover),$[v](h,"mouseleave",Y.onOut),$[v](h,"click touchend",Y.onClick),$[v](b,"scroll",Y.onFrameScroll,!0)}(N,K.getBody())})},onHover:function(H){H.stopPropagation();var Y=this.em,l=H.target,y=(0,d.getViewEl)(l),g=y&&y._getFrame(),v=re(l),$=v.data("model");if(!$)for(var ae=v.parent();!$&&ae.length&&!(0,j.Mx)(ae[0]);)$=ae.data("model"),ae=ae.parent();this.currentDoc=l.ownerDocument,Y.setHovered($,{useValid:!0}),g&&Y.set("currentFrame",g)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(H,Y){var l=this,y={};Y?Y.views.forEach(function(g){var v=g.el,$=l.getElementPos(v);y={el:v,pos:$,component:Y,view:(0,d.getViewEl)(v)},l.updateToolsLocal(y),v.ownerDocument===l.currentDoc&&(l.elHovered=y)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(g){var v=g.view,$=v&&v.getToolsEl();$&&l.toggleToolsEl(0,0,{el:$})}))},onSelect:(0,k.debounce)(function(){var H=this.em,Y=H.getSelected(),l=H.get("currentFrame")||{},y=Y&&Y.getView(l.model),g=y&&y.el,v={};g&&(0,j.pn)(g)&&(v={el:g,pos:this.getElementPos(g),component:Y,view:(0,d.getViewEl)(g)}),this.elSelected=v,this.updateToolsGlobal(),this.updateLocalPos(v),this.initResize(Y)}),updateGlobalPos:function(){var H=this.getElSelected();H.el&&(H.pos=this.getElementPos(H.el),this.updateToolsGlobal())},updateLocalPos:function(H){var Y=this.getElHovered();Y.el&&(Y.pos=this.getElementPos(Y.el),this.updateToolsLocal(H))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered(0)},toggleToolsEl:function(H,Y){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=l.el||this.canvas.getToolsEl(Y);return y&&(y.style.display=H?"":"none"),y||{}},showElementOffset:function(H,Y){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F&&this.editor.runCommand("show-offset",{el:H,elPos:Y,view:l.view,force:1,top:0,left:0})},hideElementOffset:function(H){this.editor.stopCommand("show-offset",{view:H})},showFixedElementOffset:function(H,Y){this.editor.runCommand("show-offset",{el:H,elPos:Y,state:"Fixed"})},hideFixedElementOffset:function(H,Y){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(H){this.canvas.getHighlighter(H).style.opacity=0},onClick:function(H){H.stopPropagation(),H.preventDefault();var Y=this.em;if(Y.get("_cmpDrag"))return Y.set("_cmpDrag");var l=re(H.target),y=l.data("model");if(!y)for(var g=l.parent();!y&&g.length&&!(0,j.Mx)(g[0]);)y=g.data("model"),g=g.parent();if(y){if(Y.isEditing()&&!y.get("textable")&&y.isChildOf("text"))return;this.select(y,H)}},select:function(H){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};H&&(this.editor.select(H,{event:Y,useValid:!0}),this.initResize(H))},updateBadge:function(H,Y){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=this.canvas,g=re(H).data("model");if(g&&g.get("badgable")){var v=this.getBadge(l);if(!l.posOnly){var $=this.canvas.getConfig(),ae=g.getIcon(),K=$.pStylePrefix||"",N="".concat(K,"badge"),b=$.customBadgeLabel,h="".concat(ae?'<div class="'.concat(N,'__icon">').concat(ae,"</div>"):"",`
        <div class="`).concat(N,'__name">').concat(g.getName(),"</div>");v.innerHTML=b?b(g):h}var z="px",R=v.style;R.display="block";var T=y.getTargetToElementFixed(H,v,{pos:Y}),P=T.top,u=l.leftOff<0?-l.leftOff:0;R.top=P+z,R.left=u+z}},showHighlighter:function(H){this.canvas.getHighlighter(H).style.opacity=""},initResize:function(H){var Y,l=this.em,y=this.canvas,g=l?l.get("Editor"):"",v=(l?l.get("Config"):"").stylePrefix||"",$="".concat(v,"resizing"),ae=!(0,k.isElement)(H)&&(0,d.isTaggableNode)(H)?H:l.getSelected(),K=ae&&ae.get("resizable"),N={},b=function(z,R,T){var P=T.docs;P&&P.forEach(function(u){var ee=u.body,q=ee.className||"";ee.className=(z=="add"?"".concat(q," ").concat($):q.replace($,"")).trim()})};if(g&&K){var h=(0,k.isElement)(H)?H:ae.getEl();N={onStart:function(z){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=R.el,P=R.config,u=R.resizer,ee=P.keyHeight,q=P.keyWidth,C=P.currentUnit,D=P.keepAutoHeight,le=P.keepAutoWidth;b("add",0,R),Y=l.get("StyleManager").getModelToStyle(ae),y.toggleFramesEvents();var be=getComputedStyle(T),I=Y.getStyle(),oe=I[q];P.autoWidth=le&&oe==="auto",isNaN(parseFloat(oe))&&(oe=be[q]);var de=I[ee];P.autoHeight=D&&de==="auto",isNaN(parseFloat(de))&&(de=be[ee]),u.startDim.w=parseFloat(oe),u.startDim.h=parseFloat(de),F=0,C&&(P.unitHeight=(0,d.getUnitFromValue)(de),P.unitWidth=(0,d.getUnitFromValue)(oe))},onMove:function(){g.trigger("component:resize")},onEnd:function(z,R){b("remove",0,R),g.trigger("component:resize"),y.toggleFramesEvents(1),F=1},updateTarget:function(z,R){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Y){var P=T.store,u=T.selectedHandler,ee=T.config,q=ee.keyHeight,C=ee.keyWidth,D=ee.autoHeight,le=ee.autoWidth,be=ee.unitWidth,I=ee.unitHeight,oe=["tc","bc"].indexOf(u)>=0,de=["cl","cr"].indexOf(u)>=0,Oe={},we=P?"":1;if(!oe){var Se=y.getBody().offsetWidth,xe=R.w<Se?R.w:Se;Oe[C]=le?"auto":"".concat(xe).concat(be)}de||(Oe[q]=D?"auto":"".concat(R.h).concat(I)),Y.addStyle(L(L({},Oe),{},{en:we}),{avoidStore:!P});var Ie="update:component:style",Xe="".concat(Ie,":").concat(q," ").concat(Ie,":").concat(C);l&&l.trigger(Xe,null,null,{noEmit:1})}}},(0,A.Z)(K)=="object"&&(N=L(L(L({},N),K),{},{parent:N})),this.resizer=g.runCommand("resize",{el:h,options:N,force:1})}else g.stopCommand("resize"),this.resizer=null},updateToolbar:function(H){var Y=this.config.em,l=H==Y?Y.getSelected():H,y=this.canvas.getToolbarEl(),g=y.style,v=l.get("toolbar"),$=Y.get("Config").showToolbar;if(l&&$&&v&&v.length){if(g.display="",!this.toolbar){y.innerHTML="",this.toolbar=new ue(v);var ae=new V({collection:this.toolbar,editor:this.editor,em:Y});y.appendChild(ae.render().el)}this.toolbar.reset(v),g.top="-100px",g.left=0}else g.display="none"},updateToolbarPos:function(H){var Y=this.canvas.getToolbarEl().style;Y.top="".concat(H.top).concat("px"),Y.left="".concat(H.left).concat("px"),Y.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.canvas.getBadgeEl(H.view)},onFrameScroll:function(){this.updateTools()},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(H){return H&&H.get("status")==="selected"},updateToolsLocal:function(H){var Y=H||this.getElHovered(),l=Y.el,y=Y.pos,g=Y.view,v=Y.component;if(l){var $=v.get("hoverable"),ae=this.lastHovered!==l,K=ae?{}:{posOnly:1};ae&&$&&(this.lastHovered=l,this.showHighlighter(g),this.showElementOffset(l,y,{view:g})),this.isCompSelected(v)&&(this.hideHighlighter(g),this.hideElementOffset(g));var N="px",b=this.toggleToolsEl(1,g),h=b.style,z=this.canvas.canvasRectOffset(l,y),R=z.top,T=z.left;this.updateBadge(l,y,L(L({},K),{},{view:g,topOff:R,leftOff:T})),h.top=R+N,h.left=T+N,h.width=y.width+N,h.height=y.height+N,this._trgToolUp("local",{component:v,el:b,top:R,left:T,width:y.width,height:y.height})}else this.lastHovered=0},_upToolbar:(0,k.debounce)(function(){this.updateToolsGlobal({force:1})}),_trgToolUp:function(H){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.em.trigger("canvas:tools:update",L({type:H},Y))},updateToolsGlobal:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=this.getElSelected(),l=Y.el,y=Y.pos,g=Y.component;if(!l)return this.toggleToolsEl(),void(this.lastSelected=0);var v=this.canvas,$=this.lastSelected!==l;($||H.force)&&(this.lastSelected=l,this.updateToolbar(g));var ae="px",K=this.toggleToolsEl(1),N=K.style,b=v.getTargetToElementFixed(l,v.getToolbarEl(),{pos:y}),h=b.canvasOffsetTop,z=b.canvasOffsetLeft;N.top=h+ae,N.left=z+ae,N.width=y.width+ae,N.height=y.height+ae,this.updateToolbarPos({top:b.top,left:b.left}),this._trgToolUp("global",{component:g,el:K,top:h,left:z,width:y.width,height:y.height})},updateAttached:(0,k.debounce)(function(){this.updateGlobalPos()}),onContainerChange:(0,k.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(H){return this.canvas.getCanvasView().getElementPos(H)},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(H){H&&H.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(H){(0,d.hasWin)()&&(this.editor=H&&H.get("Editor"),this.enable())},stop:function(H,Y){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,d.hasWin)()){var y=this.em,g=this.editor;this.onHovered(),this.stopSelectComponent(),!l.preserveSelected&&y.setSelected(null),this.toggleToolsEl(),g&&g.stopCommand("resize")}}}},8463:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>S});var A=s(2316),U=s.n(A)().$;const S={startSelectPosition:function(p,k){var d=this,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.isPointed=!1;var _=this.editorModel.get("Utils"),f=p.ownerDocument.body;_&&!this.sorter&&(this.sorter=new _.Sorter({container:f,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:k,wmargin:1,nested:1,em:this.editorModel,canvasRelative:1,scale:function(){return d.em.getZoomDecimal()}})),j.onStart&&(this.sorter.onStart=j.onStart),p&&this.sorter.startSort(p,{container:f})},getOffsetDim:function(){var p=this.offset(this.canvas.getFrameEl()),k=this.offset(this.canvas.getElement());return{top:p.top-k.top,left:p.left-k.left}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?U(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?U(this.cDim[this.posIndex][5]).parent():U(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(p,k,d){var j=p||0,_=k||"before",f=d.length,c=f!==0&&_=="after"&&j==f;return f!==0&&(!c&&!d[j][4]||d[j-1]&&!d[j-1][4]||c&&!d[j-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},7994:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>_});var A=s(4942),U=s(2316),S=s.n(U),p=s(9050),k=s(1163);function d(f,c){var m=Object.keys(f);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(f);c&&(w=w.filter(function(E){return Object.getOwnPropertyDescriptor(f,E).enumerable})),m.push.apply(m,w)}return m}var j=S().$;const _={getOffsetMethod:function(f){return"get"+(f||"")+"OffsetViewerEl"},run:function(f,c,m){var w=m||{},E=w.state||"",Z=f.getConfig(),Q=this.em.getZoomDecimal(),J=w.el||"";if(!Z.showOffsets||(0,k.isTextNode)(J)||!Z.showOffsetsSelected&&E=="Fixed")f.stopCommand(this.id,m);else{var te=f.Canvas,X=function(gt){for(var ct=1;ct<arguments.length;ct++){var Bt=arguments[ct]!=null?arguments[ct]:{};ct%2?d(Object(Bt),!0).forEach(function(Lt){(0,A.Z)(gt,Lt,Bt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(gt,Object.getOwnPropertyDescriptors(Bt)):d(Object(Bt)).forEach(function(Lt){Object.defineProperty(gt,Lt,Object.getOwnPropertyDescriptor(Bt,Lt))})}return gt}({},w.elPos||te.getElementPos(J));(0,p.isUndefined)(w.top)||(X.top=w.top),(0,p.isUndefined)(w.left)||(X.left=w.left);var V=window.getComputedStyle(J),se=this.ppfx,ve=E+"State",ue=te[this.getOffsetMethod(E)](m.view);ue.style.opacity="";var M=this["marginT"+E],L=this["marginB"+E],F=this["marginL"+E],re=this["marginR"+E],ne=this["padT"+E],H=this["padB"+E],Y=this["padL"+E],l=this["padR"+E];if(ue.childNodes.length&&(this[ve]="1",M=ue.querySelector("[data-offset-m-t]"),L=ue.querySelector("[data-offset-m-b]"),F=ue.querySelector("[data-offset-m-l]"),re=ue.querySelector("[data-offset-m-r]"),ne=ue.querySelector("[data-offset-p-t]"),H=ue.querySelector("[data-offset-p-b]"),Y=ue.querySelector("[data-offset-p-l]"),l=ue.querySelector("[data-offset-p-r]")),!this[ve]){var y=E.toLowerCase(),g=y+"margin-v",v=y+"padding-v",$=j('<div class="'.concat(se,'marginName">')).get(0),ae=j('<div class="'.concat(se,'paddingName">')).get(0),K=se+v+"-el",N="".concat(se+g+"-el"," ").concat(se+g),b="".concat(K," ").concat(se+v);M=j('<div class="'.concat(N,'-top"></div>')).get(0),L=j('<div class="'.concat(N,'-bottom"></div>')).get(0),F=j('<div class="'.concat(N,'-left"></div>')).get(0),re=j('<div class="'.concat(N,'-right"></div>')).get(0),ne=j('<div class="'.concat(b,'-top"></div>')).get(0),H=j('<div class="'.concat(b,'-bottom"></div>')).get(0),Y=j('<div class="'.concat(b,'-left"></div>')).get(0),l=j('<div class="'.concat(b,'-right"></div>')).get(0),this["marginT"+E]=M,this["marginB"+E]=L,this["marginL"+E]=F,this["marginR"+E]=re,this["padT"+E]=ne,this["padB"+E]=H,this["padL"+E]=Y,this["padR"+E]=l,$.appendChild(M),$.appendChild(L),$.appendChild(F),$.appendChild(re),ae.appendChild(ne),ae.appendChild(H),ae.appendChild(Y),ae.appendChild(l),ue.appendChild($),ue.appendChild(ae),this[ve]="1"}var h="px",z=parseFloat(V.marginLeft.replace(h,""))*Q,R=parseFloat(V.marginRight.replace(h,""))*Q,T=parseFloat(V.marginTop.replace(h,""))*Q,P=parseFloat(V.marginBottom.replace(h,""))*Q,u=M.style,ee=L.style,q=F.style,C=re.style,D=ne.style,le=H.style,be=Y.style,I=l.style,oe=parseFloat(X.left),de=parseFloat(V.width)*Q+h;u.height=T+h,u.width=de,u.top=X.top-T+h,u.left=oe+h,ee.height=P+h,ee.width=de,ee.top=X.top+X.height+h,ee.left=oe+h;var Oe=X.height+T+P+h,we=X.top-T+h;q.height=Oe,q.width=z+h,q.top=we,q.left=oe-z+h,C.height=Oe,C.width=R+h,C.top=we,C.left=oe+X.width+h;var Se=parseFloat(V.paddingTop)*Q;D.height=Se+h;var xe=parseFloat(V.paddingBottom)*Q;le.height=xe+h;var Ie=X.height-xe-Se+h,Xe=X.top+Se+h;be.height=Ie,be.width=parseFloat(V.paddingLeft)*Q+h,be.top=Xe;var tt=parseFloat(V.paddingRight)*Q;I.height=Ie,I.width=tt+h,I.top=Xe}},stop:function(f,c){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},w=m||{},E=w.state||"",Z=this.getOffsetMethod(E),Q=f.Canvas,J=Q[Z](m.view);J.style.opacity=0}}},8352:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>U});var A=s(9050);const U={init:function(){(0,A.bindAll)(this,"_onFramesChange")},run:function(S){this.toggleVis(S)},stop:function(S){this.toggleVis(S,0)},toggleVis:function(S){var p=this,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(!S.Commands.isActive("preview")){var d=S.Canvas,j=k?"on":"off";d.getFrames().forEach(function(_){return p._upFrame(_,k)}),d.getModel()[j]("change:frames",this._onFramesChange)}},_onFramesChange:function(S,p){var k=this;p.forEach(function(d){return d.once("loaded",function(){return k._upFrame(d,!0)})})},_upFrame:function(S,p){var k=p?"add":"remove";S.view.getBody().classList[k]("".concat(this.ppfx,"dashed"))}}},9304:(ge,ie,s)=>{s.d(ie,{Z:()=>j});var A=s(4942),U=s(2982),S=s(9050),p=s(1163);function k(_,f){var c=Object.keys(_);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(_);f&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(_,w).enumerable})),c.push.apply(c,m)}return c}function d(_){for(var f=1;f<arguments.length;f++){var c=arguments[f]!=null?arguments[f]:{};f%2?k(Object(c),!0).forEach(function(m){(0,A.Z)(_,m,c[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(c)):k(Object(c)).forEach(function(m){Object.defineProperty(_,m,Object.getOwnPropertyDescriptor(c,m))})}return _}const j={getConfig:function(_){return this.__getConfig(_)},getProjectData:function(_){var f={},c=this.storageKey;return c&&(f[c]=_||this.getAll()),f},loadProjectData:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=f.all,m=f.onResult,w=f.reset,E=this.storageKey,Z={action:"load"},Q=c||this.getAll(),J=_[E];if(typeof J=="string")try{J=JSON.parse(J)}catch{this.__logWarn("Data parsing failed",{input:J})}return w&&J&&Q.reset(null,Z),m?J&&m(J,Z):J&&(0,p.isDef)(J.length)&&Q.reset(J,Z),J},clear:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=this.all;return f&&f.reset(null,_),this},__getConfig:function(_){var f=this.config||{};return _?f[_]:f},getAll:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.all?_.array?(0,U.Z)(this.all.models):this.all:[]},getAllMap:function(){return this.getAll().reduce(function(_,f){return _[f.get(f.idAttribute)]=f,_},{})},__initConfig:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.config=(0,p.deepMerge)(_,f),this.em=this.config.em,this.cls=[]},__initListen:function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=this.all,c=this.em,m=this.events;f&&c&&f.on("add",function(w,E,Z){return c.trigger(m.add,w,Z)}).on("remove",function(w,E,Z){return c.trigger(m.remove,w,Z)}).on("change",function(w,E){return c.trigger(m.update,w,w.changedAttributes(),E)}).on("all",this.__catchAllEvent,this),this.cls=[f].concat(_.collections||[]),(_.propagate||[]).forEach(function(w){var E=w.entity,Z=w.event;E.on("all",function(Q,J,te,X){var V=d({event:Q},X||te);[c,f].map(function(se){return se.trigger(Z,J,V)})})})},__remove:function(_){var f=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=this.em,w=(0,S.isString)(_)?this.get(_):_,E=function(){return w&&f.all.remove(w,c),w};return!c.silent&&m&&m.trigger(this.events.removeBefore,w,E,c),!c.abort&&E()},__catchAllEvent:function(_,f,c,m){var w=this.em,E=this.events,Z=m||c;w&&E.all&&w.trigger(E.all,{event:_,model:f,options:Z}),this.__onAllEvent()},__appendTo:function(){var _=this.getConfig().appendTo;if(_){var f=(0,S.isElement)(_)?_:document.querySelector(_);if(!f)return this.__logWarn('"appendTo" element not found');f.appendChild(this.render())}},__onAllEvent:function(){},__logWarn:function(_,f){this.em.logWarning("[".concat(this.name,"]: ").concat(_),f)},_createId:function(){var _,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,c=this.getAll(),m=c.length+f,w=this.getAllMap();do _=(0,p.createId)(m);while(w[_]);return _},__listenAdd:function(_,f){var c=this;_.on("add",function(m,w,E){return c.em.trigger(f,m,E)})},__listenRemove:function(_,f){var c=this;_.on("remove",function(m,w,E){return c.em.trigger(f,m,E)})},__listenUpdate:function(_,f){var c=this;_.on("change",function(m,w){return c.em.trigger(f,m,m.changedAttributes(),w)})},__destroy:function(){var _;this.cls.forEach(function(f){f.stopListening(),f.reset()}),this.em=0,this.config=0,(_=this.view)===null||_===void 0||_.remove(),this.view=0}}},672:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>Y});var A=s(2982),U=s(5671),S=s(3144),p=s(7326),k=s(9340),d=s(2963),j=s(1120),_=s(4942),f=s(9050),c=s(1163),m=s(9714),w=s(966),E=s(5963);const Z={stylePrefix:"css-",rules:[],onBeforeStyle:null};var Q=s(2316),J=s(9524),te=s(8795);function X(l,y){var g=Object.keys(l);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(l);y&&(v=v.filter(function($){return Object.getOwnPropertyDescriptor(l,$).enumerable})),g.push.apply(g,v)}return g}function V(l){for(var y=1;y<arguments.length;y++){var g=arguments[y]!=null?arguments[y]:{};y%2?X(Object(g),!0).forEach(function(v){(0,_.Z)(l,v,g[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(g)):X(Object(g)).forEach(function(v){Object.defineProperty(l,v,Object.getOwnPropertyDescriptor(g,v))})}return l}function se(l){var y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,v=(0,j.Z)(l);if(y){var $=(0,j.Z)(this).constructor;g=Reflect.construct(v,arguments,$)}else g=v.apply(this,arguments);return(0,d.Z)(this,g)}}var ve=((0,c.hasWin)()?window:{}).CSS,ue=function(l){(0,k.Z)(g,l);var y=se(g);function g(){return(0,U.Z)(this,g),y.apply(this,arguments)}return(0,S.Z)(g,[{key:"defaults",value:function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}}},{key:"initialize",value:function(v){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.config=v||{},this.opt=$,this.em=$.em,this.ensureSelectors(),this.on("change",this.__onChange)}},{key:"__onChange",value:function(v,$){var ae=this.em,K=this.changedAttributes();!(0,c.isEmptyObj)(K)&&ae&&ae.changesUp($)}},{key:"clone",value:function(){var v=V({},this.opt),$=V({},this.attributes);return $.selectors=this.get("selectors").map(function(ae){return ae.clone()}),new this.constructor($,v)}},{key:"ensureSelectors",value:function(v,$,ae){var K=this.em,N=K&&K.get("SelectorManager"),b=[this,"change:selectors",this.ensureSelectors],h=this.getSelectors();if(this.stopListening.apply(this,b),h.models&&(h=(0,A.Z)(h.models)),h=(0,f.isString)(h)?[h]:h,Array.isArray(h)){var z=h.filter(function(R){return R}).map(function(R){return N?N.add(R):R});h=new w.Z(z)}this.set("selectors",h,ae),this.listenTo.apply(this,b)}},{key:"getAtRule",value:function(){var v=this.get("atRuleType"),$=this.get("mediaText"),ae=v?"@".concat(v):$?"@media":"";return ae+($&&ae?" ".concat($):"")}},{key:"selectorsToString",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=[],ae=this.get("state"),K=this.get("selectorsAdd"),N={escape:function(z){return ve&&ve.escape?ve.escape(z):z}},b=this.get("selectors").getFullString(0,N),h=ae&&!v.skipState?":".concat(ae):"";return b&&$.push("".concat(b).concat(h)),K&&!v.skipAdd&&$.push(K),$.join(", ")}},{key:"getDeclaration",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$="",ae=this.attributes.important,K=this.selectorsToString(v),N=this.styleToString(V({important:ae},v)),b=this.get("singleAtRule");return(K||b)&&(N||v.allowEmpty)&&($=b?N:"".concat(K,"{").concat(N,"}")),$}},{key:"getDevice",value:function(){var v=this.em,$=this.attributes,ae=$.atRuleType,K=$.mediaText,N=(v==null?void 0:v.get("DeviceManager").getDevices())||[],b=N.filter(function(h){return h.getWidthMedia()===""})[0];return ae==="media"&&K?N.filter(function(h){return h.getWidthMedia()===(0,te.U)(K)})[0]||null:b||null}},{key:"getState",value:function(){var v=this.em,$=this.get("state");return(v.get("SelectorManager").getStates()||[]).filter(function(ae){return ae.getName()===$})[0]||null}},{key:"getComponent",value:function(){var v,$=this.getSelectors(),ae=$.length==1&&$.at(0),K=ae&&ae.isId()&&ae.get("name");return K&&((v=this.em)===null||v===void 0?void 0:v.get("DomComponents").getById(K))||null}},{key:"toCSS",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$="",ae=this.getAtRule(),K=this.getDeclaration(v);return(K||v.allowEmpty)&&($=K),ae&&$&&($="".concat(ae,"{").concat($,"}")),$}},{key:"toJSON",value:function(){for(var v=arguments.length,$=new Array(v),ae=0;ae<v;ae++)$[ae]=arguments[ae];var K=Q.Model.prototype.toJSON.apply(this,$);if(this.em.getConfig().avoidDefaults){var N=this.defaults();(0,f.forEach)(N,function(b,h){K[h]===b&&delete K[h]}),delete K.style.__p,(0,f.isEmpty)(K.selectors)&&delete K.selectors,(0,f.isEmpty)(K.style)&&delete K.style}return K}},{key:"compare",value:function(v,$,ae){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},N=$||"",b=ae||"",h=K.selectorsAdd||"",z=K.atRuleType||"",R=(0,f.isArray)(v)||v.models?v.models||v:[v];b&&!z&&(z="media");var T=R.map(function(q){return q.getFullName()}),P=this.get("selectors").map(function(q){return q.getFullName()}),u=T.slice().sort(),ee=P.slice().sort();return!(T.length!==P.length||!u.every(function(q,C){return q===ee[C]}))&&this.get("state")===N&&this.get("mediaText")===b&&this.get("selectorsAdd")===h&&this.get("atRuleType")===z}}]),g}(J.Z);function M(l){var y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,v=(0,j.Z)(l);if(y){var $=(0,j.Z)(this).constructor;g=Reflect.construct(v,arguments,$)}else g=v.apply(this,arguments);return(0,d.Z)(this,g)}}var L=function(l){(0,k.Z)(g,l);var y=M(g);function g(){return(0,U.Z)(this,g),y.apply(this,arguments)}return(0,S.Z)(g,[{key:"initialize",value:function(v,$){var ae=this;$&&$.em&&(this.editor=$.em),setTimeout(function(){ae.on("remove",ae.onRemove),ae.on("add",ae.onAdd)})}},{key:"toJSON",value:function(v){return Q.Collection.prototype.toJSON.call(this,v).filter(function($){return $.style&&!$.shallow})}},{key:"onAdd",value:function(v,$,ae){v.ensureSelectors(v,$,ae)}},{key:"onRemove",value:function(v){var $=this.editor;$.stopListening(v),$.get("UndoManager").remove(v)}},{key:"add",value:function(v){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof v=="string"&&(v=this.editor.get("Parser").parseCss(v)),$.em=this.editor,Q.Collection.prototype.add.apply(this,[v,$])}}]),g}(Q.Collection);L.prototype.model=ue;var F=s(4868);function re(l,y){var g=Object.keys(l);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(l);y&&(v=v.filter(function($){return Object.getOwnPropertyDescriptor(l,$).enumerable})),g.push.apply(g,v)}return g}function ne(l){for(var y=1;y<arguments.length;y++){var g=arguments[y]!=null?arguments[y]:{};y%2?re(Object(g),!0).forEach(function(v){(0,_.Z)(l,v,g[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(g)):re(Object(g)).forEach(function(v){Object.defineProperty(l,v,Object.getOwnPropertyDescriptor(g,v))})}return l}function H(l){var y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,v=(0,j.Z)(l);if(y){var $=(0,j.Z)(this).constructor;g=Reflect.construct(v,arguments,$)}else g=v.apply(this,arguments);return(0,d.Z)(this,g)}}var Y=function(l){(0,k.Z)(g,l);var y=H(g);function g(){var v;(0,U.Z)(this,g);for(var $=arguments.length,ae=new Array($),K=0;K<$;K++)ae[K]=arguments[K];return v=y.call.apply(y,[this].concat(ae)),(0,_.Z)((0,p.Z)(v),"Selectors",w.Z),(0,_.Z)((0,p.Z)(v),"name","CssComposer"),(0,_.Z)((0,p.Z)(v),"storageKey","styles"),v}return(0,S.Z)(g,[{key:"getConfig",value:function(){return this.c}},{key:"init",value:function(v){for(var $ in this.c=v||{},Z)$ in this.c||(this.c[$]=Z[$]);var ae=this.c.pStylePrefix;ae&&(this.c.stylePrefix=ae+this.c.stylePrefix);var K=this.c.em&&this.c.em.config.style||"";return this.c.rules=K||this.c.rules,this.em=this.c.em,this.rules=new L([],this.c),this}},{key:"onLoad",value:function(){this.rules.add(this.c.rules,{silent:1})}},{key:"postLoad",value:function(){var v,$=(v=this.em)===null||v===void 0?void 0:v.get("UndoManager");$&&$.add(this.getAll())}},{key:"store",value:function(){return this.getProjectData()}},{key:"load",value:function(v){return this.loadProjectData(v)}},{key:"add",value:function(v,$,ae){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},b=$||"",h=ae||"",z=ne({},K),R=this.get(v,b,h,z);return R&&R.config&&!R.config.singleAtRule||(z.state=b,z.mediaText=h,z.selectors=[],h&&(z.atRuleType="media"),(R=new ue(z,this.c)).get("selectors").add(v,N),this.rules.add(R,N)),R}},{key:"get",value:function(v,$,ae,K){var N=v;if((0,f.isString)(v)){var b=this.em.get("SelectorManager"),h=v.split(",")[0].trim(),z=this.em.get("Parser").parserCss.checkNode({selectors:h})[0];N=b.get(z.selectors)}return this.rules.find(function(R){return R.compare(N,$,ae,K)})||null}},{key:"getAll",value:function(){return this.rules}},{key:"addCollection",value:function(v){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},K=[];(0,f.isString)(v)&&(v=this.em.get("Parser").parseCss(v));for(var N=v instanceof Array?v:[v],b=0,h=N.length;b<h;b++){var z,R=N[b]||{};if(R.selectors){var T=(z=this.em)===null||z===void 0?void 0:z.get("SelectorManager");T||console.warn("Selector Manager not found");for(var P=R.selectors,u=P instanceof Array?P:[P],ee=[],q=0,C=u.length;q<C;q++){var D=T.add(u[q]);ee.push(D)}var le=this.get(ee,R.state,R.mediaText,R),be=this.add(ee,R.state,R.mediaText,R,$),I=!le||!$.avoidUpdateStyle,oe=R.style||{};if((0,c.isObject)(ae)&&be.set(ae,$),I){var de=$.extend?ne(ne({},be.get("style")),oe):oe;be.set("style",de,$)}K.push(be)}}return K}},{key:"addRules",value:function(v){return this.addCollection(v)}},{key:"setRule",value:function(v,$){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},K=ae.atRuleType,N=ae.atRuleParams,b=this.em.get("Parser").parserCss.checkNode({selectors:v,style:$})[0],h=b.state,z=b.selectorsAdd,R=this.em.get("SelectorManager"),T=R.add(b.selectors),P=this.add(T,h,N,{selectorsAdd:z,atRule:K});return P.setStyle($,ae),P}},{key:"getRule",value:function(v){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=this.em.get("SelectorManager"),K=this.em.get("Parser").parserCss.checkNode({selectors:v})[0],N=ae.get(K.selectors),b=K.state,h=K.selectorsAdd,z=$.atRuleType,R=$.atRuleParams;return N&&this.get(N,b,R,{selectorsAdd:h,atRule:z})}},{key:"getRules",value:function(v){var $=this.getAll();if(!v)return(0,A.Z)($.models);var ae={sort:!0},K=(0,f.isString)(v)?v.split(",").map(function(N){return N.trim()}):v;return $.filter(function(N){return K.indexOf(N.getSelectors().getFullString(null,ae))>=0})}},{key:"setIdRule",value:function(v){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},K=ae.addOpts,N=K===void 0?{}:K,b=ae.mediaText,h=ae.state||"",z=(0,f.isUndefined)(b)?this.em.getCurrentMedia():b,R=this.em.get("SelectorManager"),T=R.add({name:v,type:E.Z.TYPE_ID},N),P=this.add(T,h,z,{},N);return P.setStyle($,ne(ne({},ae),N)),P}},{key:"getIdRule",value:function(v){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=$.mediaText,K=$.state||"",N=(0,f.isUndefined)(ae)?this.em.getCurrentMedia():ae,b=this.em.get("SelectorManager").get(v,E.Z.TYPE_ID);return b&&this.get(b,K,N)}},{key:"setClassRule",value:function(v){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},K=ae.state||"",N=ae.mediaText||this.em.getCurrentMedia(),b=this.em.get("SelectorManager"),h=b.add({name:v,type:E.Z.TYPE_CLASS}),z=this.add(h,K,N);return z.setStyle($,ae),z}},{key:"getClassRule",value:function(v){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=$.state||"",K=$.mediaText||this.em.getCurrentMedia(),N=this.em.get("SelectorManager").get(v,E.Z.TYPE_CLASS);return N&&this.get(N,ae,K)}},{key:"remove",value:function(v,$){var ae=(0,f.isString)(v)?this.getRules(v):v,K=this.getAll().remove(ae,$);return(0,f.isArray)(K)?K:[K]}},{key:"clear",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.getAll().reset(null,v),this}},{key:"getComponentRules",value:function(v){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=$.state,K=$.mediaText,N=$.current;N&&(ae=this.em.get("state")||"",K=this.em.getCurrentMedia());var b=v.getId(),h=this.getAll().filter(function(z){if(((0,f.isUndefined)(ae)||z.get("state")===ae)&&((0,f.isUndefined)(K)||z.get("mediaText")===K))return z.getSelectorsString()==="#".concat(b)});return h}},{key:"render",value:function(){var v;return(v=this.rulesView)===null||v===void 0||v.remove(),this.rulesView=new F.Z({collection:this.rules,config:this.c}),this.rulesView.render().el}},{key:"destroy",value:function(){var v;this.rules.reset(),this.rules.stopListening(),(v=this.rulesView)===null||v===void 0||v.remove(),[this.em,this.rules,this.rulesView].forEach(function($){return null}),this.c={}}}]),g}(m.Z)},4868:(ge,ie,s)=>{s.d(ie,{Z:()=>Z});var A=s(5671),U=s(3144),S=s(9340),p=s(2963),k=s(1120),d=s(2316),j=s(9283);function _(Q){var J=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var te,X=(0,k.Z)(Q);if(J){var V=(0,k.Z)(this).constructor;te=Reflect.construct(X,arguments,V)}else te=X.apply(this,arguments);return(0,p.Z)(this,te)}}var f=function(Q){(0,S.Z)(te,Q);var J=_(te);function te(){return(0,A.Z)(this,te),J.apply(this,arguments)}return(0,U.Z)(te,[{key:"tagName",value:function(){return"style"}},{key:"initialize",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.config=X.config||{};var V=this.model;this.listenTo(V,"change",this.render),this.listenTo(V,"destroy remove",this.remove),this.listenTo(V.get("selectors"),"change",this.render)}},{key:"render",value:function(){var X=this.model,V=this.el,se=X.get("important");return V.innerHTML=X.toCSS({important:se}),this}}]),te}(d.View);function c(Q){var J=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var te,X=(0,k.Z)(Q);if(J){var V=(0,k.Z)(this).constructor;te=Reflect.construct(X,arguments,V)}else te=X.apply(this,arguments);return(0,p.Z)(this,te)}}var m=function(Q){(0,S.Z)(te,Q);var J=c(te);function te(){return(0,A.Z)(this,te),J.apply(this,arguments)}return(0,U.Z)(te,[{key:"_createElement",value:function(){return document.createTextNode("")}},{key:"render",value:function(){var X=this.model,V=X.get("important");return this.el.textContent=X.getDeclaration({important:V}),this}}]),te}(f);function w(Q){var J=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var te,X=(0,k.Z)(Q);if(J){var V=(0,k.Z)(this).constructor;te=Reflect.construct(X,arguments,V)}else te=X.apply(this,arguments);return(0,p.Z)(this,te)}}var E=function(Q,J){return"".concat(Q).concat(J?"-".concat(parseFloat(J)):"")},Z=function(Q){(0,S.Z)(te,Q);var J=w(te);function te(){return(0,A.Z)(this,te),J.apply(this,arguments)}return(0,U.Z)(te,[{key:"initialize",value:function(X){var V=X.config||{};this.atRules={},this.config=V,this.em=V.em,this.pfx=V.stylePrefix||"",this.className=this.pfx+"rules";var se=this.collection;this.listenTo(se,"add",this.addTo),this.listenTo(se,"reset",this.render)}},{key:"addTo",value:function(X){this.addToCollection(X)}},{key:"addToCollection",value:function(X,V){if(this.renderStarted){var se,ve,ue=V||null,M={model:X,config:this.config};if(X.get("atRuleType")==="keyframes"){var L=X.getAtRule(),F=this.atRules[L];if(!F){var re=document.createElement("style");F=document.createTextNode(""),re.appendChild(document.createTextNode("".concat(L,"{"))),re.appendChild(F),re.appendChild(document.createTextNode("}")),this.atRules[L]=F,se=re}ve=new m(M),F.appendData(ve.render().el.textContent)}else se=(ve=new f(M)).render().el;var ne=this.className,H=X.get("mediaText"),Y=E(ne),l=Y;if(H&&(l=E(ne,this.getMediaWidth(H))),se){var y,g=ue||this.el;try{y=g.querySelector("#".concat(l))}catch{}y||(y=g.querySelector("#".concat(Y))),y.appendChild(se)}return se}}},{key:"getMediaWidth",value:function(X){return X&&X.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")}},{key:"render",value:function(){var X=this;this.renderStarted=1,this.atRules={};var V=this.em,se=this.$el,ve=this.className,ue=this.collection,M=document.createDocumentFragment();se.empty();var L=V.get("DeviceManager").getAll().pluck("priority");return L.every(function(F){return F})&&L.unshift(0),L.forEach(function(F){return M.appendChild((0,j.ut)("div",{id:E(ve,F)}))}),ue.each(function(F){return X.addToCollection(F,M)}),se.append(M),se.attr("class",ve),this}}]),te}(d.View)},2004:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>$,evAdd:()=>Y,evAddBefore:()=>l,evAll:()=>L,evPfx:()=>F,evRemove:()=>y,evRemoveBefore:()=>g,evSelect:()=>re,evSelectBefore:()=>ne,evUpdate:()=>H});var A=s(5671),U=s(3144),S=s(7326),p=s(9340),k=s(2963),d=s(1120),j=s(4942),_=s(9050),f=s(9714);const c={default:null,devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]};var m=s(2316);function w(ae){var K=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,b=(0,d.Z)(ae);if(K){var h=(0,d.Z)(this).constructor;N=Reflect.construct(b,arguments,h)}else N=b.apply(this,arguments);return(0,k.Z)(this,N)}}var E=function(ae){(0,p.Z)(N,ae);var K=w(N);function N(){return(0,A.Z)(this,N),K.apply(this,arguments)}return(0,U.Z)(N,[{key:"defaults",value:function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}}},{key:"initialize",value:function(){var b=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0),["width","height","widthMedia"].forEach(function(h){return b.checkUnit(h)})}},{key:"checkUnit",value:function(b){var h=this.get(b)||"";(parseFloat(h)||0).toString()===h.toString()&&this.set(b,"".concat(h,"px"))}},{key:"getName",value:function(){return this.get("name")||this.get("id")}},{key:"getWidthMedia",value:function(){return this.get("widthMedia")||""}}]),N}(m.Model);function Z(ae){var K=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,b=(0,d.Z)(ae);if(K){var h=(0,d.Z)(this).constructor;N=Reflect.construct(b,arguments,h)}else N=b.apply(this,arguments);return(0,k.Z)(this,N)}}var Q=function(ae){(0,p.Z)(N,ae);var K=Z(N);function N(){return(0,A.Z)(this,N),K.apply(this,arguments)}return(0,U.Z)(N,[{key:"comparator",value:function(b,h){var z=Number.MAX_VALUE;return(h.get("priority")||z)-(b.get("priority")||z)}},{key:"getSorted",value:function(){return this.sort()}}]),N}(m.Collection);Q.prototype.model=E;var J,te=s(168),X=s(7539);function V(ae){var K=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,b=(0,d.Z)(ae);if(K){var h=(0,d.Z)(this).constructor;N=Reflect.construct(b,arguments,h)}else N=b.apply(this,arguments);return(0,k.Z)(this,N)}}var se=function(ae){(0,p.Z)(N,ae);var K=V(N);function N(){return(0,A.Z)(this,N),K.apply(this,arguments)}return(0,U.Z)(N,[{key:"template",value:function(b){var h=b.ppfx,z=b.label;return(0,X.Z)(J||(J=(0,te.Z)([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp">+</button>
    `])),h,z,h,h,h,h,h,h,h)}},{key:"events",value:function(){return{change:"updateDevice"}}},{key:"initialize",value:function(b){this.config=b.config||{},this.em=this.config.em,this.ppfx=this.config.pStylePrefix||"",this.events["click ."+this.ppfx+"add-trasp"]=this.startAdd,this.listenTo(this.em,"change:device",this.updateSelect),this.delegateEvents()}},{key:"startAdd",value:function(){}},{key:"updateDevice",value:function(){var b=this.em;if(b){var h=this.devicesEl,z=h?h.val():"";b.set("device",z)}}},{key:"updateSelect",value:function(){var b=this.em,h=this.devicesEl;if(b&&b.getDeviceModel&&h){var z=b.getDeviceModel(),R=z?z.get("id"):"";h.val(R)}}},{key:"getOptions",value:function(){var b=this.collection,h=this.em,z="";return b.each(function(R){var T=R.attributes,P=T.name,u=T.id,ee=h&&h.t&&h.t("deviceManager.devices.".concat(u))||P;z+='<option value="'.concat(u||P,'">').concat(ee,"</option>")}),z}},{key:"render",value:function(){var b=this.em,h=this.ppfx,z=this.$el,R=this.el,T=b&&b.t&&b.t("deviceManager.device");return z.html(this.template({ppfx:h,label:T})),this.devicesEl=z.find(".".concat(h,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(b.get("device")),R.className="".concat(h,"devices-c"),this}}]),N}(m.View);function ve(ae,K){var N=Object.keys(ae);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(ae);K&&(b=b.filter(function(h){return Object.getOwnPropertyDescriptor(ae,h).enumerable})),N.push.apply(N,b)}return N}function ue(ae){for(var K=1;K<arguments.length;K++){var N=arguments[K]!=null?arguments[K]:{};K%2?ve(Object(N),!0).forEach(function(b){(0,j.Z)(ae,b,N[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(N)):ve(Object(N)).forEach(function(b){Object.defineProperty(ae,b,Object.getOwnPropertyDescriptor(N,b))})}return ae}function M(ae){var K=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,b=(0,d.Z)(ae);if(K){var h=(0,d.Z)(this).constructor;N=Reflect.construct(b,arguments,h)}else N=b.apply(this,arguments);return(0,k.Z)(this,N)}}var L="device",F="".concat(L,":"),re="".concat(F,"select"),ne="".concat(re,":before"),H="".concat(F,"update"),Y="".concat(F,"add"),l="".concat(Y,":before"),y="".concat(F,"remove"),g="".concat(y,":before"),v="change:device",$=function(ae){(0,p.Z)(N,ae);var K=M(N);function N(){var b;(0,A.Z)(this,N);for(var h=arguments.length,z=new Array(h),R=0;R<h;R++)z[R]=arguments[R];return b=K.call.apply(K,[this].concat(z)),(0,j.Z)((0,S.Z)(b),"name","DeviceManager"),(0,j.Z)((0,S.Z)(b),"Device",E),(0,j.Z)((0,S.Z)(b),"Devices",Q),(0,j.Z)((0,S.Z)(b),"events",{all:L,select:re,update:H,add:Y,remove:y,removeBefore:g}),b}return(0,U.Z)(N,[{key:"init",value:function(){var b=this,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.c=ue(ue({},c),h);var z=this.c.em;return this.devices=new Q,this.c.devices.forEach(function(R){return b.add(R)}),this.em=z,this.all=this.devices,this.select(this.c.default||this.devices.at(0)),this.__initListen(),z.on(v,this._onSelect,this),this}},{key:"_onSelect",value:function(b,h,z){var R=this.em,T=this.events,P=b.previous("device"),u=this.get(h),ee=T.select;R.trigger(ee,u,this.get(P)),this.__catchAllEvent(ee,u,z)}},{key:"add",value:function(b){var h,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=z;if((0,_.isString)(b)){var T=z;h=ue(ue({},R=arguments[2]||{}),{},{id:b,name:R.name||b,width:T})}else h=b;return h.id||(h.id=h.name||this._createId()),this.devices.add(h,R)}},{key:"get",value:function(b){return this.getAll().filter(function(h){return h.get("name")===b})[0]||this.devices.get(b)||null}},{key:"remove",value:function(b){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.__remove(b,h)}},{key:"getDevices",value:function(){return this.devices.models}},{key:"select",value:function(b){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=(0,_.isString)(b)?this.get(b):b;return z&&this.em.set("device",z.get("id"),h),this}},{key:"getSelected",value:function(){return this.get(this.em.get("device"))}},{key:"getAll",value:function(){return this.devices}},{key:"render",value:function(){var b;return(b=this.view)===null||b===void 0||b.remove(),this.view=new se({collection:this.devices,config:this.c}),this.view.render().el}},{key:"destroy",value:function(){var b;this.devices.stopListening(),this.devices.reset(),(b=this.view)===null||b===void 0||b.remove(),[this.devices,this.view].forEach(function(h){return null}),this.c={}}}]),N}(f.Z)},7375:(ge,ie,s)=>{s.d(ie,{ZP:()=>N,OA:()=>y,GN:()=>ae,xH:()=>K});var A=s(1002),U=s(2982),S=s(885),p=s(4942),k=s(5671),d=s(3144),j=s(1120);function _(b,h){for(;!Object.prototype.hasOwnProperty.call(b,h)&&(b=(0,j.Z)(b))!==null;);return b}function f(){return f=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(b,h,z){var R=_(b,h);if(R){var T=Object.getOwnPropertyDescriptor(R,h);return T.get?T.get.call(arguments.length<3?b:z):T.value}},f.apply(this,arguments)}var c=s(9340),m=s(2963),w=s(9050),E=s(1163),Z=s(9524),Q=s(2316),J=s(8431),te=s(5963),X=s(966);function V(b,h){var z=Object.keys(b);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(b);h&&(R=R.filter(function(T){return Object.getOwnPropertyDescriptor(b,T).enumerable})),z.push.apply(z,R)}return z}function se(b){for(var h=1;h<arguments.length;h++){var z=arguments[h]!=null?arguments[h]:{};h%2?V(Object(z),!0).forEach(function(R){(0,p.Z)(b,R,z[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(z)):V(Object(z)).forEach(function(R){Object.defineProperty(b,R,Object.getOwnPropertyDescriptor(z,R))})}return b}function ve(b){var h=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,R=(0,j.Z)(b);if(h){var T=(0,j.Z)(this).constructor;z=Reflect.construct(R,arguments,T)}else z=R.apply(this,arguments);return(0,m.Z)(this,z)}}var ue=function(b){(0,c.Z)(z,b);var h=ve(z);function z(){return(0,k.Z)(this,z),h.apply(this,arguments)}return(0,d.Z)(z,[{key:"initialize",value:function(){var R=this.attributes,T=R.target,P=R.name,u=R.changeProp;if(!this.get("id")&&this.set("id",P),T){this.target=T,this.unset("target");var ee=u?"change:".concat(P):"change:attributes:".concat(P);this.listenTo(T,ee,this.targetUpdated)}}},{key:"getId",value:function(){return this.get("id")}},{key:"getType",value:function(){return this.get("type")}},{key:"getName",value:function(){return this.get("name")}},{key:"getLabel",value:function(){var R,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=T.locale,u=P===void 0||P,ee=this.getId(),q=this.get("label")||this.getName();return u&&((R=this.em)===null||R===void 0?void 0:R.t("traitManager.traits.labels.".concat(ee)))||q}},{key:"getValue",value:function(){return this.getTargetValue()}},{key:"setValue",value:function(R){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P={};T.partial&&(P.avoidStore=!0),this.setTargetValue(R,P),T.partial===!1&&(this.setTargetValue(""),this.setTargetValue(R))}},{key:"props",value:function(){return this.attributes}},{key:"targetUpdated",value:function(){var R,T=this.getTargetValue();this.set({value:T},{fromTarget:1}),(R=this.em)===null||R===void 0||R.trigger("trait:update",{trait:this,component:this.target})}},{key:"getTargetValue",value:function(){var R,T=this.get("name"),P=this.target;return R=this.get("changeProp")?P.get(T):P.getAttributes()[T],(0,w.isUndefined)(R)?"":R}},{key:"setTargetValue",value:function(R){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=this.target,u=this.get("name");if(!(0,w.isUndefined)(R)){var ee=R;if(R==="false"?ee=!1:R==="true"&&(ee=!0),this.get("changeProp"))P.set(u,ee,T);else{var q=se({},P.get("attributes"));q[u]=ee,P.set("attributes",q,T)}}}},{key:"setValueFromInput",value:function(R){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u={value:R};this.set(u,se(se({},P),{},{avoidStore:1})),T&&(this.set("value","",P),this.set(u,P))}},{key:"getInitValue",value:function(){var R,T=this.target,P=this.get("name");if(T){var u=T.get("attributes");R=this.get("changeProp")?T.get(P):u[P]}return R||this.get("value")||this.get("default")}}]),z}(Q.Model);ue.prototype.defaults={type:"text",label:"",name:"",min:"",max:"",unit:"",step:1,value:"",target:"",default:"",placeholder:"",changeProp:0,options:[]};function M(b){var h=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,R=(0,j.Z)(b);if(h){var T=(0,j.Z)(this).constructor;z=Reflect.construct(R,arguments,T)}else z=R.apply(this,arguments);return(0,m.Z)(this,z)}}var L,F=function(b){(0,c.Z)(z,b);var h=M(z);function z(){return(0,k.Z)(this,z),h.apply(this,arguments)}return(0,d.Z)(z,[{key:"initialize",value:function(R){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.em=T.em,this.listenTo(this,"add",this.handleAdd),this.listenTo(this,"reset",this.handleReset)}},{key:"handleReset",value:function(R){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=T.previousModels,u=P===void 0?[]:P;u.forEach(function(ee){return ee.trigger("remove")})}},{key:"handleAdd",value:function(R){R.em=this.em;var T=this.target;T&&(R.target=T)}},{key:"setTarget",value:function(R){this.target=R}},{key:"add",value:function(R,T){var P=this.em;if((0,w.isString)(R)||(0,w.isArray)(R)){var u=P&&P.get&&P.get("TraitManager"),ee=function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{build:function(I){var oe=[];typeof I=="string"&&(I=[I]);for(var de=0;de<I.length;de++){var Oe={},we=I[de];Oe.name=we,we==="target"&&(Oe.type="select",Oe.default=!1,Oe.options=be.optionsTarget),oe.push(Oe)}return oe}}}(u&&u.getConfig());(0,w.isString)(R)&&(R=[R]);for(var q=0,C=R.length;q<C;q++){var D=R[q],le=(0,w.isString)(D)?ee.build(D)[0]:D;le.target=this.target,R[q]=le}}return Q.Collection.prototype.add.apply(this,[R,T])}}]),z}(Q.Collection);function re(b,h){var z=Object.keys(b);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(b);h&&(R=R.filter(function(T){return Object.getOwnPropertyDescriptor(b,T).enumerable})),z.push.apply(z,R)}return z}function ne(b){for(var h=1;h<arguments.length;h++){var z=arguments[h]!=null?arguments[h]:{};h%2?re(Object(z),!0).forEach(function(R){(0,p.Z)(b,R,z[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(z)):re(Object(z)).forEach(function(R){Object.defineProperty(b,R,Object.getOwnPropertyDescriptor(z,R))})}return b}function H(b){var h=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,R=(0,j.Z)(b);if(h){var T=(0,j.Z)(this).constructor;z=Reflect.construct(R,arguments,T)}else z=R.apply(this,arguments);return(0,m.Z)(this,z)}}F.prototype.model=ue;var Y=function(b){return b.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},l=function(b){return b&&b.getConfig().avoidInlineStyle},y="component:drag",g="__symbols",v="__symbol",$="__symbol_ovrd",ae="component:update",K="".concat(ae,"-inside"),N=function(b){(0,c.Z)(z,b);var h=H(z);function z(){return(0,k.Z)(this,z),h.apply(this,arguments)}return(0,d.Z)(z,[{key:"init",value:function(){}},{key:"updated",value:function(R,T,P){}},{key:"removed",value:function(){}},{key:"initialize",value:function(){var R=this,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,w.bindAll)(this,"__upSymbProps","__upSymbCls","__upSymbComps");var u=P.em,ee=this.parent(),q=ee&&ee.attributes,C=this.get("propagate");if(C&&this.set("propagate",(0,w.isArray)(C)?C:[C]),q&&q.propagate&&!C){var D={},le=q.propagate;le.forEach(function(Oe){return D[Oe]=ee.get(Oe)}),D.propagate=le,this.set(ne(ne({},D),T))}if(P&&P.config&&P.config.voidElements.indexOf(this.get("tagName"))>=0&&this.set("void",!0),P.em=u,this.opt=P,this.em=u,this.frame=P.frame,this.config=P.config||{},this.set("attributes",ne(ne({},(0,w.result)(this,"defaults").attributes||{}),this.get("attributes")||{})),this.ccid=z.createId(this,P),this.initClasses(),this.initTraits(),this.initComponents(),this.initToolbar(),this.initScriptProps(),this.listenTo(this,"change:script",this.scriptUpdated),this.listenTo(this,"change:tagName",this.tagUpdated),this.listenTo(this,"change:attributes",this.attrUpdated),this.listenTo(this,"change:attributes:id",this._idUpdated),this.on("change:toolbar",this.__emitUpdateTlb),this.on("change",this.__onChange),this.on(K,this.__propToParent),this.set("status",""),this.views=[],["classes","traits","components"].forEach(function(Oe){var we="add remove ".concat(Oe!=="components"?"change":"");R.listenTo(R.get(Oe),we.trim(),function(){for(var Se=arguments.length,xe=new Array(Se),Ie=0;Ie<Se;Ie++)xe[Ie]=arguments[Ie];return R.emitUpdate.apply(R,[Oe].concat(xe))})}),!P.temporary){var be=u&&u.get("CssComposer"),I=this.attributes,oe=I.styles,de=I.type;oe&&be&&be.addCollection(oe,{},{group:"cmp:".concat(de)}),this.__postAdd(),this.init(),this.__isSymbolOrInst()&&this.__initSymb(),u&&u.trigger("component:create",this)}}},{key:"__postAdd",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=this.em,P=T&&T.get("UndoManager"),u=this.components();P&&!this.__hasUm&&(P.add(u),P.add(this.getSelectors()),this.__hasUm=1),R.recursive&&u.map(function(ee){return ee.__postAdd(R)})}},{key:"__postRemove",value:function(){var R=this.em,T=R&&R.get("UndoManager");T&&(T.remove(this.components()),T.remove(this.getSelectors()),delete this.__hasUm)}},{key:"__onChange",value:function(R,T){var P=this,u=this.changedAttributes();(0,w.keys)(u).forEach(function(ee){return P.emitUpdate(ee)}),["status","open","toolbar","traits"].forEach(function(ee){return delete u[ee]}),(0,E.isEmptyObj)(u)||(this.__changesUp(T),this.__propSelfToParent({component:this,changed:u,options:T}))}},{key:"__changesUp",value:function(R){var T=this.em;[this.frame,T].forEach(function(P){return P&&P.changesUp(R)})}},{key:"__propSelfToParent",value:function(R){this.trigger(ae,R),this.__propToParent(R)}},{key:"__propToParent",value:function(R){var T=this.parent();T&&T.trigger(K,R)}},{key:"__emitUpdateTlb",value:function(){this.emitUpdate("toolbar")}},{key:"is",value:function(R){return this.get("type")==R}},{key:"props",value:function(){return this.attributes}},{key:"index",value:function(){var R=this.collection;return R?R.indexOf(this):0}},{key:"setDragMode",value:function(R){return this.set("dmode",R)}},{key:"find",value:function(R){var T=[],P=this.view.$el.find(R);return P.each(function(u){var ee=P.eq(u).data("model");ee&&T.push(ee)}),T}},{key:"findType",value:function(R){var T=[];return function P(u){return u.forEach(function(ee){ee.is(R)&&T.push(ee),P(ee.components())})}(this.components()),T}},{key:"closest",value:function(R){var T=this.view.$el.closest(R);return T.length&&T.data("model")}},{key:"closestType",value:function(R){for(var T=this.parent();T&&!T.is(R);)T=T.parent();return T}},{key:"contains",value:function(R){var T=!1;if(!R)return T;var P=function u(ee){!T&&ee.forEach(function(q){q===R&&(T=!0),!T&&u(q.components())})};return P(this.components()),T}},{key:"tagUpdated",value:function(){this.trigger("rerender")}},{key:"replaceWith",value:function(R){var T=this.collection,P=T.indexOf(this);return T.remove(this),T.add(R,{at:P})}},{key:"attrUpdated",value:function(R,T){var P=this,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ee=this.get("attributes"),q=ee.class;q&&this.setClass(q),delete ee.class;var C=ee.style;C&&this.setStyle(C),delete ee.style;var D=ne({},this.previous("attributes")),le=(0,E.shallowDiff)(D,this.get("attributes"));(0,w.keys)(le).forEach(function(be){return P.trigger("change:attributes:".concat(be),P,le[be],u)})}},{key:"setAttributes",value:function(R){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.set("attributes",ne({},R),T),this}},{key:"addAttributes",value:function(R){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.setAttributes(ne(ne({},this.getAttributes({noClass:1})),R),T)}},{key:"removeAttributes",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=Array.isArray(R)?R:[R],u=this.getAttributes();return P.map(function(ee){return delete u[ee]}),this.setAttributes(u,T)}},{key:"getStyle",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=this.em,u=(0,w.isString)(R)?R:"",ee=u?T:R;if(P&&P.getConfig().avoidInlineStyle&&!ee.inline){var q=P.get("state"),C=P.get("CssComposer"),D=C.getIdRule(this.getId(),ne({state:q},ee));if(this.rule=D,D)return D.getStyle(u)}return f((0,j.Z)(z.prototype),"getStyle",this).call(this,u)}},{key:"setStyle",value:function(){var R=this,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=this.em,ee=this.opt;if(u&&u.getConfig().avoidInlineStyle&&!ee.temporary&&!P.inline){var q=this.get("style")||{};T=ne(ne({},T=(0,w.isString)(T)?this.parseStyle(T):T),q);var C=u.get("state"),D=u.get("CssComposer"),le=this.getStyle(P);this.rule=D.setIdRule(this.getId(),T,ne(ne({},P),{},{state:C}));var be=(0,E.shallowDiff)(le,T);this.set("style","",{silent:1}),(0,w.keys)(be).forEach(function(I){return R.trigger("change:style:".concat(I))})}else T=f((0,j.Z)(z.prototype),"setStyle",this).apply(this,arguments);return T}},{key:"getAttributes",value:function(){var R,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=this.em,u=[],ee=ne({},this.get("attributes")),q=P&&P.get("SelectorManager"),C=this.getId();if(T.noClass||(this.get("classes").forEach(function(le){return u.push((0,w.isString)(le)?le:le.get("name"))}),u.length&&(ee.class=u.join(" "))),!T.noStyle){var D=this.get("style");(0,E.isObject)(D)&&!(0,E.isEmptyObj)(D)&&(ee.style=this.styleToString({inline:1}))}return(0,w.has)(ee,"id")||(l(P)?R=q&&q.get(C,q.Selector.TYPE_ID):(0,w.isEmpty)(this.getStyle())||(R=1),(this.__getSymbol()||this.__getSymbols())&&(R=1),R&&(ee.id=C)),ee}},{key:"addClass",value:function(R){var T=this.em.get("SelectorManager").addClass(R);return this.get("classes").add(T)}},{key:"setClass",value:function(R){return this.get("classes").reset(),this.addClass(R)}},{key:"removeClass",value:function(R){var T=[];R=(0,w.isArray)(R)?R:[R];var P=this.get("classes"),u=te.Z.TYPE_CLASS;return R.forEach(function(ee){ee.split(" ").forEach(function(q){var C=P.where({name:q,type:u})[0];C&&T.push(P.remove(C))})}),T}},{key:"getClasses",value:function(){var R=this.getAttributes().class;return R?R.split(" "):[]}},{key:"__logSymbol",value:function(R,T){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=this.__getSymbol(),ee=this.__getSymbols();(u||ee)&&this.em.log(R,{model:this,toUp:T,context:"symbols",opts:P})}},{key:"__initSymb",value:function(){this.__symbReady||(this.on("change",this.__upSymbProps),this.__symbReady=1)}},{key:"__isSymbol",value:function(){return(0,w.isArray)(this.get(g))}},{key:"__isSymbolOrInst",value:function(){return!(!this.__isSymbol()&&!this.get(v))}},{key:"__isSymbolTop",value:function(){var R=this.parent();return this.__isSymbolOrInst()&&(!R||R&&!R.__isSymbol()&&!R.__getSymbol())}},{key:"__isSymbolNested",value:function(){if(!this.__isSymbolOrInst()||this.__isSymbolTop())return!1;var R=(this.__isSymbol()?this:this.__getSymbol()).__getSymbTop(),T=this.__getSymbTop();return(T.__isSymbol()?T:T.__getSymbol())!==R}},{key:"__getAllById",value:function(){var R=this.em;return R?R.get("DomComponents").allById():{}}},{key:"__getSymbol",value:function(){var R=this.get(v);if(R&&(0,w.isString)(R)){var T=this.__getAllById()[R];T?(R=T,this.set(v,T)):R=0}return R}},{key:"__getSymbols",value:function(){var R=this,T=this.get(g);return T&&(0,w.isArray)(T)&&(T.forEach(function(P,u){P&&(0,w.isString)(P)&&(T[u]=R.__getAllById()[P])}),T=T.filter(function(P){return P&&!(0,w.isString)(P)})),T}},{key:"__isSymbOvrd",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",T=this.get($),P=R.split(":"),u=(0,S.Z)(P,1),ee=u[0],q=R!==ee?[R,ee]:[R];return T===!0||(0,w.isArray)(T)&&q.some(function(C){return T.indexOf(C)>=0})}},{key:"__getSymbToUp",value:function(){var R=this,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=[],u=this.em,ee=T.changed,q=u&&u.config.symbols;if(T.fromInstance||T.noPropagate||T.fromUndo||!q||ee&&this.__isSymbOvrd(ee))return P;var C=this.__getSymbols()||[],D=this.__getSymbol(),le=D?[D].concat((0,U.Z)(D.__getSymbols()||[])):C;return P=le.filter(function(be){return be!==R}).filter(function(be){return!(ee&&be.__isSymbOvrd(ee))})}},{key:"__getSymbTop",value:function(R){for(var T=this,P=this.parent(R);P&&(P.__isSymbol()||P.__getSymbol());)T=P,P=P.parent(R);return T}},{key:"__upSymbProps",value:function(R){var T=this,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=this.changedAttributes(),ee=u.attributes||{};if(delete u.status,delete u.open,delete u.__symbols,delete u.__symbol,delete u.__symbol_ovrd,delete u.attributes,delete ee.id,(0,E.isEmptyObj)(ee)||(u.attributes=ee),!(0,E.isEmptyObj)(u)){var q=this.__getSymbToUp(P);(0,w.keys)(u).map(function(C){T.__isSymbOvrd(C)&&delete u[C]}),this.__logSymbol("props",q,{opts:P,changed:u}),q.forEach(function(C){var D=ne({},u);(0,w.keys)(D).map(function(le){C.__isSymbOvrd(le)&&delete D[le]}),C.set(D,ne({fromInstance:T},P))})}}},{key:"__upSymbCls",value:function(R,T){var P=this,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ee=this.__getSymbToUp(u);this.__logSymbol("classes",ee,{opts:u}),ee.forEach(function(q){q.set("classes",P.get("classes"),{fromInstance:P})}),this.__changesUp(u)}},{key:"__upSymbComps",value:function(R,T,P){var u=this,ee=P||T||{},q={fromInstance:ee.fromInstance,fromUndo:ee.fromUndo},C=R.opt.temporary;if(P)if(P.add){var D=[],le=!!this.__getSymbols(),be=this.__getSymbToUp(ne(ne({},q),{},{changed:"components:add"}));if(be.length){var I=R.__getSymbol();D=(I?I.__getSymbols():R.__getSymbols())||[],(D=(0,U.Z)(D)).push(I||R)}!C&&this.__logSymbol("add",be,{opts:P,addedInstances:D.map(function(gt){return gt.cid}),added:R.cid}),be.forEach(function(gt){var ct=gt.__getSymbTop(),Bt=D.filter(function(Lt){var Ft=Lt.__getSymbTop({prev:1});return ct&&Ft&&Ft===ct})[0]||R.clone({symbol:1,symbolInv:le});gt.append(Bt,ne({fromInstance:u},P))})}else{var oe=R.__getSymbol();if(oe&&!P.temporary&&oe.set(g,oe.__getSymbols().filter(function(gt){return gt!==R})),!R.__isSymbolTop()){var de="components:remove",Oe=P.index,we=R.parent(),Se=ne({fromInstance:R},P),xe=R.__isSymbolNested(),Ie=function(gt){var ct=gt.parent();ct&&!ct.__isSymbOvrd(de)&&gt.remove(Se)},Xe=we.__isSymbOvrd(de)?[]:R.__getSymbToUp(q);xe&&(Xe=we.__getSymbToUp(ne(ne({},q),{},{changed:de})),Ie=function(gt){var ct=gt.components().at(Oe);ct&&ct.remove(ne({fromInstance:we},Se))}),!C&&this.__logSymbol("remove",Xe,{opts:P,removed:R.cid,isSymbNested:xe}),Xe.forEach(Ie)}}else{var tt=this.__getSymbToUp(ne(ne({},q),{},{changed:"components:reset"}));this.__logSymbol("reset",tt,{components:R.models}),tt.forEach(function(gt){var ct=R.models.map(function(Bt){return Bt.clone({symbol:1})});gt.components().reset(ct,ne({fromInstance:u},T))})}this.__changesUp(ee)}},{key:"initClasses",value:function(R,T){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u="change:classes",ee=this.get("attributes").class||[],q=[this,u,this.initClasses],C=this.get("classes")||ee,D=(0,w.isString)(C)?C.split(" "):C;this.stopListening.apply(this,q);var le=this.normalizeClasses(D),be=new X.Z([]);return this.set("classes",be,P),be.add(le),be.on("add remove reset",this.__upSymbCls),this.listenTo.apply(this,q),this}},{key:"initComponents",value:function(){var R=[this,"change:components",this.initComponents];this.stopListening.apply(this,R);var T=new J.Z(null,this.opt);T.parent=this;var P=this.get("components"),u=!this.opt.avoidChildren;return this.set("components",T),u&&P&&T.add((0,w.isFunction)(P)?P(this):P,this.opt),T.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,R),this}},{key:"initTraits",value:function(R){var T=this.em,P="change:traits";this.off(P,this.initTraits),this.__loadTraits();var u=ne({},this.get("attributes")),ee=this.get("traits");return ee.each(function(q){if(!q.get("changeProp")){var C=q.get("name"),D=q.getInitValue();C&&D&&(u[C]=D)}}),ee.length&&this.set("attributes",u),this.on(P,this.initTraits),R&&T&&T.trigger("component:toggled"),this}},{key:"initScriptProps",value:function(){if(!this.opt.temporary){var R="script-props",T=["change:".concat(R),this.initScriptProps];this.off.apply(this,T);var P=this.previous(R)||[],u=this.get(R)||[],ee=P.map(function(C){return"change:".concat(C)}).join(" "),q=u.map(function(C){return"change:".concat(C)}).join(" ");ee&&this.off(ee,this.__scriptPropsChange),q&&this.on(q,this.__scriptPropsChange),this.on.apply(this,T)}}},{key:"__scriptPropsChange",value:function(R,T){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};P.avoidStore||this.trigger("rerender")}},{key:"append",value:function(R){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=(0,w.isArray)(R)?R:[R],u=P.map(function(q){return(0,w.isString)(q)||q.collection&&q.collection.remove(q,{temporary:1}),q}),ee=this.components().add(u,T);return(0,w.isArray)(ee)?ee:[ee]}},{key:"components",value:function(R){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=this.get("components");return(0,w.isUndefined)(R)?P:(P.reset(null,T),R?this.append(R,T):[])}},{key:"getChildAt",value:function(R){return this.components().at(R||0)||null}},{key:"getLastChild",value:function(){var R=this.components();return R.at(R.length-1)||null}},{key:"empty",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.components().reset(null,R),this}},{key:"parent",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=this.collection||R.prev&&this.prevColl;return T?T.parent:null}},{key:"scriptUpdated",value:function(){this.set("scriptUpdated",1)}},{key:"initToolbar",value:function(){var R=this.em,T=this,P=R&&R.getConfig().stylePrefix||"";if(!T.get("toolbar")&&R){var u=[];T.collection&&u.push({label:R.getIcon("arrowUp"),command:function(ee){return ee.runCommand("core:component-exit",{force:1})}}),T.get("draggable")&&u.push({attributes:{class:"".concat(P,"no-touch-actions"),draggable:!0},label:R.getIcon("move"),command:"tlb-move"}),T.get("copyable")&&u.push({label:R.getIcon("copy"),command:"tlb-clone"}),T.get("removable")&&u.push({label:R.getIcon("delete"),command:"tlb-delete"}),T.set("toolbar",u)}}},{key:"__loadTraits",value:function(R){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=R||this.get("traits");if(!(P instanceof F)){P=(0,w.isFunction)(P)?P(this):P;var u=new F([],this.opt);u.setTarget(this),P.length&&(P.forEach(function(ee){return ee.attributes&&delete ee.attributes.value}),u.add(P)),this.set({traits:u},T)}return this}},{key:"getTraits",value:function(){return this.__loadTraits(),(0,U.Z)(this.get("traits").models)}},{key:"setTraits",value:function(R){var T=(0,w.isArray)(R)?R:[R];return this.set({traits:T}),this.getTraits()}},{key:"getTrait",value:function(R){return this.getTraits().filter(function(T){return T.get("id")===R||T.get("name")===R})[0]||null}},{key:"updateTrait",value:function(R,T){var P,u=this.getTrait(R);return u&&u.set(T),(P=this.em)===null||P===void 0||P.trigger("component:toggled"),this}},{key:"getTraitIndex",value:function(R){var T=this.getTrait(R);return T?this.get("traits").indexOf(T):-1}},{key:"removeTrait",value:function(R){var T,P=this,u=((0,w.isArray)(R)?R:[R]).map(function(C){return P.getTrait(C)}),ee=this.get("traits"),q=u.length?ee.remove(u):[];return(T=this.em)===null||T===void 0||T.trigger("component:toggled"),(0,w.isArray)(q)?q:[q]}},{key:"addTrait",value:function(R){var T,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__loadTraits();var u=this.get("traits").add(R,P);return(T=this.em)===null||T===void 0||T.trigger("component:toggled"),(0,w.isArray)(u)?u:[u]}},{key:"normalizeClasses",value:function(R){var T=[],P=this.em,u=P&&P.get("SelectorManager");if(u)return R.models?(0,U.Z)(R.models):(R.forEach(function(ee){return T.push(u.add(ee))}),T)}},{key:"clone",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=this.em,P=ne({},this.attributes),u=ne({},this.opt),ee=this.getId(),q=T&&T.get("CssComposer");P.attributes=ne({},P.attributes),delete P.attributes.id,P.components=[],P.classes=[],P.traits=[],this.__isSymbolTop()&&(R.symbol=1),this.get("components").each(function(de,Oe){P.components[Oe]=de.clone(ne(ne({},R),{},{_inner:1}))}),this.get("traits").each(function(de,Oe){P.traits[Oe]=de.clone()}),this.get("classes").each(function(de,Oe){P.classes[Oe]=de.get("name")}),P.status="",u.collection=null;var C=new this.constructor(P,u),D="#".concat(C.getId()),le=q?q.getRules("#".concat(ee)):[];le.forEach(function(de){var Oe=de.clone();Oe.set("selectors",[D]),q.getAll().add(Oe)}),C.set(g,0);var be=this.__getSymbol(),I=this.__getSymbols();R.symbol||!be&&!I?be?(be.set(g,[].concat((0,U.Z)(be.__getSymbols()),[C])),C.__initSymb()):R.symbol&&(this.__isSymbol()?(this.set(g,[].concat((0,U.Z)(I),[C])),C.set(v,this),C.__initSymb()):R.symbolInv?(this.set(g,[C]),C.set(v,this),[this,C].map(function(de){return de.__initSymb()})):(C.set(g,[this]),[this,C].map(function(de){return de.__initSymb()}),this.set(v,C))):(C.set(v,0),C.set(g,0));var oe="component:clone";return T&&T.trigger(oe,C),this.trigger(oe,C),C}},{key:"getName",value:function(){var R=this.em,T=this.attributes,P=T.type,u=T.tagName,ee=T.name,q=P||u,C=!P&&u,D="domComponents.names.",le=ee&&(R==null?void 0:R.t("".concat(D).concat(ee))),be=C&&(R==null?void 0:R.t("".concat(D).concat(C))),I=R&&(R.t("".concat(D).concat(P))||R.t("".concat(D).concat(u)));return this.get("custom-name")||le||ee||be||(0,E.capitalize)(C)||I||(0,E.capitalize)(q)}},{key:"getIcon",value:function(){var R=this.get("icon");return R?R+" ":""}},{key:"toHTML",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=this,P=[],u=R.tag,ee=u||T.get("tagName"),q=T.get("void"),C=R.attributes,D=this.getAttrToHTML();if(delete R.tag,C&&((0,w.isFunction)(C)?D=C(T,D)||{}:(0,E.isObject)(C)&&(D=C)),R.withProps){var le=this.toJSON();(0,w.forEach)(le,function(xe,Ie){Ie[0]!=="_"&&["classes","attributes","components"].indexOf(Ie)<0&&(D["data-gjs-".concat(Ie)]=(0,w.isArray)(xe)||(0,E.isObject)(xe)?JSON.stringify(xe):xe)})}for(var be in D){var I=D[be];if(!(0,w.isUndefined)(I)&&I!==null)if((0,w.isBoolean)(I))I&&P.push(be);else{var oe="";if(R.altQuoteAttr&&(0,w.isString)(I)&&I.indexOf('"')>=0)oe="'".concat(I.replace(/'/g,"&apos;"),"'");else{var de=(0,w.isString)(I)?I.replace(/"/g,"&quot;"):I;oe='"'.concat(de,'"')}P.push("".concat(be,"=").concat(oe))}}var Oe=P.length?" ".concat(P.join(" ")):"",we=T.getInnerHTML(R),Se="<".concat(ee).concat(Oe).concat(q?"/":"",">").concat(we);return!q&&(Se+="</".concat(ee,">")),Se}},{key:"getInnerHTML",value:function(R){return this.__innerHTML(R)}},{key:"__innerHTML",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=this.components();return T.length?T.map(function(P){return P.toHTML(R)}).join(""):this.get("content")}},{key:"getAttrToHTML",value:function(){var R=this.getAttributes();return delete R.style,R}},{key:"toJSON",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=Q.Model.prototype.toJSON.call(this,R);if(T.attributes=this.getAttributes(),delete T.attributes.class,delete T.toolbar,delete T.traits,delete T.status,delete T.open,!R.fromUndo){var P=T.__symbol,u=T.__symbols;u&&(0,w.isArray)(u)&&(T.__symbols=u.filter(function(ee){return ee}).map(function(ee){return ee.getId?ee.getId():ee})),P&&!(0,w.isString)(P)&&(T.__symbol=P.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(T),T}},{key:"getChangedProps",value:function(R){var T=R||Q.Model.prototype.toJSON.apply(this),P=(0,w.result)(this,"defaults");return(0,w.forEach)(P,function(u,ee){["type"].indexOf(ee)===-1&&T[ee]===u&&delete T[ee]}),(0,w.isEmpty)(T.type)&&delete T.type,(0,w.forEach)(["attributes","style"],function(u){(0,w.isEmpty)(P[u])&&(0,w.isEmpty)(T[u])&&delete T[u]}),(0,w.forEach)(["classes","components"],function(u){(!T[u]||(0,w.isEmpty)(P[u])&&!T[u].length)&&delete T[u]}),T}},{key:"getId",value:function(){return(this.get("attributes")||{}).id||this.ccid||this.cid}},{key:"setId",value:function(R,T){var P=ne({},this.get("attributes"));return P.id=R,this.set("attributes",P,T),this}},{key:"getEl",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,T=this.getView(R);return T&&T.el}},{key:"getView",value:function(R){var T=this.view,P=this.views;return R&&(T=P.filter(function(u){return u._getFrame()===R.view})[0]),T}},{key:"getCurrentView",value:function(){var R=(this.em.get("currentFrame")||{}).model;return this.getView(R)}},{key:"__getScriptProps",value:function(){var R=this.props();return(this.get("script-props")||[]).reduce(function(T,P){return T[P]=R[P],T},{})}},{key:"getScriptString",value:function(R){var T=this,P=R||this.get("script");if(!P)return P;if(this.get("script-props"))P=P.toString().trim();else{if(typeof P=="function"){var u=P.toString().trim();P=(u=u.replace(/^function[\s\w]*\(\)\s?\{/,"").replace(/\}$/,"")).trim()}var ee=this.em.getConfig(),q=Y(ee.tagVarStart||"{[ "),C=Y(ee.tagVarEnd||" ]}"),D=new RegExp("".concat(q,"([\\w\\d-]*)").concat(C),"g");P=P.replace(D,function(le,be){T.scriptUpdated();var I=T.attributes[be]||"";return(0,w.isArray)(I)||(0,A.Z)(I)=="object"?JSON.stringify(I):I})}return P}},{key:"emitUpdate",value:function(R){for(var T=this.em,P=ae+(R?":".concat(R):""),u=R&&this.get(R),ee=arguments.length,q=new Array(ee>1?ee-1:0),C=1;C<ee;C++)q[C-1]=arguments[C];R&&this.updated.apply(this,[R,u,R&&this.previous(R)].concat(q)),this.trigger.apply(this,[P].concat(q)),T&&T.trigger.apply(T,[P,this].concat(q)),["components","classes"].indexOf(R)>=0&&this.__propSelfToParent({component:this,changed:(0,p.Z)({},R,u),options:q[2]||q[1]||{}})}},{key:"onAll",value:function(R){return(0,w.isFunction)(R)&&(R(this),this.components().forEach(function(T){return T.onAll(R)})),this}},{key:"remove",value:function(){var R=this,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=this.em,u=this.collection,ee=function(){u&&u.remove(R,ne(ne({},T),{},{action:"remove-component"})),u||(R.components("",T),R.components().removeChildren(R,null,T))},q=ne({},T);return[this,P].map(function(C){return C.trigger("component:remove:before",R,ee,q)}),!q.abort&&ee(),this}},{key:"move",value:function(R){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.remove({temporary:1}),R&&R.append(this,T),this}},{key:"isInstanceOf",value:function(R){var T,P,u=(T=this.em)===null||T===void 0||(P=T.get("DomComponents").getType(R))===null||P===void 0?void 0:P.model;return!!u&&this instanceof u}},{key:"isChildOf",value:function(R){for(var T=(0,w.isString)(R),P=this.parent();P;){if(T){if(P.isInstanceOf(R))return!0}else if(P===R)return!0;P=P.parent()}return!1}},{key:"resetId",value:function(){var R=this.em,T=this.getId();if(T){var P=z.createId(this);this.setId(P);var u=R&&R.get("CssComposer").getIdRule(T),ee=u&&u.get("selectors").at(0);return ee&&ee.set("name",P),this}}},{key:"_getStyleRule",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=R.id,P=this.em,u=T||this.getId();return P&&P.get("CssComposer").getIdRule(u)}},{key:"_getStyleSelector",value:function(R){var T=this._getStyleRule(R);return T&&T.get("selectors").at(0)}},{key:"_idUpdated",value:function(R,T){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!P.idUpdate){var u=this.ccid,ee=this.get("attributes")||{},q=ee.id,C=(this.previous("attributes")||{}).id||u,D=z.getList(this);if(D[q]||!q&&C)return this.setId(C,{idUpdate:1});delete D[C],D[q]=this,this.ccid=q;var le=this._getStyleSelector({id:C});le&&le.set({name:q,label:q})}}}]),z}(Z.Z);N.isComponent=function(b){return{tagName:(0,E.toLowerCase)(b.tagName)}},N.ensureInList=function(b){var h=N.getList(b),z=b.getId(),R=h[z];if(R){if(R!==b){var T=N.getIncrementId(z,h);b.setId(T),h[T]=b}}else h[z]=b;b.components().forEach(function(P){return N.ensureInList(P)})},N.createId=function(b){var h,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=N.getList(b),T=z.idMap,P=T===void 0?{}:T,u=b.get("attributes"),ee=u.id;return ee?(h=N.getIncrementId(ee,R,z),b.setId(h),ee!==h&&(P[ee]=h)):h=N.getNewId(R),R[h]=b,h},N.getNewId=function(b){for(var h=Object.keys(b).length.toString().length+2,z=(Math.random()+1.1).toString(36).slice(-h),R="i".concat(z);b[R];)R=N.getNewId(b);return R},N.getIncrementId=function(b,h){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=z.keepIds,T=R===void 0?[]:R,P=1,u=b;if(T.indexOf(b)<0)for(;h[u];)P++,u="".concat(b,"-").concat(P);return u},N.getList=function(b){var h=b.opt,z=h===void 0?{}:h,R=z.domc,T=z.em,P=R||T&&T.get("DomComponents");return P?P.componentsById:{}},N.checkId=function(b){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},T=(0,w.isArray)(b)?b:[b],P=R.keepIds,u=P===void 0?[]:P;T.forEach(function(ee){var q=ee.attributes,C=q===void 0?{}:q,D=ee.components,le=C.id;if(le&&z[le]&&u.indexOf(le)<0){var be=N.getIncrementId(le,z);C.id=be,(0,w.isArray)(h)&&h.forEach(function(I){var oe=I.selectors;oe.forEach(function(de,Oe){de==="#".concat(le)&&(oe[Oe]="#".concat(be))})})}D&&N.checkId(D,h,z,R)})},N.getDefaults=function(){return(0,w.result)(this.prototype,"defaults")},N.prototype.defaults=(L={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,locked:!1,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:"",traits:["id","title"],propagate:"",dmode:"",toolbar:null},(0,p.Z)(L,v,0),(0,p.Z)(L,g,0),(0,p.Z)(L,$,0),(0,p.Z)(L,"_undo",!0),(0,p.Z)(L,"_undoexc",["status","open"]),L)},8431:(ge,ie,s)=>{s.d(ie,{Z:()=>ve});var A=s(1002),U=s(2982),S=s(4925),p=s(5671),k=s(3144),d=s(7326),j=s(9340),_=s(2963),f=s(1120),c=s(4942),m=s(2316),w=s.n(m),E=s(9050),Z=s(7375),Q=["at"];function J(ue){var M=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,F=(0,f.Z)(ue);if(M){var re=(0,f.Z)(this).constructor;L=Reflect.construct(F,arguments,re)}else L=F.apply(this,arguments);return(0,_.Z)(this,L)}}function te(ue,M){var L=Object.keys(ue);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(ue);M&&(F=F.filter(function(re){return Object.getOwnPropertyDescriptor(ue,re).enumerable})),L.push.apply(L,F)}return L}function X(ue){for(var M=1;M<arguments.length;M++){var L=arguments[M]!=null?arguments[M]:{};M%2?te(Object(L),!0).forEach(function(F){(0,c.Z)(ue,F,L[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(L)):te(Object(L)).forEach(function(F){Object.defineProperty(ue,F,Object.getOwnPropertyDescriptor(L,F))})}return ue}var V=function ue(M){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!M)return[];var F=(0,E.isArray)(M)||(0,E.isFunction)(M.map)?M:[M];return F.map(function(re){L.push(re.getId()),ue(re.components().models,L)}),L},se=function ue(M){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},re=(0,E.isArray)(M)?M:[M];return re.map(function(ne){var H=ne.attributes,Y=H===void 0?{}:H,l=ne.components,y=ne.tagName,g=Y.id,v=ne;if(g&&L[g]&&(v=L[g],y&&v.set({tagName:y},X(X({},F),{},{silent:!0}))),l){var $=ue(l,L);if((0,E.isFunction)(v.components)){var ae=v.components();ae.length>0&&ae.reset($,F)}else v.components=$}return v})},ve=function(ue){(0,j.Z)(L,ue);var M=J(L);function L(){var F;(0,p.Z)(this,L);for(var re=arguments.length,ne=new Array(re),H=0;H<re;H++)ne[H]=arguments[H];return F=M.call.apply(M,[this].concat(ne)),(0,c.Z)((0,d.Z)(F),"__onAddEnd",(0,E.debounce)(function(){})),F}return(0,k.Z)(L,[{key:"initialize",value:function(F){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.opt=re,this.listenTo(this,"add",this.onAdd),this.listenTo(this,"remove",this.removeChildren),this.listenTo(this,"reset",this.resetChildren);var ne=re.em,H=re.config;this.config=H,this.em=ne,this.domc=re.domc||ne&&ne.get("DomComponents")}},{key:"resetChildren",value:function(F){var re=this,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=this,Y=ne.previousModels||[],l=Y.filter(function(g){return!F.get(g.cid)}),y=V(F);ne.keepIds=V(Y).filter(function(g){return y.indexOf(g)>=0}),l.forEach(function(g){return re.removeChildren(g,H,ne)}),F.each(function(g){return re.onAdd(g)})}},{key:"resetFromString",value:function(){var F,re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ne.keepIds=V(this);var H=this.domc,Y=(H==null?void 0:H.allById())||{},l=this.parseString(re,ne),y=(0,E.isArray)(l)?l:[l],g=se(y,Y,ne);this.reset(g,ne),(F=this.em)===null||F===void 0||F.trigger("component:content",this.parent,ne,re)}},{key:"removeChildren",value:function(F,re){var ne=this,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(F){var Y=this.domc,l=this.em,y=H.temporary||H.fromUndo;if(F.prevColl=this,!y){var g=F.getId(),v=l.get("SelectorManager").getAll(),$=l.get("CssComposer").getAll(),ae=(H.keepIds||[]).indexOf(g)<0,K=Y?Y.allById():{};delete K[g];var N=ae?$.remove($.filter(function(z){return z.getSelectors().getFullString()==="#".concat(g)}),H):[];v.remove(N.map(function(z){return z.getSelectors().at(0)})),F.opt.temporary||(l.get("Commands").run("core:component-style-clear",{target:F}),F.removed(),F.trigger("removed"),l.trigger("component:remove",F));var b=F.components();b.forEach(function(z){return ne.removeChildren(z,re,H)})}var h=F.components();l.stopListening(h),l.stopListening(F),l.stopListening(F.get("classes")),F.__postRemove()}}},{key:"model",value:function(F,re){var ne,H=re.collection.opt,Y=H.em,l=Y.get("DomComponents").componentTypes;re.em=Y,re.config=H.config,re.componentTypes=l,re.domc=H.domc;for(var y=0;y<l.length;y++)if(l[y].id==F.type){ne=l[y].model;break}return ne||(ne=l[l.length-1].model,Y&&F.type&&Y.logWarning("Component type '".concat(F.type,"' not found"),{attrs:F,options:re})),new ne(F,re)}},{key:"parseString",value:function(F){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=this.em,H=this.domc,Y=ne.get("CssComposer"),l=ne.get("Parser").parseHtml(F);if(Z.ZP.checkId(l.html,l.css,H.componentsById,re),l.css&&Y&&!re.temporary){re.at;var y=(0,S.Z)(re,Q);Y.addCollection(l.css,X(X({},y),{},{extend:1}))}return l.html}},{key:"add",value:function(F){var re=this,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ne.keepIds=[].concat((0,U.Z)(ne.keepIds||[]),(0,U.Z)(V(ne.previousModels))),(0,E.isString)(F)?F=this.parseString(F,ne):(0,E.isArray)(F)&&(F=(0,U.Z)(F)).forEach(function(l,y){if((0,E.isString)(l)){var g=re.parseString(l,ne);F[y]=(0,E.isArray)(g)&&!g.length?null:g}});var H=(0,E.isArray)(F);F=(H?F:[F]).filter(function(l){return l}).map(function(l){return re.processDef(l)}),F=H?(0,E.flatten)(F,1):F[0];var Y=w().Collection.prototype.add.apply(this,[F,ne]);return this.__firstAdd=Y,Y}},{key:"processDef",value:function(F){if(F.cid&&F.ccid)return F;var re=this.em,ne=this.config,H=(ne===void 0?{}:ne).processor,Y=F;if(H){var l=H(Y=X({},Y));l&&((0,E.each)(Y,function(K,N){return delete Y[N]}),(0,E.extend)(Y,l))}if(Y.$$typeof&&(0,A.Z)(Y.props)=="object"){(Y=X({},Y)).props=X({},Y.props);var y=re.get("DomComponents"),g=re.get("Parser").parserHtml;(0,E.each)(Y,function(K,N){(0,E.includes)(["props","type"],N)||delete Y[N]});var v=Y.props,$=v.children;delete v.children,delete Y.props;var ae=g.splitPropsFromAttr(v);Y.attributes=ae.attrs,$&&(Y.components=$),Y.type?y.getType(Y.type)||(Y.tagName=Y.type,delete Y.type):Y.type="textnode",(0,E.extend)(Y,ae.props)}return Y}},{key:"onAdd",value:function(F,re){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},H=this.domc,Y=this.em,l=F.getStyle(),y=Y&&Y.getConfig().avoidInlineStyle;if(H&&H.Component.ensureInList(F),!(0,E.isEmpty)(l)&&!y&&Y&&Y.get&&Y.getConfig().forceClass&&!ne.temporary){var g=F.cid;Y.get("CssComposer").setClassRule(g,l),F.setStyle({}),F.addClass(g)}F.__postAdd({recursive:1}),this.__onAddEnd()}}]),L}(w().Collection)},2169:(ge,ie,s)=>{s.d(ie,{Z:()=>X});var A=s(4942),U=s(5671),S=s(3144),p=s(9340),k=s(2963),d=s(1120),j=s(2316),_=s.n(j),f=s(9050),c=s(8431),m=s(3505),w=s(966),E=s(9283),Z=s(1163);function Q(V,se){var ve=Object.keys(V);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(V);se&&(ue=ue.filter(function(M){return Object.getOwnPropertyDescriptor(V,M).enumerable})),ve.push.apply(ve,ue)}return ve}function J(V){for(var se=1;se<arguments.length;se++){var ve=arguments[se]!=null?arguments[se]:{};se%2?Q(Object(ve),!0).forEach(function(ue){(0,A.Z)(V,ue,ve[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(ve)):Q(Object(ve)).forEach(function(ue){Object.defineProperty(V,ue,Object.getOwnPropertyDescriptor(ve,ue))})}return V}function te(V){var se=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ve,ue=(0,d.Z)(V);if(se){var M=(0,d.Z)(this).constructor;ve=Reflect.construct(ue,arguments,M)}else ve=ue.apply(this,arguments);return(0,k.Z)(this,ve)}}var X=function(V){(0,p.Z)(ve,V);var se=te(ve);function ve(){return(0,U.Z)(this,ve),se.apply(this,arguments)}return(0,S.Z)(ve,[{key:"className",value:function(){return this.getClasses()}},{key:"tagName",value:function(){return this.model.get("tagName")}},{key:"initialize",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=this.model,L=ue.config||{},F=L.em,re=M.opt||{},ne=this.$el,H=this.el;this.opts=ue,this.modelOpt=re,this.config=L,this.em=F||"",this.pfx=L.stylePrefix||"",this.ppfx=L.pStylePrefix||"",this.attr=M.get("attributes"),this.classe=this.attr.class||[],this.listenTo(M,"change:style",this.updateStyle),this.listenTo(M,"change:attributes",this.renderAttributes),this.listenTo(M,"change:highlightable",this.updateHighlight),this.listenTo(M,"change:status change:locked",this.updateStatus),this.listenTo(M,"change:script rerender",this.reset),this.listenTo(M,"change:content",this.updateContent),this.listenTo(M,"change",this.handleChange),this.listenTo(M,"active",this.onActive),this.listenTo(M,"disable",this.onDisable),ne.data("model",M),(0,Z.setViewEl)(H,this),M.view=this,this._getFrame()&&M.views.push(this),this.initClasses(),this.initComponents({avoidRender:1}),this.events=J(J({},this.constructor.getEvents()),{},{dragstart:"handleDragStart"}),this.delegateEvents(),!re.temporary&&this.init(this._clbObj())}},{key:"__isDraggable",value:function(){var ue=this.model,M=this.config,L=ue.attributes.draggable;return M.draggableComponents&&L}},{key:"_clbObj",value:function(){var ue=this.em,M=this.model,L=this.el;return{editor:ue&&ue.getEditor(),model:M,el:L}}},{key:"init",value:function(){}},{key:"removed",value:function(){}},{key:"onActive",value:function(){}},{key:"onDisable",value:function(){}},{key:"remove",value:function(){var ue;_().View.prototype.remove.apply(this,arguments);var M=this.model,L=this.$el,F=M.views,re=this._getFrame()||{};return M.components().forEach(function(ne){var H=ne.getView(re.model);H==null||H.remove()}),(ue=this.childrenView)===null||ue===void 0||ue.remove(),F.splice(F.indexOf(this),1),this.removed(this._clbObj()),L.data({model:"",collection:"",view:""}),this}},{key:"handleDragStart",value:function(ue){if(!this.__isDraggable())return!1;ue.stopPropagation(),ue.preventDefault(),this.em.get("Commands").run("tlb-move",{target:this.model,event:ue})}},{key:"initClasses",value:function(){var ue=this.model,M="change:classes",L=ue.get("classes");L instanceof w.Z&&(this.stopListening(ue,M,this.initClasses),this.listenTo(ue,M,this.initClasses),this.listenTo(L,"add remove change",this.updateClasses),L.length&&this.importClasses())}},{key:"initComponents",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=this.model,L=this.$el,F=this.childrenView,re="change:components",ne=M.get("components"),H=[M,re,this.initComponents];ne instanceof c.Z&&(L.data("collection",ne),F&&F.remove(),this.stopListening.apply(this,H),!ue.avoidRender&&this.renderChildren(),this.listenTo.apply(this,H))}},{key:"handleChange",value:function(){var ue=this.model,M=(0,f.keys)(ue.changed);if(M.length!==1||M[0]!=="status")for(var L in ue.emitUpdate(),ue.changed)ue.emitUpdate(L)}},{key:"importClasses",value:function(){var ue=this.config.em.get("SelectorManager");ue&&this.model.get("classes").each(function(M){ue.add(M.get("name"))})}},{key:"updateStatus",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=this.em,L=this.el,F=this.ppfx,re=this.model,ne=M?M.get("Canvas").getConfig():{},H=ne.extHl,Y=re.get("status"),l="".concat(F,"selected"),y="".concat(l,"-parent"),g="".concat(F,"freezed"),v="".concat(F,"hovered"),$="".concat(F,"no-pointer"),ae=[l,y,g,v,$],K=H&&!ue.noExtHl?"":l;this.$el.removeClass(ae.join(" "));var N=L.getAttribute("class")||"",b=[N];switch(Y){case"selected":b.push(K);break;case"selected-parent":b.push(y);break;case"freezed":b.push(g);break;case"freezed-selected":b.push(g,K);break;case"hovered":!ue.avoidHover&&b.push(v)}re.get("locked")&&b.push($);var h=b.filter(Boolean).join(" ");h&&L.setAttribute("class",h)}},{key:"updateHighlight",value:function(){var ue=this.model,M=ue.get("textable"),L=ue.get("highlightable")&&(M||!ue.isChildOf("text"));this.setAttribute("data-gjs-highlightable",!!L||"")}},{key:"updateStyle",value:function(ue,M){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},F=this.model,re=this.em;if(re&&re.getConfig().avoidInlineStyle&&!L.inline){var ne=F.getStyle();!(0,f.isEmpty)(ne)&&F.setStyle(ne)}else this.setAttribute("style",F.styleToString(L))}},{key:"updateClasses",value:function(){var ue=this.model.get("classes").pluck("name").join(" ");this.setAttribute("class",ue),this.updateStatus(),this.onAttrUpdate()}},{key:"setAttribute",value:function(ue,M){var L=this.$el;M?L.attr(ue,M):L.removeAttr(ue)}},{key:"getClasses",value:function(){return this.model.getClasses().join(" ")}},{key:"updateAttributes",value:function(){var ue=[],M=this.model,L=this.$el,F=this.el,re=M.attributes,ne=re.textable,H=re.type,Y=J(J({id:M.getId(),"data-gjs-type":H||"default"},this.__isDraggable()&&{draggable:!0}),ne&&{contenteditable:"false"});(0,f.each)(F.attributes,function(y){return ue.push(y.nodeName)}),ue.forEach(function(y){return L.removeAttr(y)}),this.updateStyle(),this.updateHighlight();var l=J(J({},Y),M.getAttributes());(0,f.keys)(l).forEach(function(y){return l[y]===!1&&delete l[y]}),L.attr(l)}},{key:"updateContent",value:function(){var ue=this.model.get("content"),M=this.model.components().length;this.getChildrenContainer().innerHTML=M?"":ue}},{key:"prevDef",value:function(ue){ue.preventDefault()}},{key:"updateScript",value:function(){var ue=this.model,M=this.em;ue.get("script")&&M&&M.get("Canvas").getCanvasView().updateScript(this)}},{key:"getChildrenContainer",value:function(){var ue=this.el;return typeof this.getChildrenSelector=="function"?ue=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,ue}},{key:"getOffsetRect",value:function(){var ue={},M=this.el,L=0,F=0;return function re(ne){var H=ne.offsetParent;H?(L+=H.offsetTop,F+=H.offsetLeft,re(H)):(ue.top=M.offsetTop+L,ue.left=M.offsetLeft+F,ue.bottom=ue.top+M.offsetHeight,ue.right=ue.left+M.offsetWidth)}(M),ue}},{key:"isInViewport",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=ue.rect,L=this.el,F=L.ownerDocument,re=F.body,ne=F.defaultView.frameElement,H=M||this.getOffsetRect(),Y=H.top,l=H.left,y=this._getFrame().getOffsetRect();return Y>=y.scrollTop&&l>=y.scrollLeft&&Y<=y.scrollBottom&&l<=ne.offsetWidth+re.scrollLeft}},{key:"scrollIntoView",value:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=this.getOffsetRect(),L=this.isInViewport({rect:M});if(!L||ue.force){var F=this.el;ue.behavior!=="smooth"?F.ownerDocument.defaultView.scrollTo(0,M.top):F.scrollIntoView(J({behavior:"smooth",block:"nearest"},ue))}}},{key:"reset",value:function(){var ue=this.el;this.el="",this._ensureElement(),this._setData(),(0,E.dL)(ue,this.el),this.render()}},{key:"_setData",value:function(){var ue=this.model,M=ue.components();this.$el.data({model:ue,collection:M,view:this})}},{key:"_getFrame",value:function(){return this.config.frameView}},{key:"renderChildren",value:function(){this.updateContent();var ue=this.getChildrenContainer(),M=this.childrenView||new m.Z({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});M.render(ue),this.childrenView=M;for(var L=Array.prototype.slice.call(M.el.childNodes),F=0,re=L.length;F<re;F++)ue.appendChild(L.shift())}},{key:"renderAttributes",value:function(){this.updateAttributes(),this.updateClasses()}},{key:"onAttrUpdate",value:function(){}},{key:"render",value:function(){return this.renderAttributes(),this.modelOpt.temporary||(this.renderChildren(),this.updateScript(),(0,Z.setViewEl)(this.el,this),this.postRender()),this}},{key:"postRender",value:function(){this.modelOpt.temporary||this.onRender(this._clbObj())}},{key:"onRender",value:function(){}}]),ve}(_().View);X.getEvents=function(){return(0,f.result)(this.prototype,"events")}},3505:(ge,ie,s)=>{s.d(ie,{Z:()=>m});var A=s(5671),U=s(3144),S=s(9340),p=s(2963),k=s(1120),d=s(2316),j=s.n(d),_=s(9050),f=s(9283);function c(w){var E=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Z,Q=(0,k.Z)(w);if(E){var J=(0,k.Z)(this).constructor;Z=Reflect.construct(Q,arguments,J)}else Z=Q.apply(this,arguments);return(0,p.Z)(this,Z)}}var m=function(w){(0,S.Z)(Z,w);var E=c(Z);function Z(){return(0,A.Z)(this,Z),E.apply(this,arguments)}return(0,U.Z)(Z,[{key:"initialize",value:function(Q){this.opts=Q||{},this.config=Q.config||{},this.em=this.config.em;var J=this.collection;this.listenTo(J,"add",this.addTo),this.listenTo(J,"reset",this.resetChildren),this.listenTo(J,"remove",this.removeChildren)}},{key:"removeChildren",value:function(Q,J){var te=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Q.views.forEach(function(se){if(se){var ve=se.childrenView,ue=se.scriptContainer;ve&&ve.stopListening(),(0,f.L_)(ue),se.remove.apply(se)}});var V=Q.components();V.forEach(function(se){return te.removeChildren(se,J,X)})}},{key:"addTo",value:function(Q){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},te=this.config.em,X=this.collection.indexOf(Q);if(this.addToCollection(Q,null,X),te&&!J.temporary){var V=function se(ve){te.trigger("component:add",ve),ve.components().forEach(function(ue){return se(ue)})};V(Q)}}},{key:"addToCollection",value:function(Q,J,te){this.compView||(this.compView=s(2169).Z);for(var X=this.config,V=this.opts,se=this.em,ve=J||null,ue=X.frameView,M=ue===void 0?{}:ue,L=M.model&&Q.getView(M.model),F=V.componentTypes||se&&se.get("DomComponents").getTypes(),re=Q.get("type")||"default",ne=this.compView,H=0;H<F.length;H++)if(F[H].id==re){ne=F[H].view;break}var Y,l=L||new ne({model:Q,config:X,componentTypes:F});try{Y=l.render().el}catch($){Y=document.createTextNode(""),se.logError($)}if(ve)ve.appendChild(Y);else{var y=this.parentEl,g=y.childNodes;if((0,_.isUndefined)(te))y.appendChild(Y);else{var v=g.length==te;v&&te--,v||!g.length?y.appendChild(Y):y.insertBefore(Y,g[te])}}return Q.opt.temporary||se==null||se.trigger("component:mount",Q),Y}},{key:"resetChildren",value:function(Q){var J=this,te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=te.previousModels,V=X===void 0?[]:X;this.parentEl.innerHTML="",V.forEach(function(se){return J.removeChildren(se,J.collection)}),Q.each(function(se){return J.addToCollection(se)})}},{key:"render",value:function(Q){var J=this,te=this.el,X=document.createDocumentFragment();return this.parentEl=Q||this.el,this.collection.each(function(V){return J.addToCollection(V,X)}),te.innerHTML="",te.appendChild(X),this}}]),Z}(j().View)},9524:(ge,ie,s)=>{s.d(ie,{Z:()=>Q});var A=s(5671),U=s(3144),S=s(7326),p=s(9340),k=s(2963),d=s(1120),j=s(4942),_=s(9050),f=s(1163),c=s(5311),m=s(2316);function w(J,te){var X=Object.keys(J);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(J);te&&(V=V.filter(function(se){return Object.getOwnPropertyDescriptor(J,se).enumerable})),X.push.apply(X,V)}return X}function E(J){for(var te=1;te<arguments.length;te++){var X=arguments[te]!=null?arguments[te]:{};te%2?w(Object(X),!0).forEach(function(V){(0,j.Z)(J,V,X[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(X)):w(Object(X)).forEach(function(V){Object.defineProperty(J,V,Object.getOwnPropertyDescriptor(X,V))})}return J}function Z(J){var te=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var X,V=(0,d.Z)(J);if(te){var se=(0,d.Z)(this).constructor;X=Reflect.construct(V,arguments,se)}else X=V.apply(this,arguments);return(0,k.Z)(this,X)}}var Q=function(J){(0,p.Z)(X,J);var te=Z(X);function X(){var V;(0,A.Z)(this,X);for(var se=arguments.length,ve=new Array(se),ue=0;ue<se;ue++)ve[ue]=arguments[ue];return V=te.call.apply(te,[this].concat(ve)),(0,j.Z)((0,S.Z)(V),"parseStyle",(0,c.Z)().parseStyle),V}return(0,U.Z)(X,[{key:"extendStyle",value:function(V){return E(E({},this.getStyle()),V)}},{key:"getStyle",value:function(V){var se=E({},this.get("style")||{});return V&&(0,_.isString)(V)?se[V]:se}},{key:"setStyle",value:function(){var V=this,se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,_.isString)(se)&&(se=this.parseStyle(se));var ue=this.getStyle(ve),M=E({},se),L=E({},M);(0,_.keys)(L).forEach(function(re){L[re]===""&&delete L[re]}),this.set("style",L,ve);var F=(0,f.shallowDiff)(ue,M);return delete F.__p,(0,_.keys)(F).forEach(function(re){var ne=V.em;ve.noEvent||(V.trigger("change:style:".concat(re)),ne&&(ne.trigger("styleable:change",V,re,ve),ne.trigger("styleable:change:".concat(re),V,re,ve)))}),M}},{key:"addStyle",value:function(V){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};typeof V=="string"?V={prop:se}:ve=se||{},V=this.extendStyle(V),this.setStyle(V,ve)}},{key:"removeStyle",value:function(V){var se=this.getStyle();delete se[V],this.setStyle(se)}},{key:"styleToString",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=[],ve=this.getStyle(V);for(var ue in ve){var M=V.important,L=(0,_.isArray)(M)?M.indexOf(ue)>=0:M,F="".concat(ve[ue]).concat(L?" !important":""),re=ue.substr(0,2)=="__";F&&!re&&se.push("".concat(ue,":").concat(F,";"))}return se.join("")}},{key:"getSelectors",value:function(){return this.get("selectors")||this.get("classes")}},{key:"getSelectorsString",value:function(V){return this.selectorsToString?this.selectorsToString(V):this.getSelectors().getFullString()}},{key:"_validate",value:function(V,se){var ve,ue=V.style,M=this.em||se.em,L=M==null||(ve=M.get("CssComposer"))===null||ve===void 0?void 0:ve.getConfig().onBeforeStyle;if(ue&&L){var F=L(E({},ue));F&&(0,_.keys)(ue).map(function(re){(0,_.isUndefined)(F[re])&&delete V.style[re]}),F&&(0,_.keys)(F).map(function(re){V.style[re]=F[re]})}return!0}}]),X}(m.Model)},793:(ge,ie,s)=>{s.d(ie,{Z:()=>d});var A=s(4942),U=s(9050),S=s(2316);function p(j,_){var f=Object.keys(j);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(j);_&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(j,m).enumerable})),f.push.apply(f,c)}return f}function k(j){for(var _=1;_<arguments.length;_++){var f=arguments[_]!=null?arguments[_]:{};_%2?p(Object(f),!0).forEach(function(c){(0,A.Z)(j,c,f[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(f)):p(Object(f)).forEach(function(c){Object.defineProperty(j,c,Object.getOwnPropertyDescriptor(f,c))})}return j}const d={types:[],initialize:function(j){var _=this,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=f.em;this.em=c,this.opts=f,this.model=function(){var w,E,Z,Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Q&&Q.type){var te=_.getBaseType();w=(Z=_.getType(Q.type))?Z.model:te.model,E=Z?Z.view:te.view}else{var X=_.recognizeType(Q);w=(Z=X.type).model,E=Z.view,Q=X.attributes}var V=new w(Q,k(k({},J),{},{em:c}));return V.typeView=E,V};var m=this.init&&this.init.bind(this);m&&m()},recognizeType:function(j){for(var _=this.getTypes(),f=0;f<_.length;f++){var c=_[f],m=c.isType(j);if(m=typeof m=="boolean"&&m?{type:c.id}:m)return{type:c,attributes:m}}return{type:this.getBaseType(),attributes:j}},getBaseType:function(){var j=this.getTypes();return j[j.length-1]},getTypes:function(){return this.types},getType:function(j){for(var _=this.getTypes(),f=0;f<_.length;f++){var c=_[f];if(c.id===j)return c}},addType:function(j,_){var f=this.getType(j),c=this.getBaseType(),m=f?f.model:c.model,w=f?f.view:c.view,E=_.model,Z=_.view,Q=_.isType;E=E instanceof S.Model||(0,U.isFunction)(E)?E:m.extend(E||{}),Z=Z instanceof S.View||(0,U.isFunction)(Z)?Z:w.extend(Z||{}),!this.extendViewApi||_.model||_.view||(Z=Z.extend(_)),f?(f.model=E,f.view=Z,f.isType=Q||f.isType):(_.id=j,_.model=E,_.view=Z,_.isType=Q||function(J){if(J&&J.type==j)return!0},this.getTypes().unshift(_))}}},8659:(ge,ie,s)=>{s.d(ie,{Z:()=>c});var A=s(5671),U=s(3144),S=s(9340),p=s(2963),k=s(1120),d=s(2316),j=s.n(d);function _(m){var w=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,Z=(0,k.Z)(m);if(w){var Q=(0,k.Z)(this).constructor;E=Reflect.construct(Z,arguments,Q)}else E=Z.apply(this,arguments);return(0,p.Z)(this,E)}}var f=j().$,c=function(m){(0,S.Z)(E,m);var w=_(E);function E(){var Z,Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,A.Z)(this,E),Z=w.call(this,Q);var J=Q.ppfx||"";return Z.opts=Q,Z.ppfx=J,Z.em=Q.target||{},!Q.onChange&&Z.listenTo(Z.model,"change:value",Z.handleModelChange),Z}return(0,U.Z)(E,[{key:"template",value:function(){return'<span class="'.concat(this.holderClass(),'"></span>')}},{key:"inputClass",value:function(){return"".concat(this.ppfx,"field")}},{key:"holderClass",value:function(){return"".concat(this.ppfx,"input-holder")}},{key:"elementUpdated",value:function(){this.model.trigger("el:change")}},{key:"setValue",value:function(Z){var Q=this.model,J=Z||Q.get("defaults"),te=this.getInputEl();te&&(te.value=J)}},{key:"handleModelChange",value:function(Z,Q,J){this.setValue(Q,J)}},{key:"handleChange",value:function(Z){Z.stopPropagation();var Q=this.getInputEl().value;this.__onInputChange(Q),this.elementUpdated()}},{key:"__onInputChange",value:function(Z){this.model.set({value:Z},{fromInput:1})}},{key:"getInputEl",value:function(){if(!this.inputEl){var Z=this.model,Q=this.opts.type||"text",J=Z.get("placeholder")||Z.get("defaults")||Z.get("default")||"";this.inputEl=f('<input type="'.concat(Q,'" placeholder="').concat(J,'">'))}return this.inputEl.get(0)}},{key:"render",value:function(){this.inputEl=null;var Z=this.$el;return Z.addClass(this.inputClass()),Z.html(this.template()),Z.find(".".concat(this.holderClass())).append(this.getInputEl()),this}}]),E}(j().View);c.prototype.events={change:"handleChange"}},1511:(ge,ie,s)=>{s.d(ie,{Z:()=>X});var A=s(4942),U=s(5671),S=s(3144),p=s(9340),k=s(2963),d=s(1120),j=s(2316),_=s.n(j),f=s(9050),c=s(1002),m=s(1163),w=s(8659);function E(V,se){var ve=Object.keys(V);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(V);se&&(ue=ue.filter(function(M){return Object.getOwnPropertyDescriptor(V,M).enumerable})),ve.push.apply(ve,ue)}return ve}function Z(V){for(var se=1;se<arguments.length;se++){var ve=arguments[se]!=null?arguments[se]:{};se%2?E(Object(ve),!0).forEach(function(ue){(0,A.Z)(V,ue,ve[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(ve)):E(Object(ve)).forEach(function(ue){Object.defineProperty(V,ue,Object.getOwnPropertyDescriptor(ve,ue))})}return V}function Q(V){var se=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ve,ue=(0,d.Z)(V);if(se){var M=(0,d.Z)(this).constructor;ve=Reflect.construct(ue,arguments,M)}else ve=ue.apply(this,arguments);return(0,k.Z)(this,ve)}}var J=_().$;J&&function(V,se){if((0,m.hasWin)()){var ve={beforeShow:ee,move:ee,change:ee,show:ee,hide:ee,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},ue=[],M=!!/msie/i.exec(window.navigator.userAgent),L=function(){function Ve(ut,At){return!!~(""+ut).indexOf(At)}var et=document.createElement("div").style;return et.cssText="background-color:rgba(0,0,0,.5)",Ve(et.backgroundColor,"rgba")||Ve(et.backgroundColor,"hsla")}(),F=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),re=function(){var Ve="";if(M)for(var et=1;et<=6;et++)Ve+="<div class='sp-"+et+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",Ve,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),ne="spectrum.id";V.fn.spectrum=function(Ve,et){if(typeof Ve=="string"){var ut=this,At=Array.prototype.slice.call(arguments,1);return this.each(function(){var yt=ue[V(this).data(ne)];if(yt){var ht=yt[Ve];if(!ht)throw new Error("Spectrum: no such method: '"+Ve+"'");Ve=="get"?ut=yt.get():Ve=="container"?ut=yt.container:Ve=="option"?ut=yt.option.apply(yt,At):Ve=="destroy"?(yt.destroy(),V(this).removeData(ne)):ht.apply(yt,At)}}),ut}return this.spectrum("destroy").each(function(){var yt=u(this,V.extend({},Ve,V(this).data()));V(this).data(ne,yt.id)})},V.fn.spectrum.load=!0,V.fn.spectrum.loadOpts={},V.fn.spectrum.draggable=D,V.fn.spectrum.defaults=ve,V.fn.spectrum.inputTypeColorSupport=function Ve(){if(Ve._cachedResult===void 0){var et=V("<input type='color'/>")[0];Ve._cachedResult=et.type==="color"&&et.value!==""}return Ve._cachedResult},V.spectrum={},V.spectrum.localization={},V.spectrum.palettes={},V.fn.spectrum.processNativeColorInputs=function(){var Ve=V("input[type=color]");Ve.length&&!le()&&Ve.spectrum({preferredFormat:"hex6"})};var H=/^[\s,#]+/,Y=/\s+$/,l=0,y=Math,g=y.round,v=y.min,$=y.max,ae=y.random,K=function Ve(et,ut){if(ut=ut||{},(et=et||"")instanceof Ve)return et;if(!(this instanceof Ve))return new Ve(et,ut);var At=function(yt){var ht={r:0,g:0,b:0},Ut=1,$t=!1,un=!1;typeof yt=="string"&&(yt=function(qe){qe=qe.replace(H,"").replace(Y,"").toLowerCase();var $e,ft=!1;if(z[qe])qe=z[qe],ft=!0;else if(qe=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return($e=T.rgb.exec(qe))?{r:$e[1],g:$e[2],b:$e[3]}:($e=T.rgba.exec(qe))?{r:$e[1],g:$e[2],b:$e[3],a:$e[4]}:($e=T.hsl.exec(qe))?{h:$e[1],s:$e[2],l:$e[3]}:($e=T.hsla.exec(qe))?{h:$e[1],s:$e[2],l:$e[3],a:$e[4]}:($e=T.hsv.exec(qe))?{h:$e[1],s:$e[2],v:$e[3]}:($e=T.hsva.exec(qe))?{h:$e[1],s:$e[2],v:$e[3],a:$e[4]}:($e=T.hex8.exec(qe))?{a:tn($e[1]),r:it($e[2]),g:it($e[3]),b:it($e[4]),format:ft?"name":"hex8"}:($e=T.hex6.exec(qe))?{r:it($e[1]),g:it($e[2]),b:it($e[3]),format:ft?"name":"hex"}:($e=T.hex3.exec(qe))?{r:it($e[1]+""+$e[1]),g:it($e[2]+""+$e[2]),b:it($e[3]+""+$e[3]),format:ft?"name":"hex"}:!1}(yt)),(0,c.Z)(yt)=="object"&&(yt.hasOwnProperty("r")&&yt.hasOwnProperty("g")&&yt.hasOwnProperty("b")?(kn=yt.r,en=yt.g,Zn=yt.b,ht={r:255*Ne(kn,255),g:255*Ne(en,255),b:255*Ne(Zn,255)},$t=!0,un=String(yt.r).substr(-1)==="%"?"prgb":"rgb"):yt.hasOwnProperty("h")&&yt.hasOwnProperty("s")&&yt.hasOwnProperty("v")?(yt.s=jt(yt.s),yt.v=jt(yt.v),ht=function(qe,$e,ft){qe=6*Ne(qe,360),$e=Ne($e,100),ft=Ne(ft,100);var Ct=y.floor(qe),Zt=qe-Ct,Mt=ft*(1-$e),Ht=ft*(1-Zt*$e),Gt=ft*(1-(1-Zt)*$e),nn=Ct%6;return{r:255*[ft,Ht,Mt,Mt,Gt,ft][nn],g:255*[Gt,ft,ft,Ht,Mt,Mt][nn],b:255*[Mt,Mt,Gt,ft,ft,Ht][nn]}}(yt.h,yt.s,yt.v),$t=!0,un="hsv"):yt.hasOwnProperty("h")&&yt.hasOwnProperty("s")&&yt.hasOwnProperty("l")&&(yt.s=jt(yt.s),yt.l=jt(yt.l),ht=function(qe,$e,ft){var Ct,Zt,Mt;function Ht(dn,ln,bn){return bn<0&&(bn+=1),bn>1&&(bn-=1),bn<1/6?dn+6*(ln-dn)*bn:bn<.5?ln:bn<2/3?dn+(ln-dn)*(2/3-bn)*6:dn}if(qe=Ne(qe,360),$e=Ne($e,100),ft=Ne(ft,100),$e===0)Ct=Zt=Mt=ft;else{var Gt=ft<.5?ft*(1+$e):ft+$e-ft*$e,nn=2*ft-Gt;Ct=Ht(nn,Gt,qe+1/3),Zt=Ht(nn,Gt,qe),Mt=Ht(nn,Gt,qe-1/3)}return{r:255*Ct,g:255*Zt,b:255*Mt}}(yt.h,yt.s,yt.l),$t=!0,un="hsl"),yt.hasOwnProperty("a")&&(Ut=yt.a));var kn,en,Zn;return Ut=Ee(Ut),{ok:$t,format:yt.format||un,r:v(255,$(ht.r,0)),g:v(255,$(ht.g,0)),b:v(255,$(ht.b,0)),a:Ut}}(et);this._originalInput=et,this._r=At.r,this._g=At.g,this._b=At.b,this._a=At.a,this._roundA=g(100*this._a)/100,this._format=ut.format||At.format,this._gradientType=ut.gradientType,this._r<1&&(this._r=g(this._r)),this._g<1&&(this._g=g(this._g)),this._b<1&&(this._b=g(this._b)),this._ok=At.ok,this._tc_id=l++};K.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Ve=this.toRgb();return(299*Ve.r+587*Ve.g+114*Ve.b)/1e3},setAlpha:function(Ve){return this._a=Ee(Ve),this._roundA=g(100*this._a)/100,this},toHsv:function(){var Ve=I(this._r,this._g,this._b);return{h:360*Ve.h,s:Ve.s,v:Ve.v,a:this._a}},toHsvString:function(){var Ve=I(this._r,this._g,this._b),et=g(360*Ve.h),ut=g(100*Ve.s),At=g(100*Ve.v);return this._a==1?"hsv("+et+", "+ut+"%, "+At+"%)":"hsva("+et+", "+ut+"%, "+At+"%, "+this._roundA+")"},toHsl:function(){var Ve=be(this._r,this._g,this._b);return{h:360*Ve.h,s:Ve.s,l:Ve.l,a:this._a}},toHslString:function(){var Ve=be(this._r,this._g,this._b),et=g(360*Ve.h),ut=g(100*Ve.s),At=g(100*Ve.l);return this._a==1?"hsl("+et+", "+ut+"%, "+At+"%)":"hsla("+et+", "+ut+"%, "+At+"%, "+this._roundA+")"},toHex:function(Ve){return oe(this._r,this._g,this._b,Ve)},toHexString:function(Ve){return"#"+this.toHex(Ve)},toHex8:function(){return de(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:g(this._r),g:g(this._g),b:g(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+g(this._r)+", "+g(this._g)+", "+g(this._b)+")":"rgba("+g(this._r)+", "+g(this._g)+", "+g(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:g(100*Ne(this._r,255))+"%",g:g(100*Ne(this._g,255))+"%",b:g(100*Ne(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+g(100*Ne(this._r,255))+"%, "+g(100*Ne(this._g,255))+"%, "+g(100*Ne(this._b,255))+"%)":"rgba("+g(100*Ne(this._r,255))+"%, "+g(100*Ne(this._g,255))+"%, "+g(100*Ne(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(R[oe(this._r,this._g,this._b,!0)]||!1)},toFilter:function(Ve){var et="#"+de(this._r,this._g,this._b,this._a),ut=et,At=this._gradientType?"GradientType = 1, ":"";return Ve&&(ut=K(Ve).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+At+"startColorstr="+et+",endColorstr="+ut+")"},toString:function(Ve){var et=!!Ve;Ve=Ve||this._format;var ut=!1,At=this._a<1&&this._a>=0;return et||!At||Ve!=="hex"&&Ve!=="hex6"&&Ve!=="hex3"&&Ve!=="name"?(Ve==="rgb"&&(ut=this.toRgbString()),Ve==="prgb"&&(ut=this.toPercentageRgbString()),Ve!=="hex"&&Ve!=="hex6"||(ut=this.toHexString()),Ve==="hex3"&&(ut=this.toHexString(!0)),Ve==="hex8"&&(ut=this.toHex8String()),Ve==="name"&&(ut=this.toName()),Ve==="hsl"&&(ut=this.toHslString()),Ve==="hsv"&&(ut=this.toHsvString()),ut||this.toHexString()):Ve==="name"&&this._a===0?this.toName():this.toRgbString()},_applyModification:function(Ve,et){var ut=Ve.apply(null,[this].concat([].slice.call(et)));return this._r=ut._r,this._g=ut._g,this._b=ut._b,this.setAlpha(ut._a),this},lighten:function(){return this._applyModification(xe,arguments)},brighten:function(){return this._applyModification(Ie,arguments)},darken:function(){return this._applyModification(Xe,arguments)},desaturate:function(){return this._applyModification(Oe,arguments)},saturate:function(){return this._applyModification(we,arguments)},greyscale:function(){return this._applyModification(Se,arguments)},spin:function(){return this._applyModification(tt,arguments)},_applyCombination:function(Ve,et){return Ve.apply(null,[this].concat([].slice.call(et)))},analogous:function(){return this._applyCombination(Ft,arguments)},complement:function(){return this._applyCombination(gt,arguments)},monochromatic:function(){return this._applyCombination(ze,arguments)},splitcomplement:function(){return this._applyCombination(Lt,arguments)},triad:function(){return this._applyCombination(ct,arguments)},tetrad:function(){return this._applyCombination(Bt,arguments)}},K.fromRatio=function(Ve,et){if((0,c.Z)(Ve)=="object"){var ut={};for(var At in Ve)Ve.hasOwnProperty(At)&&(ut[At]=At==="a"?Ve[At]:jt(Ve[At]));Ve=ut}return K(Ve,et)},K.equals=function(Ve,et){return!(!Ve||!et)&&K(Ve).toRgbString()==K(et).toRgbString()},K.random=function(){return K.fromRatio({r:ae(),g:ae(),b:ae()})},K.mix=function(Ve,et,ut){ut=ut===0?0:ut||50;var At,yt=K(Ve).toRgb(),ht=K(et).toRgb(),Ut=ut/100,$t=2*Ut-1,un=ht.a-yt.a,kn=1-(At=((At=$t*un==-1?$t:($t+un)/(1+$t*un))+1)/2),en={r:ht.r*At+yt.r*kn,g:ht.g*At+yt.g*kn,b:ht.b*At+yt.b*kn,a:ht.a*Ut+yt.a*(1-Ut)};return K(en)},K.readability=function(Ve,et){var ut=K(Ve),At=K(et),yt=ut.toRgb(),ht=At.toRgb(),Ut=ut.getBrightness(),$t=At.getBrightness(),un=Math.max(yt.r,ht.r)-Math.min(yt.r,ht.r)+Math.max(yt.g,ht.g)-Math.min(yt.g,ht.g)+Math.max(yt.b,ht.b)-Math.min(yt.b,ht.b);return{brightness:Math.abs(Ut-$t),color:un}},K.isReadable=function(Ve,et){var ut=K.readability(Ve,et);return ut.brightness>125&&ut.color>500},K.mostReadable=function(Ve,et){for(var ut=null,At=0,yt=!1,ht=0;ht<et.length;ht++){var Ut=K.readability(Ve,et[ht]),$t=Ut.brightness>125&&Ut.color>500,un=Ut.brightness/125*3+Ut.color/500;($t&&!yt||$t&&yt&&un>At||!$t&&!yt&&un>At)&&(yt=$t,At=un,ut=K(et[ht]))}return ut};var N,b,h,z=K.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},R=K.hexNames=function(Ve){var et={};for(var ut in Ve)Ve.hasOwnProperty(ut)&&(et[Ve[ut]]=ut);return et}(z),T=(b="[\\s|\\(]+("+(N="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",h="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",{rgb:new RegExp("rgb"+b),rgba:new RegExp("rgba"+h),hsl:new RegExp("hsl"+b),hsla:new RegExp("hsla"+h),hsv:new RegExp("hsv"+b),hsva:new RegExp("hsva"+h),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=K,V(function(){V.fn.spectrum.load&&V.fn.spectrum.processNativeColorInputs()})}function P(Ve,et,ut,At){for(var yt=[],ht=0;ht<Ve.length;ht++){var Ut=Ve[ht];if(Ut){var $t=K(Ut),un=$t.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";un+=K.equals(et,Ut)?" sp-thumb-active":"";var kn=$t.toString(At.preferredFormat||"rgb"),en=L?"background-color:"+$t.toRgbString():"filter:"+$t.toFilter();yt.push('<span title="'+kn+'" data-color="'+$t.toRgbString()+'" class="'+un+'"><span class="sp-thumb-inner" style="'+en+';"></span></span>')}else yt.push(V("<div />").append(V('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",At.noColorSelectedText)).html())}return"<div class='sp-cf "+ut+"'>"+yt.join("")+"</div>"}function u(Ve,et){var ut,At,yt,ht=function(Yt,i){var o=V.extend({},ve,Yt);return o.callbacks={move:C(o.move,i),change:C(o.change,i),show:C(o.show,i),hide:C(o.hide,i),beforeShow:C(o.beforeShow,i)},o}(et,Ve),Ut=ht.flat,$t=ht.showSelectionPalette,un=ht.localStorageKey,kn=ht.theme,en=ht.callbacks,Zn=(ut=An,At=10,function(){var Yt=this,i=arguments,o=function(){yt=null,ut.apply(Yt,i)};yt||(yt=setTimeout(o,At))}),qe=!1,$e=!1,ft=!0,Ct=0,Zt=0,Mt=0,Ht=0,Gt=0,nn=0,dn=0,ln=0,bn=0,wn=0,Cn=1,Sn=[],Tn=[],qn={},Nt=ht.selectionPalette.slice(0),Rt=ht.maxSelectionSize,Dn="sp-dragging",Bn=null,Nn=Ve.ownerDocument,Wt=(Nn.body,V(Ve)),hn=!1,on=V(re,Nn).addClass(kn),sr=on.find(".sp-picker-container"),Ot=on.find(".sp-color"),cn=on.find(".sp-dragger"),Me=on.find(".sp-hue"),Fe=on.find(".sp-slider"),mt=on.find(".sp-alpha-inner"),It=on.find(".sp-alpha"),rt=on.find(".sp-alpha-handle"),_t=on.find(".sp-input"),jn=on.find(".sp-palette"),fn=on.find(".sp-initial"),En=on.find(".sp-cancel"),$n=on.find(".sp-clear"),nr=on.find(".sp-choose"),er=on.find(".sp-palette-toggle"),Kn=Wt.is("input"),Xn=Kn&&Wt.attr("type")==="color"&&le(),Wn=Kn&&!Ut,zn=Wn?V(F).addClass(kn).addClass(ht.className).addClass(ht.replacerClassName):V([]),In=Wn?zn:Wt,Gn=zn.find(".sp-preview-inner"),he=ht.color||Kn&&Wt.val(),ye=!1,O=ht.preferredFormat,W=!ht.showButtons||ht.clickoutFiresChange,ce=!he,x=ht.allowEmpty&&!Xn;function fe(){if(ht.showPaletteOnly&&(ht.showPalette=!0),er.text(ht.showPaletteOnly?ht.togglePaletteMoreText:ht.togglePaletteLessText),ht.palette){Sn=ht.palette.slice(0),Tn=V.isArray(Sn[0])?Sn:[Sn],qn={};for(var Yt=0;Yt<Tn.length;Yt++)for(var i=0;i<Tn[Yt].length;i++){var o=K(Tn[Yt][i]).toRgbString();qn[o]=!0}}on.toggleClass("sp-flat",Ut),on.toggleClass("sp-input-disabled",!ht.showInput),on.toggleClass("sp-alpha-enabled",ht.showAlpha),on.toggleClass("sp-clear-enabled",x),on.toggleClass("sp-buttons-disabled",!ht.showButtons),on.toggleClass("sp-palette-buttons-disabled",!ht.togglePaletteOnly),on.toggleClass("sp-palette-disabled",!ht.showPalette),on.toggleClass("sp-palette-only",ht.showPaletteOnly),on.toggleClass("sp-initial-disabled",!ht.showInitial),on.addClass(ht.className).addClass(ht.containerClassName),An()}function ke(){if(un&&window.localStorage){try{var Yt=window.localStorage[un].split(",#");Yt.length>1&&(delete window.localStorage[un],V.each(Yt,function(i,o){De(o)}))}catch{}try{Nt=window.localStorage[un].split(";")}catch{}}}function De(Yt){if($t){var i=K(Yt).toRgbString();if(!qn[i]&&V.inArray(i,Nt)===-1)for(Nt.push(i);Nt.length>Rt;)Nt.shift();if(un&&window.localStorage)try{window.localStorage[un]=Nt.join(";")}catch{}}}function Be(){var Yt=sn(),i=V.map(Tn,function(o,G){return P(o,Yt,"sp-palette-row sp-palette-row-"+G,ht)});ke(),Nt&&i.push(P(function(){var o=[];if(ht.showPalette)for(var G=0;G<Nt.length;G++){var _e=K(Nt[G]).toRgbString();qn[_e]||o.push(Nt[G])}return o.reverse().slice(0,ht.maxSelectionSize)}(),Yt,"sp-palette-row sp-palette-row-selection",ht)),jn.html(i.join(""))}function Ke(){if(ht.showInitial){var Yt=ye,i=sn();fn.html(P([Yt,i],i,"sp-palette-row-initial",ht))}}function at(){(Zt<=0||Ct<=0||Ht<=0)&&An(),$e=!0,on.addClass(Dn),Bn=null,Wt.trigger("dragstart.spectrum",[sn()])}function ot(){$e=!1,on.removeClass(Dn),Wt.trigger("dragstop.spectrum",[sn()])}function bt(){var Yt=_t.val();if(Yt!==null&&Yt!==""||!x){var i=K(Yt);i.isValid()?(Rn(i),lr(!0)):_t.addClass("sp-validation-error")}else Rn(null),lr(!0)}function xt(){qe?gn():Dt()}function Dt(){var Yt=V.Event("beforeShow.spectrum");if(qe)An();else if(Wt.trigger("beforeShow.spectrum",[sn()]),en.beforeShow(sn())!==!1&&!Yt.isDefaultPrevented()){(function(){for(var o=0;o<ue.length;o++)ue[o]&&ue[o].hide()})(),qe=!0;var i=V(Nn);i.bind("keydown.spectrum",Qt),i.bind("click.spectrum",an),V(window).bind("resize.spectrum",Zn),zn.addClass("sp-active"),on.removeClass("sp-hidden"),An(),Un(),ye=sn(),Ke(),en.show(ye),Wt.trigger("show.spectrum",[ye])}}function Qt(Yt){Yt.keyCode===27&&gn()}function an(Yt){Yt.button!=2&&($e||(W?lr(!0):Mn(),gn()))}function gn(){qe&&!Ut&&(qe=!1,V(Nn).unbind("keydown.spectrum",Qt),V(Nn).unbind("click.spectrum",an),V(window).unbind("resize.spectrum",Zn),zn.removeClass("sp-active"),on.addClass("sp-hidden"),en.hide(sn()),Wt.trigger("hide.spectrum",[sn()]))}function Mn(){Rn(ye,!0)}function Rn(Yt,i){var o,G;K.equals(Yt,sn())?Un():(!Yt&&x?ce=!0:(ce=!1,ft=!Yt,G=(o=K(Yt)).toHsv(),ln=G.h%360/360,bn=G.s,wn=G.v,Cn=G.a),Un(),o&&o.isValid()&&!i&&(O=ht.preferredFormat||o.getFormat()))}function sn(Yt){return Yt=Yt||{},x&&ce?null:K.fromRatio({h:ln,s:bn,v:wn,a:Math.round(100*Cn)/100},{format:Yt.format||O})}function On(){Un(),en.move(sn()),Wt.trigger("move.spectrum",[sn()])}function Un(){_t.removeClass("sp-validation-error"),Jn();var Yt=K.fromRatio({h:ln,s:1,v:1});Ot.css("background-color",Yt.toHexString());var i=O;Cn<1&&(Cn!==0||i!=="name")&&(i!=="hex"&&i!=="hex3"&&i!=="hex6"&&i!=="name"||(i="rgb"));var o=sn({format:i}),G="";if(Gn.removeClass("sp-clear-display"),Gn.css("background-color","transparent"),!o&&x)Gn.addClass("sp-clear-display");else{var _e=o.toHexString(),Ze=o.toRgbString();if(L||o.alpha===1?Gn.css("background-color",Ze):(Gn.css("background-color","transparent"),Gn.css("filter",o.toFilter())),ht.showAlpha){var Le=o.toRgb();Le.a=0;var Qe=K(Le).toRgbString(),dt="linear-gradient(left, "+Qe+", "+_e+")";M?mt.css("filter",K(Qe).toFilter({gradientType:1},_e)):(mt.css("background","-webkit-"+dt),mt.css("background","-moz-"+dt),mt.css("background","-ms-"+dt),mt.css("background","linear-gradient(to right, "+Qe+", "+_e+")"))}G=o.toString(i)}ht.showInput&&_t.val(G),ht.showPalette&&Be(),Ke()}function Jn(){var Yt=bn,i=wn;if(x&&ce)rt.hide(),Fe.hide(),cn.hide();else{rt.show(),Fe.show(),cn.show();var o=Yt*Ct,G=Zt-i*Zt;o=Math.max(-Mt,Math.min(Ct-Mt,o-Mt)),G=Math.max(-Mt,Math.min(Zt-Mt,G-Mt)),cn.css({top:G+"px",left:o+"px"});var _e=Cn*Gt;rt.css({left:_e-nn/2+"px"});var Ze=ln*Ht;Fe.css({top:Ze-dn+"px"})}}function lr(Yt){var i=sn(),o="",G=!!ft||!K.equals(i,ye);i&&(o=i.toString(O),!qe&&De(i)),Kn&&Wt.val(o),Yt&&G&&(en.change(i),Wt.trigger("change",[i]))}function An(){qe&&(Ct=Ot.width(),Zt=Ot.height(),Mt=cn.height(),Me.width(),Ht=Me.height(),dn=Fe.height(),Gt=It.width(),nn=rt.width(),Ut||(on.css("position","absolute"),ht.offset?on.offset(ht.offset):on.offset(function(Yt,i){var o=0,G=Yt.outerWidth(),_e=Yt.outerHeight(),Ze=i.outerHeight(),Le=Yt[0].ownerDocument,Qe=Le.documentElement,dt=Qe.clientWidth,kt=Qe.clientHeight,Pt=V(Le).scrollLeft(),Tt=V(Le).scrollTop(),Jt=dt+Pt,Xt=kt+Tt,Kt=i.offset();return Kt.top+=Ze,Kt.left-=Math.min(Kt.left,Kt.left+G>Jt&&Jt>G?Math.abs(Kt.left+G-Jt):0),Kt.top-=Math.min(Kt.top,Kt.top+_e>Xt&&Xt>_e?Math.abs(_e+Ze-o):o),Kt}(on,In))),Jn(),ht.showPalette&&Be(),Wt.trigger("reflow.spectrum"))}function Yn(){gn(),hn=!0,Wt.attr("disabled",!0),In.addClass("sp-disabled")}(function(){if(M&&on.find("*:not(input)").attr("unselectable","on"),fe(),Wn&&Wt.after(zn).hide(),x||$n.hide(),Ut)Wt.after(on).hide();else{var Yt=ht.appendTo==="parent"?Wt.parent():V(ht.appendTo);Yt.length!==1&&(Yt=V("body")),Yt.append(on)}function i(G){return G.data&&G.data.ignore?(Rn(V(G.target).closest(".sp-thumb-el").data("color")),On()):(Rn(V(G.target).closest(".sp-thumb-el").data("color")),On(),ht.hideAfterPaletteSelect&&(lr(!0),gn())),!1}ke(),In.bind("click.spectrum touchstart.spectrum",function(G){hn||xt(),G.stopPropagation(),V(G.target).is("input")||G.preventDefault()}),(Wt.is(":disabled")||ht.disabled===!0)&&Yn(),on.click(q),_t.change(bt),_t.bind("paste",function(){setTimeout(bt,1)}),_t.keydown(function(G){G.keyCode==13&&bt()}),En.text(ht.cancelText),En.bind("click.spectrum",function(G){G.stopPropagation(),G.preventDefault(),Mn(),gn()}),$n.attr("title",ht.clearText),$n.bind("click.spectrum",function(G){G.stopPropagation(),G.preventDefault(),ce=!0,On(),Ut&&lr(!0)}),nr.text(ht.chooseText),nr.bind("click.spectrum",function(G){G.stopPropagation(),G.preventDefault(),M&&_t.is(":focus")&&_t.trigger("change"),_t.hasClass("sp-validation-error")||(lr(!0),gn())}),er.text(ht.showPaletteOnly?ht.togglePaletteMoreText:ht.togglePaletteLessText),er.bind("click.spectrum",function(G){G.stopPropagation(),G.preventDefault(),ht.showPaletteOnly=!ht.showPaletteOnly,ht.showPaletteOnly||Ut||on.css("left","-="+(sr.outerWidth(!0)+5)),fe()}),D(It,function(G,_e,Ze){Cn=G/Gt,ce=!1,Ze.shiftKey&&(Cn=Math.round(10*Cn)/10),On()},at,ot),D(Me,function(G,_e){ln=parseFloat(_e/Ht),ce=!1,ht.showAlpha||(Cn=1),On()},at,ot),D(Ot,function(G,_e,Ze){if(Ze.shiftKey){if(!Bn){var Le=bn*Ct,Qe=Zt-wn*Zt,dt=Math.abs(G-Le)>Math.abs(_e-Qe);Bn=dt?"x":"y"}}else Bn=null;var kt=!Bn||Bn==="y";(!Bn||Bn==="x")&&(bn=parseFloat(G/Ct)),kt&&(wn=parseFloat((Zt-_e)/Zt)),ce=!1,ht.showAlpha||(Cn=1),On()},at,ot),he?(Rn(he),Un(),O=ht.preferredFormat||K(he).getFormat(),De(he)):Un(),Ut&&Dt();var o=M?"mousedown.spectrum":"click.spectrum touchstart.spectrum";jn.delegate(".sp-thumb-el",o,i),fn.delegate(".sp-thumb-el:nth-child(1)",o,{ignore:!0},i)})();var xn={show:Dt,hide:gn,toggle:xt,reflow:An,option:function(Yt,i){return Yt===se?V.extend({},ht):i===se?ht[Yt]:(ht[Yt]=i,Yt==="preferredFormat"&&(O=ht.preferredFormat),void fe())},enable:function(){hn=!1,Wt.attr("disabled",!1),In.removeClass("sp-disabled")},disable:Yn,offset:function(Yt){ht.offset=Yt,An()},set:function(Yt){Rn(Yt),lr()},get:sn,destroy:function(){Wt.show(),In.unbind("click.spectrum touchstart.spectrum"),on.remove(),zn.remove(),ue[xn.id]=null},container:on};return xn.id=ue.push(xn)-1,xn}function ee(){}function q(Ve){Ve.stopPropagation()}function C(Ve,et){var ut=Array.prototype.slice,At=ut.call(arguments,2);return function(){return Ve.apply(et,At.concat(ut.call(arguments)))}}function D(Ve,et,ut,At){et=et||function(){},ut=ut||function(){},At=At||function(){};var yt=document,ht=!1,Ut={},$t=0,un=0,kn="ontouchstart"in window,en={};function Zn(ft){ft.stopPropagation&&ft.stopPropagation(),ft.preventDefault&&ft.preventDefault(),ft.returnValue=!1}function qe(ft){if(ht){if(M&&yt.documentMode<9&&!ft.button)return $e();var Ct=ft&&ft.touches&&ft.touches[0],Zt=Ct&&Ct.pageX||ft.pageX,Mt=Ct&&Ct.pageY||ft.pageY,Ht=Math.max(0,Math.min(Zt-Ut.left,un)),Gt=Math.max(0,Math.min(Mt-Ut.top,$t));kn&&Zn(ft),et.apply(Ve,[Ht,Gt,ft])}}function $e(){ht&&(V(yt).unbind(en),V(yt.body).removeClass("sp-dragging"),setTimeout(function(){At.apply(Ve,arguments)},0)),ht=!1}en.selectstart=Zn,en.dragstart=Zn,en["touchmove mousemove"]=qe,en["touchend mouseup"]=$e,V(Ve).bind("touchstart mousedown",function(ft){var Ct=ft.which?ft.which==3:ft.button==2;Ct||ht||ut.apply(Ve,arguments)!==!1&&(ht=!0,$t=V(Ve).height(),un=V(Ve).width(),Ut=V(Ve).offset(),V(yt).bind(en),V(yt.body).addClass("sp-dragging"),qe(ft),Zn(ft))})}function le(){return V.fn.spectrum.inputTypeColorSupport()}function be(Ve,et,ut){Ve=Ne(Ve,255),et=Ne(et,255),ut=Ne(ut,255);var At,yt,ht=$(Ve,et,ut),Ut=v(Ve,et,ut),$t=(ht+Ut)/2;if(ht==Ut)At=yt=0;else{var un=ht-Ut;switch(yt=$t>.5?un/(2-ht-Ut):un/(ht+Ut),ht){case Ve:At=(et-ut)/un+(et<ut?6:0);break;case et:At=(ut-Ve)/un+2;break;case ut:At=(Ve-et)/un+4}At/=6}return{h:At,s:yt,l:$t}}function I(Ve,et,ut){Ve=Ne(Ve,255),et=Ne(et,255),ut=Ne(ut,255);var At,yt,ht=$(Ve,et,ut),Ut=v(Ve,et,ut),$t=ht,un=ht-Ut;if(yt=ht===0?0:un/ht,ht==Ut)At=0;else{switch(ht){case Ve:At=(et-ut)/un+(et<ut?6:0);break;case et:At=(ut-Ve)/un+2;break;case ut:At=(Ve-et)/un+4}At/=6}return{h:At,s:yt,v:$t}}function oe(Ve,et,ut,At){var yt=[vt(g(Ve).toString(16)),vt(g(et).toString(16)),vt(g(ut).toString(16))];return At&&yt[0].charAt(0)==yt[0].charAt(1)&&yt[1].charAt(0)==yt[1].charAt(1)&&yt[2].charAt(0)==yt[2].charAt(1)?yt[0].charAt(0)+yt[1].charAt(0)+yt[2].charAt(0):yt.join("")}function de(Ve,et,ut,At){var yt;return[vt((yt=At,Math.round(255*parseFloat(yt)).toString(16))),vt(g(Ve).toString(16)),vt(g(et).toString(16)),vt(g(ut).toString(16))].join("")}function Oe(Ve,et){et=et===0?0:et||10;var ut=K(Ve).toHsl();return ut.s-=et/100,ut.s=We(ut.s),K(ut)}function we(Ve,et){et=et===0?0:et||10;var ut=K(Ve).toHsl();return ut.s+=et/100,ut.s=We(ut.s),K(ut)}function Se(Ve){return K(Ve).desaturate(100)}function xe(Ve,et){et=et===0?0:et||10;var ut=K(Ve).toHsl();return ut.l+=et/100,ut.l=We(ut.l),K(ut)}function Ie(Ve,et){et=et===0?0:et||10;var ut=K(Ve).toRgb();return ut.r=$(0,v(255,ut.r-g(-et/100*255))),ut.g=$(0,v(255,ut.g-g(-et/100*255))),ut.b=$(0,v(255,ut.b-g(-et/100*255))),K(ut)}function Xe(Ve,et){et=et===0?0:et||10;var ut=K(Ve).toHsl();return ut.l-=et/100,ut.l=We(ut.l),K(ut)}function tt(Ve,et){var ut=K(Ve).toHsl(),At=(g(ut.h)+et)%360;return ut.h=At<0?360+At:At,K(ut)}function gt(Ve){var et=K(Ve).toHsl();return et.h=(et.h+180)%360,K(et)}function ct(Ve){var et=K(Ve).toHsl(),ut=et.h;return[K(Ve),K({h:(ut+120)%360,s:et.s,l:et.l}),K({h:(ut+240)%360,s:et.s,l:et.l})]}function Bt(Ve){var et=K(Ve).toHsl(),ut=et.h;return[K(Ve),K({h:(ut+90)%360,s:et.s,l:et.l}),K({h:(ut+180)%360,s:et.s,l:et.l}),K({h:(ut+270)%360,s:et.s,l:et.l})]}function Lt(Ve){var et=K(Ve).toHsl(),ut=et.h;return[K(Ve),K({h:(ut+72)%360,s:et.s,l:et.l}),K({h:(ut+216)%360,s:et.s,l:et.l})]}function Ft(Ve,et,ut){et=et||6,ut=ut||30;var At=K(Ve).toHsl(),yt=360/ut,ht=[K(Ve)];for(At.h=(At.h-(yt*et>>1)+720)%360;--et;)At.h=(At.h+yt)%360,ht.push(K(At));return ht}function ze(Ve,et){et=et||6;for(var ut=K(Ve).toHsv(),At=ut.h,yt=ut.s,ht=ut.v,Ut=[],$t=1/et;et--;)Ut.push(K({h:At,s:yt,v:ht})),ht=(ht+$t)%1;return Ut}function Ee(Ve){return Ve=parseFloat(Ve),(isNaN(Ve)||Ve<0||Ve>1)&&(Ve=1),Ve}function Ne(Ve,et){(function(At){return typeof At=="string"&&At.indexOf(".")!=-1&&parseFloat(At)===1})(Ve)&&(Ve="100%");var ut=function(At){return typeof At=="string"&&At.indexOf("%")!=-1}(Ve);return Ve=v(et,$(0,parseFloat(Ve))),ut&&(Ve=parseInt(Ve*et,10)/100),y.abs(Ve-et)<1e-6?1:Ve%et/parseFloat(et)}function We(Ve){return v(1,$(0,Ve))}function it(Ve){return parseInt(Ve,16)}function vt(Ve){return Ve.length==1?"0"+Ve:""+Ve}function jt(Ve){return Ve<=1&&(Ve=100*Ve+"%"),Ve}function tn(Ve){return it(Ve)/255}}(J);var te=function(V){var se=V.getFormat()==="name"&&V.toName(),ve=V.getAlpha()==1?V.toHexString():V.toRgbString();return se||ve.replace(/ /g,"")},X=function(V){(0,p.Z)(ve,V);var se=Q(ve);function ve(){return(0,U.Z)(this,ve),se.apply(this,arguments)}return(0,S.Z)(ve,[{key:"template",value:function(){var ue=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(ue,`field-colorp">
        <div class="`).concat(ue,`field-colorp-c" data-colorp-c>
          <div class="`).concat(ue,`checker-bg"></div>
        </div>
      </div>
    `)}},{key:"inputClass",value:function(){var ue=this.ppfx;return"".concat(ue,"field ").concat(ue,"field-color")}},{key:"holderClass",value:function(){return"".concat(this.ppfx,"input-holder")}},{key:"remove",value:function(){w.Z.prototype.remove.apply(this,arguments),this.colorEl.spectrum("destroy")}},{key:"handleChange",value:function(ue){ue.stopPropagation();var M=ue.target.value;(0,f.isUndefined)(M)||this.__onInputChange(M)}},{key:"__onInputChange",value:function(ue){var M=this.model,L=this.opts.onChange,F=ue,re=this.getColorEl();if(re){re.spectrum("set",F);var ne=re.spectrum("get"),H=F&&te(ne);H&&(F=H)}L?L(F):M.set({value:F},{fromInput:1})}},{key:"setValue",value:function(ue){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=this.model,F=(0,f.isUndefined)(M.def)?L.get("defaults"):M.def,re=(0,f.isUndefined)(ue)?(0,f.isUndefined)(F)?"":F:ue,ne=this.getInputEl(),H=this.getColorEl(),Y=re!="none"?re:"";ne.value=re,H.get(0).style.backgroundColor=Y,(M.fromTarget||M.fromInput&&!M.avoidStore)&&(H.spectrum("set",Y),this.noneColor=re=="none")}},{key:"getColorEl",value:function(){if(!this.colorEl){var ue,M=this.em,L=this.model,F=this.opts,re=this,ne=this.ppfx,H=F.onChange,Y=J('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),l=Y.get(0).style,y=M&&M.config?M.config.el:"",g=M&&M.getConfig&&M.getConfig().colorPicker||{},v=!1,$="";this.$el.find("[data-colorp-c]").append(Y);var ae=function(K){var N=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];H?H(K,!N):(N&&L.setValueFromInput(0,!1),L.setValueFromInput(K,N))};Y.spectrum(Z(Z(Z({color:L.getValue()||!1,containerClassName:"".concat(ne,"one-bg ").concat(ne,"two-color"),appendTo:y||"body",maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F",palette:[]},g),L.get("colorPicker")||{}),{},{move:function(K){var N=te(K);$=N,l.backgroundColor=N,ae(N,!1)},change:function(K){v=!0;var N=te(K);l.backgroundColor=N,ae(N),re.noneColor=0},show:function(K){v=!1,$="",ue=H?L.getValue({noDefault:!0}):te(K)},hide:function(){v||!ue&&!H||(re.noneColor&&(ue=""),l.backgroundColor=ue,Y.spectrum("set",ue),ae(ue,!1))}})),M&&M.on&&this.listenTo(M,"component:selected",function(){$&&ae($),v=!0,$="",Y.spectrum("hide")}),this.colorEl=Y}return this.colorEl}},{key:"render",value:function(){return w.Z.prototype.render.call(this),this.getColorEl(),this}}]),ve}(w.Z)},7610:(ge,ie,s)=>{s.d(ie,{Z:()=>E});var A=s(5671),U=s(3144),S=s(7326),p=s(9340),k=s(2963),d=s(1120),j=s(2316),_=s.n(j),f=s(9050),c=s(1163),m=s(8659);function w(Z){var Q=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var J,te=(0,d.Z)(Z);if(Q){var X=(0,d.Z)(this).constructor;J=Reflect.construct(te,arguments,X)}else J=te.apply(this,arguments);return(0,k.Z)(this,J)}}_().$;var E=function(Z){(0,p.Z)(J,Z);var Q=w(J);function J(){var te,X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,A.Z)(this,J),te=Q.call(this,X),(0,f.bindAll)((0,S.Z)(te),"moveIncrement","upIncrement"),te.doc=document,te.listenTo(te.model,"change:unit",te.handleModelChange),te}return(0,U.Z)(J,[{key:"template",value:function(){var te=this.ppfx;return`
      <span class="`.concat(te,`input-holder"></span>
      <span class="`).concat(te,`field-units"></span>
      <div class="`).concat(te,`field-arrows" data-arrows>
        <div class="`).concat(te,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(te,`field-arrow-d" data-arrow-down></div>
      </div>
    `)}},{key:"inputClass",value:function(){var te=this.ppfx;return this.opts.contClass||"".concat(te,"field ").concat(te,"field-integer")}},{key:"setValue",value:function(te,X){var V=X||{},se=this.validateInputValue(te,{deepCheck:1}),ve={value:se.value};(se.unit||se.force)&&(ve.unit=se.unit),this.model.set(ve,V),V.silent&&this.handleModelChange()}},{key:"handleChange",value:function(te){te.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()}},{key:"handleUnitChange",value:function(te){te.stopPropagation();var X=this.getUnitEl().value;this.model.set("unit",X),this.elementUpdated()}},{key:"handleKeyDown",value:function(te){te.key==="ArrowUp"&&(te.preventDefault(),this.upArrowClick()),te.key==="ArrowDown"&&(te.preventDefault(),this.downArrowClick())}},{key:"elementUpdated",value:function(){this.model.trigger("el:change")}},{key:"handleModelChange",value:function(){var te=this.model;this.getInputEl().value=te.get("value");var X=this.getUnitEl();X&&(X.value=te.get("unit")||"")}},{key:"getUnitEl",value:function(){if(!this.unitEl){var te=this.model,X=te.get("units")||[];if(X.length){var V=['<option value="" disabled hidden>-</option>'];X.forEach(function(ve){var ue=ve==te.get("unit")?"selected":"";V.push("<option ".concat(ue,">").concat(ve,"</option>"))});var se=document.createElement("div");se.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(V.join(""),"</select>"),this.unitEl=se.firstChild}}return this.unitEl}},{key:"upArrowClick",value:function(){var te=this.model,X=te.get("step"),V=parseFloat(te.get("value"));this.setValue(this.normalizeValue(V+X)),this.elementUpdated()}},{key:"downArrowClick",value:function(){var te=this.model,X=te.get("step"),V=parseFloat(te.get("value"));this.setValue(this.normalizeValue(V-X)),this.elementUpdated()}},{key:"downIncrement",value:function(te){te.preventDefault(),this.moved=0;var X=this.model.get("value")||0;X=this.normalizeValue(X),this.current={y:te.pageY,val:X},(0,c.on)(this.doc,"mousemove",this.moveIncrement),(0,c.on)(this.doc,"mouseup",this.upIncrement)}},{key:"moveIncrement",value:function(te){this.moved=1;var X=this.model,V=X.get("step"),se=this.current,ve=this.normalizeValue(se.val+(se.y-te.pageY)*V),ue=this.validateInputValue(ve),M=ue.value,L=ue.unit;return this.prValue=M,X.set({value:M,unit:L},{avoidStore:1}),!1}},{key:"upIncrement",value:function(){var te=this.model,X=te.get("step");if((0,c.off)(this.doc,"mouseup",this.upIncrement),(0,c.off)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var V=this.prValue-X;te.set("value",V,{avoidStore:1}).set("value",V+X),this.elementUpdated()}}},{key:"normalizeValue",value:function(te){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,V=this.model,se=V.get("step"),ve=0;if(isNaN(te))return X;if(te=parseFloat(te),Math.floor(te)!==te){var ue=se.toString().split(".")[1];ve=ue?ue.length:0}return ve?parseFloat(te.toFixed(ve)):te}},{key:"validateInputValue",value:function(te){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=0,se=X||{},ve=this.model,ue="",M=(0,f.isUndefined)(te)?ue:te,L=X.units||ve.get("units")||[],F=ve.get("unit")||L.length&&L[0]||"",re=(0,f.isUndefined)(X.max)?ve.get("max"):X.max,ne=(0,f.isUndefined)(X.min)?ve.get("min"):X.min,H=!!ve.get("limitlessMax"),Y=!!ve.get("limitlessMin");if(se.deepCheck){var l=ve.get("fixedValues")||[];if(M===""&&(F=""),M){var y=new RegExp("^"+l.join("|"),"g");if(l.length&&y.test(M))M=M.match(y)[0],F="",V=1;else{var g=M+"";M+="",M=parseFloat(M.replace(",",".")),M=isNaN(M)?ue:M;var v=g.replace(M,"");(0,f.indexOf)(L,v)>=0&&(F=v)}}}return H||(0,f.isUndefined)(re)||re===""||(M=M>re?re:M),Y||(0,f.isUndefined)(ne)||ne===""||(M=M<ne?ne:M),{force:V,value:M,unit:F}}},{key:"render",value:function(){m.Z.prototype.render.call(this),this.unitEl=null;var te=this.getUnitEl();return te&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(te),this}}]),J}(m.Z);E.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"}},6602:(ge,ie,s)=>{s.d(ie,{Z:()=>w});var A=s(5671),U=s(3144),S=s(7326),p=s(9340),k=s(2963),d=s(1120),j=s(4942),_=s(9050),f=s(2316),c=s.n(f);function m(E){var Z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Q,J=(0,d.Z)(E);if(Z){var te=(0,d.Z)(this).constructor;Q=Reflect.construct(J,arguments,te)}else Q=J.apply(this,arguments);return(0,k.Z)(this,Q)}}var w=function(E){(0,p.Z)(Q,E);var Z=m(Q);function Q(){var J,te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=arguments.length>1?arguments[1]:void 0,V=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return(0,A.Z)(this,Q),J=Z.call(this,te),(0,j.Z)((0,S.Z)(J),"itemsView",""),(0,j.Z)((0,S.Z)(J),"itemType","type"),(0,j.Z)((0,S.Z)(J),"reuseView",!1),J.config=X||te.config||{},V&&J.listenTo(J.collection,"add",J.addTo),J.items=[],J}return(0,U.Z)(Q,[{key:"addTo",value:function(J){this.add(J)}},{key:"itemViewNotFound",value:function(J){var te=this.config,X=this.ns,V=te.em,se="".concat(X?"[".concat(X,"]: "):"","'").concat(J,"' type not found");V&&V.logWarning(se)}},{key:"add",value:function(J,te){var X,V=this.config,se=this.reuseView,ve=this.items,ue=this.itemsView,M=ue===void 0?{}:ue,L=te||null,F=this.itemView,re=J.get(this.itemType);M[re]?F=M[re]:!re||M[re]||(0,_.includes)(["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],re)||this.itemViewNotFound(re),X=J.view&&se?J.view:new F({model:J,config:V},V),ve&&ve.push(X);var ne=X.render().el;L?L.appendChild(ne):this.$el.append(ne)}},{key:"render",value:function(){var J=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(te){this.add(te,J)},this),this.$el.append(J),this.onRender(),this}},{key:"onRender",value:function(){}},{key:"onRemoveBefore",value:function(){}},{key:"onRemove",value:function(){}},{key:"remove",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},te=this.items;this.onRemoveBefore(te,J),this.clearItems(),c().View.prototype.remove.apply(this,arguments),this.onRemove(te,J)}},{key:"clearItems",value:function(){this.items}}]),Q}(c().View);w.prototype.itemView=""},4836:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>c});var A=s(5671),U=s(3144),S=s(4942),p=s(9050),k=s(1163),d={placeholder:"eg. Text here"};const j={locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:{assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",traits:{labels:{},attributes:{id:d,alt:d,title:d,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}}},messagesAdd:null};function _(m,w){var E=Object.keys(m);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(m);w&&(Z=Z.filter(function(Q){return Object.getOwnPropertyDescriptor(m,Q).enumerable})),E.push.apply(E,Z)}return E}function f(m){for(var w=1;w<arguments.length;w++){var E=arguments[w]!=null?arguments[w]:{};w%2?_(Object(E),!0).forEach(function(Z){(0,S.Z)(m,Z,E[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(E)):_(Object(E)).forEach(function(Z){Object.defineProperty(m,Z,Object.getOwnPropertyDescriptor(E,Z))})}return m}var c=function(){function m(){(0,A.Z)(this,m),(0,S.Z)(this,"name","I18n")}return(0,U.Z)(m,[{key:"init",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.config=f(f(f({},j),w),{},{messages:f(f({},j.messages),w.messages||{})});var E=this.config.messagesAdd;return E&&this.addMessages(E),this.config.detectLocale&&(this.config.locale=this._localLang()),this.em=w.em,this}},{key:"getConfig",value:function(){return this.config}},{key:"setLocale",value:function(w){var E=this.em,Z=this.config,Q={value:w,valuePrev:Z.locale};return E&&E.trigger("i18n:locale",Q),Z.locale=w,this}},{key:"getLocale",value:function(){return this.config.locale}},{key:"getMessages",value:function(w){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=this.config.messages;return w&&!Z[w]&&this._debug("'".concat(w,"' i18n lang not found"),E),w?Z[w]:Z}},{key:"setMessages",value:function(w){var E=this.em;return this.config.messages=w,E&&E.trigger("i18n:update",w),this}},{key:"addMessages",value:function(w){var E=this.em,Z=this.config.messages;return E&&E.trigger("i18n:add",w),this.setMessages((0,k.deepMerge)(Z,w)),this}},{key:"t",value:function(w){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=this.config,Q=E.params||{},J=E.l||this.getLocale(),te=E.lFlb||Z.localeFallback,X=this._getMsg(w,J,E);return X||(X=this._getMsg(w,te,E)),!X&&this._debug("'".concat(w,"' i18n key not found in '").concat(J,"' lang"),E),X=X&&(0,p.isString)(X)?this._addParams(X,Q):X}},{key:"_localLang",value:function(){var w=(0,k.hasWin)()&&window.navigator||{},E=w.language||w.userLanguage;return E?E.split("-")[0]:"en"}},{key:"_addParams",value:function(w,E){var Z=new RegExp("{([\\w\\d-]*)}","g");return w.replace(Z,function(Q,J){return E[J]||""}).trim()}},{key:"_getMsg",value:function(w,E){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Q=this.getMessages(E,Z);if(Q){var J=Q[w];return!J&&w.indexOf(".")>0&&(J=w.split(".").reduce(function(te,X){if(!(0,p.isUndefined)(te))return te[X]},Q)),J}}},{key:"_debug",value:function(w){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=this.em,Q=this.config;(E.debug||Q.debug)&&Z&&Z.logWarning(w)}},{key:"destroy",value:function(){this.config={},this.em={}}}]),m}()},9788:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>ne});var A,U=s(1002),S=s(4942),p=s(9050),k=s(1163),d={},j={16:!1,18:!1,17:!1,91:!1},_="all",f={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},c={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},m=function(H){return c[H]||H.toUpperCase().charCodeAt(0)},w=[];for(A=1;A<20;A++)c["f"+A]=111+A;function E(H,Y){for(var l=H.length;l--;)if(H[l]===Y)return l;return-1}function Z(H,Y){if(H.length!=Y.length)return!1;for(var l=0;l<H.length;l++)if(H[l]!==Y[l])return!1;return!0}var Q={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function J(H){for(A in j)j[A]=H[Q[A]]}function te(H){var Y,l=H.keyCode,y=E(w,l);if(y>=0&&w.splice(y,1),l!=93&&l!=224||(l=91),l in j)for(Y in j[l]=!1,f)f[Y]==l&&(V[Y]=!1)}function X(){for(A in j)j[A]=!1;for(A in f)V[A]=!1}function V(H,Y,l){var y,g;y=ve(H),l===void 0&&(l=Y,Y="all");for(var v=0;v<y.length;v++)g=[],(H=y[v].split("+")).length>1&&(g=ue(H),H=[H[H.length-1]]),H=H[0],(H=m(H))in d||(d[H]=[]),d[H].push({shortcut:y[v],scope:Y,method:l,key:y[v],mods:g})}for(A in f)V[A]=!1;function se(){return _||"all"}function ve(H){var Y;return(Y=(H=H.replace(/\s/g,"")).split(","))[Y.length-1]==""&&(Y[Y.length-2]+=","),Y}function ue(H){for(var Y=H.slice(0,H.length-1),l=0;l<Y.length;l++)Y[l]=f[Y[l]];return Y}function M(H,Y,l){H.addEventListener?H.addEventListener(Y,l,!1):H.attachEvent&&H.attachEvent("on"+Y,function(){l(window.event)})}V.setScope=function(H){_=H||"all"},V.getScope=se,V.deleteScope=function(H){var Y,l,y;for(Y in d)for(l=d[Y],y=0;y<l.length;)l[y].scope===H?l.splice(y,1):y++},V.filter=function(H){var Y=(H.target||H.srcElement).tagName;return!(Y=="INPUT"||Y=="SELECT"||Y=="TEXTAREA")},V.isPressed=function(H){return typeof H=="string"&&(H=m(H)),E(w,H)!=-1},V.getPressedKeyCodes=function(){return w.slice(0)},V.unbind=function(H,Y){var l,y,g,v,$,ae=[];for(l=ve(H),v=0;v<l.length;v++){if((y=l[v].split("+")).length>1&&(ae=ue(y)),H=y[y.length-1],H=m(H),Y===void 0&&(Y=se()),!d[H])return;for(g=0;g<d[H].length;g++)($=d[H][g]).scope===Y&&Z($.mods,ae)&&(d[H][g]={})}},V.handlers=d,V.init=function(H){M(H.document,"keydown",function(Y){(function(l){var y,g,v,$,ae,K;if(y=l.keyCode,E(w,y)==-1&&w.push(y),y!=93&&y!=224||(y=91),y in j)for(v in j[y]=!0,f)f[v]==y&&(V[v]=!0);else if(J(l),V.filter.call(this,l)&&y in d){for(K=se(),$=0;$<d[y].length;$++)if((g=d[y][$]).scope==K||g.scope=="all"){for(v in ae=g.mods.length>0,j)(!j[v]&&E(g.mods,+v)>-1||j[v]&&E(g.mods,+v)==-1)&&(ae=!1);(g.mods.length!=0||j[16]||j[18]||j[17]||j[91])&&!ae||g.method(l,g)===!1&&(l.preventDefault?l.preventDefault():l.returnValue=!1,l.stopPropagation&&l.stopPropagation(),l.cancelBubble&&(l.cancelBubble=!0))}}})(Y)}),M(H.document,"keyup",te),M(H,"focus",X)};const L=V;function F(H,Y){var l=Object.keys(H);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(H);Y&&(y=y.filter(function(g){return Object.getOwnPropertyDescriptor(H,g).enumerable})),l.push.apply(l,y)}return l}function re(H){for(var Y=1;Y<arguments.length;Y++){var l=arguments[Y]!=null?arguments[Y]:{};Y%2?F(Object(l),!0).forEach(function(y){(0,S.Z)(H,y,l[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(l)):F(Object(l)).forEach(function(y){Object.defineProperty(H,y,Object.getOwnPropertyDescriptor(l,y))})}return H}(0,k.hasWin)()&&L.init(window);const ne=function(){var H={defaults:{"core:undo":{keys:"\u2318+z, ctrl+z",handler:"core:undo"},"core:redo":{keys:"\u2318+shift+z, ctrl+shift+z",handler:"core:redo"},"core:copy":{keys:"\u2318+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"\u2318+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:1}}}};return{keymaster:L,name:"Keymaps",getConfig:function(){return this.config},init:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.config=re(re({},H),Y),this.em=this.config.em,this.keymaps={},this},onLoad:function(){var Y=this.config.defaults;for(var l in Y){var y=Y[l];this.add(l,y.keys,y.handler,y.opts||{})}},add:function(Y,l,y){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},v=this.em,$=v.get("Commands"),ae=v.getEditor(),K=v.get("Canvas"),N={id:Y,keys:l,handler:y},b=this.keymaps[Y];return b&&this.remove(Y),this.keymaps[Y]=N,L(l,function(h,z){var R={event:h,h:z};if(y=(0,p.isString)(y)?$.get(y):y,!v.isEditing()&&!ae.Canvas.isInputFocused()||g.force){g.prevent&&K.getCanvasView().preventDefault(h),(0,U.Z)(y)=="object"?$.runCommand(y,R):y(ae,0,R);var T=[Y,z.shortcut,h];v.trigger.apply(v,["keymap:emit"].concat(T)),v.trigger.apply(v,["keymap:emit:".concat(Y)].concat(T))}}),v.trigger("keymap:add",N),N},get:function(Y){return this.keymaps[Y]},getAll:function(){return this.keymaps},remove:function(Y){var l=this.em,y=this.get(Y);if(y)return delete this.keymaps[Y],y.keys.split(", ").forEach(function(g){return L.unbind(g.trim())}),l&&l.trigger("keymap:remove",y),y},removeAll:function(){var Y=this;return Object.keys(this.keymaps).forEach(function(l){return Y.remove(l)}),L.handlers={},this},destroy:function(){this.removeAll(),this.keymaps={},this.em={}}}}},2450:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>V});var A=s(4942),U=s(9050),S=s(9283);const p={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}};var k=s(5671),d=s(3144),j=s(9340),_=s(2963),f=s(1120),c=s(2316);function m(se){var ve=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ue,M=(0,f.Z)(se);if(ve){var L=(0,f.Z)(this).constructor;ue=Reflect.construct(M,arguments,L)}else ue=M.apply(this,arguments);return(0,_.Z)(this,ue)}}var w=function(se){(0,j.Z)(ue,se);var ve=m(ue);function ue(){return(0,k.Z)(this,ue),ve.apply(this,arguments)}return(0,d.Z)(ue,[{key:"defaults",value:function(){return{title:"",content:"",attributes:{},open:!1}}},{key:"open",value:function(){this.set("open",!0)}},{key:"close",value:function(){this.set("open",!1)}}]),ue}(c.Model);function E(se,ve){var ue=Object.keys(se);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(se);ve&&(M=M.filter(function(L){return Object.getOwnPropertyDescriptor(se,L).enumerable})),ue.push.apply(ue,M)}return ue}function Z(se){for(var ve=1;ve<arguments.length;ve++){var ue=arguments[ve]!=null?arguments[ve]:{};ve%2?E(Object(ue),!0).forEach(function(M){(0,A.Z)(se,M,ue[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(ue)):E(Object(ue)).forEach(function(M){Object.defineProperty(se,M,Object.getOwnPropertyDescriptor(ue,M))})}return se}function Q(se){var ve=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ue,M=(0,f.Z)(se);if(ve){var L=(0,f.Z)(this).constructor;ue=Reflect.construct(M,arguments,L)}else ue=M.apply(this,arguments);return(0,_.Z)(this,ue)}}var J=function(se){(0,j.Z)(ue,se);var ve=Q(ue);function ue(){return(0,k.Z)(this,ue),ve.apply(this,arguments)}return(0,d.Z)(ue,[{key:"template",value:function(M){var L=M.pfx,F=M.ppfx,re=M.content,ne=M.title;return'<div class="'.concat(L,"dialog ").concat(F,"one-bg ").concat(F,`two-color">
      <div class="`).concat(L,`header">
        <div class="`).concat(L,'title">').concat(ne,`</div>
        <div class="`).concat(L,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(L,`content">
        <div id="`).concat(L,'c">').concat(re,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(L,'collector" style="display: none"></div>')}},{key:"events",value:function(){return{click:"onClick","click [data-close-modal]":"hide"}}},{key:"initialize",value:function(M){var L=this.model,F=M.config||{},re=F.stylePrefix||"";this.config=F,this.pfx=re,this.ppfx=F.pStylePrefix||"",this.listenTo(L,"change:open",this.updateOpen),this.listenTo(L,"change:title",this.updateTitle),this.listenTo(L,"change:content",this.updateContent)}},{key:"onClick",value:function(M){this.config.backdrop&&M.target===this.el&&this.hide()}},{key:"getCollector",value:function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector}},{key:"getContent",value:function(){var M=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(M,"content #").concat(M,"c"))),this.$content}},{key:"getTitle",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),M.$?this.$title:this.$title.get(0)}},{key:"updateContent",value:function(){var M=this.getContent(),L=M.children(),F=this.getCollector(),re=this.model.get("content");L.length&&F.append(L),M.empty().append(re)}},{key:"updateTitle",value:function(){var M=this.getTitle({$:!0});M&&M.empty().append(this.model.get("title"))}},{key:"updateOpen",value:function(){this.el.style.display=this.model.get("open")?"":"none"}},{key:"hide",value:function(){this.model.close()}},{key:"show",value:function(){this.model.open()}},{key:"updateAttr",value:function(M){var L=this.pfx,F=this.$el,re=this.el,ne=[].slice.call(re.attributes).map(function(H){return H.name});F.removeAttr(ne.join(" ")),F.attr(Z(Z({},M||{}),{},{class:"".concat(L,"container ").concat(M&&M.class||"").trim()}))}},{key:"render",value:function(){var M=this.$el,L=this.model.toJSON();return L.pfx=this.pfx,L.ppfx=this.ppfx,M.html(this.template(L)),this.updateAttr(),this.updateOpen(),this}}]),ue}(c.View);function te(se,ve){var ue=Object.keys(se);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(se);ve&&(M=M.filter(function(L){return Object.getOwnPropertyDescriptor(se,L).enumerable})),ue.push.apply(ue,M)}return ue}function X(se){for(var ve=1;ve<arguments.length;ve++){var ue=arguments[ve]!=null?arguments[ve]:{};ve%2?te(Object(ue),!0).forEach(function(M){(0,A.Z)(se,M,ue[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(ue)):te(Object(ue)).forEach(function(M){Object.defineProperty(se,M,Object.getOwnPropertyDescriptor(ue,M))})}return se}const V=function(){var se,ve,ue={},M=function(L,F){F&&F.trigger("modal:".concat(L?"open":"close"))};return{name:"Modal",getConfig:function(){return ue},init:function(){var L=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},re=(ue=X(X({},p),F)).em;this.em=re;var ne=ue.pStylePrefix;return ne&&(ue.stylePrefix=ne+ue.stylePrefix),(se=new w(ue)).on("change:open",function(H,Y){return M(Y,re)}),se.on("change",(0,U.debounce)(function(){var H=L._evData(),Y=L.getConfig().custom;(0,U.isFunction)(Y)&&Y(H),re.trigger("modal",H)})),this},_evData:function(){var L=this,F=this.getTitle(),re=this.getContent(),ne=se.attributes;return{open:ne.open,attributes:ne.attributes,title:(0,U.isString)(F)?(0,S.rw)(F):F,content:(0,U.isString)(re)?(0,S.rw)(re):re.get?re.get(0):re,close:function(){return L.close()}}},postRender:function(L){var F=L.model.getConfig().el||L.el,re=this.render();re&&re.appendTo(F)},open:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=L.attributes||{};return L.title&&this.setTitle(L.title),L.content&&this.setContent(L.content),se.set("attributes",F),se.open(),ve&&ve.updateAttr(F),this},close:function(){return se.close(),this},onceClose:function(L){return this.em.once("modal:close",L),this},onceOpen:function(L){return this.em.once("modal:open",L),this},isOpen:function(){return!!se.get("open")},setTitle:function(L){return se.set("title",L),this},getTitle:function(){return se.get("title")},setContent:function(L){return se.set("content"," "),se.set("content",L),this},getContent:function(){return se.get("content")},getContentEl:function(){return ve.getContent().get(0)},getModel:function(){return se},render:function(){if(!this.getConfig().custom){var L=J.extend(ue.extend),F=ve&&ve.el;return(ve=new L({el:F,model:se,config:ue})).render().$el}},destroy:function(){ve&&ve.remove(),this.em={}}}}},4906:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>$});var A="sw-visibility",U="export-template",S="open-sm",p="open-tm",k="open-layers",d="open-blocks",j="fullscreen",_="preview";const f={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:A,className:"fa fa-square-o",command:A,context:A,attributes:{title:"View components"}},{id:_,className:"fa fa-eye",command:_,context:_,attributes:{title:"Preview"}},{id:j,className:"fa fa-arrows-alt",command:j,context:j,attributes:{title:"Fullscreen"}},{id:U,className:"fa fa-code",command:U,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:S,className:"fa fa-paint-brush",command:S,active:!0,togglable:0,attributes:{title:"Open Style Manager"}},{id:p,className:"fa fa-cog",command:p,togglable:0,attributes:{title:"Settings"}},{id:k,className:"fa fa-bars",command:k,togglable:0,attributes:{title:"Open Layer Manager"}},{id:d,className:"fa fa-th-large",command:d,togglable:0,attributes:{title:"Open Blocks"}}]}],em:null,delayBtnsShow:300};var c=s(5671),m=s(3144),w=s(9340),E=s(2963),Z=s(1120),Q=s(2316),J=s(2516);function te(ae){var K=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,b=(0,Z.Z)(ae);if(K){var h=(0,Z.Z)(this).constructor;N=Reflect.construct(b,arguments,h)}else N=b.apply(this,arguments);return(0,E.Z)(this,N)}}var X=function(ae){(0,w.Z)(N,ae);var K=te(N);function N(){return(0,c.Z)(this,N),K.apply(this,arguments)}return(0,m.Z)(N,[{key:"defaults",value:function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}}},{key:"initialize",value:function(b){this.btn=this.get("buttons")||[],this.buttons=new J.Z(this.btn),this.set("buttons",this.buttons)}}]),N}(Q.Model);function V(ae){var K=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,b=(0,Z.Z)(ae);if(K){var h=(0,Z.Z)(this).constructor;N=Reflect.construct(b,arguments,h)}else N=b.apply(this,arguments);return(0,E.Z)(this,N)}}var se=function(ae){(0,w.Z)(N,ae);var K=V(N);function N(){return(0,c.Z)(this,N),K.apply(this,arguments)}return(0,m.Z)(N)}(Q.Collection);se.prototype.model=X;var ve=s(4942),ue=s(9050);function M(ae,K){var N=Object.keys(ae);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(ae);K&&(b=b.filter(function(h){return Object.getOwnPropertyDescriptor(ae,h).enumerable})),N.push.apply(N,b)}return N}function L(ae){for(var K=1;K<arguments.length;K++){var N=arguments[K]!=null?arguments[K]:{};K%2?M(Object(N),!0).forEach(function(b){(0,ve.Z)(ae,b,N[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(N)):M(Object(N)).forEach(function(b){Object.defineProperty(ae,b,Object.getOwnPropertyDescriptor(N,b))})}return ae}function F(ae){var K=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,b=(0,Z.Z)(ae);if(K){var h=(0,Z.Z)(this).constructor;N=Reflect.construct(b,arguments,h)}else N=b.apply(this,arguments);return(0,E.Z)(this,N)}}var re=function(ae){(0,w.Z)(N,ae);var K=F(N);function N(){return(0,c.Z)(this,N),K.apply(this,arguments)}return(0,m.Z)(N,[{key:"tagName",value:function(){return this.model.get("tagName")}},{key:"events",value:function(){return{click:"clicked"}}},{key:"initialize",value:function(b){var h=this.model,z=h.get("className"),R=h.attributes,T=R.command,P=R.listen,u=b.config||{},ee=u.em;this.config=u,this.em=ee;var q=this.config.stylePrefix||"",C=this.config.pStylePrefix||"";if(this.pfx=q,this.ppfx=this.config.pStylePrefix||"",this.id=q+h.get("id"),this.activeCls="".concat(q,"active ").concat(C,"four-color"),this.disableCls="".concat(C,"disabled"),this.btnsVisCls="".concat(q,"visible"),this.className=q+"btn"+(z?" "+z:""),this.listenTo(h,"change",this.render),this.listenTo(h,"change:active updateActive",this.updateActive),this.listenTo(h,"checkActive",this.checkActive),this.listenTo(h,"change:bntsVis",this.updateBtnsVis),this.listenTo(h,"change:attributes",this.updateAttributes),this.listenTo(h,"change:className",this.updateClassName),this.listenTo(h,"change:disable",this.updateDisable),ee&&(0,ue.isString)(T)&&P){var D={fromListen:1};this.listenTo(ee,"run:".concat(T),function(){return h.set("active",!0,D)}),this.listenTo(ee,"stop:".concat(T),function(){return h.set("active",!1,D)})}ee&&ee.get&&(this.commands=ee.get("Commands"))}},{key:"updateClassName",value:function(){var b=this.model,h=this.pfx,z=b.get("className"),R=b.get("attributes").class,T="".concat(R||""," ").concat(h,"btn ").concat(z||"");this.$el.attr("class",T.trim())}},{key:"updateAttributes",value:function(){var b=this.em,h=this.model,z=this.$el,R=h.get("attributes")||{},T=b&&b.t&&b.t("panels.buttons.titles.".concat(h.id));z.attr(R),T&&z.attr({title:T}),this.updateClassName()}},{key:"updateBtnsVis",value:function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))}},{key:"updateActive",value:function(b,h){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=this.model,T=this.commands,P=this.$el,u=this.activeCls,ee=z.fromCollection,q=z.fromListen,C=R.get("context"),D=R.get("options"),le=R.get("command"),be={};le&&(T&&(0,ue.isString)(le)?be=T.get(le)||{}:(0,ue.isFunction)(le)?be=T.create({run:le}):le!==null&&(0,ue.isObject)(le)&&(be=T.create(le)),R.get("active")?(!ee&&R.collection.deactivateAll(C,R),R.set("active",!0,{silent:!0}).trigger("checkActive"),!q&&T.runCommand(be,L(L({},D),{},{sender:R})),be.noStop&&R.set("active",!1)):(P.removeClass(u),!q&&T.stopCommand(be,L(L({},D),{},{sender:R,force:1}))))}},{key:"updateDisable",value:function(){var b=this.disableCls,h=this.model.get("disable");this.$el[h?"addClass":"removeClass"](b)}},{key:"checkActive",value:function(){var b=this.model,h=this.$el,z=this.activeCls;b.get("active")?h.addClass(z):h.removeClass(z)}},{key:"clicked",value:function(b){var h=this.model;h.get("bntsVis")||h.get("disable")||!h.get("command")||this.toggleActive()}},{key:"toggleActive",value:function(){var b=this.model,h=this.em,z=b.attributes,R=z.active,T=z.togglable;R&&!T||(b.set("active",!R),R?b.get("runDefaultCommand")&&h.runDefault():b.get("stopDefaultCommand")&&h.stopDefault())}},{key:"render",value:function(){var b=this.model,h=b.get("label"),z=this.$el;return!b.get("el")&&z.empty(),this.updateAttributes(),h&&z.append(h),this.checkActive(),this.updateDisable(),this}}]),N}(Q.View);function ne(ae){var K=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,b=(0,Z.Z)(ae);if(K){var h=(0,Z.Z)(this).constructor;N=Reflect.construct(b,arguments,h)}else N=b.apply(this,arguments);return(0,E.Z)(this,N)}}var H=function(ae){(0,w.Z)(N,ae);var K=ne(N);function N(){return(0,c.Z)(this,N),K.apply(this,arguments)}return(0,m.Z)(N,[{key:"initialize",value:function(b){this.opt=b||{},this.config=this.opt.config||{},this.pfx=this.config.stylePrefix||"",this.parentM=this.opt.parentM||null,this.listenTo(this.collection,"add",this.addTo),this.listenTo(this.collection,"reset remove",this.render),this.className=this.pfx+"buttons"}},{key:"addTo",value:function(b){this.addToCollection(b)}},{key:"addToCollection",value:function(b,h){var z=h||null,R=new re({el:b.get("el"),model:b,config:this.config,parentM:this.parentM}).render().el;return z?z.appendChild(R):this.$el.append(R),R}},{key:"render",value:function(){var b=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(h){this.addToCollection(h,b)},this),this.$el.append(b),this.$el.attr("class",(0,ue.result)(this,"className")),this}}]),N}(Q.View);function Y(ae,K){var N=Object.keys(ae);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(ae);K&&(b=b.filter(function(h){return Object.getOwnPropertyDescriptor(ae,h).enumerable})),N.push.apply(N,b)}return N}function l(ae){var K=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,b=(0,Z.Z)(ae);if(K){var h=(0,Z.Z)(this).constructor;N=Reflect.construct(b,arguments,h)}else N=b.apply(this,arguments);return(0,E.Z)(this,N)}}var y=function(ae){(0,w.Z)(N,ae);var K=l(N);function N(){return(0,c.Z)(this,N),K.apply(this,arguments)}return(0,m.Z)(N,[{key:"initialize",value:function(b){var h=b.config||{},z=this.model;this.config=h,this.pfx=h.stylePrefix||"",this.ppfx=h.pStylePrefix||"",this.buttons=z.get("buttons"),this.className=this.pfx+"panel",this.id=this.pfx+z.get("id"),this.listenTo(z,"change:appendContent",this.appendContent),this.listenTo(z,"change:content",this.updateContent),this.listenTo(z,"change:visible",this.toggleVisible),z.view=this}},{key:"appendContent",value:function(){this.$el.append(this.model.get("appendContent"))}},{key:"updateContent",value:function(){this.$el.html(this.model.get("content"))}},{key:"toggleVisible",value:function(){this.model.get("visible")?this.$el.removeClass("".concat(this.ppfx,"hidden")):this.$el.addClass("".concat(this.ppfx,"hidden"))}},{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"initResize",value:function(){var b=this.config.em,h=b?b.get("Editor"):"",z=this.model.get("resizable");if(h&&z){var R,T,P,u=z===!0?[1,1,1,1]:z,ee=u.length,q=0;ee==2?(R=u[0],P=u[0],T=u[1],q=u[1]):ee==4&&(R=u[0],T=u[1],P=u[2],q=u[3]);var C=h.Utils.Resizer.init(function(D){for(var le=1;le<arguments.length;le++){var be=arguments[le]!=null?arguments[le]:{};le%2?Y(Object(be),!0).forEach(function(I){(0,ve.Z)(D,I,be[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(be)):Y(Object(be)).forEach(function(I){Object.defineProperty(D,I,Object.getOwnPropertyDescriptor(be,I))})}return D}({tc:R,cr:T,bc:P,cl:q,tl:0,tr:0,bl:0,br:0,appendTo:this.el,silentFrames:1,avoidContainerUpdate:1,prefix:h.getConfig().stylePrefix,onEnd:function(){b&&b.trigger("change:canvasOffset")},posFetcher:function(D,le){var be=le.target,I=D.style,oe=C.getConfig(),de=oe.keyWidth,Oe=oe.keyHeight,we=D.getBoundingClientRect(),Se=be=="container",xe=I[de],Ie=I[Oe];return{left:0,top:0,width:xe&&!Se?parseFloat(xe):we.width,height:Ie&&!Se?parseFloat(Ie):we.height}}},z));C.blur=function(){},C.focus(this.el)}}},{key:"render",value:function(){var b=this.$el,h=this.ppfx,z="".concat(this.className," ").concat(this.id," ").concat(h,"one-bg ").concat(h,"two-color");if(b.addClass(z),this.toggleVisible(),this.buttons.length){var R=new H({collection:this.buttons,config:this.config});b.append(R.render().el)}return b.append(this.model.get("content")),this}}]),N}(Q.View);function g(ae){var K=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,b=(0,Z.Z)(ae);if(K){var h=(0,Z.Z)(this).constructor;N=Reflect.construct(b,arguments,h)}else N=b.apply(this,arguments);return(0,E.Z)(this,N)}}var v=function(ae){(0,w.Z)(N,ae);var K=g(N);function N(){return(0,c.Z)(this,N),K.apply(this,arguments)}return(0,m.Z)(N,[{key:"initialize",value:function(b){this.opt=b||{},this.config=this.opt.config||{},this.pfx=this.config.stylePrefix||"";var h=this.collection;this.listenTo(h,"add",this.addTo),this.listenTo(h,"reset",this.render),this.listenTo(h,"remove",this.onRemove),this.className=this.pfx+"panels"}},{key:"onRemove",value:function(b){var h=b.view;h&&h.remove()}},{key:"addTo",value:function(b){this.addToCollection(b)}},{key:"addToCollection",value:function(b,h){var z=h||null,R=this.config,T=b.get("el"),P=new y({el:T,model:b,config:R}),u=P.render().el,ee=b.get("appendTo");return T||(ee?document.querySelector(ee).appendChild(u):z?z.appendChild(u):this.$el.append(u)),P.initResize(),u}},{key:"render",value:function(){var b=this,h=this.$el,z=document.createDocumentFragment();return h.empty(),this.collection.each(function(R){return b.addToCollection(R,z)}),h.append(z),h.attr("class",this.className),this}}]),N}(Q.View);const $=function(){var ae,K,N={};return{name:"Panels",init:function(b){for(var h in N=b||{},f)h in N||(N[h]=f[h]);var z=N.pStylePrefix;return z&&(N.stylePrefix=z+N.stylePrefix),ae=new se(N.defaults),this},getPanels:function(){return ae},getPanelsEl:function(){return K&&K.el},addPanel:function(b){return ae.add(b)},removePanel:function(b){return ae.remove(b)},getPanel:function(b){var h=ae.where({id:b});return h.length?h[0]:null},addButton:function(b,h){var z=this.getPanel(b);return z?z.get("buttons").add(h):null},removeButton:function(b,h){var z=this.getPanel(b);return z&&z.get("buttons").remove(h)},getButton:function(b,h){var z=this.getPanel(b);if(z){var R=z.get("buttons").where({id:h});return R.length?R[0]:null}return null},render:function(){return K&&K.remove(),(K=new v({collection:ae,config:N})).render().el},active:function(){this.getPanels().each(function(b){b.get("buttons").each(function(h){h.get("active")&&h.trigger("updateActive")})})},disableButtons:function(){this.getPanels().each(function(b){b.get("buttons").each(function(h){h.get("disable")&&h.trigger("change:disable")})})},destroy:function(){ae.reset(),ae.stopListening(),K&&K.remove()},Panel:X}}},2516:(ge,ie,s)=>{s.d(ie,{Z:()=>c});var A=s(5671),U=s(3144),S=s(9340),p=s(2963),k=s(1120),d=s(2316);function j(m){var w=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,Z=(0,k.Z)(m);if(w){var Q=(0,k.Z)(this).constructor;E=Reflect.construct(Z,arguments,Q)}else E=Z.apply(this,arguments);return(0,p.Z)(this,E)}}var _=function(m){(0,S.Z)(E,m);var w=j(E);function E(){return(0,A.Z)(this,E),w.apply(this,arguments)}return(0,U.Z)(E,[{key:"defaults",value:function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}}},{key:"initialize",value:function(Z){if(this.get("buttons").length){var Q=s(2516).Z;this.set("buttons",new Q(this.get("buttons")))}}}]),E}(d.Model);function f(m){var w=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,Z=(0,k.Z)(m);if(w){var Q=(0,k.Z)(this).constructor;E=Reflect.construct(Z,arguments,Q)}else E=Z.apply(this,arguments);return(0,p.Z)(this,E)}}var c=function(m){(0,S.Z)(E,m);var w=f(E);function E(){return(0,A.Z)(this,E),w.apply(this,arguments)}return(0,U.Z)(E,[{key:"deactivateAllExceptOne",value:function(Z,Q){this.forEach(function(J,te){J!==Z&&(J.set("active",!1),Q&&J.get("buttons").length&&J.get("buttons").deactivateAllExceptOne(Z,Q))})}},{key:"deactivateAll",value:function(Z,Q){var J=Z||"";this.forEach(function(te){te.get("context")==J&&te!==Q&&te.set("active",!1,{fromCollection:1})})}},{key:"disableAllButtons",value:function(Z){var Q=Z||"";this.forEach(function(J,te){J.get("context")==Q&&J.set("disable",!0)})}},{key:"disableAllButtonsExceptOne",value:function(Z,Q){this.forEach(function(J,te){J!==Z&&(J.set("disable",!0),Q&&J.get("buttons").length&&J.get("buttons").disableAllButtonsExceptOne(Z,Q))})}}]),E}(d.Collection);c.prototype.model=_},4424:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>X});var A=s(4942);const U={textTags:["br","b","i","u","a","ul","ol"],parserCss:null,parserHtml:null,optionsHtml:{htmlType:null,allowScripts:!1,allowUnsafeAttr:!1}};var S=s(9050),p={4:"media",5:"font-face",6:"page",7:"keyframes",11:"counter-style",12:"supports",13:"document",14:"font-feature-values",15:"viewport"},k=(0,S.keys)(p),d=["5","6","11","15"],j=["font-face","page","counter-style","viewport"],_=function(){for(var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",se=[],ve=[],ue=V.split(","),M=0,L=ue.length;M<L;M++){var F=ue[M].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(F)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(F)){var re=F.split(".").filter(Boolean);ve.push(re)}else se.push(F)}return{result:ve,add:se}},f=function(V){for(var se=V.style,ve={},ue=0,M=se.length;ue<M;ue++){var L=se[ue],F=se.getPropertyValue(L),re=se.getPropertyPriority(L);ve[L]="".concat(F).concat(re?" !".concat(re):"")}return ve},c=function(V){return(V.conditionText||V.media&&V.media.mediaText||V.name||V.selectorText||"").trim()},m=function(V){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ue={},M=V.length,L=V[M-1],F=L?L.split(/:(.+)/):[],re=F[1],ne=ve.atRule,H=ve.selectorsAdd,Y=ve.mediaText,l=j.indexOf(ne)>=0;return l&&(ue.singleAtRule=1),ne&&(ue.atRuleType=ne),H&&(ue.selectorsAdd=H),Y&&(ue.mediaText=Y),re&&(V[M-1]=F[0],ue.state=re,F.splice(F.length-1,1)),ue.selectors=V,ue.style=se,ue},w=function V(se){for(var ve=[],ue=se.cssRules||[],M=0,L=ue.length;M<L;M++){var F=ue[M],re=F.type.toString(),ne=0,H="",Y="",l=F.selectorText||F.keyText,y=d.indexOf(re)>=0;if(y)ne=1,H=p[re],Y=c(F);else if(k.indexOf(re)>=0){var g=V(F);Y=c(F);for(var v=0,$=g.length;v<$;v++){var ae=g[v];Y&&(ae.mediaText=Y),ae.atRuleType=p[re]}ve=ve.concat(g)}if(l||y){for(var K=f(F),N=_(l),b=N.add,h=void 0,z=0,R=(l=N.result).length;z<R;z++){var T=m(l[z],K,{atRule:p[re]});ve.push(T),h=T}if(b.length){var P=b.join(", ");if(h)h.selectorsAdd=P;else{var u={selectors:[],selectorsAdd:P,style:K};ne&&(u.singleAtRule=ne),H&&(u.atRuleType=H),Y&&(u.mediaText=Y),ve.push(u)}}}}return ve};const E=function(V){var se=document.createElement("style");se.innerHTML=V,document.head.appendChild(se);var ve=se.sheet;return document.head.removeChild(se),w(ve)},Z=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{parse:function(se){var ve=this,ue=[],M=V.parserCss,L=V.em,F=L&&L.get&&L.get("Editor");return(M?M(se,F):E(se)).forEach(function(re){return ue=ue.concat(ve.checkNode(re))}),L&&L.trigger("parse:css",{input:se,output:ue}),ue},checkNode:function(se){var ve=se,ue=ve.selectors,M=ve.style;if((0,S.isString)(ue)){var L=[],F=_(ue),re=F.result,ne=F.add.join(", "),H={atRule:se.atRule,mediaText:se.params};re.length?re.forEach(function(Y){L.push(m(Y,M,H))}):L.push(m([],M,H)),ne&&(L[L.length-1].selectorsAdd=ne),se=L}return se}}};var Q=s(5311);function J(V,se){var ve=Object.keys(V);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(V);se&&(ue=ue.filter(function(M){return Object.getOwnPropertyDescriptor(V,M).enumerable})),ve.push.apply(ve,ue)}return ve}function te(V){for(var se=1;se<arguments.length;se++){var ve=arguments[se]!=null?arguments[se]:{};se%2?J(Object(ve),!0).forEach(function(ue){(0,A.Z)(V,ue,ve[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(ve)):J(Object(ve)).forEach(function(ue){Object.defineProperty(V,ue,Object.getOwnPropertyDescriptor(ve,ue))})}return V}const X=function(){var V,se,ve={};return{compTypes:"",parserCss:null,parserHtml:null,name:"Parser",init:function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(ve=te(te({},U),ue)).Parser=this,V=new Q.Z(ve),se=new Z(ve),this.em=ve.em,this.parserCss=se,this.parserHtml=V,this},getConfig:function(){return ve},parseHtml:function(ue){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=this.em,F=this.compTypes;return V.compTypes=L?L.get("DomComponents").getTypes():F,V.parse(ue,se,M)},parseCss:function(ue){return se.parse(ue)},destroy:function(){var ue=this;["em","parserCss","parserHtml"].forEach(function(M){return ue[M]={}})}}}},5311:(ge,ie,s)=>{s.d(ie,{Z:()=>f});var A=s(4942),U=s(1002),S=s(9050),p="text/html",k=p;const d=function(c){var m,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=new DOMParser,Z=w.htmlType||k,Q=Z===p,J=Q?c:"<div>".concat(c,"</div>"),te=E.parseFromString(J,Z);if(Q){var X=te.head,V=te.body,se=X.querySelectorAll("script");(0,S.each)(se,function(ue){return V.appendChild(ue)});var ve=[];(0,S.each)(X.children,function(ue){return ve.push(ue)}),(0,S.each)(ve,function(ue,M){return V.insertBefore(ue,V.children[M])}),m=V}else m=te.firstChild;return m};function j(c,m){var w=Object.keys(c);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(c);m&&(E=E.filter(function(Z){return Object.getOwnPropertyDescriptor(c,Z).enumerable})),w.push.apply(w,E)}return w}function _(c){for(var m=1;m<arguments.length;m++){var w=arguments[m]!=null?arguments[m]:{};m%2?j(Object(w),!0).forEach(function(E){(0,A.Z)(c,E,w[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(w)):j(Object(w)).forEach(function(E){Object.defineProperty(c,E,Object.getOwnPropertyDescriptor(w,E))})}return c}const f=function(c){var m=c,w="data-gjs-",E="parse:html";return{compTypes:"",modelAttrStart:w,splitPropsFromAttr:function(){var Z=this,Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J={},te={};return(0,S.each)(Q,function(X,V){if(V.indexOf(Z.modelAttrStart)===0){var se=V.replace(w,""),ve=X.length,ue=X&&(0,S.isString)(X),M=ue&&X.substr(0,1),L=ue&&X.substr(ve-1);X=(X=X==="true"||X)!=="false"&&X;try{X=M=="{"&&L=="}"||M=="["&&L=="]"?JSON.parse(X):X}catch{}J[se]=X}else te[V]=X}),{props:J,attrs:te}},parseStyle:function(Z){for(var Q={},J=Z.split(";"),te=0,X=J.length;te<X;te++){var V=J[te].trim();if(V){var se=V.split(":");Q[se[0].trim()]=se.slice(1).join(":").trim()}}return Q},parseClass:function(Z){for(var Q=[],J=Z.split(" "),te=0,X=J.length;te<X;te++){var V=J[te].trim();V&&Q.push(V)}return Q},parseNode:function(Z){for(var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=[],te=Z.childNodes,X=0,V=te.length;X<V;X++){var se=te[X],ve=se.attributes||[],ue=ve.length,M=J[J.length-1],L=se.childNodes.length,F=this.compTypes,re={};if(F){var ne="",H=se.getAttribute&&se.getAttribute("".concat(w,"type"));if(H)re={type:H};else{for(var Y=0;Y<F.length;Y++){var l=F[Y];if(ne=l.model.isComponent(se,Q)){(0,U.Z)(ne)!=="object"&&(ne={type:l.id});break}}re=ne}}if(!re.tagName){var y=se.tagName||"",g=se.namespaceURI||"";re.tagName=y&&g==="http://www.w3.org/1999/xhtml"?y.toLowerCase():y}ue&&(re.attributes={});for(var v=0;v<ue;v++){var $=ve[v].nodeName,ae=ve[v].nodeValue;if($=="style")re.style=this.parseStyle(ae);else if($=="class")re.classes=this.parseClass(ae);else{if($=="contenteditable")continue;if($.indexOf(w)===0){var K=$.replace(w,""),N=ae.length,b=ae&&ae.substr(0,1),h=ae&&ae.substr(N-1);ae=(ae=ae==="true"||ae)!=="false"&&ae;try{ae=b=="{"&&h=="}"||b=="["&&h=="]"?JSON.parse(ae):ae}catch{}re[K]=ae}else ae===""&&se[$]===!0&&(ae=!0),re.attributes[$]=ae}}if(L&&!re.components){var z=se.childNodes[0];L===1&&z.nodeType===3?(!re.type&&(re.type="text"),re.components={type:"textnode",content:z.nodeValue}):re.components=this.parseNode(se,_(_({},Q),{},{inSvg:Q.inSvg||re.type==="svg"}))}if(re.type=="textnode"){if(M&&M.type=="textnode"){M.content+=re.content;continue}if(!c.keepEmptyTextNodes){var R=se.nodeValue;if(R!=" "&&!R.trim())continue}}L||"".concat(se.outerHTML).slice(-2)!=="/>"||(re.void=!0);var T=re.components;if(!re.type&&T){for(var P=1,u=0,ee=0;ee<T.length;ee++){var q=T[ee],C=q.type;if(["text","textnode"].indexOf(C)<0&&m.textTags.indexOf(q.tagName)<0){P=0;break}C=="textnode"&&(u=1)}P&&u&&(re.type="text")}(re.tagName||re.type=="textnode")&&J.push(re)}return J},parse:function(Z,Q){var J,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},X=m.em,V=X&&X.get("Config")||{},se={html:null,css:null},ve=_(_({},c),te),ue=_(_({},c.optionsHtml),{},{htmlType:((J=c.optionsHtml)===null||J===void 0?void 0:J.htmlType)||c.htmlType},te),M=(0,S.isFunction)(ve.parserHtml)?ve.parserHtml(Z,ue):d(Z,ue),L=M.querySelectorAll("script"),F=L.length,re=(0,S.isUndefined)(V.allowScripts)?ue.allowScripts:V.allowScripts;if(!re)for(;F--;)L[F].parentNode.removeChild(L[F]);if(ue.allowUnsafeAttr||this.__clearUnsafeAttr(M),Q){for(var ne=M.querySelectorAll("style"),H=ne.length,Y="";H--;)Y=ne[H].innerHTML+Y,ne[H].parentNode.removeChild(ne[H]);Y&&(se.css=Q.parse(Y))}X&&X.trigger("".concat(E,":root"),{input:Z,root:M});var l=this.parseNode(M,ve),y=l.length!==1||m.returnArray?l:l[0];return se.html=y,X&&X.trigger(E,{input:Z,output:se}),se},__clearUnsafeAttr:function(Z){var Q=this,J=Z.attributes||[],te=Z.childNodes||[],X=[];(0,S.each)(J,function(V){var se=V.nodeName||"";se.indexOf("on")===0&&X.push(se)}),X.map(function(V){return Z.removeAttribute(V)}),(0,S.each)(te,function(V){return Q.__clearUnsafeAttr(V)})}}}},2012:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>M});var A=s(5861),U=s(2982),S=s(4942),p=s(7757),k=s.n(p),d=s(1163),j=s(5671),_=s(3144),f=s(9050);function c(L,F){var re=Object.keys(L);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(L);F&&(ne=ne.filter(function(H){return Object.getOwnPropertyDescriptor(L,H).enumerable})),re.push.apply(re,ne)}return re}function m(L){for(var F=1;F<arguments.length;F++){var re=arguments[F]!=null?arguments[F]:{};F%2?c(Object(re),!0).forEach(function(ne){(0,S.Z)(L,ne,re[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(re)):c(Object(re)).forEach(function(ne){Object.defineProperty(L,ne,Object.getOwnPropertyDescriptor(re,ne))})}return L}var w=1,E=0,Z=-1,Q=function(L){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"A",re=L.selection(),ne=re.anchorNode,H=re.focusNode,Y=ne==null?void 0:ne.parentNode,l=H==null?void 0:H.parentNode;return(Y==null?void 0:Y.nodeName)==F||(l==null?void 0:l.nodeName)==F},J="data-selectme",te={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(L){return L.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(L){return L.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(L){return L.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(L){return L.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(L){return L&&L.selection()&&Q(L)?w:E},result:function(L){Q(L)?L.exec("unlink"):L.insertHTML('<a href="" '.concat(J,">").concat(L.selection(),"</a>"),{select:!0})}},wrap:{icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(L){return L!=null&&L.selection()&&Q(L,"SPAN")?Z:E},result:function(L){!Q(L,"SPAN")&&L.insertHTML("<span ".concat(J,">").concat(L.selection(),"</span>"),{select:!0})}}},X=function(){function L(){var F=this,re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,j.Z)(this,L);var ne=re.el,H=re.em;if(this.em=H,ne._rte)return ne._rte;ne._rte=this,this.setEl(ne),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var Y=(re.actions||[]).map(function($){var ae=$;return typeof $=="string"?ae=m({},te[$]):te[$.name]&&(ae=m(m({},te[$.name]),$)),ae}),l=Y.length?Y:Object.keys(te).map(function($){return te[$]});re.classes=m(m({},{actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"}),re.classes);var y=re.classes,g=re.actionbar;if(this.actionbar=g,this.settings=re,this.classes=y,this.actions=l,!g){var v=re.actionbarContainer;(g=document.createElement("div")).className=y.actionbar,v.appendChild(g),this.actionbar=g,l.forEach(function($){return F.addAction($)})}return re.styleWithCSS&&this.exec("styleWithCSS"),this}return(0,_.Z)(L,[{key:"destroy",value:function(){this.el=0,this.doc=0,this.actionbar=0,this.settings={},this.classes={},this.actions=[]}},{key:"setEl",value:function(F){this.el=F,this.doc=F.ownerDocument}},{key:"updateActiveActions",value:function(){var F=this;this.getActions().forEach(function(re){var ne=re.btn,H=re.update,Y=m({},F.classes),l=Y.active,y=Y.inactive,g=Y.disabled,v=re.state,$=re.name,ae=F.doc;if(ne.className=ne.className.replace(l,"").trim(),ne.className=ne.className.replace(y,"").trim(),ne.className=ne.className.replace(g,"").trim(),v)switch(v(F,ae)){case w:ne.className+=" ".concat(l);break;case E:ne.className+=" ".concat(y);break;case Z:ne.className+=" ".concat(g)}else ae.queryCommandSupported($)&&ae.queryCommandState($)&&(ne.className+=" ".concat(l));H&&H(F,re)})}},{key:"enable",value:function(F){return this.enabled?this:this.__toggleEffects(!0,F)}},{key:"disable",value:function(){return this.__toggleEffects(!1)}},{key:"__toggleEffects",value:function(){var F=arguments.length>0&&arguments[0]!==void 0&&arguments[0],re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=F?d.on:d.off,H=this.el,Y=this.doc;if(this.actionbarEl().style.display=F?"":"none",H.contentEditable=!!F,ne(H,"mouseup keyup",this.updateActiveActions),ne(Y,"keydown",this.__onKeydown),ne(Y,"paste",this.__onPaste),this.enabled=F,F){var l=re.event;if(this.syncActions(),this.updateActiveActions(),l){var y=null;if(Y.caretRangeFromPoint){var g=(0,d.getPointerEvent)(l);y=Y.caretRangeFromPoint(g.clientX,g.clientY)}else l.rangeParent&&(y=Y.createRange()).setStart(l.rangeParent,l.rangeOffset);var v=Y.getSelection();v.removeAllRanges(),y&&v.addRange(y)}H.focus()}return this}},{key:"__onKeydown",value:function(F){F.key==="Enter"&&(this.doc.execCommand("insertLineBreak"),F.preventDefault())}},{key:"__onPaste",value:function(F){var re=F.clipboardData||window.clipboardData,ne=re.getData("text"),H=re.getData("text/html");if(ne&&!H){F.preventDefault();var Y=ne.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,Y)}}},{key:"syncActions",value:function(){var F=this;this.getActions().forEach(function(re){if(F.actionbar&&(!re.state||re.state&&re.state(F,F.doc)>=0)){var ne=re.event||"click";re.btn["on".concat(ne)]=function(H){re.result(F,re),F.updateActiveActions()}}})}},{key:"addAction",value:function(F){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=re.sync,H=document.createElement("span"),Y=F.icon,l=F.attributes||{};for(var y in H.className=this.classes.button,F.btn=H,l)H.setAttribute(y,l[y]);typeof Y=="string"?H.innerHTML=Y:H.appendChild(Y),this.actionbarEl().appendChild(H),ne&&(this.actions.push(F),this.syncActions())}},{key:"getActions",value:function(){return this.actions}},{key:"selection",value:function(){return this.doc.getSelection()}},{key:"exec",value:function(F){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.doc.execCommand(F,!1,re)}},{key:"actionbarEl",value:function(){return this.actionbar}},{key:"insertHTML",value:function(F){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=re.select,H=this.em,Y=this.doc,l=this.el,y=Y.getSelection();if(y&&y.rangeCount){var g=(0,d.getModel)(l),v=Y.createElement("div"),$=y.getRangeAt(0);$.deleteContents(),(0,f.isString)(F)?v.innerHTML=F:F&&v.appendChild(F),Array.prototype.slice.call(v.childNodes).forEach(function(ae){$.insertNode(ae)}),y.removeAllRanges(),y.addRange($),l.focus(),ne&&g&&(g.once("rte:disable",function(){var ae=g.find("[".concat(J,"]"))[0];ae&&(H.setSelected(ae),ae.removeAttributes(J))}),g.trigger("disable"))}}}]),L}();const V={stylePrefix:"rte-",adjustToolbar:1,actions:["bold","italic","underline","strikethrough","link","wrap"]};function se(L,F){var re=Object.keys(L);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(L);F&&(ne=ne.filter(function(H){return Object.getOwnPropertyDescriptor(L,H).enumerable})),re.push.apply(re,ne)}return re}function ve(L){for(var F=1;F<arguments.length;F++){var re=arguments[F]!=null?arguments[F]:{};F%2?se(Object(re),!0).forEach(function(ne){(0,S.Z)(L,ne,re[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(re)):se(Object(re)).forEach(function(ne){Object.defineProperty(L,ne,Object.getOwnPropertyDescriptor(re,ne))})}return L}var ue="change:canvasOffset frame:scroll component:update";const M=function(){var L,F=function(){var re=L.style,ne="-1000px";re.top=ne,re.left=ne,re.display="none"};return{customRte:null,name:"RichTextEditor",getConfig:function(){return this.config},init:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ne=ve(ve({},V),re),H=ne.pStylePrefix;return H&&(ne.stylePrefix=H+ne.stylePrefix),this.config=ne,this.pfx=ne.stylePrefix,this.em=ne.em,this.actions=ne.actions||[],(0,d.hasWin)()?((L=document.createElement("div")).className="".concat(H,"rte-toolbar ").concat(H,"one-bg"),this.initRte(document.createElement("div")),(0,d.on)(L,"mousedown",function(Y){return Y.stopPropagation()}),this):this},destroy:function(){var re,ne,H,Y=this;(re=this.globalRte)===null||re===void 0||re.destroy(),(ne=this.customRte)===null||ne===void 0||(H=ne.destroy)===null||H===void 0||H.call(ne),L=0,["actionbar","actions","em","config","globalRte","lastEl"].map(function(l){delete Y[l]})},postRender:function(re){var ne=re.model.get("Canvas");L.style.pointerEvents="all",F(),ne.getToolsEl().appendChild(L)},initRte:function(re){var ne=this.globalRte,H=this.em,Y=this.pfx,l=this.actionbar,y=this.config,g=L,v=this.actions||(0,U.Z)(y.actions),$={actionbar:"".concat(Y,"actionbar"),button:"".concat(Y,"action"),active:"".concat(Y,"active"),inactive:"".concat(Y,"inactive"),disabled:"".concat(Y,"disabled")};return ne?(ne.em=H,ne.setEl(re)):(ne=new X({em:H,el:re,classes:$,actions:v,actionbar:l,actionbarContainer:g}),this.globalRte=ne),ne.actionbar&&(this.actionbar=ne.actionbar),ne.actions&&(this.actions=ne.actions),ne},add:function(re){var ne,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};H.name=re,(ne=this.globalRte)===null||ne===void 0||ne.addAction(H,{sync:1})},get:function(re){var ne,H;return(ne=this.globalRte)===null||ne===void 0||ne.getActions().forEach(function(Y){Y.name==re&&(H=Y)}),H},getAll:function(){var re;return(re=this.globalRte)===null||re===void 0?void 0:re.getActions()},remove:function(re){var ne=this.getAll(),H=this.get(re);if(H){var Y=H.btn,l=ne.indexOf(H);Y.parentNode.removeChild(Y),ne.splice(l,1)}return H},getToolbarEl:function(){return L},updatePosition:function(){var re=this.em.get("Canvas"),ne=L.style,H=re.getTargetToElementFixed(this.lastEl,L,{event:"rteToolbarPosUpdate",left:0});ne.top=(H.top||0)+"px",ne.left=(H.left||0)+"px"},enable:function(re,ne,H){var Y=this;return(0,A.Z)(k().mark(function l(){var y,g,v,$;return k().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return Y.lastEl=re.el,y=Y.customRte,g=Y.em,v=re.getChildrenContainer(),L.style.display="",ae.next=6,y?y.enable(v,ne):Y.initRte(v).enable(H);case 6:return $=ae.sent,g&&(setTimeout(Y.updatePosition.bind(Y),0),g.off(ue,Y.updatePosition,Y),g.on(ue,Y.updatePosition,Y),g.trigger("rte:enable",re,$)),ae.abrupt("return",$);case 9:case"end":return ae.stop()}},l)}))()},disable:function(re,ne){var H=this.em,Y=this.customRte,l=re.getChildrenContainer();Y?Y.disable(l,ne):ne&&ne.disable(),F(),H&&(H.off(ue,this.updatePosition,this),H.trigger("rte:disable",re,ne))}}}},4859:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>Y});var A=s(5861),U=s(5671),S=s(3144),p=s(7326),k=s(9340),d=s(2963),j=s(1120),_=s(4942),f=s(7757),c=s.n(f),m=s(9714);const w={id:"gjs-",type:"local",autosave:!0,autoload:!0,recovery:!1,stepsBeforeSave:1,onStore:function(l){return l},onLoad:function(l){return l},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(l){return l},onLoad:function(l){return l}}}};var E=s(1163),Z=function(){function l(){(0,U.Z)(this,l)}var y,g;return(0,S.Z)(l,[{key:"store",value:(g=(0,A.Z)(c().mark(function v($){var ae,K=arguments;return c().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:ae=K.length>1&&K[1]!==void 0?K[1]:{},this.hasLocal(ae,!0)&&localStorage.setItem(ae.key,JSON.stringify($));case 2:case"end":return N.stop()}},v,this)})),function(v){return g.apply(this,arguments)})},{key:"load",value:(y=(0,A.Z)(c().mark(function v(){var $,ae,K=arguments;return c().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return $=K.length>0&&K[0]!==void 0?K[0]:{},ae={},this.hasLocal($,!0)&&(ae=JSON.parse(localStorage.getItem($.key)||"{}")),N.abrupt("return",ae);case 4:case"end":return N.stop()}},v,this)})),function(){return y.apply(this,arguments)})},{key:"hasLocal",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=arguments.length>1?arguments[1]:void 0;if(v.checkLocal&&(!(0,E.hasWin)()||!localStorage)){if($)throw new Error("localStorage not available");return!1}return!0}}]),l}(),Q=s(9050),J=s(9661);function te(l,y){var g=Object.keys(l);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(l);y&&(v=v.filter(function($){return Object.getOwnPropertyDescriptor(l,$).enumerable})),g.push.apply(g,v)}return g}function X(l){for(var y=1;y<arguments.length;y++){var g=arguments[y]!=null?arguments[y]:{};y%2?te(Object(g),!0).forEach(function(v){(0,_.Z)(l,v,g[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(g)):te(Object(g)).forEach(function(v){Object.defineProperty(l,v,Object.getOwnPropertyDescriptor(g,v))})}return l}var V=function(){function l(){(0,U.Z)(this,l)}var y,g;return(0,S.Z)(l,[{key:"store",value:(g=(0,A.Z)(c().mark(function v($){var ae,K=arguments;return c().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return ae=K.length>1&&K[1]!==void 0?K[1]:{},N.next=3,this.request(ae.urlStore,this.__props(ae,$),ae);case 3:case"end":return N.stop()}},v,this)})),function(v){return g.apply(this,arguments)})},{key:"load",value:(y=(0,A.Z)(c().mark(function v($){return c().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,this.request($.urlLoad,this.__props($),$);case 2:return ae.abrupt("return",ae.sent);case 3:case"end":return ae.stop()}},v,this)})),function(v){return y.apply(this,arguments)})},{key:"request",value:function(v){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,J.Z)(v,$).then(function(K){var N=K.text();return(K.status/200|0)==1?N:N.then(Promise.reject)}).then(function(K){var N=K&&(0,Q.isString)(K);return ae.contentTypeJson&&N?JSON.parse(K):K})}},{key:"__props",value:function(){var v,$=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ae=arguments.length>1?arguments[1]:void 0,K=$.contentTypeJson,N=$.headers||{},b=$.fetchOptions||{},h="X-Requested-With",z="Content-Type";if((0,Q.isUndefined)(N[h])&&(N[h]="XMLHttpRequest"),(0,Q.isUndefined)(N[z])&&K&&(N[z]="application/json; charset=utf-8"),ae)if(K)v=JSON.stringify(ae);else for(var R in v=new FormData,ae)v.append(R,ae[R]);var T={method:v?"POST":"GET",credentials:$.credentials,headers:N,body:v};return X(X({},T),(0,Q.isFunction)(b)?b(T):b)}}]),l}();function se(l,y){var g=Object.keys(l);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(l);y&&(v=v.filter(function($){return Object.getOwnPropertyDescriptor(l,$).enumerable})),g.push.apply(g,v)}return g}function ve(l){for(var y=1;y<arguments.length;y++){var g=arguments[y]!=null?arguments[y]:{};y%2?se(Object(g),!0).forEach(function(v){(0,_.Z)(l,v,g[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(g)):se(Object(g)).forEach(function(v){Object.defineProperty(l,v,Object.getOwnPropertyDescriptor(g,v))})}return l}function ue(l){var y=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,v=(0,j.Z)(l);if(y){var $=(0,j.Z)(this).constructor;g=Reflect.construct(v,arguments,$)}else g=v.apply(this,arguments);return(0,d.Z)(this,g)}}var M="storage:start",L="storage:after",F="storage:end",re="storage:error",ne="local",H="remote",Y=function(l){(0,k.Z)(ae,l);var y,g,v,$=ue(ae);function ae(){var K;(0,U.Z)(this,ae);for(var N=arguments.length,b=new Array(N),h=0;h<N;h++)b[h]=arguments[h];return K=$.call.apply($,[this].concat(b)),(0,_.Z)((0,p.Z)(K),"name","StorageManager"),K}return(0,S.Z)(ae,[{key:"init",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__initConfig(w,K);var N=this.getConfig();return N._disable&&(N.type=0),this.storages={},this.add(ne,new Z(N)),this.add(H,new V(N)),this.setCurrent(N.type),this}},{key:"isAutosave",value:function(){return!!this.getConfig().autosave}},{key:"setAutosave",value:function(K){return this.getConfig().autosave=!!K,this}},{key:"getStepsBeforeSave",value:function(){return this.getConfig().stepsBeforeSave}},{key:"setStepsBeforeSave",value:function(K){return this.getConfig().stepsBeforeSave=K,this}},{key:"add",value:function(K,N){return this.storages[K]=N,this}},{key:"get",value:function(K){return this.storages[K]||null}},{key:"getStorages",value:function(){return this.storages}},{key:"getCurrent",value:function(){return this.getConfig().currentStorage}},{key:"setCurrent",value:function(K){return this.getConfig().currentStorage=K,this}},{key:"getCurrentStorage",value:function(){return this.get(this.getCurrent())}},{key:"getStorageOptions",value:function(K){return this.getCurrentOptions(K)}},{key:"store",value:(v=(0,A.Z)(c().mark(function K(N){var b,h,z,R,T,P=arguments;return c().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return b=P.length>1&&P[1]!==void 0?P[1]:{},h=this.getCurrentStorage(),z=ve(ve({},this.getCurrentOptions()),b),R=this.getRecoveryStorage(),T=this.getCurrentOptions(ne),u.prev=5,u.next=8,this.__exec(h,z,N);case 8:if(u.t0=R,!u.t0){u.next=12;break}return u.next=12,this.__exec(R,T,{});case 12:case 19:u.next=22;break;case 14:if(u.prev=14,u.t1=u.catch(5),!R){u.next=21;break}return u.next=19,this.__exec(R,T,N);case 21:throw u.t1;case 22:return u.abrupt("return",N);case 23:case"end":return u.stop()}},K,this,[[5,14]])})),function(K){return v.apply(this,arguments)})},{key:"load",value:(g=(0,A.Z)(c().mark(function K(){var N,b,h,z,R,T,P=arguments;return c().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(N=P.length>0&&P[0]!==void 0?P[0]:{},b=this.getCurrentStorage(),h=ve(ve({},this.getCurrentOptions()),N),!(z=this.getRecoveryStorage())){u.next=17;break}return u.next=7,this.__exec(z,this.getCurrentOptions(ne));case 7:if(T=u.sent,(0,Q.isEmpty)(T)){u.next=17;break}return u.prev=9,u.next=12,this.__askRecovery();case 12:R=T,u.next=17;break;case 15:u.prev=15,u.t0=u.catch(9);case 17:if(R){u.next=21;break}return u.next=20,this.__exec(b,h);case 20:R=u.sent;case 21:return u.abrupt("return",R||{});case 22:case"end":return u.stop()}},K,this,[[9,15]])})),function(){return g.apply(this,arguments)})},{key:"__askRecovery",value:function(){var K=this.em,N=this.getRecovery();return new Promise(function(b,h){(0,Q.isFunction)(N)?N(b,h,K==null?void 0:K.getEditor()):confirm(K==null?void 0:K.t("storageManager.recover"))?b():h()})}},{key:"getRecovery",value:function(){return this.getConfig().recovery}},{key:"getRecoveryStorage",value:function(){return this.getRecovery()&&this.getCurrent()===H&&this.get(ne)}},{key:"__exec",value:(y=(0,A.Z)(c().mark(function K(N,b,h){var z,R,T,P,u,ee,q,C;return c().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(z=h?"store":"load",R=this.getConfig(),T=R.onStore,P=R.onLoad,this.onStart(z,h),N){D.next=5;break}return D.abrupt("return",h||{});case 5:if(D.prev=5,q=(ee=this.em)===null||ee===void 0?void 0:ee.getEditor(),!h){D.next=31;break}if(D.t1=T,!D.t1){D.next=13;break}return D.next=12,T(h,q);case 12:D.t1=D.sent;case 13:if(D.t0=D.t1,D.t0){D.next=16;break}D.t0=h;case 16:if(C=D.t0,D.t3=b.onStore,!D.t3){D.next=22;break}return D.next=21,b.onStore(C,q);case 21:D.t3=D.sent;case 22:if(D.t2=D.t3,D.t2){D.next=25;break}D.t2=C;case 25:return C=D.t2,D.next=28,N.store(C,b);case 28:u=h,D.next=53;break;case 31:return D.next=33,N.load(b);case 33:if(u=D.sent,u=this.__clearKeys(u),D.t5=b.onLoad,!D.t5){D.next=40;break}return D.next=39,b.onLoad(u,q);case 39:D.t5=D.sent;case 40:if(D.t4=D.t5,D.t4){D.next=43;break}D.t4=u;case 43:if(u=D.t4,D.t7=P,!D.t7){D.next=49;break}return D.next=48,P(u,q);case 48:D.t7=D.sent;case 49:if(D.t6=D.t7,D.t6){D.next=52;break}D.t6=u;case 52:u=D.t6;case 53:this.onAfter(z,u),this.onEnd(z,u),D.next=61;break;case 57:throw D.prev=57,D.t8=D.catch(5),this.onError(z,D.t8),D.t8;case 61:return D.abrupt("return",u);case 62:case"end":return D.stop()}},K,this,[[5,57]])})),function(K,N,b){return y.apply(this,arguments)})},{key:"__clearKeys",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=this.getConfig(),b=new RegExp("^".concat(N.id)),h={};for(var z in K){var R=z.replace(b,"");h[R]=K[z]}return h}},{key:"getCurrentOptions",value:function(K){var N=this.getConfig(),b=K||this.getCurrent();return N.options[b]||{}}},{key:"onStart",value:function(K,N){var b=this.em;b&&(b.trigger(M),K&&b.trigger("".concat(M,":").concat(K),N))}},{key:"onAfter",value:function(K,N){var b=this.em;b&&(b.trigger(L),b.trigger("".concat(L,":").concat(K),N),b.trigger("storage:".concat(K),N))}},{key:"onEnd",value:function(K,N){var b=this.em;b&&(b.trigger(F),K&&b.trigger("".concat(F,":").concat(K),N))}},{key:"onError",value:function(K,N){var b=this.em;b&&(b.trigger(re,N),K&&b.trigger("".concat(re,":").concat(K),N),this.onEnd(K,N))}},{key:"canAutoload",value:function(){return this.getCurrentStorage()&&this.getConfig().autoload}},{key:"destroy",value:function(){this.__destroy(),this.storages={}}}]),ae}(m.Z)},2326:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>ye,evAll:()=>_t,evCustom:()=>Gn,evLayerSelect:()=>zn,evPfx:()=>jn,evProp:()=>er,evPropAdd:()=>Kn,evPropRemove:()=>Xn,evPropUp:()=>Wn,evSector:()=>fn,evSectorAdd:()=>En,evSectorRemove:()=>$n,evSectorUpdate:()=>nr,evTarget:()=>In});var A=s(2982),U=s(4942),S=s(9050),p=s(1163),k=s(9304),d=s(2316),j=s.n(d);const _={sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]};var f=s(4925),c=s(5671),m=s(3144),w=s(9340),E=s(2963),Z=s(1120),Q=s(793),J=["partial"];function te(O,W){var ce=Object.keys(O);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(O);W&&(x=x.filter(function(fe){return Object.getOwnPropertyDescriptor(O,fe).enumerable})),ce.push.apply(ce,x)}return ce}function X(O){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?te(Object(ce),!0).forEach(function(x){(0,U.Z)(O,x,ce[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(ce)):te(Object(ce)).forEach(function(x){Object.defineProperty(O,x,Object.getOwnPropertyDescriptor(ce,x))})}return O}function V(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var se=function(O){(0,w.Z)(ce,O);var W=V(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"initialize",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.em=fe.em;var ke=this.get("id")||"",De=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(De||ke).replace(/ /g,"-"));var Be=this.get("property");!this.get("id")&&this.set("id",Be),!De&&this.set("name",(0,p.capitalize)(Be).replace(/-/g," ")),this.on("change",this.__upTargets),ce.callInit(this,x,fe)}},{key:"__getParentProp",value:function(){var x,fe;return(x=this.collection)===null||x===void 0||(fe=x.opts)===null||fe===void 0?void 0:fe.parentProp}},{key:"__upTargets",value:function(x){var fe=this,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},De=this.em,Be=De.get("StyleManager"),Ke=this.getName(),at=ke.__clear,ot=at?"":this.__getFullValue(ke),bt=this.__getParentProp(),xt=this.changedAttributes(),Dt=(0,S.keys)(xt).reduce(function(sn,On){return sn[On]=fe.previous(On),sn},{}),Qt=[].concat((0,A.Z)((0,S.keys)(this.__getClearProps())),["__p"]),an=(0,S.keys)(xt),gn=!ke.__up&&!bt&&(at||Qt.some(function(sn){return an.indexOf(sn)>=0})),Mn=this.get("onChange"),Rn={property:this,from:Dt,to:xt,value:ot,opts:ke};Be.__trgEv(Be.events.propertyUpdate,Rn),Mn&&Mn(Rn),gn&&this.__upTargetsStyle((0,U.Z)({},Ke,ot),ke)}},{key:"__upTargetsStyle",value:function(x,fe){var ke,De=(ke=this.em)===null||ke===void 0?void 0:ke.get("StyleManager");De==null||De.addStyleTargets(X(X({},x),{},{__p:!!fe.avoidStore}),fe)}},{key:"_up",value:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};fe.noTarget&&(fe.__up=!0);var ke=fe.partial,De=(0,f.Z)(fe,J);return x.__p=!(!De.avoidStore&&!ke),this.set(x,X(X({},De),{},{avoidStore:x.__p}))}},{key:"up",value:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.set(x,X(X({},fe),{},{__up:!0}))}},{key:"init",value:function(){}},{key:"getId",value:function(){return this.get("id")}},{key:"getType",value:function(){return this.get("type")}},{key:"getName",value:function(){return this.get("property")}},{key:"getLabel",value:function(){var x,fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ke=fe.locale,De=ke===void 0||ke,Be=this.getId(),Ke=this.get("name")||this.get("label");return De&&((x=this.em)===null||x===void 0?void 0:x.t("styleManager.properties.".concat(Be)))||Ke}},{key:"getValue",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=x.noDefault,ke=this.get("value");return this.hasValue()||fe?ke:this.getDefaultValue()}},{key:"hasValue",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=x.noParent,ke=fe&&this.getParentTarget(),De=this.get("value");return!(0,S.isUndefined)(De)&&De!==""&&!ke}},{key:"hasValueParent",value:function(){return this.hasValue()&&!this.hasValue({noParent:!0})}},{key:"getStyle",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=this.getName(),ke=x.camelCase?(0,p.camelCase)(fe):fe;return(0,U.Z)({},ke,this.__getFullValue(x))}},{key:"getDefaultValue",value:function(){var x=this.get("default");return"".concat((0,S.isUndefined)(x)?this.get("defaults"):x)}},{key:"upValue",value:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=x===null||x===""?this.__getClearProps():this.__parseValue(x,fe);return this._up(ke,fe)}},{key:"isVisible",value:function(){return!!this.get("visible")}},{key:"clear",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._up(this.__getClearProps(),X(X({},x),{},{__clear:!0}))}},{key:"canClear",value:function(){var x=this.getParent();return x?x.__canClearProp(this):this.hasValue({noParent:!0})}},{key:"getParent",value:function(){return this.__getParentProp()||null}},{key:"isFull",value:function(){return!!this.get("full")}},{key:"__parseValue",value:function(x,fe){return this.parseValue(x,fe)}},{key:"__getClearProps",value:function(){return{value:""}}},{key:"setValue",value:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},De=this.parseValue(x),Be=!fe;!Be&&this.set({value:void 0},{avoidStore:Be,silent:!0}),this.set(De,X({avoidStore:Be},ke))}},{key:"setValueFromInput",value:function(x,fe){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.setValue(x,fe,X(X({},ke),{},{fromInput:1}))}},{key:"parseValue",value:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke={value:x},De="!important";if((0,S.isString)(x)&&x.indexOf(De)!==-1&&(ke.value=x.replace(De,"").trim(),ke.important=1),!this.get("functionName")&&!fe.complete)return ke;var Be=[],Ke="".concat(ke.value),at=Ke.indexOf("(")+1,ot=Ke.lastIndexOf(")"),bt=Ke.substring(0,at-1);if(bt&&(ke.functionName=bt),Be.push(at),ot>=0&&Be.push(ot),ke.value=String.prototype.substring.apply(Ke,Be),fe.numeric){var xt=parseFloat(ke.value);ke.unit=ke.value.replace(xt,""),ke.value=xt}return ke}},{key:"__getFullValue",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=x.withDefault;return!this.hasValue()&&fe?this.getDefaultValue():this.getFullValue()}},{key:"getFullValue",value:function(x){var fe=this.get("functionName"),ke=this.getDefaultValue(),De=(0,S.isUndefined)(x)?this.get("value"):x,Be=!(0,S.isUndefined)(De)&&De!=="";if(De&&ke&&De===ke)return ke;if(fe&&Be){var Ke=fe==="url"?"'".concat(De.replace(/'|"/g,""),"'"):De;De="".concat(fe,"(").concat(Ke,")")}return Be&&this.get("important")&&(De="".concat(De," !important")),De||""}},{key:"__setParentTarget",value:function(x){this.up({parentTarget:x})}},{key:"getParentTarget",value:function(){return this.get("parentTarget")||null}},{key:"__parseFn",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",fe=x.indexOf("(")+1,ke=x.lastIndexOf(")");return{name:x.substring(0,fe-1).trim(),value:String.prototype.substring.apply(x,[fe,ke>=0?ke:void 0]).trim()}}},{key:"__checkVisibility",value:function(x){var fe=x.target,ke=x.component,De=x.sectors,Be=ke||fe;if(!Be)return!1;var Ke=this.getId(),at=this.getName(),ot=this.get("toRequire"),bt=this.get("requires"),xt=this.get("requiresParent"),Dt=Be.get("unstylable"),Qt=Be.get("stylable-require"),an=Be.get("stylable");if((0,S.isArray)(an)&&(an=an.indexOf(at)>=0),(0,S.isArray)(Dt)&&(an=Dt.indexOf(at)<0),ot&&(an=!fe||Qt&&(Qt.indexOf(Ke)>=0||Qt.indexOf(at)>=0)),De&&bt){var gn=(0,S.keys)(bt);De.forEach(function(On){On.getProperties().forEach(function(Un){if((0,S.includes)(gn,Un.id)){var Jn=bt[Un.id];an=an&&(0,S.includes)(Jn,Un.get("value"))}})})}if(xt){var Mn=ke&&ke.parent(),Rn=Mn&&Mn.getEl();if(Rn){var sn=(0,p.hasWin)()?window.getComputedStyle(Rn):{};(0,S.each)(xt,function(On,Un){an=an&&sn[Un]&&(0,S.includes)(On,sn[Un])})}else an=!1}return!!an}}]),ce}(d.Model);function ve(O,W){var ce=Object.keys(O);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(O);W&&(x=x.filter(function(fe){return Object.getOwnPropertyDescriptor(O,fe).enumerable})),ce.push.apply(ce,x)}return ce}function ue(O){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?ve(Object(ce),!0).forEach(function(x){(0,U.Z)(O,x,ce[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(ce)):ve(Object(ce)).forEach(function(x){Object.defineProperty(O,x,Object.getOwnPropertyDescriptor(ce,x))})}return O}function M(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}se.callParentInit=function(O,W,ce){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};O.prototype.initialize.apply(W,[ce,X(X({},x),{},{skipInit:1})])},se.callInit=function(O,W){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!ce.skipInit&&O.init(W,ce)},se.getDefaults=function(){return(0,S.result)(this.prototype,"defaults")},se.prototype.defaults={name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],onChange:null,full:0,important:0,toRequire:0,requires:null,requiresParent:null,parentTarget:null};var L=function(O){return O==="integer"||O==="number"},F=function(O){(0,w.Z)(ce,O);var W=M(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"defaults",value:function(){return ue(ue({},se.getDefaults()),{},{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})}},{key:"initialize",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};se.callParentInit(se,this,x,fe);var ke=this.em,De=new nn(this.get("properties")||[],{em:ke,parentProp:this});this.set("properties",De,{silent:1}),this.listenTo(De,"change",this.__upProperties),se.callInit(this,x,fe)}},{key:"getProperties",value:function(){return(0,A.Z)(this.get("properties").models)}},{key:"getProperty",value:function(x){return this.get("properties").filter(function(fe){return fe.getId()===x||fe.getName()===x})[0]||null}},{key:"getPropertyAt",value:function(x){return this.get("properties").at(x)}},{key:"isDetached",value:function(){return!!this.get("detached")}},{key:"getValues",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=x.byName;return this.getProperties().reduce(function(ke,De){return ke[fe?De.getName():De.getId()]="".concat(De.__getFullValue()),ke},{})}},{key:"getSeparator",value:function(){return this.getSplitSeparator()}},{key:"getJoin",value:function(){return this.__getJoin()}},{key:"getStyleFromProps",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=this.getName(),ke=this.__getJoin(),De=this.get("toStyle"),Be=this.getValues(),Ke={};if(De)Ke=De(Be,{join:ke,name:fe,property:this});else if(Be=this.getValues({byName:!0}),this.isDetached())Ke=Be;else{var at=this.getProperties().map(function(ot){return ot.__getFullValue({withDefault:1})}).filter(Boolean).join(ke);Ke=(0,U.Z)({},fe,at)}return this.isDetached()?Ke[fe]="":(Ke[fe]=Ke[fe]||"",Ke=ue(ue({},Ke),this.getProperties().reduce(function(ot,bt){return ot[bt.getName()]="",ot},{}))),x.camelCase?Object.keys(Ke).reduce(function(ot,bt){return ot[camelCase(bt)]=Ke[bt],ot},{}):Ke}},{key:"getSplitSeparator",value:function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))}},{key:"__upProperties",value:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!fe.__up&&!fe.__clearIn){var ke=this.__getParentProp();if(ke)return ke.__upProperties(this,fe);this.__upTargetsStyleProps(fe,x)}}},{key:"__upTargetsStyleProps",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=arguments.length>1?arguments[1]:void 0,ke=this.getStyleFromProps();if(this.isDetached()&&fe){var De=fe.getName();ke=(0,U.Z)({},De,ke[De])}this.__upTargetsStyle(ke,x)}},{key:"_up",value:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.__setProperties(this.__getSplitValue(x.value),fe),se.prototype._up.call(this,x,fe)}},{key:"getStyle",value:function(x){return this.getStyleFromProps(x)}},{key:"__getFullValue",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.isDetached()||x.__clear?"":this.getStyleFromProps()[this.getName()]||""}},{key:"__getJoin",value:function(){var x=this.get("join");return(0,S.isString)(x)?x:this.get("separator")}},{key:"__styleHasProps",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=this.getName(),ke=this.getProperties(),De=ke.map(function(Ke){return Ke.getName()}),Be=[fe].concat((0,A.Z)(De));return Be.some(function(Ke){return!(0,S.isUndefined)(x[Ke])&&x[Ke]!==""})}},{key:"__splitValue",value:function(x,fe){return x.split(fe).map(function(ke){return ke.trim()}).filter(Boolean)}},{key:"__splitStyleName",value:function(x,fe,ke){return this.__splitValue(x[fe]||"",ke)}},{key:"__getSplitValue",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=fe.byName,De=this.getProperties(),Be=De.length===4&&De.every(function(ot){return L(ot.getType())}),Ke=this.__splitValue(x,this.getSplitSeparator()),at={};return De.forEach(function(ot,bt){var xt=Ke[bt],Dt=(0,S.isUndefined)(xt)?"":xt;if(Be){var Qt=Ke.length;Dt=Ke[bt]||Ke[bt%Qt+(Qt!=1&&Qt%2?1:0)]||Dt}var an=ke?ot.getName():ot.getId();at[an]=Dt||""}),at}},{key:"__getPropsFromStyle",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.__styleHasProps(x))return null;var ke=fe.byName,De=this.getName(),Be=this.getProperties(),Ke=this.getSplitSeparator(),at=this.get("fromStyle"),ot=at?at(x,{property:this,name:De,separator:Ke}):{};return at||(ot=this.__getSplitValue(x[De]||"",{byName:ke}),Be.forEach(function(bt){var xt=x[bt.getName()],Dt=ke?bt.getName():bt.getId();(0,S.isUndefined)(xt)||xt===""||(ot[Dt]=xt)})),ot}},{key:"__setProperties",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.getProperties().forEach(function(De){var Be=x[De.getId()];De.__getFullValue()!==Be&&De.upValue(Be,fe)});var ke=(0,S.keys)(x).map(function(De){return x[De]}).join(" ");this.set("value",ke,{silent:!0})}},{key:"clear",value:function(){var x=this;return this.getProperties().map(function(fe){return fe.clear({__clearIn:!x.isDetached()})}),se.prototype.clear.call(this)}},{key:"hasValue",value:function(x){return this.getProperties().some(function(fe){return fe.hasValue(x)})}},{key:"getFullValue",value:function(){return this.__getFullValue()}},{key:"__canClearProp",value:function(x){return this.isDetached()&&x.hasValue({noParent:!0})}}]),ce}(se);function re(O,W){var ce=Object.keys(O);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(O);W&&(x=x.filter(function(fe){return Object.getOwnPropertyDescriptor(O,fe).enumerable})),ce.push.apply(ce,x)}return ce}function ne(O){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?re(Object(ce),!0).forEach(function(x){(0,U.Z)(O,x,ce[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(ce)):re(Object(ce)).forEach(function(x){Object.defineProperty(O,x,Object.getOwnPropertyDescriptor(ce,x))})}return O}function H(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var Y=function(O){(0,w.Z)(ce,O);var W=H(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"defaults",value:function(){return{values:{}}}},{key:"initialize",value:function(){var x=this.collection;this.prop=x==null?void 0:x.prop}},{key:"getId",value:function(){return this.cid}},{key:"getIndex",value:function(){var x=this.collection;return x?x.indexOf(this):-1}},{key:"getValues",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=this.get("values");return x.camelCase?Object.keys(fe).reduce(function(ke,De){return ke[(0,p.camelCase)(De)]=fe[De],ke},{}):fe}},{key:"getLabel",value:function(){var x;return(x=this.prop)===null||x===void 0?void 0:x.getLayerLabel(this)}},{key:"isSelected",value:function(){var x;return((x=this.prop)===null||x===void 0?void 0:x.getSelectedLayer())===this}},{key:"select",value:function(){var x;return(x=this.prop)===null||x===void 0?void 0:x.selectLayer(this)}},{key:"remove",value:function(){var x;return(x=this.prop)===null||x===void 0?void 0:x.removeLayer(this)}},{key:"move",value:function(x){var fe;return(fe=this.prop)===null||fe===void 0?void 0:fe.moveLayer(this,x)}},{key:"getStylePreview",value:function(){var x,fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(x=this.prop)===null||x===void 0?void 0:x.getStylePreview(this,fe)}},{key:"hasPreview",value:function(){var x;return!((x=this.prop)===null||x===void 0||!x.get("preview"))}},{key:"upValues",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.set("values",ne(ne({},this.getValues()),x))}}]),ce}(d.Model);function l(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var y=function(O){(0,w.Z)(ce,O);var W=l(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"initialize",value:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prop=fe.prop}}]),ce}(d.Collection);y.prototype.model=Y;var g=["__layers"];function v(O,W){var ce=Object.keys(O);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(O);W&&(x=x.filter(function(fe){return Object.getOwnPropertyDescriptor(O,fe).enumerable})),ce.push.apply(ce,x)}return ce}function $(O){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?v(Object(ce),!0).forEach(function(x){(0,U.Z)(O,x,ce[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(ce)):v(Object(ce)).forEach(function(x){Object.defineProperty(O,x,Object.getOwnPropertyDescriptor(ce,x))})}return O}function ae(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var K=/,(?![^\(]*\))/,N=/\s(?![^(]*\))/,b=function(O){(0,w.Z)(ce,O);var W=ae(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"defaults",value:function(){return $($({},F.getDefaults()),{},{layers:[],layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})}},{key:"initialize",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.callParentInit(F,this,x,fe);var ke=this.get("layers"),De=new y(ke,{prop:this});De.property=this,De.properties=this.get("properties"),this.set("layers",De,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(De,"add remove",this.__upLayers),F.callInit(this,x,fe)}},{key:"getLayers",value:function(){return this.__getLayers().models}},{key:"__getLayers",value:function(){return this.get("layers")}},{key:"getLayer",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.__getLayers().at(x)||null}},{key:"getSelectedLayer",value:function(){var x=this.get("selectedLayer");return x&&x.getIndex()>=0?x:null}},{key:"selectLayer",value:function(x){return this.set("selectedLayer",x,{__select:!0})}},{key:"selectLayerAt",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,fe=this.getLayer(x);return fe&&this.selectLayer(fe)}},{key:"moveLayer",value:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ke=x?x.getIndex():-1;ke>=0&&(0,S.isNumber)(fe)&&fe>=0&&fe<this.getLayers().length&&ke!==fe&&(this.removeLayer(x),this.__getLayers().add(x,{at:fe}))}},{key:"addLayer",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke={};this.getProperties().forEach(function(Be){var Ke=Be.getId(),at=x[Ke];ke[Ke]=(0,S.isUndefined)(at)?Be.getDefaultValue():at});var De=this.get("layers").push({values:ke},fe);return De}},{key:"removeLayer",value:function(x){return this.get("layers").remove(x)}},{key:"removeLayerAt",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,fe=this.getLayer(x);return fe?this.removeLayer(fe):null}},{key:"getLayerLabel",value:function(x){var fe="";if(x){var ke=this.get("layerLabel"),De=x.getValues(),Be=x.getIndex();if(ke)fe=ke(x,{index:Be,values:De,property:this});else{var Ke=[];this.getProperties().map(function(at){Ke.push(De[at.getId()])}),fe=Ke.filter(Boolean).join(" ")}}return fe}},{key:"getStyleFromLayer",value:function(x){var fe,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},De=this.__getJoin(),Be=this.__getJoinLayers(),Ke=this.get("toStyle"),at=this.getName(),ot=x.getValues();if(Ke)fe=Ke(ot,{join:De,joinLayers:Be,name:at,layer:x,property:this});else{var bt=this.getProperties().map(function(xt){var Dt=xt.getName(),Qt=ot[xt.getId()],an=(0,S.isUndefined)(Qt)?xt.getDefaultValue():Qt;if(ke.number&&L(xt.getType())){var gn=xt.parseValue(Qt,ke.number);an="".concat(gn.value).concat(gn.unit)}return{name:Dt,value:an}});fe=this.isDetached()?bt.reduce(function(xt,Dt){return xt[Dt.name]=Dt.value,xt},{}):(0,U.Z)({},this.getName(),bt.map(function(xt){return xt.value}).join(De))}return ke.camelCase?Object.keys(fe).reduce(function(xt,Dt){return xt[(0,p.camelCase)(Dt)]=fe[Dt],xt},{}):fe}},{key:"getStylePreview",value:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke={},De=this.get("preview");return De&&(ke=this.getStyleFromLayer(x,fe)),ke}},{key:"getLayerSeparator",value:function(){var x=this.get("layerSeparator");return(0,S.isString)(x)?new RegExp("".concat(x,"(?![^\\(]*\\))")):x}},{key:"__upProperties",value:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=this.getSelectedLayer();ke&&(ke.upValues((0,U.Z)({},x.getId(),x.__getFullValue())),fe.__up||this.__upTargetsStyleProps(fe))}},{key:"__upLayers",value:function(x,fe,ke){this.__upTargetsStyleProps(ke||fe)}},{key:"__upTargets",value:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!fe.__select)return se.prototype.__upTargets.call(this,x,fe)}},{key:"__upTargetsStyleProps",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__upTargetsStyle(this.getStyleFromLayers(),x)}},{key:"__upTargetsStyle",value:function(x,fe){return se.prototype.__upTargetsStyle.call(this,x,fe)}},{key:"__upSelected",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=x.noEvent,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},De=this.em.get("StyleManager"),Be=this.getSelectedLayer(),Ke=Be==null?void 0:Be.getValues();Ke&&this.getProperties().forEach(function(at){var ot,bt=(ot=Ke[at.getId()])!==null&&ot!==void 0?ot:"";at.__getFullValue()!==bt&&at.upValue(bt,$($({},ke),{},{__up:!0}))}),!fe&&De.__trgEv(De.events.layerSelect,{property:this})}},{key:"_up",value:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=x.__layers,De=ke===void 0?[]:ke,Be=(0,f.Z)(x,g);return!this.isDetached()&&this.__setLayers(De),this.__upSelected({noEvent:!0},fe),se.prototype._up.call(this,Be,fe)}},{key:"__setLayers",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],fe=this.__getLayers(),ke=x.map(function(De){return{values:De}});fe.length===ke.length?ke.map(function(De,Be){var Ke;return(Ke=fe.at(Be))===null||Ke===void 0?void 0:Ke.upValues(De.values)}):this.__getLayers().reset(ke),this.__upSelected({noEvent:!0})}},{key:"__parseValue",value:function(x){var fe=this,ke=this.parseValue(x);return ke.__layers=x.split(K).map(function(De){return De.trim()}).map(function(De){return fe.__parseLayer(De)}).filter(Boolean),ke}},{key:"__parseLayer",value:function(x){var fe=this.get("parseLayer"),ke=x.split(N),De=this.getProperties();return fe?fe({value:x,values:ke}):De.reduce(function(Be,Ke,at){var ot=ke[at];return Be[Ke.getId()]=(0,S.isUndefined)(ot)?Ke.getDefaultValue():ot,Be},{})}},{key:"__getLayersFromStyle",value:function(){var x=this,fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.__styleHasProps(fe))return null;var ke=this.getName(),De=this.getProperties(),Be=this.getLayerSeparator(),Ke=this.get("fromStyle"),at=Ke?Ke(fe,{property:this,name:ke,separatorLayers:Be}):[];if(!Ke){var ot=this.__splitStyleName(fe,ke,Be).map(function(bt){return bt.split(x.getSplitSeparator())}).map(function(bt){var xt={};return De.forEach(function(Dt,Qt){var an=bt[Qt];xt[Dt.getId()]=(0,S.isUndefined)(an)?Dt.getDefaultValue():an}),xt});De.forEach(function(bt){var xt=bt.getId();x.__splitStyleName(fe,bt.getName(),Be).map(function(Dt){return(0,U.Z)({},xt,Dt||bt.getDefaultValue())}).forEach(function(Dt,Qt){ot[Qt]=ot[Qt]?$($({},ot[Qt]),Dt):Dt})}),at=ot}return(0,S.isArray)(at)?at:[at]}},{key:"getStyle",value:function(x){return this.getStyleFromLayers(x)}},{key:"getStyleFromLayers",value:function(x){var fe=this,ke={},De=this.getName(),Be=this.getLayers(),Ke=this.getProperties();if(Be.map(function(ot){return fe.getStyleFromLayer(ot,x)}).forEach(function(ot){(0,S.keys)(ot).map(function(bt){ke[bt]||(ke[bt]=[]),ke[bt].push(ot[bt])})}),(0,S.keys)(ke).map(function(ot){ke[ot]=ke[ot].join(fe.__getJoinLayers())}),this.isDetached())ke[De]="",!Be.length&&Ke.map(function(ot){ke[ot.getName()]=""});else{var at=Ke.reduce(function(ot,bt){return ot[bt.getName()]="",ot},{});ke[De]=ke[De]||"",ke=$($({},ke),at)}return ke}},{key:"__getJoinLayers",value:function(){var x=this.get("layerJoin"),fe=this.get("layerSeparator");return x||((0,S.isString)(fe)?fe:x)}},{key:"__getFullValue",value:function(){return this.get("detached")?"":this.getStyleFromLayers()[this.getName()]}},{key:"hasValue",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=x.noParent,ke=fe&&this.getParentTarget();return this.getLayers().length>0&&!ke}},{key:"clear",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.__getLayers().reset(),this.__upTargetsStyleProps(x),se.prototype.clear.call(this)}},{key:"__canClearProp",value:function(){return!1}}]),ce}(F),h=["complete","partial"];function z(O,W){var ce=Object.keys(O);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(O);W&&(x=x.filter(function(fe){return Object.getOwnPropertyDescriptor(O,fe).enumerable})),ce.push.apply(ce,x)}return ce}function R(O){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?z(Object(ce),!0).forEach(function(x){(0,U.Z)(O,x,ce[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(ce)):z(Object(ce)).forEach(function(x){Object.defineProperty(O,x,Object.getOwnPropertyDescriptor(ce,x))})}return O}function T(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var P="data-clear-style",u=function(O){(0,w.Z)(ce,O);var W=T(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"template",value:function(){var x=this.pfx,fe=this.ppfx;return`
      <div class="`.concat(x,`label" data-sm-label></div>
      <div class="`).concat(fe,`fields" data-sm-fields></div>
    `)}},{key:"templateLabel",value:function(x){var fe=this.pfx,ke=this.em,De=x.parent,Be=x.attributes,Ke=Be.icon,at=Ke===void 0?"":Ke,ot=Be.info,bt=ot===void 0?"":ot,xt=ke==null?void 0:ke.getConfig().icons,Dt=(xt==null?void 0:xt.close)||"";return`
      <span class="`.concat(fe,"icon ").concat(at,'" title="').concat(bt,`">
        `).concat(x.getLabel(),`
      </span>
      `).concat(De?"":'<div class="'.concat(fe,'clear" style="display: none" ').concat(P,">").concat(Dt,"</div>"),`
    `)}},{key:"templateInput",value:function(x){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(x.getDefaultValue(),`"/>
      </div>
    `)}},{key:"initialize",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,S.bindAll)(this,"__change","__updateStyle");var fe=x.config||{},ke=fe.em;this.config=fe,this.em=ke,this.pfx=fe.stylePrefix||"",this.ppfx=fe.pStylePrefix||"",this.__destroyFn=this.destroy?this.destroy.bind(this):function(){};var De=this.model;De.view=this,this.onValueChange=(0,S.debounce)(this.onValueChange.bind(this),10),this.updateStatus=(0,S.debounce)(this.updateStatus.bind(this)),this.listenTo(De,"destroy remove",this.remove),this.listenTo(De,"change:visible",this.updateVisibility),this.listenTo(De,"change:name change:className change:full",this.render),this.listenTo(De,"change:value",this.onValueChange),this.listenTo(De,"change:parentTarget",this.updateStatus),this.listenTo(ke,"change:device",this.onValueChange);var Be=this.init&&this.init.bind(this);Be&&Be()}},{key:"remove",value:function(){var x=this;d.View.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(fe){return x[fe]=null}),this.__destroyFn(this._getClbOpts())}},{key:"updateStatus",value:function(){var x,fe=this.model,ke=this.pfx,De=this.ppfx,Be=this.config,Ke="".concat(De,"four-color"),at="".concat(De,"color-warn"),ot=this.$el.children(".".concat(ke,"label")),bt=this.getClearEl(),xt=bt?bt.style:{};ot.removeClass("".concat(Ke," ").concat(at)),xt.display="none",fe.hasValue({noParent:!0})&&Be.highlightChanged?(ot.addClass(Ke),Be.clearProperties&&(xt.display="")):fe.hasValue()&&Be.highlightComputed&&ot.addClass(at),(x=this.parent)===null||x===void 0||x.updateStatus()}},{key:"clear",value:function(x){x&&x.stopPropagation(),this.model.clear()}},{key:"getClearEl",value:function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(P,"]"))),this.clearEl}},{key:"inputValueChanged",value:function(x){x&&x.stopPropagation(),this.emit||this.model.upValue(x.target.value)}},{key:"onValueChange",value:function(x,fe){this.setValue(this.model.getFullValue()),this.updateStatus()}},{key:"setValue",value:function(x){var fe=this.model,ke=(0,S.isUndefined)(x)||x===""?fe.getDefaultValue():x;if(this.update)return this.__update(ke);this.__setValueInput(ke)}},{key:"__setValueInput",value:function(x){var fe=this.getInputEl();fe&&(fe.value=x)}},{key:"getInputEl",value:function(){return this.input||(this.input=this.el.querySelector("input")),this.input}},{key:"updateVisibility",value:function(){this.el.style.display=this.model.isVisible()?"":"none"}},{key:"clearCached",value:function(){this.clearEl=null,this.input=null,this.$input=null}},{key:"__unset",value:function(){var x=this.unset&&this.unset.bind(this);x&&x(this._getClbOpts())}},{key:"__update",value:function(x){var fe=this.update&&this.update.bind(this);fe&&fe(R(R({},this._getClbOpts()),{},{value:x}))}},{key:"__change",value:function(){for(var x=this.emit&&this.emit.bind(this),fe=arguments.length,ke=new Array(fe),De=0;De<fe;De++)ke[De]=arguments[De];x&&x.apply(void 0,[this._getClbOpts()].concat(ke))}},{key:"__updateStyle",value:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=fe.complete,De=fe.partial,Be=((0,f.Z)(fe,h),this.model),Ke=ke!==!1&&De!==!0;(0,p.isObject)(x)?Be.__upTargetsStyle(x,{avoidStore:!Ke}):Be.upValue(x,{partial:!Ke})}},{key:"_getClbOpts",value:function(){var x=this.model;return{el:this.el,createdEl:this.createdEl,property:x,props:x.attributes,change:this.__change,updateStyle:this.__updateStyle}}},{key:"render",value:function(){this.clearCached();var x=this.pfx,fe=this.model,ke=this.el,De=this.$el,Be=fe.getName(),Ke=fe.getType(),at=fe.get("className")||"",ot="".concat(x,"property"),bt=Ke==="number"?"".concat(x).concat(Ke," ").concat(x,"integer"):"".concat(x).concat(Ke);this.createdEl&&this.__destroyFn(this._getClbOpts()),De.empty().append(this.template(fe)),De.find("[data-sm-label]").append(this.templateLabel(fe));var xt=this.create&&this.create.bind(this);this.createdEl=xt&&xt(this._getClbOpts()),De.find("[data-sm-fields]").append(this.createdEl||this.templateInput(fe)),ke.className="".concat(ot," ").concat(bt," ").concat(ot,"__").concat(Be," ").concat(at).trim(),ke.className+=fe.isFull()?" ".concat(ot,"--full"):"";var Dt=this.onRender&&this.onRender.bind(this);Dt&&Dt(),this.setValue(fe.getValue())}}]),ce}(d.View);u.prototype.events=(0,U.Z)({change:"inputValueChanged"},"click [".concat(P,"]"),"clear");var ee=s(9283);function q(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var C=function(O){(0,w.Z)(ce,O);var W=q(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"initialize",value:function(x){this.config=x.config||{},this.pfx=this.config.stylePrefix||"",this.properties=[],this.parent=x.parent;var fe=this.collection;this.listenTo(fe,"add",this.addTo),this.listenTo(fe,"reset",this.render)}},{key:"addTo",value:function(x,fe,ke){this.add(x,null,ke)}},{key:"add",value:function(x,fe){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},De=this.parent,Be=this.config,Ke=fe||this.el,at=new x.typeView({model:x,config:Be});De&&(at.parent=De),at.render();var ot=at.el;this.properties.push(at),(0,ee.$Q)(Ke,ot,ke.at)}},{key:"remove",value:function(){d.View.prototype.remove.apply(this,arguments),this.clearItems()}},{key:"clearItems",value:function(){this.properties.forEach(function(x){return x.remove()}),this.properties=[]}},{key:"render",value:function(){var x=this,fe=this.$el,ke=this.pfx;this.clearItems();var De=document.createDocumentFragment();return this.collection.forEach(function(Be){return x.add(Be,De)}),fe.empty(),fe.append(De),fe.attr("class","".concat(ke,"properties")),this}}]),ce}(d.View);function D(O,W){var ce=Object.keys(O);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(O);W&&(x=x.filter(function(fe){return Object.getOwnPropertyDescriptor(O,fe).enumerable})),ce.push.apply(ce,x)}return ce}function le(O){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?D(Object(ce),!0).forEach(function(x){(0,U.Z)(O,x,ce[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(ce)):D(Object(ce)).forEach(function(x){Object.defineProperty(O,x,Object.getOwnPropertyDescriptor(ce,x))})}return O}function be(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var I=function(O){(0,w.Z)(ce,O);var W=be(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"templateInput",value:function(){var x=this.pfx;return`
      <div class="`.concat(x,"field ").concat(x,`composite">
        <span id="`).concat(x,`input-holder"></span>
      </div>
    `)}},{key:"remove",value:function(){var x;(x=this.props)===null||x===void 0||x.remove(),u.prototype.remove.apply(this,arguments)}},{key:"onValueChange",value:function(){}},{key:"onRender",value:function(){var x=this.model,fe=this.pfx,ke=x.get("properties");if(ke.length&&!this.props){var De=x.isDetached(),Be=new C({config:le(le({},this.config),{},{highlightComputed:De,highlightChanged:De}),collection:ke,parent:this});Be.render(),this.$el.find("#".concat(fe,"input-holder")).append(Be.el),this.props=Be}}},{key:"clearCached",value:function(){u.prototype.clearCached.apply(this,arguments),this.props=null}}]),ce}(u);function oe(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var de=function(O){(0,w.Z)(ce,O);var W=oe(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"events",value:function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}}},{key:"template",value:function(){var x=this.pfx,fe=this.ppfx,ke=this.em,De=ke==null?void 0:ke.getConfig().icons,Be=(De==null?void 0:De.close)||"",Ke=(De==null?void 0:De.move)||"";return`
      <div class="`.concat(x,`label-wrp">
        <div id="`).concat(x,'move" class="').concat(fe,`no-touch-actions" data-move-layer>
          `).concat(Ke,`
        </div>
        <div id="`).concat(x,`label" data-label></div>
        <div id="`).concat(x,'preview-box" class="').concat(x,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(x,'preview" class="').concat(x,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(x,'close-layer" class="').concat(x,`btn-close" data-close-layer>
          `).concat(Be,`
        </div>
      </div>
      <div id="`).concat(x,`inputs" data-properties></div>
    `)}},{key:"initialize",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=this.model,ke=x.config||{};this.em=ke.em,this.config=ke,this.sorter=x.sorter,this.pfx=ke.stylePrefix||"",this.ppfx=ke.pStylePrefix||"",this.propertyView=x.propertyView;var De=this.propertyView.model;this.listenTo(fe,"destroy remove",this.remove),this.listenTo(fe,"change:values",this.updateLabel),this.listenTo(De,"change:selectedLayer",this.updateVisibility),fe.view=this,fe.set({droppable:0,draggable:1}),this.$el.data("model",fe)}},{key:"initSorter",value:function(){var x;(x=this.sorter)===null||x===void 0||x.startSort(this.el)}},{key:"removeItem",value:function(x){x&&x.stopPropagation(),this.model.remove()}},{key:"select",value:function(){this.model.select()}},{key:"getPropertiesWrapper",value:function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl}},{key:"getPreviewEl",value:function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl}},{key:"getLabelEl",value:function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl}},{key:"updateLabel",value:function(){var x=this.model,fe=x.getLabel();if(this.getLabelEl().innerHTML=fe,x.hasPreview()){var ke=this.getPreviewEl(),De=x.getStylePreview({number:{min:-3,max:3}}),Be=(0,S.keys)(De).map(function(Ke){return"".concat(Ke,":").concat(De[Ke])}).join(";");ke.setAttribute("style",Be)}}},{key:"updateVisibility",value:function(){var x=this.pfx,fe=this.model,ke=this.propertyView,De=this.getPropertiesWrapper(),Be=fe.isSelected();De.style.display=Be?"":"none",this.$el[Be?"addClass":"removeClass"]("".concat(x,"active")),Be&&De.appendChild(ke.props.el)}},{key:"render",value:function(){var x=this.el,fe=this.pfx,ke=this.model;return x.innerHTML=this.template(),x.className="".concat(fe,"layer"),ke.hasPreview()&&(x.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this}}]),ce}(d.View);function Oe(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var we=function(O){(0,w.Z)(ce,O);var W=Oe(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"initialize",value:function(x){var fe=this.collection,ke=x.config||{},De=ke.em,Be=ke.stylePrefix||"",Ke=ke.pStylePrefix||"";this.config=ke,this.pfx=Be,this.ppfx=Ke,this.propertyView=x.propertyView,this.className="".concat(Be,"layers ").concat(Ke,"field"),this.listenTo(fe,"add",this.addTo),this.listenTo(fe,"reset",this.reset),this.items=[];var at=De?De.get("Utils"):"";this.sorter=at?new at.Sorter({container:this.el,ignoreViewChildren:1,containerSel:".".concat(Be,"layers"),itemSel:".".concat(Be,"layer"),pfx:ke.pStylePrefix}):"",fe.view=this,this.$el.data("model",fe),this.$el.data("collection",fe)}},{key:"addTo",value:function(x){var fe=this.collection.indexOf(x);this.addToCollection(x,null,fe)}},{key:"addToCollection",value:function(x,fe,ke){var De=fe||null,Be=this.propertyView,Ke=this.config,at=this.sorter,ot=this.$el,bt=new de({model:x,config:Ke,sorter:at,propertyView:Be}),xt=bt.render().el;if(this.items.push(bt),De)De.appendChild(xt);else if(ke!==void 0){var Dt="before";ot.children().length===ke&&(ke--,Dt="after"),ke<0?ot.append(xt):ot.children().eq(ke)[Dt](xt)}else ot.append(xt);return xt}},{key:"reset",value:function(x,fe){this.clearItems(fe),this.render()}},{key:"remove",value:function(){this.clearItems(),d.View.prototype.remove.apply(this,arguments)}},{key:"clearItems",value:function(){this.items.forEach(function(x){return x.remove()}),this.items=[]}},{key:"render",value:function(){var x=this,fe=this.$el,ke=this.sorter,De=document.createDocumentFragment();return fe.empty(),this.collection.forEach(function(Be){return x.addToCollection(Be,De)}),fe.append(De),fe.attr("class",this.className),ke&&(ke.plh=null),this}}]),ce}(d.View);function Se(O,W){var ce=Object.keys(O);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(O);W&&(x=x.filter(function(fe){return Object.getOwnPropertyDescriptor(O,fe).enumerable})),ce.push.apply(ce,x)}return ce}function xe(O){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?Se(Object(ce),!0).forEach(function(x){(0,U.Z)(O,x,ce[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(ce)):Se(Object(ce)).forEach(function(x){Object.defineProperty(O,x,Object.getOwnPropertyDescriptor(ce,x))})}return O}function Ie(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var Xe=function(O){(0,w.Z)(ce,O);var W=Ie(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"events",value:function(){return xe(xe({},I.prototype.events),{},{"click [data-add-layer]":"addLayer",change:""})}},{key:"templateInput",value:function(){var x=this.pfx,fe=this.em,ke=fe==null?void 0:fe.getConfig().icons,De=(ke==null?void 0:ke.plus)||"+";return`
      <div class="`.concat(x,"field ").concat(x,`stack">
        <button type="button" id="`).concat(x,`add" data-add-layer>
          `).concat(De,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)}},{key:"init",value:function(){var x=this.model;this.listenTo(x.__getLayers(),"change reset",this.updateStatus)}},{key:"addLayer",value:function(){this.model.addLayer({},{at:0})}},{key:"setValue",value:function(){}},{key:"remove",value:function(){var x;(x=this.layersView)===null||x===void 0||x.remove(),I.prototype.remove.apply(this,arguments)}},{key:"clearCached",value:function(){I.prototype.clearCached.apply(this,arguments),this.layersView=null}},{key:"onRender",value:function(){var x=this.model,fe=this.el,ke=this.config,De=x.get("properties");if(De.length&&!this.props){var Be=new C({config:xe(xe({},ke),{},{highlightComputed:!1,highlightChanged:!1}),collection:De,parent:this});Be.render();var Ke=new we({collection:x.__getLayers(),config:ke,propertyView:this});Ke.render(),fe.querySelector("[data-layers-wrapper]").appendChild(Ke.el),this.props=Be,this.layersView=Ke}}}]),ce}(I);function tt(O,W){var ce=Object.keys(O);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(O);W&&(x=x.filter(function(fe){return Object.getOwnPropertyDescriptor(O,fe).enumerable})),ce.push.apply(ce,x)}return ce}function gt(O){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?tt(Object(ce),!0).forEach(function(x){(0,U.Z)(O,x,ce[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(ce)):tt(Object(ce)).forEach(function(x){Object.defineProperty(O,x,Object.getOwnPropertyDescriptor(ce,x))})}return O}function ct(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var Bt=function(O){(0,w.Z)(ce,O);var W=ct(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"events",value:function(){return gt(gt({},u.prototype.events),{},{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})}},{key:"templateInput",value:function(){var x,fe=this.pfx,ke=this.em,De=(x=this.em)===null||x===void 0?void 0:x.getConfig().icons,Be=De==null?void 0:De.close;return`
      <div class="`.concat(fe,"field ").concat(fe,`file">
        <div id='`).concat(fe,`input-holder'>
          <div class="`).concat(fe,`btn-c">
            <button class="`).concat(fe,'btn" id="').concat(fe,`images" type="button" data-open-assets>
              `).concat(ke.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(fe,'preview-box" class="').concat(fe,`preview-file" data-preview-box>
          <div id="`).concat(fe,'preview-file" class="').concat(fe,`preview-file-cnt" data-preview></div>
          <div id="`).concat(fe,'close" class="').concat(fe,'preview-file-close" data-clear-asset>').concat(Be,`</div>
        </div>
      </div>
    `)}},{key:"__setValueInput",value:function(x){var fe=this.model,ke=this.el,De=fe.getDefaultValue(),Be=ke.querySelector("[data-preview-box]"),Ke=ke.querySelector("[data-preview]");Be.style.display=x&&x!==De?"":"none",Ke.style.backgroundImage=x||fe.getDefaultValue()}},{key:"openAssetManager",value:function(){var x,fe=this,ke=(x=this.em)===null||x===void 0?void 0:x.get("AssetManager");ke==null||ke.open({select:function(De,Be){var Ke=(0,S.isString)(De)?De:De.get("src");fe.model.upValue(Ke,{partial:!Be}),Be&&ke.close()},types:["image"],accept:"image/*"})}}]),ce}(u);function Lt(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var Ft=function(O){(0,w.Z)(ce,O);var W=Lt(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"templateInput",value:function(){return""}},{key:"init",value:function(){var x=this.model;this.listenTo(x,"change:unit",this.onValueChange),this.listenTo(x,"change:units",this.render)}},{key:"setValue",value:function(){}},{key:"onRender",value:function(){var x=this.ppfx,fe=this.model,ke=this.el;if(!this.inputInst){var De=fe.input;De.ppfx=x,De.render(),ke.querySelector(".".concat(x,"fields")).appendChild(De.el),this.input=De.inputEl.get(0),this.inputInst=De}}},{key:"clearCached",value:function(){u.prototype.clearCached.apply(this,arguments),this.inputInst=null}}]),ce}(u),ze=s(1511);function Ee(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var Ne=function(O){(0,w.Z)(ce,O);var W=Ee(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"setValue",value:function(x){var fe;(fe=this.inputInst)===null||fe===void 0||fe.setValue(x,{fromTarget:1,def:this.model.getDefaultValue()})}},{key:"remove",value:function(){var x=this;Ft.prototype.remove.apply(this,arguments);var fe=this.inputInst;fe&&fe.remove&&fe.remove(),["inputInst","$color"].forEach(function(ke){return x[ke]=null})}},{key:"__handleChange",value:function(x,fe){this.model.upValue(x,{partial:fe})}},{key:"onRender",value:function(){if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var x=this.ppfx,fe=this.model,ke=this.em,De=this.el,Be=new ze.Z({target:ke,model:fe,ppfx:x,onChange:this.__handleChange}).render();De.querySelector(".".concat(x,"fields")).appendChild(Be.el),this.input=Be.inputEl.get(0),this.inputInst=Be}}}]),ce}(Ft);function We(O,W){var ce=Object.keys(O);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(O);W&&(x=x.filter(function(fe){return Object.getOwnPropertyDescriptor(O,fe).enumerable})),ce.push.apply(ce,x)}return ce}function it(O){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?We(Object(ce),!0).forEach(function(x){(0,U.Z)(O,x,ce[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(ce)):We(Object(ce)).forEach(function(x){Object.defineProperty(O,x,Object.getOwnPropertyDescriptor(ce,x))})}return O}function vt(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var jt=function(O){(0,w.Z)(ce,O);var W=vt(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"defaults",value:function(){return it(it({},se.getDefaults()),{},{options:[],full:0})}},{key:"getOptions",value:function(){var x=this.attributes,fe=x.options,ke=x.list;return(fe&&fe.length?fe:ke)||[]}},{key:"getOption",value:function(x){var fe=this,ke=x||this.getValue();return this.getOptions().filter(function(De){return fe.getOptionId(De)===ke})[0]||null}},{key:"setOptions",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.set("options",x),this}},{key:"addOption",value:function(x){if(x){var fe=this.getOptions();this.setOptions([].concat((0,A.Z)(fe),[x]))}return this}},{key:"getOptionId",value:function(x){return(0,p.isDef)(x.id)?x.id:x.value}},{key:"getOptionLabel",value:function(x){var fe,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},De=ke.locale,Be=De===void 0||De,Ke=((0,S.isString)(x)?this.getOption(x):x)||{},at=this.getOptionId(Ke),ot=Ke.label||Ke.name||at,bt=this.getId();return Be&&((fe=this.em)===null||fe===void 0?void 0:fe.t("styleManager.options.".concat(bt,".").concat(at)))||ot}},{key:"initialize",value:function(){for(var x=arguments.length,fe=new Array(x),ke=0;ke<x;ke++)fe[ke]=arguments[ke];se.prototype.initialize.apply(this,fe),this.listenTo(this,"change:options",this.__onOptionChange)}},{key:"__onOptionChange",value:function(){this.set("list",this.get("options"))}}]),ce}(se);function tn(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var Ve=function(O){(0,w.Z)(ce,O);var W=tn(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"templateInput",value:function(){var x=this.pfx,fe=this.ppfx;return`
      <div class="`.concat(fe,"field ").concat(fe,`select">
        <span id="`).concat(x,`input-holder"></span>
        <div class="`).concat(fe,`sel-arrow">
          <div class="`).concat(fe,`d-s-arrow"></div>
        </div>
      </div>
    `)}},{key:"initialize",value:function(){for(var x=arguments.length,fe=new Array(x),ke=0;ke<x;ke++)fe[ke]=arguments[ke];u.prototype.initialize.apply(this,fe),this.listenTo(this.model,"change:options",this.updateOptions)}},{key:"updateOptions",value:function(){this.input=null,this.onRender()}},{key:"onRender",value:function(){var x=this.model,fe=this.pfx,ke=x.getOptions();if(!this.input){var De=[];ke.forEach(function(Ke){var at=x.getOptionId(Ke),ot=x.getOptionLabel(at),bt=Ke.style?Ke.style.replace(/"/g,"&quot;"):"",xt=bt?'style="'.concat(bt,'"'):"",Dt=at.replace(/"/g,"&quot;");De.push('<option value="'.concat(Dt,'" ').concat(xt,">").concat(ot,"</option>"))});var Be=this.el.querySelector("#".concat(fe,"input-holder"));Be.innerHTML="<select>".concat(De.join(""),"</select>"),this.input=Be.firstChild}}},{key:"__setValueInput",value:function(x){var fe=this.model,ke=this.getInputEl(),De=fe.getOptions()[0],Be=De?fe.getOptionId(De):"";ke&&(ke.value=x||Be)}}]),ce}(u);function et(O,W){var ce=Object.keys(O);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(O);W&&(x=x.filter(function(fe){return Object.getOwnPropertyDescriptor(O,fe).enumerable})),ce.push.apply(ce,x)}return ce}function ut(O){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?et(Object(ce),!0).forEach(function(x){(0,U.Z)(O,x,ce[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(ce)):et(Object(ce)).forEach(function(x){Object.defineProperty(O,x,Object.getOwnPropertyDescriptor(ce,x))})}return O}function At(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var yt=function(O){(0,w.Z)(ce,O);var W=At(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"defaults",value:function(){return ut(ut({},jt.getDefaults()),{},{full:1})}}]),ce}(jt);function ht(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var Ut=function(O){(0,w.Z)(ce,O);var W=ht(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"templateInput",value:function(){var x=this.ppfx;return'<div class="'.concat(x,"field ").concat(x,'field-radio"></div>')}},{key:"onRender",value:function(){var x=this.pfx,fe=this.ppfx,ke=this.model,De="".concat(fe,"radio-item-label"),Be=ke.getName(),Ke=ke.getOptions(),at="".concat(x,"radio ").concat(x,"radio-").concat(Be),ot=ke.cid;if(!this.input){var bt=[];Ke.forEach(function(Dt){var Qt=Dt.className?"".concat(Dt.className," ").concat(x,"icon ").concat(De):"",an=ke.getOptionId(Dt),gn="".concat(Be,"-").concat(an,"-").concat(ot),Mn=Qt?"":ke.getOptionLabel(an),Rn=Dt.title?'title="'.concat(Dt.title,'"'):"",sn=ke.getValue()===an?"checked":"";bt.push(`
          <div class="`.concat(fe,`radio-item">
            <input type="radio" class="`).concat(at,'" id="').concat(gn,'" name="').concat(Be,"-").concat(ot,'" value="').concat(an,'" ').concat(sn,`/>
            <label class="`).concat(Qt||De,'" ').concat(Rn,' for="').concat(gn,'">').concat(Mn,`</label>
          </div>
        `))});var xt=this.el.querySelector(".".concat(fe,"field"));xt.innerHTML='<div class="'.concat(fe,'radio-items">').concat(bt.join(""),"</div>"),this.input=xt.firstChild}}},{key:"__setValueInput",value:function(x){var fe,ke=this.model,De=x||ke.getDefaultValue(),Be=(fe=this.getInputEl())===null||fe===void 0?void 0:fe.querySelector('[value="'.concat(De,'"]'));Be&&(Be.checked=!0)}}]),ce}(Ve),$t=s(7610);function un(O,W){var ce=Object.keys(O);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(O);W&&(x=x.filter(function(fe){return Object.getOwnPropertyDescriptor(O,fe).enumerable})),ce.push.apply(ce,x)}return ce}function kn(O){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?un(Object(ce),!0).forEach(function(x){(0,U.Z)(O,x,ce[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(ce)):un(Object(ce)).forEach(function(x){Object.defineProperty(O,x,Object.getOwnPropertyDescriptor(ce,x))})}return O}function en(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var Zn=function(O){(0,w.Z)(ce,O);var W=en(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"defaults",value:function(){return kn(kn({},se.getDefaults()),{},{units:[],unit:"",min:"",max:"",step:1})}},{key:"getUnits",value:function(){return this.get("units")||[]}},{key:"getUnit",value:function(){return this.get("unit")}},{key:"getMin",value:function(){return this.get("min")}},{key:"getMax",value:function(){return this.get("max")}},{key:"getStep",value:function(){return this.get("step")}},{key:"upUnit",value:function(x,fe){return this._up({unit:x},fe)}},{key:"initialize",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};se.callParentInit(se,this,x,fe);var ke=this.get("unit"),De=this.get("units");this.input=(0,p.hasWin)()&&new $t.Z({model:this}),De.length&&!ke&&this.set("unit",De[0],{silent:1}),se.callInit(this,x,fe)}},{key:"__getClearProps",value:function(){return kn(kn({},se.prototype.__getClearProps()),{},{unit:""})}},{key:"parseValue",value:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=se.prototype.parseValue.apply(this,arguments),De=this.input.validateInputValue(ke.value,kn({deepCheck:1},fe)),Be=De.value,Ke=De.unit;return ke.value=Be,ke.unit=Ke,ke}},{key:"getFullValue",value:function(){var x=this.get("value"),fe=this.get("unit");return x=(0,S.isUndefined)(x)?"":x,fe=!(0,S.isUndefined)(fe)&&x?fe:"",x="".concat(x).concat(fe),se.prototype.getFullValue.apply(this,[x])}}]),ce}(se);function qe(O,W){var ce=Object.keys(O);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(O);W&&(x=x.filter(function(fe){return Object.getOwnPropertyDescriptor(O,fe).enumerable})),ce.push.apply(ce,x)}return ce}function $e(O){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?qe(Object(ce),!0).forEach(function(x){(0,U.Z)(O,x,ce[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(ce)):qe(Object(ce)).forEach(function(x){Object.defineProperty(O,x,Object.getOwnPropertyDescriptor(ce,x))})}return O}function ft(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var Ct=function(O){(0,w.Z)(ce,O);var W=ft(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"defaults",value:function(){return $e($e({},Zn.getDefaults()),{},{showInput:1})}}]),ce}(Zn);function Zt(O,W){var ce=Object.keys(O);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(O);W&&(x=x.filter(function(fe){return Object.getOwnPropertyDescriptor(O,fe).enumerable})),ce.push.apply(ce,x)}return ce}function Mt(O){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?Zt(Object(ce),!0).forEach(function(x){(0,U.Z)(O,x,ce[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(ce)):Zt(Object(ce)).forEach(function(x){Object.defineProperty(O,x,Object.getOwnPropertyDescriptor(ce,x))})}return O}function Ht(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var Gt=function(O){(0,w.Z)(ce,O);var W=Ht(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"events",value:function(){return Mt(Mt({},Ft.prototype.events),{},{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})}},{key:"templateInput",value:function(x){var fe=this.ppfx;return`
      <div class="`.concat(fe,"field ").concat(fe,`field-range">
        <input type="range" min="`).concat(x.get("min"),'" max="').concat(x.get("max"),'" step="').concat(x.get("step"),`"/>
      </div>
    `)}},{key:"getSliderEl",value:function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider}},{key:"inputValueChanged",value:function(){this.model.upValue(this.getSliderEl().value)}},{key:"inputValueChangedSoft",value:function(){this.model.upValue(this.getSliderEl().value,{partial:!0})}},{key:"setValue",value:function(x){var fe=this.model,ke=fe.parseValue(x);this.getSliderEl().value=x===""?fe.getDefaultValue():parseFloat(ke.value),Ft.prototype.setValue.apply(this,arguments)}},{key:"onRender",value:function(){Ft.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")}},{key:"clearCached",value:function(){Ft.prototype.clearCached.apply(this,arguments),this.slider=null}}]),ce}(Ft);const nn=j().Collection.extend(Q.Z).extend({extendViewApi:1,init:function(){var O=this.opts,W=this.em,ce=O.module||(W==null?void 0:W.get("StyleManager"));ce&&(ce.__listenAdd(this,ce.events.propertyAdd),ce.__listenRemove(this,ce.events.propertyRemove))},types:[{id:"stack",model:b,view:Xe,isType:function(O){if(O&&O.type=="stack")return O}},{id:"composite",model:F,view:I,isType:function(O){if(O&&O.type=="composite")return O}},{id:"file",model:se,view:Bt,isType:function(O){if(O&&O.type=="file")return O}},{id:"color",model:se,view:Ne,isType:function(O){if(O&&O.type=="color")return O}},{id:"select",model:jt,view:Ve,isType:function(O){if(O&&O.type=="select")return O}},{id:"radio",model:yt,view:Ut,isType:function(O){if(O&&O.type=="radio")return O}},{id:"slider",model:Ct,view:Gt,isType:function(O){if(O&&O.type=="slider")return O}},{id:"integer",model:Zn,view:Ft,isType:function(O){if(O&&O.type=="integer")return O}},{id:"number",model:Zn,view:Ft,isType:function(O){if(O&&O.type=="number")return O}},{id:"base",model:se,view:u,isType:function(O){return O.type="base",O}}]});var dn=["extend"];function ln(O,W){var ce=Object.keys(O);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(O);W&&(x=x.filter(function(fe){return Object.getOwnPropertyDescriptor(O,fe).enumerable})),ce.push.apply(ce,x)}return ce}function bn(O){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?ln(Object(ce),!0).forEach(function(x){(0,U.Z)(O,x,ce[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(ce)):ln(Object(ce)).forEach(function(x){Object.defineProperty(O,x,Object.getOwnPropertyDescriptor(ce,x))})}return O}function wn(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var Cn=function(O){(0,w.Z)(ce,O);var W=wn(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"defaults",value:function(){return{id:"",name:"",open:!0,visible:!0,buildProps:"",extendBuilded:1,properties:[]}}},{key:"initialize",value:function(x){var fe=this,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},De=ke.em;this.em=De;var Be=x||{},Ke=this.buildProperties(Be.buildProps),at=this.get("name")||"",ot=[];!this.get("id")&&this.set("id",at.replace(/ /g,"_").toLowerCase()),ot=(ot=Ke?this.extendProperties(Ke):this.get("properties").map(function(xt){return(0,S.isString)(xt)?fe.buildProperties(xt)[0]:xt}).filter(Boolean)).map(function(xt){return fe.checkExtend(xt)});var bt=new nn(ot,{em:De});bt.sector=this,this.set("properties",bt)}},{key:"getId",value:function(){return this.get("id")}},{key:"getName",value:function(){var x,fe=this.getId();return((x=this.em)===null||x===void 0?void 0:x.t("styleManager.sectors.".concat(fe)))||this.get("name")}},{key:"setName",value:function(x){return this.set("name",x)}},{key:"isOpen",value:function(){return!!this.get("open")}},{key:"setOpen",value:function(x){return this.set("open",x)}},{key:"isVisible",value:function(){return!!this.get("visible")}},{key:"getProperties",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=this.get("properties"),ke=fe.models?(0,A.Z)(fe.models):fe;return ke.filter(function(De){var Be=!0;return x.withValue&&(Be=De.hasValue({noParent:!0})),x.withParentValue&&(Be=!De.hasValue({noParent:!0})&&De.hasValue()),Be})}},{key:"getProperty",value:function(x){return this.getProperties().filter(function(fe){return fe.get("id")===x})[0]||null}},{key:"addProperty",value:function(x,fe){return this.get("properties").add(this.checkExtend(x),fe)}},{key:"extendProperties",value:function(x,fe,ke){for(var De=x.length,Be=fe||this.get("properties"),Ke=this.get("extendBuilded"),at=[],ot=0,bt=Be.length;ot<bt;ot++){for(var xt=Be[ot],Dt=0,Qt=0;Qt<De;Qt++){var an=x[Qt];if(!(xt.property!=an.property&&xt.id!=an.property)){var gn=xt.properties;gn&&gn.length&&(xt.properties=this.extendProperties(an.properties||[],gn,1)),x[Qt]=Ke?(0,S.extend)(an,xt):xt,at[Qt]=x[Qt],Dt=1}}Dt||(x.push(xt),at.push(xt))}return ke?at.filter(function(Mn){return Mn}):x}},{key:"checkExtend",value:function(x){var fe=((0,S.isString)(x)?{extend:x}:x)||{},ke=fe.extend,De=(0,f.Z)(fe,dn);return ke?bn(bn({},this.buildProperties([ke])[0]||{}),De):x}},{key:"buildProperties",value:function(x){var fe,ke=x||[];if(!ke.length)return[];var De=(fe=this.em)===null||fe===void 0?void 0:fe.get("StyleManager").builtIn;return De==null?void 0:De.build(ke)}}]),ce}(d.Model);function Sn(O,W){var ce=Object.keys(O);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(O);W&&(x=x.filter(function(fe){return Object.getOwnPropertyDescriptor(O,fe).enumerable})),ce.push.apply(ce,x)}return ce}function Tn(O){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?Sn(Object(ce),!0).forEach(function(x){(0,U.Z)(O,x,ce[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(ce)):Sn(Object(ce)).forEach(function(x){Object.defineProperty(O,x,Object.getOwnPropertyDescriptor(ce,x))})}return O}function qn(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var Nt=function(O){(0,w.Z)(ce,O);var W=qn(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"initialize",value:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=fe.module,De=fe.em;this.em=De,this.module=ke,this.listenTo(this,"reset",this.onReset)}},{key:"model",value:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=fe.collection.em;return new Cn(x,Tn(Tn({},fe),{},{em:ke}))}},{key:"onReset",value:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=fe.previousModels||[];ke.forEach(function(De){return De.get("properties").reset()})}}]),ce}(d.Collection),Rt=s(885),Dn=["extend"];function Bn(O,W){var ce=Object.keys(O);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(O);W&&(x=x.filter(function(fe){return Object.getOwnPropertyDescriptor(O,fe).enumerable})),ce.push.apply(ce,x)}return ce}function Nn(O){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?Bn(Object(ce),!0).forEach(function(x){(0,U.Z)(O,x,ce[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(ce)):Bn(Object(ce)).forEach(function(x){Object.defineProperty(O,x,Object.getOwnPropertyDescriptor(ce,x))})}return O}var Wt,hn=function(O){return O.map(function(W){return{id:W}})},on=function(){function O(){(0,c.Z)(this,O),this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var W=", sans-serif",ce=["flex-start","flex-end","center"],x=[].concat(ce,["baseline","stretch"]);this.optsBgSize=hn(["auto","cover","contain"]),this.optsBgAttach=hn(["scroll","fixed","local"]),this.optsBgRepeat=hn(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=hn(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=hn(["visible","hidden","scroll","auto"]),this.optsDir=hn(["row","row-reverse","column","column-reverse"]),this.opstDisplay=hn(["block","inline","inline-block","flex","none"]),this.optsTransitFn=hn(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=hn(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=hn(["none","left","right"]),this.optsPos=hn(["static","relative","absolute","fixed"]),this.optsTextAlign=hn(["left","center","right","justify"]),this.optsFlexAlign=hn(x),this.optsJustCont=hn([].concat(ce,["space-between","space-around","space-evenly"])),this.optsAlignCont=hn([].concat(ce,["space-between","space-around","stretch"])),this.optsAlignSelf=hn(["auto"].concat((0,A.Z)(x))),this.optsTransitProp=hn(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=hn(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=hn(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+W,"Arial Black, Gadget"+W,"Brush Script MT"+W,"Comic Sans MS, cursive"+W,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+W,"Impact, Charcoal"+W,"Lucida Sans Unicode, Lucida Grande"+W,"Tahoma, Geneva"+W,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+W,"Verdana, Geneva"+W].map(function(fe){return{id:fe,label:fe.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return(0,m.Z)(O,[{key:"__sub",value:function(W){var ce=this;return function(){return W.map(function(x){if((0,S.isString)(x))return ce.get(x);var fe=x.extend,ke=(0,f.Z)(x,Dn);return Nn(Nn({},ce.get(fe)),ke)})}}},{key:"init",value:function(){var W=this,ce=this.fixedValues,x=this.requireFlex,fe=this.typeNumber;return this.props={},[["text-shadow-h",{type:fe,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:ce},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:x},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:fe,default:"0",requiresParent:x}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black"}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:x},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:x},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(ke,De){var Be=De.values,Ke=Be["box-shadow-h"],at=Be["box-shadow-v"],ot=Be["box-shadow-blur"],bt=Be["box-shadow-spread"];return"".concat(Ke," ").concat(at," ").concat(ot," ").concat(bt)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(ke,De){var Be=De.values,Ke=Be["text-shadow-h"],at=Be["text-shadow-v"],ot=Be["text-shadow-blur"];return"".concat(Ke," ").concat(at," ").concat(ot)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(ke,De){var Be=De.values;return[Be["background-repeat-sub"]||"",Be["background-position-sub"]||"",Be["background-attachment-sub"]||"",Be["background-size-sub"]||""].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(ke,De){var Be=De.property,Ke=ke[De.name]||"",at=Be.getLayerSeparator();return Ke?Ke.split(at).map(function(ot){var bt=Be.__parseFn(ot);return{name:bt.name,value:bt.value}}):[]},toStyle:function(ke,De){var Be=De.name;return(0,U.Z)({},Be,"".concat(ke.name,"(").concat(ke.value,")"))},properties:[{property:"name",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(ke){var De=ke.property;if(ke.to.value){var Be=Nn({},De.getOption().propValue||{}),Ke=De.getParent().getProperty("value"),at=Ke.getUnit();(!at||(Be==null?void 0:Be.units.indexOf(at))<0)&&(Be.unit=(Be==null?void 0:Be.units[0])||""),Ke.up(Be)}}},{property:"value",type:this.typeNumber,default:"0",full:!0}]}]].forEach(function(ke){var De=(0,Rt.Z)(ke,3),Be=De[0],Ke=De[1],at=De[2];W.add(Be,Ke||{},{from:at})}),this}},{key:"add",value:function(W){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},fe=x.from||"",ke=this.props[fe||W]||{},De=Nn(Nn({},ke),{},{property:W},ce);return De.properties&&(0,S.isFunction)(De.properties)&&(De.properties=De.properties()),this.props[W]=De,De}},{key:"get",value:function(W){return this.props[W]||null}},{key:"build",value:function(W){var ce=this,x=[];return((0,S.isString)(W)?[W]:W).forEach(function(fe){x.push(ce.get(fe)||{property:fe})}),x}}]),O}(),sr=s(168),Ot=s(7539);function cn(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var Me=function(O){(0,w.Z)(ce,O);var W=cn(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"template",value:function(x){var fe,ke=x.pfx,De=x.label,Be=(fe=this.em)===null||fe===void 0?void 0:fe.getConfig().icons,Ke=(Be==null?void 0:Be.caret)||"",at="".concat(ke,"sector-");return(0,Ot.Z)(Wt||(Wt=(0,sr.Z)([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),at,at,Ke,at,De)}},{key:"events",value:function(){return{"click [data-sector-title]":"toggle"}}},{key:"initialize",value:function(x){var fe=x.config||{},ke=this.model,De=fe.em;this.config=fe,this.em=De,this.pfx=fe.stylePrefix||"",this.listenTo(ke,"destroy remove",this.remove),this.listenTo(ke,"change:open",this.updateOpen),this.listenTo(ke,"change:visible",this.updateVisibility)}},{key:"updateOpen",value:function(){var x=this.$el,fe=this.model,ke=this.pfx,De=fe.isOpen();x[De?"addClass":"removeClass"]("".concat(ke,"open")),this.getPropertiesEl().style.display=De?"":"none"}},{key:"updateVisibility",value:function(){this.el.style.display=this.model.isVisible()?"":"none"}},{key:"getPropertiesEl",value:function(){var x=this.$el,fe=this.pfx;return x.find(".".concat(fe,"properties")).get(0)}},{key:"toggle",value:function(){var x=this.model;x.setOpen(!x.get("open"))}},{key:"renderProperties",value:function(){var x=this.model,fe=this.config,ke=x.get("properties");if(ke){var De=new C({collection:ke,config:fe});this.$el.append(De.render().el)}}},{key:"render",value:function(){var x=this.pfx,fe=this.model,ke=this.$el,De=fe.getId(),Be=fe.getName();return ke.html(this.template({pfx:x,label:Be})),this.renderProperties(),ke.attr("class","".concat(x,"sector ").concat(x,"sector__").concat(De," no-select")),this.updateOpen(),this}}]),ce}(d.View);function Fe(O){var W=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,x=(0,Z.Z)(O);if(W){var fe=(0,Z.Z)(this).constructor;ce=Reflect.construct(x,arguments,fe)}else ce=x.apply(this,arguments);return(0,E.Z)(this,ce)}}var mt=function(O){(0,w.Z)(ce,O);var W=Fe(ce);function ce(){return(0,c.Z)(this,ce),W.apply(this,arguments)}return(0,m.Z)(ce,[{key:"initialize",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=x.module,ke=x.config,De=ke===void 0?{}:ke,Be=this.collection;this.pfx=De.stylePrefix||"",this.ppfx=De.pStylePrefix||"",this.config=De,this.module=fe,this.listenTo(Be,"add",this.addTo),this.listenTo(Be,"reset",this.render)}},{key:"remove",value:function(){var x=this;d.View.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(fe){return x[fe]={}})}},{key:"addTo",value:function(x,fe){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.addToCollection(x,null,ke)}},{key:"addToCollection",value:function(x,fe){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},De=this.config,Be=this.el,Ke=fe||Be,at=new Me({model:x,config:De}).render().el;return(0,ee.$Q)(Ke,at,ke.at),at}},{key:"render",value:function(){var x=this,fe=this.$el,ke=this.pfx,De=this.ppfx;fe.empty();var Be=document.createDocumentFragment();return this.collection.each(function(Ke){return x.addToCollection(Ke,Be)}),fe.append(Be),fe.addClass("".concat(ke,"sectors ").concat(De,"one-bg ").concat(De,"two-color")),this}}]),ce}(d.View);function It(O,W){var ce=Object.keys(O);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(O);W&&(x=x.filter(function(fe){return Object.getOwnPropertyDescriptor(O,fe).enumerable})),ce.push.apply(ce,x)}return ce}function rt(O){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?It(Object(ce),!0).forEach(function(x){(0,U.Z)(O,x,ce[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(ce)):It(Object(ce)).forEach(function(x){Object.defineProperty(O,x,Object.getOwnPropertyDescriptor(ce,x))})}return O}var _t="style",jn="".concat(_t,":"),fn="".concat(jn,"sector"),En="".concat(fn,":add"),$n="".concat(fn,":remove"),nr="".concat(fn,":update"),er="".concat(jn,"property"),Kn="".concat(er,":add"),Xn="".concat(er,":remove"),Wn="".concat(er,":update"),zn="".concat(jn,"layer:select"),In="".concat(jn,"target"),Gn="".concat(jn,"custom"),he=function(O){return O||O===0};const ye=function(){var O,W,ce;return rt(rt({},k.Z),{},{Sector:Cn,events:{all:_t,sectorAdd:En,sectorRemove:$n,sectorUpdate:nr,propertyAdd:Kn,propertyRemove:Xn,propertyUpdate:Wn,layerSelect:zn,target:In,custom:Gn},name:"StyleManager",init:function(){var x=this,fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,S.bindAll)(this,"__clearStateTarget"),this.__initConfig(_,fe);var ke=this.config,De=ke.em,Be=ke.pStylePrefix;Be&&(ke.stylePrefix=Be+ke.stylePrefix),this.builtIn=new on,O=new nn([],{em:De,module:this}),W=new Nt([],rt(rt({},ke),{},{module:this}));var Ke=new d.Model({targets:[]});this.model=Ke,this.__listenAdd(W,En),this.__listenRemove(W,$n),this.__listenUpdate(W,nr);var at="component:toggled component:update:classes change:state change:device frame:resized selector:type",ot=(0,S.debounce)(function(){return x.__upSel()});Ke.listenTo(De,at,ot),Ke.listenTo(De,"component:toggled",this.__clearStateTarget);var bt=(0,S.debounce)(function(){x.__upProps(),x.__trgCustom()});Ke.listenTo(De,"styleable:change undo redo",bt);var xt=(0,S.debounce)(function(){return x.__trgCustom()});return Ke.listenTo(De,"".concat(zn," ").concat(In),xt),Ke.on("change:lastTarget",function(){return De.trigger(In,x.getSelected())}),this},__upSel:function(){this.select(this.em.getSelectedAll())},__trgCustom:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__ctn=this.__ctn||x.container,this.em.trigger(this.events.custom,{container:this.__ctn})},__trgEv:function(x){for(var fe,ke=arguments.length,De=new Array(ke>1?ke-1:0),Be=1;Be<ke;Be++)De[Be-1]=arguments[Be];(fe=this.em).trigger.apply(fe,[x].concat(De))},__clearStateTarget:function(){var x=this,fe=this.em,ke=this.__getStateTarget();ke&&(fe==null||fe.skip(function(){fe.get("CssComposer").remove(ke),x.model.set({stateTarget:null})}))},onLoad:function(){W.add(this.config.sectors,{silent:!0})},postRender:function(){this.__appendTo()},addSector:function(x,fe){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},De=this.getSector(x);return De||(fe.id=x,De=W.add(fe,ke)),De},getSector:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=W.where({id:x})[0];return!ke&&fe.warn&&this._logNoSector(x),ke||null},getSectors:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=W&&W.models?x.array?(0,A.Z)(W.models):W:[];return x.visible?fe.filter(function(ke){return ke.isVisible()}):fe},removeSector:function(x){return this.getSectors().remove(this.getSector(x,{warn:1}))},addProperty:function(x,fe){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},De=this.getSector(x,{warn:1}),Be=null;return De&&(Be=De.addProperty(fe,ke)),Be},getProperty:function(x,fe){var ke,De=this.getSector(x,{warn:1});return De&&(ke=De.get("properties").filter(function(Be){return Be.get("property")===fe||Be.get("id")===fe})[0]),ke||null},getProperties:function(x){var fe=null,ke=this.getSector(x,{warn:1});return ke&&(fe=ke.get("properties")),fe},removeProperty:function(x,fe){var ke=this.getProperties(x);return ke?ke.remove(this.getProperty(x,fe)):null},select:function(x){var fe=this,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},De=this.em,Be=(0,S.isArray)(x)?x:[x],Ke=ke.stylable,at=De.get("CssComposer"),ot=[];Be.filter(Boolean).forEach(function(gn){var Mn=gn;if((0,S.isString)(gn)){var Rn=at.getRule(gn)||at.setRule(gn);!(0,S.isUndefined)(Ke)&&Rn.set({stylable:Ke}),Mn=Rn}ot.push(Mn)});var bt=ke.component||ot.filter(function(gn){return(0,p.isComponent)(gn)}).reverse()[0];ot=ot.map(function(gn){return fe.getModelToStyle(gn)});var xt=De.getState(),Dt=ot.slice().reverse()[0],Qt=this.getParentRules(Dt,{state:xt,component:bt}),an=this.__getStateTarget();return De.skip(function(){var gn;if(xt&&Dt!=null&&(gn=Dt.getState)!==null&&gn!==void 0&&gn.call(Dt)){var Mn=Dt.getStyle();an?an.setStyle(Mn):an=at.getAll().add({selectors:"gjs-selected",style:Mn,shallow:!0,important:!0})}else an&&(at.remove(an),an=null)}),this.model.set({targets:ot,lastTarget:Dt,lastTargetParents:Qt,stateTarget:an,component:bt}),this.__upProps(ke),ot},getSelected:function(){return this.model.get("lastTarget")||null},getSelectedAll:function(){return this.model.get("targets")},getSelectedParents:function(){return this.model.get("lastTargetParents")||[]},__getStateTarget:function(){return this.model.get("stateTarget")||null},addStyleTargets:function(x,fe){this.getSelectedAll().map(function(Be){return Be.addStyle(x,fe)});var ke=this.getSelected(),De=this.__getStateTarget();ke&&(De==null||De.setStyle(ke.getStyle(),fe))},getBuiltIn:function(x){return this.builtIn.get(x)},getBuiltInAll:function(){return this.builtIn.props},addBuiltIn:function(x,fe){return this.builtIn.add(x,fe)},getModelToStyle:function(x){var fe,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},De=this.em,Be=ke.skipAdd;if(De&&(fe=x)!==null&&fe!==void 0&&fe.toHTML){var Ke,at=De.getConfig(),ot=De.get("UndoManager"),bt=De.get("CssComposer"),xt=De.get("SelectorManager"),Dt=xt?xt.getConfig():{},Qt=at.devicePreviewMode?"":De.get("state"),an=x.get("classes"),gn=an.getStyleable(),Mn=gn.length,Rn=!Dt.componentFirst||ke.useClasses,sn={noCount:1},On={state:Qt,addOpts:sn};if(ot.stop(),Mn&&Rn){var Un=De.getCurrentMedia();(Ke=bt.get(gn,Qt,Un))||Be||(Ke=bt.add(gn,Qt,Un,{},sn))}else if(at.avoidInlineStyle){var Jn=x.getId();!(Ke=bt.getIdRule(Jn,On))&&!Be&&(Ke=bt.setIdRule(Jn,{},On)),x.is("wrapper")&&Ke.set("wrapper",1,sn)}Ke&&(x=Ke),ot.start()}return x},getParentRules:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=fe.state,De=fe.component,Be=this.em,Ke=[];if(Be&&x){var at=De,ot=Be.get("CssComposer"),bt=Be.get("CodeManager").getGenerator("css"),xt=x.toHTML?x:x.getComponent(),Dt={combination:!0,array:!0},Qt=[],an=[],gn=[];xt?(Qt=ot.getRules("#".concat(xt.getId())),gn=(an=at?ot.getRules(at.getSelectors().getFullName(Dt)):[]).concat(Qt)):(Qt=at?ot.getRules("#".concat(at.getId())):[],an=ot.getRules(x.getSelectors().getFullName(Dt)),gn=Qt.concat(an));var Mn=gn.filter(function(Rn){return(0,S.isUndefined)(ke)?1:Rn.get("state")===ke}).sort(bt.sortRules).reverse();Ke=Mn.slice(Mn.indexOf(x)+1)}return Ke},addType:function(x,fe){O.addType(x,fe)},getType:function(x){return O.getType(x)},getTypes:function(){return O.getTypes()},createType:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=fe.model,De=ke===void 0?{}:ke,Be=fe.view,Ke=Be===void 0?{}:Be,at=this.config,ot=this.getType(x);if(ot)return new ot.view(rt({model:new ot.model(De),config:at},Ke))},render:function(){var x=this.config,fe=this.em,ke=ce&&ce.el;return(ce=new mt({el:ke,em:fe,config:x,collection:W,module:this})).render().el},_logNoSector:function(x){var fe=this.em;fe&&fe.logWarning("'".concat(x,"' sector not found"))},__upProps:function(x){var fe=this,ke=this.getSelected();if(ke){var De=this.model.get("component"),Be=this.getSelectedParents(),Ke=ke.getStyle(),at=Be.map(function(ot){return{target:ot,style:ot.getStyle()}});W.map(function(ot){ot.getProperties().map(function(bt){fe.__upProp(bt,Ke,at,x)})}),W.forEach(function(ot){var bt=ot.getProperties();bt.forEach(function(Dt){var Qt=Dt.__checkVisibility({target:ke,component:De,sectors:W});Dt.set("visible",Qt)});var xt=bt.some(function(Dt){return Dt.isVisible()});ot.set("visible",xt)})}},__upProp:function(x,fe,ke,De){var Be=this,Ke=x.getName(),at=fe[Ke],ot=he(at),bt=x.getType()==="stack",xt=x.getType()==="composite",Dt=rt(rt({},De),{},{__up:!0}),Qt=!xt&&!bt,an=bt?x.__getLayersFromStyle(fe):[],gn=xt?x.__getPropsFromStyle(fe):{},Mn=ot?at:null,Rn=null;if(bt&&an===null||xt&&gn===null){var sn=bt?"__getLayersFromStyle":"__getPropsFromStyle",On=ke.filter(function(xn){return x[sn](xn.style)!==null})[0];if(On){Mn=On.style[Ke],Rn=On.target;var Un=x[sn](On.style);bt?an=Un:gn=Un}}else if(!ot){Mn=null;var Jn=ke.filter(function(xn){return he(xn.style[Ke])})[0];Jn&&(Mn=Jn.style[Ke],Rn=Jn.target)}if(x.__setParentTarget(Rn),Qt&&x.__getFullValue()!==Mn&&x.upValue(Mn,Dt),bt&&x.__setLayers(an||[]),xt){var lr=x.getProperties();if(x.isDetached()){var An=x.__getPropsFromStyle(fe,{byName:!0})||{},Yn=ke.map(function(xn){return rt(rt({},xn),{},{style:x.__getPropsFromStyle(xn.style,{byName:!0})||{}})});lr.map(function(xn){return Be.__upProp(xn,An,Yn,De)})}else x.__setProperties(gn||{},Dt),x.getProperties().map(function(xn){return xn.__setParentTarget(Rn)})}},destroy:function(){[O,W].forEach(function(x){x.reset(),x.stopListening()}),ce&&ce.remove(),this.em={},this.config={},this.builtIn={},this.model={}}})}},6388:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>R,evAll:()=>b,evCustom:()=>z,evPfx:()=>h});var A=s(4942),U=s(9050),S=s(9304),p=s(2316),k=s.n(p);const d={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}]};var j=s(5671),_=s(3144),f=s(7326),c=s(9340),m=s(2963),w=s(1120),E=s(6602),Z=s(885),Q=s(1163);function J(T,P){var u=Object.keys(T);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(T);P&&(ee=ee.filter(function(q){return Object.getOwnPropertyDescriptor(T,q).enumerable})),u.push.apply(u,ee)}return u}function te(T){for(var P=1;P<arguments.length;P++){var u=arguments[P]!=null?arguments[P]:{};P%2?J(Object(u),!0).forEach(function(ee){(0,A.Z)(T,ee,u[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(u)):J(Object(u)).forEach(function(ee){Object.defineProperty(T,ee,Object.getOwnPropertyDescriptor(u,ee))})}return T}function X(T){var P=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,ee=(0,w.Z)(T);if(P){var q=(0,w.Z)(this).constructor;u=Reflect.construct(ee,arguments,q)}else u=ee.apply(this,arguments);return(0,m.Z)(this,u)}}var V=k().$,se=function(T){(0,c.Z)(u,T);var P=X(u);function u(){var ee,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,j.Z)(this,u),ee=P.call(this,q),(0,A.Z)((0,f.Z)(ee),"events",{}),(0,A.Z)((0,f.Z)(ee),"appendInput",!0);var C=q.config,D=C===void 0?{}:C,le=(0,f.Z)(ee),be=le.model,I=le.eventCapture,oe=be.target,de=be.attributes.type;ee.config=D,ee.em=D.em,ee.pfx=D.stylePrefix||"",ee.ppfx=D.pStylePrefix||"",ee.target=oe;var Oe=(0,f.Z)(ee),we=Oe.ppfx;return ee.clsField="".concat(we,"field ").concat(we,"field-").concat(de),[["change:value",ee.onValueChange],["remove",ee.removeView]].forEach(function(Se){var xe=(0,Z.Z)(Se,2),Ie=xe[0],Xe=xe[1];be.off(Ie,Xe),ee.listenTo(be,Ie,Xe)}),be.view=(0,f.Z)(ee),ee.listenTo(be,"change:label",ee.render),ee.listenTo(be,"change:placeholder",ee.rerender),ee.events={},I.forEach(function(Se){return ee.events[Se]="onChange"}),ee.delegateEvents(),ee.init(),ee}return(0,_.Z)(u,[{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"templateLabel",value:function(){var ee=this.ppfx,q=this.getLabel();return'<div class="'.concat(ee,'label" title="').concat(q,'">').concat(q,"</div>")}},{key:"templateInput",value:function(){var ee=this.clsField;return'<div class="'.concat(ee,'" data-input></div>')}},{key:"getClbOpts",value:function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}}},{key:"removeView",value:function(){this.remove(),this.removed()}},{key:"init",value:function(){}},{key:"removed",value:function(){}},{key:"onRender",value:function(){}},{key:"onUpdate",value:function(){}},{key:"onEvent",value:function(){}},{key:"onChange",value:function(ee){var q=this.getInputElem();q&&!(0,U.isUndefined)(q.value)&&this.model.set("value",q.value),this.onEvent(te(te({},this.getClbOpts()),{},{event:ee}))}},{key:"getValueForTarget",value:function(){return this.model.get("value")}},{key:"setInputValue",value:function(ee){var q=this.getInputElem();q&&(q.value=ee)}},{key:"onValueChange",value:function(ee,q){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(C.fromTarget)this.setInputValue(ee.get("value")),this.postUpdate();else{var D=this.getValueForTarget();ee.setTargetValue(D,C)}}},{key:"renderLabel",value:function(){var ee=this.$el,q=this.target,C=this.getLabel(),D=this.templateLabel(q);this.createLabel&&(D=this.createLabel({label:C,component:q,trait:this})||""),ee.find("[data-label]").append(D)}},{key:"getLabel",value:function(){var ee=this.em,q=this.model.attributes,C=q.label,D=q.name;return ee.t("traitManager.traits.labels.".concat(D))||(0,Q.capitalize)(C||D).replace(/-/g," ")}},{key:"getComponent",value:function(){return this.target}},{key:"getInputEl",value:function(){if(!this.$input){var ee=this.em,q=this.model,C=q,D=q.attributes.name,le=C.get("placeholder")||C.get("default")||"",be=C.get("type")||"text",I=C.get("min"),oe=C.get("max"),de=this.getModelValue(),Oe=V('<input type="'.concat(be,'" placeholder="').concat(le,'">')),we=ee.t("traitManager.traits.attributes.".concat(D))||{};Oe.attr(we),(0,U.isUndefined)(de)||(C.set({value:de},{silent:!0}),Oe.prop("value",de)),I&&Oe.prop("min",I),oe&&Oe.prop("max",oe),this.$input=Oe}return this.$input.get(0)}},{key:"getInputElem",value:function(){var ee=this.input,q=this.$input;return ee||q&&q.get&&q.get(0)||this.getElInput()}},{key:"getModelValue",value:function(){var ee,q=this.model,C=this.target,D=q.get("name");if(q.get("changeProp"))ee=C.get(D);else{var le=C.get("attributes");ee=q.get("value")||le[D]}return(0,U.isUndefined)(ee)?"":ee}},{key:"getElInput",value:function(){return this.elInput}},{key:"renderField",value:function(){var ee=this.$el,q=this.appendInput,C=this.model,D=ee.find("[data-input]"),le=D[D.length-1],be=C.el;be||(be=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,U.isString)(be)?(le.innerHTML=be,this.elInput=le.firstChild):(q?le.appendChild(be):le.insertBefore(be,le.firstChild),this.elInput=be),C.el=this.elInput}},{key:"hasLabel",value:function(){var ee=this.model.attributes.label;return!this.noLabel&&ee!==!1}},{key:"rerender",value:function(){this.model.el=null,this.render()}},{key:"postUpdate",value:function(){this.onUpdate(this.getClbOpts())}},{key:"render",value:function(){var ee=this.$el,q=this.pfx,C=this.ppfx,D=this.model.attributes,le=D.type,be=D.id,I=this.hasLabel&&this.hasLabel(),oe="".concat(q,"trait");this.$input=null;var de='<div class="'.concat(oe," ").concat(oe,"--").concat(le,`">
      `).concat(I?'<div class="'.concat(C,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(C,"field-wrp ").concat(C,"field-wrp--").concat(le,`" data-input>
        `).concat(this.templateInput?(0,U.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return ee.empty().append(de),I&&this.renderLabel(),this.renderField(),this.el.className="".concat(oe,"__wrp ").concat(oe,"__wrp-").concat(be),this.postUpdate(),this.onRender(this.getClbOpts()),this}}]),u}(k().View);function ve(T){var P=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,ee=(0,w.Z)(T);if(P){var q=(0,w.Z)(this).constructor;u=Reflect.construct(ee,arguments,q)}else u=ee.apply(this,arguments);return(0,m.Z)(this,u)}}se.prototype.eventCapture=["change"];var ue=function(T){(0,c.Z)(u,T);var P=ve(u);function u(){var ee,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=arguments.length>1?arguments[1]:void 0;(0,j.Z)(this,u),ee=P.call(this,q),(0,A.Z)((0,f.Z)(ee),"reuseView",!0),ee.itemsView=C;var D=q.config||{},le=D.stylePrefix||"",be=q.editor;return ee.config=D,ee.em=be,ee.pfx=le,ee.ppfx=D.pStylePrefix||"",ee.className="".concat(le,"traits"),ee.listenTo(be,"component:toggled",ee.updatedCollection),ee.updatedCollection(),ee}return(0,_.Z)(u,[{key:"updatedCollection",value:function(){var ee=this.ppfx,q=this.className,C=this.em.getSelected();this.el.className="".concat(q," ").concat(ee,"one-bg ").concat(ee,"two-color"),this.collection=C?C.get("traits"):[],this.render()}}]),u}(E.Z);function M(T){var P=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,ee=(0,w.Z)(T);if(P){var q=(0,w.Z)(this).constructor;u=Reflect.construct(ee,arguments,q)}else u=ee.apply(this,arguments);return(0,m.Z)(this,u)}}ue.prototype.itemView=se;var L=k().$,F=function(T){(0,c.Z)(u,T);var P=M(u);function u(){var ee,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,j.Z)(this,u),(ee=P.call(this,q)).listenTo(ee.model,"change:options",ee.rerender),ee}return(0,_.Z)(u,[{key:"templateInput",value:function(){var ee=this.ppfx,q=this.clsField;return'<div class="'.concat(q,`">
      <div data-input></div>
      <div class="`).concat(ee,`sel-arrow">
        <div class="`).concat(ee,`d-s-arrow"></div>
      </div>
    </div>`)}},{key:"getInputEl",value:function(){if(!this.$input){var ee=this.model,q=this.em,C=ee.get("name"),D=ee.get("options")||[],le=[],be="<select>";D.forEach(function(de){var Oe,we,Se,xe="";(0,U.isString)(de)?(Oe=de,we=de):(Oe=de.name||de.label||de.value,we="".concat((0,U.isUndefined)(de.value)?de.id:de.value).replace(/"/g,"&quot;"),xe+=(Se=de.style?de.style.replace(/"/g,"&quot;"):"")?' style="'.concat(Se,'"'):"");var Ie=q.t("traitManager.traits.options.".concat(C,".").concat(we))||Oe;be+='<option value="'.concat(we,'"').concat(xe,">").concat(Ie,"</option>"),le.push(we)}),be+="</select>",this.$input=L(be);var I=ee.getTargetValue(),oe=le.indexOf(I)>=0?I:ee.get("default");!(0,U.isUndefined)(oe)&&this.$input.val(oe)}return this.$input.get(0)}}]),u}(se);function re(T){var P=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,ee=(0,w.Z)(T);if(P){var q=(0,w.Z)(this).constructor;u=Reflect.construct(ee,arguments,q)}else u=ee.apply(this,arguments);return(0,m.Z)(this,u)}}var ne=function(T){(0,c.Z)(u,T);var P=re(u);function u(){var ee;(0,j.Z)(this,u);for(var q=arguments.length,C=new Array(q),D=0;D<q;D++)C[D]=arguments[D];return ee=P.call.apply(P,[this].concat(C)),(0,A.Z)((0,f.Z)(ee),"appendInput",!1),ee}return(0,_.Z)(u,[{key:"templateInput",value:function(){var ee=this.ppfx,q=this.clsField;return'<label class="'.concat(q,`" data-input>
    <i class="`).concat(ee,`chk-icon"></i>
  </label>`)}},{key:"onChange",value:function(){var ee=this.getInputElem().checked;this.model.set("value",this.getCheckedValue(ee))}},{key:"getCheckedValue",value:function(ee){var q=ee,C=this.model.attributes,D=C.valueTrue,le=C.valueFalse;return q&&!(0,U.isUndefined)(D)&&(q=D),q||(0,U.isUndefined)(le)||(q=le),q}},{key:"getInputEl",value:function(){for(var ee=!this.$input,q=arguments.length,C=new Array(q),D=0;D<q;D++)C[D]=arguments[D];var le=se.prototype.getInputEl.apply(this,C);if(ee){var be,I,oe=this.model,de=this.target,Oe=oe.attributes,we=(Oe.valueTrue,Oe.valueFalse),Se=oe.get("name");oe.get("changeProp")?I=be=de.get(Se):be=!(!(I=de.get("attributes")[Se])&&I!==""),(0,U.isUndefined)(we)||I!==we||(be=!1),le.checked=be}return le}}]),u}(se),H=s(7610);function Y(T){var P=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,ee=(0,w.Z)(T);if(P){var q=(0,w.Z)(this).constructor;u=Reflect.construct(ee,arguments,q)}else u=ee.apply(this,arguments);return(0,m.Z)(this,u)}}var l=function(T){(0,c.Z)(u,T);var P=Y(u);function u(){return(0,j.Z)(this,u),P.apply(this,arguments)}return(0,_.Z)(u,[{key:"getValueForTarget",value:function(){var ee=this.model,q=ee.attributes,C=q.value,D=q.unit;return(0,U.isUndefined)(C)||C===""?ee.get("default"):C+D}},{key:"getInputEl",value:function(){if(!this.input){var ee=this.ppfx,q=this.model,C=this.getModelValue(),D=new H.Z({contClass:"".concat(ee,"field-int"),type:"number",model:q,ppfx:ee});this.input=D.render(),this.$input=this.input.inputEl,this.$unit=this.input.unitEl,q.set("value",C,{fromTarget:1}),this.$input.val(C),this.input=D.el}return this.input}}]),u}(se),y=s(1511);function g(T){var P=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,ee=(0,w.Z)(T);if(P){var q=(0,w.Z)(this).constructor;u=Reflect.construct(ee,arguments,q)}else u=ee.apply(this,arguments);return(0,m.Z)(this,u)}}var v=function(T){(0,c.Z)(u,T);var P=g(u);function u(){var ee;(0,j.Z)(this,u);for(var q=arguments.length,C=new Array(q),D=0;D<q;D++)C[D]=arguments[D];return ee=P.call.apply(P,[this].concat(C)),(0,A.Z)((0,f.Z)(ee),"templateInput",""),ee}return(0,_.Z)(u,[{key:"getInputEl",value:function(){if(!this.input){var ee=this.model,q=this.getModelValue(),C=new y.Z({model:ee,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}).render();C.setValue(q,{fromTarget:1}),this.input=C.el}return this.input}}]),u}(se);function $(T){var P=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,ee=(0,w.Z)(T);if(P){var q=(0,w.Z)(this).constructor;u=Reflect.construct(ee,arguments,q)}else u=ee.apply(this,arguments);return(0,m.Z)(this,u)}}var ae=function(T){(0,c.Z)(u,T);var P=$(u);function u(){var ee;(0,j.Z)(this,u);for(var q=arguments.length,C=new Array(q),D=0;D<q;D++)C[D]=arguments[D];return ee=P.call.apply(P,[this].concat(C)),(0,A.Z)((0,f.Z)(ee),"eventCapture",["click button"]),(0,A.Z)((0,f.Z)(ee),"templateInput",""),ee}return(0,_.Z)(u,[{key:"onChange",value:function(){this.handleClick()}},{key:"handleClick",value:function(){var ee=this.model,q=this.em,C=ee.get("command");C&&((0,U.isString)(C)?q.get("Commands").run(C):C(q.get("Editor"),ee))}},{key:"renderLabel",value:function(){this.model.get("label")&&se.prototype.renderLabel.apply(this,arguments)}},{key:"getInputEl",value:function(){var ee=this.model,q=this.ppfx,C=ee.props(),D=C.labelButton,le=C.text,be=C.full,I=D||le,oe="".concat(q,"btn");return'<button type="button" class="'.concat(oe,"-prim").concat(be?" ".concat(oe,"--full"):"",'">').concat(I,"</button>")}}]),u}(se);function K(T,P){var u=Object.keys(T);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(T);P&&(ee=ee.filter(function(q){return Object.getOwnPropertyDescriptor(T,q).enumerable})),u.push.apply(u,ee)}return u}function N(T){for(var P=1;P<arguments.length;P++){var u=arguments[P]!=null?arguments[P]:{};P%2?K(Object(u),!0).forEach(function(ee){(0,A.Z)(T,ee,u[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(u)):K(Object(u)).forEach(function(ee){Object.defineProperty(T,ee,Object.getOwnPropertyDescriptor(u,ee))})}return T}var b="trait",h="".concat(b,":"),z="".concat(h,"custom");const R=function(){var T={text:se,number:l,select:F,checkbox:ne,color:v,button:ae};return N(N({},S.Z),{},{TraitsView:ue,events:{all:b,custom:z},name:"TraitManager",init:function(){var P=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__initConfig(d,u);var ee=this.config,q=new p.Model;this.model=q;var C=this.em,D=ee.pStylePrefix;this.types=N({},T),D&&(ee.stylePrefix="".concat(D).concat(ee.stylePrefix));var le=(0,U.debounce)(function(){return P.__upSel()});q.listenTo(C,"component:toggled",le);var be=(0,U.debounce)(function(){return P.__onUp()});return q.listenTo(C,"trait:update",be),this},__upSel:function(){this.select(this.em.getSelected())},__onUp:function(){this.select(this.getSelected())},select:function(P){var u=P?P.getTraits():[];this.model.set({component:P,traits:u}),this.__trgCustom()},getSelected:function(){return this.model.get("component")||null},getCurrent:function(){return this.model.get("traits")||[]},__trgCustom:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__ctn=this.__ctn||P.container,this.em.trigger(this.events.custom,{container:this.__ctn})},postRender:function(){this.__appendTo()},getTraitsViewer:function(){return this.view},addType:function(P,u){var ee=this.getType("text");this.types[P]=ee.extend(u)},getType:function(P){return this.getTypes()[P]},getTypes:function(){return this.types},render:function(){var P=this.view,u=this.getConfig(),ee=P&&P.el;return P=new ue({el:ee,collection:[],editor:u.em,config:u},this.getTypes()),this.view=P,P.el},destroy:function(){this.__destroy()}})}},8202:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>_});var A=s(2982),U=s(4942),S=s(3410),p=s.n(S),k=s(9050);function d(f,c){var m=Object.keys(f);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(f);c&&(w=w.filter(function(E){return Object.getOwnPropertyDescriptor(f,E).enumerable})),m.push.apply(m,w)}return m}function j(f){for(var c=1;c<arguments.length;c++){var m=arguments[c]!=null?arguments[c]:{};c%2?d(Object(m),!0).forEach(function(w){(0,U.Z)(f,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(m)):d(Object(m)).forEach(function(w){Object.defineProperty(f,w,Object.getOwnPropertyDescriptor(m,w))})}return f}const _=function(){var f,c,m,w,E={maximumStackLength:500,trackSelection:1},Z=function(J){return J.avoidStore||J.noUndo},Q=function(J){return Object.keys(J.changedAttributes())};return{name:"UndoManager",init:function(){var J=this,te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};m=j(j({},E),te),f=m.em,this.em=f,m._disable&&(m=j(j({},m),{},{maximumStackLength:0}));var X=!0;return(c=new(p())(j({track:!0,register:[]},m))).changeUndoType("change",{condition:function(V){var se=V.get("_undo");if(se){var ve=V.get("_undoexc");if((0,k.isArray)(ve)&&Q(V).some(function(ue){return ve.indexOf(ue)>=0}))return!1;if((0,k.isBoolean)(se)||(0,k.isArray)(se)&&Q(V).some(function(ue){return se.indexOf(ue)>=0}))return!0}return!1},on:function(V,se,ve){!w&&(w=V.previousAttributes());var ue=ve||se||{};if(ue.noUndo&&setTimeout(function(){w=null}),!Z(ue)){var M=V.toJSON({fromUndo:X}),L={object:V,before:w,after:M};if(w=null,!(0,k.isEmpty)(M))return L}}}),c.changeUndoType("add",{on:function(V,se){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Z(ve)&&J.isRegistered(se))return{object:se,before:void 0,after:V,options:j(j({},ve),{},{fromUndo:X})}}}),c.changeUndoType("remove",{on:function(V,se){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Z(ve)&&J.isRegistered(se))return{object:se,before:V,after:void 0,options:j(j({},ve),{},{fromUndo:X})}}}),c.changeUndoType("reset",{undo:function(V,se){V.reset(se,{fromUndo:X})},redo:function(V,se,ve){V.reset(ve,{fromUndo:X})},on:function(V){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Z(se)&&J.isRegistered(V))return{object:V,before:se.previousModels,after:(0,A.Z)(V.models),options:j(j({},se),{},{fromUndo:X})}}}),c.on("undo redo",function(){f.trigger("change:canvasOffset"),f.getSelectedAll().map(function(V){return V.trigger("rerender:layer")})}),["undo","redo"].forEach(function(V){return c.on(V,function(){return f.trigger(V)})}),this},postLoad:function(){m.trackSelection&&f&&this.add(f.get("selected"))},getConfig:function(){return m},add:function(J){return c.register(J),this},remove:function(J){return c.unregister(J),this},removeAll:function(){return c.unregisterAll(),this},start:function(){return c.startTracking(),this},stop:function(){return c.stopTracking(),this},undo:function(){var J=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return!f.isEditing()&&c.undo(J),this},undoAll:function(){return c.undoAll(),this},redo:function(){var J=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return!f.isEditing()&&c.redo(J),this},redoAll:function(){return c.redoAll(),this},hasUndo:function(){return c.isAvailable("undo")},hasRedo:function(){return c.isAvailable("redo")},isRegistered:function(J){return!!this.getInstance().objectRegistry.isRegistered(J)},getStack:function(){return c.stack},getStackGroup:function(){var J=[],te=[];return this.getStack().forEach(function(X){var V=X.get("magicFusionIndex");te.indexOf(V)<0&&(te.push(V),J.push(X))}),J},skip:function(J){this.stop(),J(),this.start()},getGroupedStack:function(){var J={},te=this.getStack();return te.forEach(function(X,V){var se=X.get("magicFusionIndex"),ve=function(ue,M){var L=ue.attributes,F=L.type,re=L.after,ne=L.before,H=L.object,Y=L.options;return{index:M,type:F,after:re,before:ne,object:H,options:Y===void 0?{}:Y}}(X,V);J[se]?J[se].push(ve):J[se]=[ve]}),Object.keys(J).map(function(X){var V=J[X];return{index:V[V.length-1].index,actions:V,labels:(0,k.unique)(V.reduce(function(se,ve){var ue,M=(ue=ve.options)===null||ue===void 0?void 0:ue.action;return M&&se.push(M),se},[]))}})},goToGroup:function(J){var te=this;if(J){var X=this.getPointer(),V=J.index-X;(0,k.times)(Math.abs(V),function(){te[V<0?"undo":"redo"](!1)})}},getPointer:function(){return this.getStack().pointer},clear:function(){return c.clear(),this},getInstance:function(){return c},destroy:function(){this.clear().removeAll(),this.em={}}}}},5610:(ge,ie,s)=>{s.d(ie,{Z:()=>_});var A=s(4942),U=s(5671),S=s(3144),p=s(9050),k=s(1163);function d(f,c){var m=Object.keys(f);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(f);c&&(w=w.filter(function(E){return Object.getOwnPropertyDescriptor(f,E).enumerable})),m.push.apply(m,w)}return m}function j(f){for(var c=1;c<arguments.length;c++){var m=arguments[c]!=null?arguments[c]:{};c%2?d(Object(m),!0).forEach(function(w){(0,A.Z)(f,w,m[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(m)):d(Object(m)).forEach(function(w){Object.defineProperty(f,w,Object.getOwnPropertyDescriptor(m,w))})}return f}var _=function(){function f(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,U.Z)(this,f),this.opts={container:null,onStart:null,onDrag:null,onEnd:null,setPosition:null,getPosition:null,guidesStatic:null,guidesTarget:null,snapOffset:5,doc:0,scale:1},(0,p.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(c),this.delta={x:0,y:0},this}return(0,S.Z)(f,[{key:"setOptions",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.opts=j(j({},this.opts),c)}},{key:"toggleDrag",value:function(c){var m=this.getDocumentEl(),w=this.getContainerEl(),E=this.getWindowEl(),Z=c?"on":"off",Q={on:k.on,off:k.off};Q[Z](w,"mousemove dragover",this.drag),Q[Z](m,"mouseup dragend touchend",this.stop),Q[Z](m,"keydown",this.keyHandle),Q[Z](E,"scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var c=this.lastScroll,m=this.delta,w=this.getScrollInfo(),E={x:w.x-c.x,y:w.y-c.y};this.move(m.x+E.x,m.y+E.y),this.lastScrollDiff=E}},{key:"start",value:function(c){var m=this.opts,w=m.onStart;this.toggleDrag(1),this.startPointer=this.getPointerPos(c),this.guidesStatic=(0,p.result)(m,"guidesStatic")||[],this.guidesTarget=(0,p.result)(m,"guidesTarget")||[],(0,p.isFunction)(w)&&w(c,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff={x:0,y:0},this.globScrollDiff={x:0,y:0},this.drag(c)}},{key:"drag",value:function(c){var m=this,w=this.opts,E=this.lastScrollDiff,Z=this.globScrollDiff,Q=w.onDrag,J=this.startPointer,te=this.getPointerPos(c),X={x:Z.x+E.x,y:Z.y+E.y};this.globScrollDiff=X;var V={x:te.x-J.x+X.x,y:te.y-J.y+X.y};this.lastScrollDiff={x:0,y:0};var se=this.lockedAxis;(se=c.shiftKey?!se&&this.detectAxisLock(V.x,V.y):null)==="x"?V.x=J.x:se==="y"&&(V.y=J.y);var ve=function(ne){["x","y"].forEach(function(H){return ne[H]=ne[H]*(0,p.result)(w,"scale")}),m.delta=ne,m.move(ne.x,ne.y),(0,p.isFunction)(Q)&&Q(c,m)},ue=j({},V);if(this.currentPointer=te,this.lockedAxis=se,this.lastScroll=this.getScrollInfo(),ve(V),this.guidesTarget.length){var M=this.snapGuides(ue),L=M.newDelta,F=M.trgX,re=M.trgY;(F||re)&&ve(L)}c.which===0&&this.stop(c)}},{key:"snapGuides",value:function(c){var m=this,w=c,E=this.trgX,Z=this.trgY;return this.guidesTarget.forEach(function(Q){Q.x&&m.trgX||Q.y&&m.trgY||(Q.active=0,m.guidesStatic.forEach(function(J){if(!(Q.y&&J.x||Q.x&&J.y)){var te=Q.y&&J.y,X=te?"y":"x",V=Q[X],se=J[X],ve=c[X],ue=te?Z:E;if(m.isPointIn(V,se)&&(0,p.isUndefined)(ue)){var M=ve-(V-se);m.setGuideLock(Q,M)}}}))}),E=this.trgX,Z=this.trgY,["x","y"].forEach(function(Q){var J=Q.toUpperCase(),te=m["trg".concat(J)];te&&!m.isPointIn(c[Q],te.lock)&&(m.setGuideLock(te,null),te=null),te&&!(0,p.isUndefined)(te.lock)&&(w[Q]=te.lock)}),{newDelta:w,trgX:this.trgX,trgY:this.trgY}}},{key:"isPointIn",value:function(c,m){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},E=w.offset,Z=E||this.opts.snapOffset;return c>=m&&c<=m+Z||c<=m&&c>=m-Z}},{key:"setGuideLock",value:function(c,m){var w=(0,p.isUndefined)(c.x)?"Y":"X",E="trg".concat(w);return m!==null?(c.active=1,c.lock=m,this[E]=c):(delete c.active,delete c.lock,delete this[E]),c}},{key:"stop",value:function(c){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=this.delta,E=m.cancel,Z=E?0:w.x,Q=E?0:w.y;this.toggleDrag(),this.lockedAxis=null,this.move(Z,Q,1);var J=this.opts.onEnd;(0,p.isFunction)(J)&&J(c,this,{cancelled:E})}},{key:"keyHandle",value:function(c){(0,k.isEscKey)(c)&&this.stop(c,{cancel:1})}},{key:"move",value:function(c,m,w){var E=this.el,Z=this.opts,Q=this.startPosition;if(Q){var J=Z.setPosition,te=Q.x+c,X=Q.y+m;this.position={x:te,y:X,end:w},(0,p.isFunction)(J)&&J(this.position),E&&(E.style.left="".concat(te,"px"),E.style.top="".concat(X,"px"))}}},{key:"getContainerEl",value:function(){var c=this.opts.container;return c?[c]:this.getDocumentEl()}},{key:"getWindowEl",value:function(){return this.getContainerEl().map(function(c){var m=c.ownerDocument||c;return m.defaultView||m.parentWindow})}},{key:"getDocumentEl",value:function(c){var m=this.opts.doc;if(c=c||this.el,!this.docs){var w=[document];c&&w.push(c.ownerDocument),m&&w.push(m),this.docs=w}return this.docs}},{key:"getPointerPos",value:function(c){var m=this.opts.getPointerPosition,w=(0,k.getPointerEvent)(c);return m?m(c):{x:w.clientX,y:w.clientY}}},{key:"getStartPosition",value:function(){var c=this.el,m=this.opts.getPosition,w={x:0,y:0};return(0,p.isFunction)(m)?w=m():c&&(w={x:parseFloat(c.style.left),y:parseFloat(c.style.top)}),w}},{key:"getScrollInfo",value:function(){var c=this.opts.doc,m=c&&c.body;return{y:m?m.scrollTop:0,x:m?m.scrollLeft:0}}},{key:"detectAxisLock",value:function(c,m){var w=c,E=m,Z=Math.abs(w),Q=Math.abs(E);return E>=Z||E<=-Z?"x":w>Q||w<-Q?"y":void 0}}]),f}()},2579:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>ze});var A=typeof document!="undefined"?document:null,U=typeof window!="undefined"?window:null,S=Array.prototype,p=S.filter,k=S.indexOf,d=S.map,j=S.push,_=S.reverse,f=S.slice,c=S.splice,m=/^#[\w-]*$/,w=/^\.[\w-]*$/,E=/<.+>/,Z=/^\w+$/;function Q(Ee,Ne){return Ne===void 0&&(Ne=A),w.test(Ee)?Ne.getElementsByClassName(Ee.slice(1)):Z.test(Ee)?Ne.getElementsByTagName(Ee):Ne.querySelectorAll(Ee)}function J(Ee,Ne){if(Ne===void 0&&(Ne=A),Ee){if(Ee.__cash)return Ee;var We=Ee;if(re(Ee)){if(Ne.__cash&&(Ne=Ne[0]),!(We=m.test(Ee)?Ne.getElementById(Ee.slice(1)):E.test(Ee)?Bt(Ee):Q(Ee,Ne)))return}else if(F(Ee))return this.ready(Ee);(We.nodeType||We===U)&&(We=[We]),this.length=We.length;for(var it=0,vt=this.length;it<vt;it++)this[it]=We[it]}}function te(Ee,Ne){return new J(Ee,Ne)}var X=te.fn=te.prototype=J.prototype={constructor:te,__cash:!0,length:0,splice:c};X.get=function(Ee){return Ee===void 0?f.call(this):this[Ee<0?Ee+this.length:Ee]},X.eq=function(Ee){return te(this.get(Ee))},X.first=function(){return this.eq(0)},X.last=function(){return this.eq(-1)},X.map=function(Ee){return te(d.call(this,function(Ne,We){return Ee.call(Ne,We,Ne)}))},X.slice=function(){return te(f.apply(this,arguments))};var V=/(?:^\w|[A-Z]|\b\w)/g,se=/[\s-_]+/g;function ve(Ee){return Ee.replace(V,function(Ne,We){return Ne[We?"toUpperCase":"toLowerCase"]()}).replace(se,"")}function ue(Ee,Ne){for(var We=0,it=Ee.length;We<it&&Ne.call(Ee[We],Ee[We],We,Ee)!==!1;We++);}te.camelCase=ve,te.each=ue,X.each=function(Ee){return ue(this,function(Ne,We){return Ee.call(Ne,We,Ne)}),this},X.removeProp=function(Ee){return this.each(function(Ne,We){delete We[Ee]})},te.extend=X.extend=function(Ee){Ee===void 0&&(Ee=this);for(var Ne=arguments,We=Ne.length,it=We<2?0:1;it<We;it++)for(var vt in Ne[it])Ee[vt]=Ne[it][vt];return Ee};var M=1;function L(Ee,Ne){var We=Ee&&(Ee.matches||Ee.webkitMatchesSelector||Ee.mozMatchesSelector||Ee.msMatchesSelector||Ee.oMatchesSelector);return!!We&&We.call(Ee,Ne)}function F(Ee){return typeof Ee=="function"}function re(Ee){return typeof Ee=="string"}function ne(Ee){return!isNaN(parseFloat(Ee))&&isFinite(Ee)}te.guid=M,te.matches=L,te.isFunction=F,te.isString=re,te.isNumeric=ne;var H=Array.isArray;function Y(Ee){return re(Ee)?function(Ne,We){return L(We,Ee)}:Ee.__cash?function(Ne,We){return Ee.is(We)}:function(Ne,We,it){return We===it}}te.isArray=H,X.prop=function(Ee,Ne){if(Ee){if(re(Ee))return arguments.length<2?this[0]&&this[0][Ee]:this.each(function(it,vt){vt[Ee]=Ne});for(var We in Ee)this.prop(We,Ee[We]);return this}},X.filter=function(Ee){if(!Ee)return te();var Ne=F(Ee)?Ee:Y(Ee);return te(p.call(this,function(We,it){return Ne.call(We,it,We,Ee)}))};var l=/\S+/g;function y(Ee){return re(Ee)&&Ee.match(l)||[]}function g(Ee){return Ee.filter(function(Ne,We,it){return it.indexOf(Ne)===We})}function v(Ee,Ne,We){if(Ee.nodeType===1){var it=U.getComputedStyle(Ee,null);return Ne?We?it.getPropertyValue(Ne):it[Ne]:it}}function $(Ee,Ne){return parseInt(v(Ee,Ne),10)||0}X.hasClass=function(Ee){var Ne=y(Ee),We=!1;return Ne.length&&this.each(function(it,vt){return!(We=vt.classList.contains(Ne[0]))}),We},X.removeAttr=function(Ee){var Ne=y(Ee);return Ne.length?this.each(function(We,it){ue(Ne,function(vt){it.removeAttribute(vt)})}):this},X.attr=function(Ee,Ne){if(Ee){if(re(Ee)){if(arguments.length<2){if(!this[0])return;var We=this[0].getAttribute(Ee);return We===null?void 0:We}return Ne===null?this.removeAttr(Ee):this.each(function(vt,jt){jt.setAttribute(Ee,Ne)})}for(var it in Ee)this.attr(it,Ee[it]);return this}},X.toggleClass=function(Ee,Ne){var We=y(Ee),it=Ne!==void 0;return We.length?this.each(function(vt,jt){ue(We,function(tn){it?Ne?jt.classList.add(tn):jt.classList.remove(tn):jt.classList.toggle(tn)})}):this},X.addClass=function(Ee){return this.toggleClass(Ee,!0)},X.removeClass=function(Ee){return arguments.length?this.toggleClass(Ee,!1):this.attr("class","")},te.unique=g,X.add=function(Ee,Ne){return te(g(this.get().concat(te(Ee,Ne).get())))};var ae=/^--/;function K(Ee){return ae.test(Ee)}var N={},b=A&&A.createElement("div"),h=b?b.style:{},z=["webkit","moz","ms","o"];function R(Ee,Ne){if(Ne===void 0&&(Ne=K(Ee)),Ne)return Ee;if(!N[Ee]){var We=ve(Ee),it=""+We.charAt(0).toUpperCase()+We.slice(1);ue((We+" "+z.join(it+" ")+it).split(" "),function(vt){if(vt in h)return N[Ee]=vt,!1})}return N[Ee]}te.prefixedProp=R;var T={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function P(Ee,Ne,We){return We===void 0&&(We=K(Ee)),We||T[Ee]||!ne(Ne)?Ne:Ne+"px"}X.css=function(Ee,Ne){if(re(Ee)){var We=K(Ee);return Ee=R(Ee,We),arguments.length<2?this[0]&&v(this[0],Ee,We):Ee?(Ne=P(Ee,Ne,We),this.each(function(vt,jt){jt.nodeType===1&&(We?jt.style.setProperty(Ee,Ne):jt.style[Ee]=Ne)})):this}for(var it in Ee)this.css(it,Ee[it]);return this};var u="__cashData",ee=/^data-(.*)/;function q(Ee){return Ee.__cashData=Ee.__cashData||{}}function C(Ee,Ne){var We=q(Ee);if(Ne){if(!(Ne in We)){var it=Ee.dataset?Ee.dataset[Ne]||Ee.dataset[ve(Ne)]:te(Ee).attr("data-"+Ne);if(it!==void 0){try{it=JSON.parse(it)}catch{}We[Ne]=it}}return We[Ne]}return We}function D(Ee,Ne){return $(Ee,"border"+(Ne?"Left":"Top")+"Width")+$(Ee,"padding"+(Ne?"Left":"Top"))+$(Ee,"padding"+(Ne?"Right":"Bottom"))+$(Ee,"border"+(Ne?"Right":"Bottom")+"Width")}function le(Ee,Ne){for(var We=0,it=Ne.length;We<it;We++)if(Ee.indexOf(Ne[We])<0)return!1;return!0}function be(Ee,Ne,We){ue(Ee[We],function(it){it[0];var vt=it[1];Ne.removeEventListener(We,vt)}),delete Ee[We]}te.hasData=function(Ee){return u in Ee},X.data=function(Ee,Ne){var We=this;if(!Ee)return this[0]?(ue(this[0].attributes,function(vt){var jt=vt.name.match(ee);jt&&We.data(jt[1])}),C(this[0])):void 0;if(re(Ee))return Ne===void 0?this[0]&&C(this[0],Ee):this.each(function(vt,jt){return function(tn,Ve,et){q(tn)[Ve]=et}(jt,Ee,Ne)});for(var it in Ee)this.data(it,Ee[it]);return this},X.removeData=function(Ee){return this.each(function(Ne,We){return function(it,vt){vt===void 0?delete it.__cashData:delete q(it)[vt]}(We,Ee)})},ue(["Width","Height"],function(Ee){X["inner"+Ee]=function(){if(this[0])return this[0]===U?U["inner"+Ee]:this[0]["client"+Ee]}}),ue(["width","height"],function(Ee,Ne){X[Ee]=function(We){return this[0]?arguments.length?(We=parseInt(We,10),this.each(function(it,vt){if(vt.nodeType===1){var jt=v(vt,"boxSizing");vt.style[Ee]=P(Ee,We+(jt==="border-box"?D(vt,!Ne):0))}})):this[0]===U?this[0][ve("outer-"+Ee)]:this[0].getBoundingClientRect()[Ee]-D(this[0],!Ne):We===void 0?void 0:this}}),ue(["Width","Height"],function(Ee,Ne){X["outer"+Ee]=function(We){if(this[0])return this[0]===U?U["outer"+Ee]:this[0]["offset"+Ee]+(We?$(this[0],"margin"+(Ne?"Top":"Left"))+$(this[0],"margin"+(Ne?"Bottom":"Right")):0)}});function I(Ee){return Ee.__cashEvents=Ee.__cashEvents||{}}function oe(Ee){var Ne=Ee.split(".");return[Ne[0],Ne.slice(1).sort()]}function de(Ee,Ne,We,it){var vt=I(Ee);if(Ne){var jt=vt[Ne];if(!jt)return;it&&(it.guid=it.guid||M++),vt[Ne]=jt.filter(function(tn){var Ve=tn[0],et=tn[1];if(it&&et.guid!==it.guid||!le(Ve,We))return!0;Ee.removeEventListener(Ne,et)})}else if(We&&We.length)for(Ne in vt)de(Ee,Ne,We,it);else for(Ne in vt)be(vt,Ee,Ne)}X.off=function(Ee,Ne){var We=this;return Ee===void 0?this.each(function(it,vt){return de(vt)}):ue(y(Ee),function(it){var vt=oe(it),jt=vt[0],tn=vt[1];We.each(function(Ve,et){return de(et,jt,tn,Ne)})}),this},X.on=function(Ee,Ne,We,it){var vt=this;if(!re(Ee)){for(var jt in Ee)this.on(jt,Ne,Ee[jt]);return this}return F(Ne)&&(We=Ne,Ne=!1),ue(y(Ee),function(tn){var Ve=oe(tn),et=Ve[0],ut=Ve[1];vt.each(function(At,yt){var ht=function Ut($t){if(!$t.namespace||le(ut,$t.namespace.split("."))){var un=yt;if(Ne){for(var kn=$t.target;!L(kn,Ne);)if(kn===yt||!(kn=kn.parentNode))return;un=kn}$t.namespace=$t.namespace||"";var en=We.call(un,$t,$t.data);it&&de(yt,et,ut,Ut),en===!1&&($t.preventDefault(),$t.stopPropagation())}};ht.guid=We.guid=We.guid||M++,function(Ut,$t,un,kn){kn.guid=kn.guid||M++;var en=I(Ut);en[$t]=en[$t]||[],en[$t].push([un,kn]),Ut.addEventListener($t,kn)}(yt,et,ut,ht)})}),this},X.one=function(Ee,Ne,We){return this.on(Ee,Ne,We,!0)},X.ready=function(Ee){var Ne=function(){return Ee(te)};return A.readyState!=="loading"?setTimeout(Ne):A.addEventListener("DOMContentLoaded",Ne),this},X.trigger=function(Ee,Ne){var We=Ee;if(re(Ee)){var it=oe(Ee),vt=it[0],jt=it[1];(We=A.createEvent("HTMLEvents")).initEvent(vt,!0,!0),We.namespace=jt.join(".")}return We.data=Ne,this.each(function(tn,Ve){Ve.dispatchEvent(We)})};var Oe=/select-one/i,we=/select-multiple/i;function Se(Ee){var Ne=Ee.type;return Oe.test(Ne)?function(We){return We.selectedIndex<0?null:We.options[We.selectedIndex].value}(Ee):we.test(Ne)?function(We){var it=[];return ue(We.options,function(vt){!vt.selected||vt.disabled||vt.parentNode.disabled||it.push(vt.value)}),it}(Ee):Ee.value}var xe=/%20/g,Ie=/file|reset|submit|button|image/i,Xe=/radio|checkbox/i;X.serialize=function(){var Ee="";return this.each(function(Ne,We){ue(We.elements||[We],function(it){if(!it.disabled&&it.name&&it.tagName!=="FIELDSET"&&!Ie.test(it.type)&&(!Xe.test(it.type)||it.checked)){var vt=Se(it);vt!==void 0&&ue(H(vt)?vt:[vt],function(jt){Ee+=function(tn,Ve){return"&"+encodeURIComponent(tn)+"="+encodeURIComponent(Ve).replace(xe,"+")}(it.name,jt)})}})}),Ee.substr(1)},X.val=function(Ee){return Ee===void 0?this[0]&&Se(this[0]):this.each(function(Ne,We){var it=we.test(We.type),vt=Ee===null?it?[]:"":Ee;it&&H(vt)?ue(We.options,function(jt){jt.selected=vt.indexOf(jt.value)>=0}):We.value=vt})},X.clone=function(){return this.map(function(Ee,Ne){return Ne.cloneNode(!0)})},X.detach=function(){return this.each(function(Ee,Ne){Ne.parentNode&&Ne.parentNode.removeChild(Ne)})};var tt,gt=/^\s*<(\w+)[^>]*>/,ct=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/;function Bt(Ee){if(function(){if(!tt){var it=A.createElement("table"),vt=A.createElement("tr");tt={"*":A.createElement("div"),tr:A.createElement("tbody"),td:vt,th:vt,thead:it,tbody:it,tfoot:it}}}(),!re(Ee))return[];if(ct.test(Ee))return[A.createElement(RegExp.$1)];var Ne=gt.test(Ee)&&RegExp.$1,We=tt[Ne]||tt["*"];return We.innerHTML=Ee,te(We.childNodes).detach().get()}function Lt(Ee,Ne,We){if(Ne!==void 0){var it=re(Ne);!it&&Ne.length?ue(Ne,function(vt){return Lt(Ee,vt,We)}):ue(Ee,it?function(vt){vt.insertAdjacentHTML(We?"afterbegin":"beforeend",Ne)}:function(vt,jt){return function(tn,Ve,et){et?tn.insertBefore(Ve,tn.childNodes[0]):tn.appendChild(Ve)}(vt,jt?Ne.cloneNode(!0):Ne,We)})}}te.parseHTML=Bt,X.empty=function(){var Ee=this[0];if(Ee)for(;Ee.firstChild;)Ee.removeChild(Ee.firstChild);return this},X.append=function(){var Ee=this;return ue(arguments,function(Ne){Lt(Ee,Ne)}),this},X.appendTo=function(Ee){return Lt(te(Ee),this),this},X.html=function(Ee){if(Ee===void 0)return this[0]&&this[0].innerHTML;var Ne=Ee.nodeType?Ee[0].outerHTML:Ee;return this.each(function(We,it){it.innerHTML=Ne})},X.insertAfter=function(Ee){var Ne=this;return te(Ee).each(function(We,it){var vt=it.parentNode;Ne.each(function(jt,tn){vt.insertBefore(We?tn.cloneNode(!0):tn,it.nextSibling)})}),this},X.after=function(){var Ee=this;return ue(_.apply(arguments),function(Ne){_.apply(te(Ne).slice()).insertAfter(Ee)}),this},X.insertBefore=function(Ee){var Ne=this;return te(Ee).each(function(We,it){var vt=it.parentNode;Ne.each(function(jt,tn){vt.insertBefore(We?tn.cloneNode(!0):tn,it)})}),this},X.before=function(){var Ee=this;return ue(arguments,function(Ne){te(Ne).insertBefore(Ee)}),this},X.prepend=function(){var Ee=this;return ue(arguments,function(Ne){Lt(Ee,Ne,!0)}),this},X.prependTo=function(Ee){return Lt(te(Ee),_.apply(this.slice()),!0),this},X.remove=function(){return this.detach().off()},X.replaceWith=function(Ee){var Ne=this;return this.each(function(We,it){var vt=it.parentNode;if(vt){var jt=We?te(Ee).clone():te(Ee);if(!jt[0])return Ne.remove(),!1;vt.replaceChild(jt[0],it),te(jt[0]).after(jt.slice(1))}})},X.replaceAll=function(Ee){return te(Ee).replaceWith(this),this},X.text=function(Ee){return Ee===void 0?this[0]?this[0].textContent:"":this.each(function(Ne,We){We.textContent=Ee})};var Ft=A&&A.documentElement;X.offset=function(){var Ee=this[0];if(Ee){var Ne=Ee.getBoundingClientRect();return{top:Ne.top+U.pageYOffset-Ft.clientTop,left:Ne.left+U.pageXOffset-Ft.clientLeft}}},X.offsetParent=function(){return te(this[0]&&this[0].offsetParent)},X.position=function(){var Ee=this[0];if(Ee)return{left:Ee.offsetLeft,top:Ee.offsetTop}},X.children=function(Ee){var Ne=[];return this.each(function(We,it){j.apply(Ne,it.children)}),Ne=te(g(Ne)),Ee?Ne.filter(function(We,it){return L(it,Ee)}):Ne},X.contents=function(){var Ee=[];return this.each(function(Ne,We){j.apply(Ee,We.tagName==="IFRAME"?[We.contentDocument]:We.childNodes)}),te(Ee.length&&g(Ee))},X.find=function(Ee){for(var Ne=[],We=0,it=this.length;We<it;We++){var vt=Q(Ee,this[We]);vt.length&&j.apply(Ne,vt)}return te(Ne.length&&g(Ne))},X.has=function(Ee){var Ne=re(Ee)?function(We,it){return!!Q(Ee,it).length}:function(We,it){return it.contains(Ee)};return this.filter(Ne)},X.is=function(Ee){if(!Ee||!this[0])return!1;var Ne=Y(Ee),We=!1;return this.each(function(it,vt){return!(We=Ne(it,vt,Ee))}),We},X.next=function(){return te(this[0]&&this[0].nextElementSibling)},X.not=function(Ee){if(!Ee||!this[0])return this;var Ne=Y(Ee);return this.filter(function(We,it){return!Ne(We,it,Ee)})},X.parent=function(){var Ee=[];return this.each(function(Ne,We){We&&We.parentNode&&Ee.push(We.parentNode)}),te(g(Ee))},X.index=function(Ee){var Ne=Ee?te(Ee)[0]:this[0],We=Ee?this:te(Ne).parent().children();return k.call(We,Ne)},X.closest=function(Ee){return Ee&&this[0]?this.is(Ee)?this.filter(Ee):this.parent().closest(Ee):te()},X.parents=function(Ee){var Ne,We=[];return this.each(function(it,vt){for(Ne=vt;Ne&&Ne.parentNode&&Ne!==A.body.parentNode;)Ne=Ne.parentNode,(!Ee||Ee&&L(Ne,Ee))&&We.push(Ne)}),te(g(We))},X.prev=function(){return te(this[0]&&this[0].previousElementSibling)},X.siblings=function(){var Ee=this[0];return this.parent().children().filter(function(Ne,We){return We!==Ee})};const ze=te},9283:(ge,ie,s)=>{s.d(ie,{$Q:()=>c,FW:()=>j,G1:()=>S,L_:()=>k,Mx:()=>p,R3:()=>m,SJ:()=>Q,dL:()=>f,pn:()=>_,rw:()=>E,sE:()=>d,t3:()=>Z,ut:()=>w});var A=s(9050),U="attributes",S="transitionend oTransitionEnd transitionend webkitTransitionEnd",p=function(J){return J&&J.nodeType===9},k=function(J){var te=J&&J.parentNode;te&&te.removeChild(J)},d=function(J,te){return J.querySelectorAll(te)},j=function(J){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return J&&J.setAttribute&&(0,A.each)(te,function(X,V){return J.setAttribute(V,X)})},_=function(J){return J&&!!(J.offsetWidth||J.offsetHeight||J.getClientRects().length)},f=function(J,te){J.parentNode.replaceChild(te,J)},c=function(J,te,X){var V=J.childNodes,se=V.length,ve=(0,A.isUndefined)(X)?se:X;(0,A.isString)(te)&&(J.insertAdjacentHTML("beforeEnd",te),te=J.lastChild,J.removeChild(te)),ve>=se?J.appendChild(te):J.insertBefore(te,V[ve])},m=function(J,te){return c(J,te)},w=function(J){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",X=arguments.length>2?arguments[2]:void 0,V=document.createElement(J);return te&&(0,A.each)(te,function(se,ve){return V.setAttribute(ve,se)}),X&&((0,A.isString)(X)?V.innerHTML=X:V.appendChild(X)),V},E=function(J){return document.createTextNode(J)},Z=function(J,te){var X,V=J.type;try{X=new window[te](V,J)}catch{(X=document.createEvent(te)).initEvent(V,!0,!0)}return X._parentEvent=J,V.indexOf("key")===0&&(X.keyCodeVal=J.keyCode,["keyCode","which"].forEach(function(se){Object.defineProperty(X,se,{get:function(){return this.keyCodeVal}})})),X},Q=function(J){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],X=Array.isArray(te)?te:[te];X.forEach(function(V){var se=V.tag||"div",ve=V[U]||{},ue=document.createElement(se);(0,A.each)(ve,function(M,L){ue.setAttribute(L,M)}),J.appendChild(ue)})}},9661:(ge,ie,s)=>{s.d(ie,{Z:()=>Q});var A=s(1002);const U=function(J){var te=this.constructor;return this.then(function(X){return te.resolve(J()).then(function(){return X})},function(X){return te.resolve(J()).then(function(){return te.reject(X)})})},S=function(J){return new this(function(te,X){if(!J||J.length===void 0)return X(new TypeError((0,A.Z)(J)+" "+J+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var V=Array.prototype.slice.call(J);if(V.length===0)return te([]);var se=V.length;function ve(M,L){if(L&&((0,A.Z)(L)==="object"||typeof L=="function")){var F=L.then;if(typeof F=="function")return void F.call(L,function(re){ve(M,re)},function(re){V[M]={status:"rejected",reason:re},--se==0&&te(V)})}V[M]={status:"fulfilled",value:L},--se==0&&te(V)}for(var ue=0;ue<V.length;ue++)ve(ue,V[ue])})};var p=setTimeout;function k(J){return Boolean(J&&J.length!==void 0)}function d(){}function j(J){if(!(this instanceof j))throw new TypeError("Promises must be constructed via new");if(typeof J!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],E(J,this)}function _(J,te){for(;J._state===3;)J=J._value;J._state!==0?(J._handled=!0,j._immediateFn(function(){var X=J._state===1?te.onFulfilled:te.onRejected;if(X!==null){var V;try{V=X(J._value)}catch(se){return void c(te.promise,se)}f(te.promise,V)}else(J._state===1?f:c)(te.promise,J._value)})):J._deferreds.push(te)}function f(J,te){try{if(te===J)throw new TypeError("A promise cannot be resolved with itself.");if(te&&((0,A.Z)(te)==="object"||typeof te=="function")){var X=te.then;if(te instanceof j)return J._state=3,J._value=te,void m(J);if(typeof X=="function")return void E((V=X,se=te,function(){V.apply(se,arguments)}),J)}J._state=1,J._value=te,m(J)}catch(ve){c(J,ve)}var V,se}function c(J,te){J._state=2,J._value=te,m(J)}function m(J){J._state===2&&J._deferreds.length===0&&j._immediateFn(function(){J._handled||j._unhandledRejectionFn(J._value)});for(var te=0,X=J._deferreds.length;te<X;te++)_(J,J._deferreds[te]);J._deferreds=null}function w(J,te,X){this.onFulfilled=typeof J=="function"?J:null,this.onRejected=typeof te=="function"?te:null,this.promise=X}function E(J,te){var X=!1;try{J(function(V){X||(X=!0,f(te,V))},function(V){X||(X=!0,c(te,V))})}catch(V){if(X)return;X=!0,c(te,V)}}j.prototype.catch=function(J){return this.then(null,J)},j.prototype.then=function(J,te){var X=new this.constructor(d);return _(this,new w(J,te,X)),X},j.prototype.finally=U,j.all=function(J){return new j(function(te,X){if(!k(J))return X(new TypeError("Promise.all accepts an array"));var V=Array.prototype.slice.call(J);if(V.length===0)return te([]);var se=V.length;function ve(M,L){try{if(L&&((0,A.Z)(L)==="object"||typeof L=="function")){var F=L.then;if(typeof F=="function")return void F.call(L,function(re){ve(M,re)},X)}V[M]=L,--se==0&&te(V)}catch(re){X(re)}}for(var ue=0;ue<V.length;ue++)ve(ue,V[ue])})},j.allSettled=S,j.resolve=function(J){return J&&(0,A.Z)(J)==="object"&&J.constructor===j?J:new j(function(te){te(J)})},j.reject=function(J){return new j(function(te,X){X(J)})},j.race=function(J){return new j(function(te,X){if(!k(J))return X(new TypeError("Promise.race accepts an array"));for(var V=0,se=J.length;V<se;V++)j.resolve(J[V]).then(te,X)})},j._immediateFn=typeof setImmediate=="function"&&function(J){setImmediate(J)}||function(J){p(J,0)},j._unhandledRejectionFn=function(J){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",J)};const Z=j;(0,s(1163).hasWin)()&&(window.Promise=window.Promise||Z);const Q=typeof fetch=="function"?fetch.bind():function(J,te){return new Z(function(X,V){var se=new XMLHttpRequest;for(var ve in se.open(te.method||"get",J),se.withCredentials=te.credentials=="include",te.headers||{})se.setRequestHeader(ve,te.headers[ve]);se.onload=function(ue){return X({status:se.status,statusText:se.statusText,text:function(){return Z.resolve(se.responseText)}})},se.onerror=V,se.upload&&te.onProgress&&(se.upload.onprogress=te.onProgress),te.body?se.send(te.body):se.send()})}},6718:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>ue});var A=s(4942),U=s(5610),S=s(2316),p=s.n(S),k=s(9050),d=s(1163);function j(M,L){var F=Object.keys(M);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(M);L&&(re=re.filter(function(ne){return Object.getOwnPropertyDescriptor(M,ne).enumerable})),F.push.apply(F,re)}return F}function _(M){for(var L=1;L<arguments.length;L++){var F=arguments[L]!=null?arguments[L]:{};L%2?j(Object(F),!0).forEach(function(re){(0,A.Z)(M,re,F[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(F)):j(Object(F)).forEach(function(re){Object.defineProperty(M,re,Object.getOwnPropertyDescriptor(F,re))})}return M}var f=p().$,c=function(){};const m=p().View.extend({initialize:function(M){this.opt=M||{},(0,k.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var L=M||{};this.elT=0,this.elL=0,this.borderOffset=L.borderOffset||10;var F=L.container;this.el=typeof F=="string"?document.querySelector(F):F,this.$el=f(this.el),this.containerSel=L.containerSel||"div",this.itemSel=L.itemSel||"div",this.draggable=L.draggable||!0,this.nested=L.nested||0,this.pfx=L.pfx||"",this.ppfx=L.ppfx||"",this.freezeClass=L.freezeClass||this.pfx+"freezed",this.onStart=L.onStart||c,this.onEndMove=L.onEndMove||"",this.customTarget=L.customTarget,this.onEnd=L.onEnd,this.direction=L.direction||"v",this.onMoveClb=L.onMove||"",this.relative=L.relative||0,this.ignoreViewChildren=L.ignoreViewChildren||0,this.ignoreModels=L.ignoreModels||0,this.plh=L.placer||"",this.wmargin=L.wmargin||0,this.offTop=L.offsetTop||0,this.offLeft=L.offsetLeft||0,this.document=L.document||document,this.$document=f(this.document),this.dropContent=null,this.em=L.em||null,this.dragHelper=null,this.canvasRelative=L.canvasRelative||0,this.selectOnEnd=!L.avoidSelectOnEnd,this.scale=L.scale,this.activeTextModel=null,this.em&&this.em.on&&(this.em.on("change:canvasOffset",this.updateOffset),this.updateOffset())},getScale:function(){return(0,k.result)(this,scale)||1},getContainerEl:function(M){if(M&&(this.el=M),!this.el){var L=this.opt.container;this.el=typeof L=="string"?document.querySelector(L):L,this.$el=f(this.el)}return this.el},getDocuments:function(M){var L=this.em,F=M?M.ownerDocument:L&&L.get("Canvas").getBody().ownerDocument,re=[document];return F&&re.push(F),re},updateOffset:function(){var M,L=((M=this.em)===null||M===void 0?void 0:M.get("canvasOffset"))||{};this.offTop=L.top,this.offLeft=L.left},setDropContent:function(M){this.dropModel=null,this.dropContent=M},updateTextViewCursorPosition:function(M){var L=this.em;if(L){var F=L.get("Canvas"),re=F.getDocument(),ne=null;if(re.caretRangeFromPoint){var H=(0,d.getPointerEvent)(M);ne=re.caretRangeFromPoint(H.clientX,H.clientY)}else M.rangeParent&&(ne=re.createRange()).setStart(M.rangeParent,M.rangeOffset);var Y=F.getWindow().getSelection();F.getFrameEl().focus(),Y.removeAllRanges(),ne&&Y.addRange(ne),this.setContentEditable(this.activeTextModel,!0)}},setContentEditable:function(M,L){if(M){var F=M.getEl();F.contentEditable!=L&&(F.contentEditable=L)}},toggleSortCursor:function(M){var L=this.em,F=L&&L.get("Canvas");F&&(M?F.startAutoscroll():F.stopAutoscroll())},setDragHelper:function(M,L){for(var F=L||"",re=M.cloneNode(1),ne=M.getBoundingClientRect(),H=getComputedStyle(M),Y="",l=0;l<H.length;l++){var y=H[l];Y+="".concat(y,":").concat(H.getPropertyValue(y),";")}document.body.appendChild(re),re.className+=" ".concat(this.pfx,"bdrag"),re.setAttribute("style",Y),this.dragHelper=re,re.style.width="".concat(ne.width,"px"),re.style.height="".concat(ne.height,"px"),F&&this.moveDragHelper(F),this.em&&f(this.em.get("Canvas").getBody().ownerDocument).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper),f(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},moveDragHelper:function(M){var L=M.target.ownerDocument;if(this.dragHelper&&L){var F=M.pageY,re=M.pageX,ne=0,H=0,Y=(L.defaultView||L.parentWindow).frameElement,l=this.dragHelper.style;if(Y){var y=Y.getBoundingClientRect();ne=y.top+document.documentElement.scrollTop,H=y.left+document.documentElement.scrollLeft,F=M.clientY,re=M.clientX}l.top=F+ne+"px",l.left=re+H+"px"}},matches:function(M,L,F){return d.matches.call(M,L)},closest:function(M,L){if(M){for(var F=M.parentNode;F&&F.nodeType===1;){if(this.matches(F,L))return F;F=F.parentNode}return null}},offset:function(M){var L=M.getBoundingClientRect();return{top:L.top+document.body.scrollTop,left:L.left+document.body.scrollLeft}},createPlaceholder:function(){var M=this.pfx,L=document.createElement("div"),F=document.createElement("div");return L.className=M+"placeholder",L.style.display="none",L.style["pointer-events"]="none",F.className=M+"placeholder-int",L.appendChild(F),L},startSort:function(M){var L,F,re,ne,H,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=this.em,y=this.itemSel,g=this.containerSel,v=this.plh,$=this.getContainerEl(Y.container),ae=this.getDocuments(M);this.dropModel=null,this.target=null,this.prevTarget=null,this.moved=0,M&&!this.matches(M,"".concat(y,", ").concat(g))&&(M=this.closest(M,y)),this.sourceEl=M,v||(this.plh=this.createPlaceholder(),$.appendChild(this.plh)),M&&((H=this.getSourceModel(M))&&H.set&&H.set("status","freezed"),this.srcModel=H),(0,d.on)($,"mousemove dragover",this.onMove),(0,d.on)(ae,"mouseup dragend touchend",this.endMove),(0,d.on)(ae,"keydown",this.rollback),this.onStart({sorter:this,target:H,parent:H&&((L=(F=H).parent)===null||L===void 0?void 0:L.call(F)),index:H&&((re=(ne=H).index)===null||re===void 0?void 0:re.call(ne))}),l==null||l.clearSelection(),this.toggleSortCursor(1),l==null||l.trigger("sorter:drag:start",M,H)},getTargetModel:function(M){var L=M||this.target;return f(L).data("model")},getSourceModel:function(M){var L=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},re=F.target,ne=F.avoidChildren,H=ne===void 0?1:ne,Y=this.em,l=this.sourceEl,y=M||l,g=this.dropModel,v=this.dropContent,$=function(b){return b&&re&&b.opt&&b.opt.avoidChildren&&L.isTextableActive(b,re)};if(v&&Y){if($(g)&&(g=null),!g){var ae=Y.get("DomComponents").getComponents(),K={avoidChildren:H,avoidStore:1,avoidUpdateStyle:1},N=ae.add(v,_(_({},K),{},{temporary:1}));if(g=(g=ae.remove(N,K))instanceof Array?g[0]:g,this.dropModel=g,$(g))return this.getSourceModel(y,{target:re,avoidChildren:0})}return g}return y&&f(y).data("model")},selectTargetModel:function(M,L){if(!(M instanceof p().Collection||L&&L===M)){var F=this.targetModel;F&&F!==this.srcModel&&F.set("status",""),M&&M.set&&(M.set("status","selected-parent"),this.targetModel=M)}},onMove:function(M){var L=M,F=this.em,re=this.onMoveClb,ne=this.plh,H=this.customTarget;this.moved=1;var Y=ne.style.display;Y&&Y!=="none"||(ne.style.display="block");var l=this.offset(this.el);this.elT=this.wmargin?Math.abs(l.top):l.top,this.elL=this.wmargin?Math.abs(l.left):l.left;var y=M.pageY-this.elT+this.el.scrollTop,g=M.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&F){var v=F.get("Canvas").getMouseRelativeCanvas(M,{noScroll:1});g=v.x,y=v.y}this.rX=g,this.rY=y,this.eventMove=M;var $=this.getSourceModel(),ae=H?H({sorter:this,event:M}):M.target,K=this.dimsFromTarget(ae,g,y),N=this.target,b=N&&this.getTargetModel(N);if(this.selectTargetModel(b,$),b||(ne.style.display="none"),N){this.lastDims=K;var h=this.findPosition(K,g,y);this.isTextableActive($,b)?(this.activeTextModel=b,ne.style.display="none",this.lastPos=h,this.updateTextViewCursorPosition(L)):(this.disableTextable(),this.activeTextModel=null,this.lastPos&&this.lastPos.index==h.index&&this.lastPos.method==h.method||(this.movePlaceholder(this.plh,K,h,this.prevTargetDim),this.$plh||(this.$plh=f(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=h)),(0,k.isFunction)(re)&&re({event:M,target:$,parent:b,index:h.index+(h.method=="after"?1:0)}),F&&F.trigger("sorter:drag",{target:N,targetModel:b,sourceModel:$,dims:K,pos:h,x:g,y})}},isTextableActive:function(M,L){return M&&M.get&&M.get("textable")&&L&&L.is("text")},disableTextable:function(){var M=this.activeTextModel;M&&M.getView().disableEditing(),this.setContentEditable(M,!1)},isInFlow:function(M,L){if(!M)return!1;L=L||document.body;var F=M;return F.offsetHeight,!!this.styleInFlow(F,L)},styleInFlow:function(M,L){if(!(0,d.isTextNode)(M)){var F=M.style||{},re=f(M),ne=L&&f(L);if(!F.overflow||F.overflow==="visible"){var H=re.css("float");if(!(H&&H!=="none"||ne&&ne.css("display")=="flex"&&ne.css("flex-direction")!=="column")){switch(F.position){case"static":case"relative":case"":break;default:return}switch(M.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(re.css("display")){case"block":case"list-item":case"table":case"flex":return!0}}}}},validTarget:function(M,L){var F=this.getTargetModel(M),re=this.getSourceModel(L,{target:F}),ne={valid:!0,src:L=re&&re.view&&re.view.el,srcModel:re,trg:M=F&&F.view&&F.view.el,trgModel:F};if(!L||!M)return ne.valid=!1,ne;var H=re.get("draggable");if((0,k.isFunction)(H)){var Y=H(re,F);ne.dragInfo=Y,ne.draggable=Y,H=Y}else H=H instanceof Array?H.join(", "):H,ne.dragInfo=H,H=(0,k.isString)(H)?this.matches(M,H):H,ne.draggable=H;var l=F.get("droppable");if((0,k.isFunction)(l)){var y=l(re,F);ne.droppable=y,ne.dropInfo=y,l=y}else l=(l=l instanceof p().Collection?1:l)instanceof Array?l.join(", "):l,ne.dropInfo=l,l=(0,k.isString)(l)?this.matches(L,l):l,l=H&&this.isTextableActive(re,F)?1:l,ne.droppable=l;return l&&H||(ne.valid=!1),ne},dimsFromTarget:function(M,L,F){var re=this.em,ne=[];if(!M||(this.matches(M,"".concat(this.itemSel,", ").concat(this.containerSel))||(M=this.closest(M,this.itemSel)),this.draggable instanceof Array&&(M=this.closest(M,this.draggable.join(","))),!M))return ne;if(this.prevTarget&&this.prevTarget!=M&&(this.prevTarget=null),!this.prevTarget){this.targetP=this.closest(M,this.containerSel);var H=this.validTarget(M);if(re&&re.trigger("sorter:drag:validation",H),!H.valid&&this.targetP)return this.dimsFromTarget(this.targetP,L,F);this.prevTarget=M,this.prevTargetDim=this.getDim(M),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(M)}if(this.prevTarget==M&&(ne=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,L,F)||!this.nested&&!this.cacheDims.length){var Y=this.targetP;Y&&this.validTarget(Y).valid&&(ne=this.cacheDimsP,this.target=Y)}return this.lastPos=null,ne},getTargetFromEl:function(M){var L,F=M,re=this.targetPrev,ne=this.em,H=this.containerSel,Y=this.itemSel;if(this.matches(F,"".concat(Y,", ").concat(H))||(F=this.closest(F,Y)),this.draggable instanceof Array&&(F=this.closest(F,this.draggable.join(","))),re&&re!=F&&(this.targetPrev=""),!this.targetPrev){L=this.closest(F,H);var l=this.validTarget(F);if(ne&&ne.trigger("sorter:drag:validation",l),!l.valid&&L)return this.getTargetFromEl(L);this.targetPrev=F}return this.nearElBorders(F)&&(L=this.closest(F,H))&&this.validTarget(L).valid&&(F=L),F},nearElBorders:function(M){var L=M.getBoundingClientRect(),F=M.ownerDocument.body,re=this.getCurrentPos(),ne=re.x,H=re.y,Y=L.top+F.scrollTop,l=L.left+F.scrollLeft,y=L.width,g=L.height;if(H<Y+10||H>Y+g-10||ne<l+10||ne>l+y-10)return 1},getCurrentPos:function(){var M=this.eventMove;return{x:M.pageX||0,y:M.pageY||0}},getDim:function(M){var L,F,re,ne,H=this.em,Y=this.canvasRelative,l=H&&H.get("Canvas"),y=l?l.getElementOffsets(M):{};if(Y&&H){var g=l.getElementPos(M,{noScroll:1});L=g.top,F=g.left,re=g.height,ne=g.width}else{var v=this.offset(M);L=this.relative?M.offsetTop:v.top-(this.wmargin?-1:1)*this.elT,F=this.relative?M.offsetLeft:v.left-(this.wmargin?-1:1)*this.elL,re=M.offsetHeight,ne=M.offsetWidth}return{top:L,left:F,height:re,width:ne,offsets:y}},getChildrenDim:function(M){var L=this,F=[];if(!M)return F;var re=this.getTargetModel(M);if(re&&re.view&&!this.ignoreViewChildren){var ne=re.getCurrentView?re.getCurrentView():re.view;M=ne.getChildrenContainer()}return(0,k.each)(M.children,function(H,Y){var l=(0,d.getModel)(H,f),y=l&&l.index?l.index():Y;if((0,d.isTextNode)(H)||L.matches(H,L.itemSel)){var g=L.getDim(H),v=L.direction;v=v=="v"||v!="h"&&L.isInFlow(H,M),g.dir=v,g.el=H,g.indexEl=y,F.push(g)}}),F},nearBorders:function(M,L,F){var re=0,ne=this.borderOffset,H=L||0,Y=F||0,l=M.top,y=M.left,g=M.height,v=M.width;return(l+ne>Y||Y>l+g-ne||y+ne>H||H>y+v-ne)&&(re=1),!!re},findPosition:function(M,L,F){for(var re={index:0,indexEl:0,method:"before"},ne=0,H=0,Y=0,l=0,y=0,g=0,v=0,$=0,ae=M.length;$<ae;$++){var K=v=M[$],N=K.top,b=K.left,h=K.height,z=K.width;if(g=N+h,l=b+z/2,y=N+h/2,!(H&&b>H||Y&&y>=Y||ne&&b+z<ne))if(re.index=$,re.indexEl=v.indexEl,v.dir){if(F<y){re.method="before";break}re.method="after"}else F<g&&(Y=g),L<l?(H=l,re.method="before"):(ne=l,re.method="after")}return re},movePlaceholder:function(M,L,F,re){var ne=0,H=0,Y=0,l=0,y="px",g=F.method,v=L[F.index];if(M.classList.remove("vertical"),M.classList.add("horizontal"),v){var $=v.top,ae=v.left,K=v.height,N=v.width;v.dir?(Y=N+y,l="auto",ne=g=="before"?$-0:$+K-0,H=ae):(Y="auto",l=K-0+y,ne=$+0,H=g=="before"?ae-0:ae+N-0,M.classList.remove("horizontal"),M.classList.add("vertical"))}else{if(!this.nested)return void(M.style.display="none");if(re){var b=re.offsets||{},h=b.paddingTop||5,z=b.paddingLeft||5;ne=re.top+h,H=re.left+z,Y=parseInt(re.width)-2*z+y,l="auto"}}M.style.top=ne+y,M.style.left=H+y,Y&&(M.style.width=Y),l&&(M.style.height=l)},parents:function(M){return M?[M].concat(this.parents(M.parent())):[]},sort:function(M,L){var F=M.parents.filter(function(ne){return L.parents.includes(ne)})[0];if(!F)return L.model.index()-M.model.index();var re=M.parents[M.parents.indexOf(F)-1];return L.parents[L.parents.indexOf(F)-1].index()-re.index()},endMove:function(M){var L,F=this,re=this.sourceEl,ne=[],H=this.getDocuments(),Y=this.getContainerEl(),l=this.onEndMove,y=this.onEnd,g=this.target,v=this.lastPos;if((0,d.off)(Y,"mousemove dragover",this.onMove),(0,d.off)(H,"mouseup dragend touchend",this.endMove),(0,d.off)(H,"keydown",this.rollback),this.plh.style.display="none",re&&(L=this.getSourceModel(),this.selectOnEnd&&L&&L.set&&(L.set("status",""),L.set("status","selected"))),this.moved&&g){var $=this.toMove,ae=(0,k.isArray)($)?$:$?[$]:[re],K=0;ae.length===1?ne.push(this.move(g,ae[0],v)):ae.map(function(h){return{model:h,parents:F.parents(h)}}).sort(this.sort).forEach(function(h){var z=h.model,R=z.index(),T=z.parent().getEl();ne.push(F.move(g,z,_(_({},v),{},{indexEl:v.indexEl-K,index:v.index-K}))),T===g&&R<=v.index&&K++})}this.plh&&(this.plh.style.display="none");var N=this.dragHelper;if(N&&(N.parentNode.removeChild(N),this.dragHelper=null),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),this.toMove=null,this.eventMove=0,this.dropModel=null,(0,k.isFunction)(l)){var b={target:L,parent:L&&L.parent(),index:L&&L.index()};ne.length?ne.forEach(function(h){return l(h,F,b)}):l(null,this,_(_({},b),{},{cancelled:1}))}(0,k.isFunction)(y)&&y({sorter:this})},move:function(M,L,F){var re,ne,H=this.em,Y=this.dropContent,l=(0,d.getElement)(L),y=[],g=F.method==="after"?F.indexEl+1:F.indexEl,v=this.validTarget(M,l),$=f(M).data("collection"),ae=v.trgModel,K=v.srcModel,N=v.draggable,b=ae instanceof p().Collection?1:v.droppable;if($&&b&&N){var h={at:g,action:"move-component"},z=this.isTextableActive(K,ae);if(Y)re=(0,k.isFunction)(Y)?Y():Y,h.avoidUpdateStyle=!0,h.action="add-component";else{var R=K.collection.indexOf(K),T=$===K.collection;(!T||!(R===g||R===g-1)||z)&&(re=K.collection.remove(K,{temporary:!0}),T&&g>R&&(h.at=g-1))}re&&(z?(delete h.at,ne=ae.getView().insertComponent(re,h)):ne=$.add(re,h)),this.dropContent=null,this.prevTarget=null}else if(H){var P=v.dropInfo||(ae==null?void 0:ae.get("droppable")),u=v.dragInfo||(K==null?void 0:K.get("draggable"));!$&&y.push("Target collection not found"),!b&&P&&y.push("Target is not droppable, accepts [".concat(P,"]")),!N&&u&&y.push("Component not draggable, acceptable by [".concat(u,"]")),H.logWarning("Invalid target position",{errors:y,model:K,context:"sorter",target:ae})}return H==null||H.trigger("sorter:drag:end",{targetCollection:$,modelToDrop:re,warns:y,validResult:v,dst:M,srcEl:l}),ne},rollback:function(M){(0,d.off)(this.getDocuments(),"keydown",this.rollback),(M.which||M.keyCode)==27&&(this.moved=0,this.endMove())}});var w=s(5671),E=s(3144);function Z(M,L){var F=Object.keys(M);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(M);L&&(re=re.filter(function(ne){return Object.getOwnPropertyDescriptor(M,ne).enumerable})),F.push.apply(F,re)}return F}function Q(M){for(var L=1;L<arguments.length;L++){var F=arguments[L]!=null?arguments[L]:{};L%2?Z(Object(F),!0).forEach(function(re){(0,A.Z)(M,re,F[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(F)):Z(Object(F)).forEach(function(re){Object.defineProperty(M,re,Object.getOwnPropertyDescriptor(F,re))})}return M}var J={mousePosFetcher:null,updateTarget:null,ratioDefault:0,posFetcher:null,onStart:null,onMove:null,onEnd:null,onUpdateContainer:function(){},step:1,minDim:10,maxDim:"",unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:1,silentFrames:0,avoidContainerUpdate:0,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:1,tc:1,tr:1,cl:1,cr:1,bl:1,bc:1,br:1},te=function(M,L){var F=L||window,re=M.getBoundingClientRect();return{left:re.left+F.pageXOffset,top:re.top+F.pageYOffset,width:re.width,height:re.height}},X=function(){function M(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,w.Z)(this,M),this.setOptions(L),(0,k.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop"),this}return(0,E.Z)(M,[{key:"getConfig",value:function(){return this.opts}},{key:"setOptions",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.opts=(0,k.defaults)(L,J),this.setup()}},{key:"setup",value:function(){var L=this.opts,F=L.prefix||"",re=L.appendTo||document.body,ne=this.container;for(ne||((ne=document.createElement("div")).className="".concat(F,"resizer-c"),re.appendChild(ne),this.container=ne);ne.firstChild;)ne.removeChild(ne.firstChild);var H={};for(var Y in["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(y){return H[y]=L[y]?function(g,v){var $=v.prefix||"",ae=document.createElement("i");return ae.className=$+"resizer-h "+$+"resizer-h-"+g,ae.setAttribute("data-"+$+"handler",g),ae}(y,L):""}),H){var l=H[Y];l&&ne.appendChild(l)}this.handlers=H,this.mousePosFetcher=L.mousePosFetcher,this.updateTarget=L.updateTarget,this.posFetcher=L.posFetcher,this.onStart=L.onStart,this.onMove=L.onMove,this.onEnd=L.onEnd,this.onUpdateContainer=L.onUpdateContainer}},{key:"toggleFrames",value:function(L){if(this.opts.silentFrames){var F=document.querySelectorAll("iframe");(0,k.each)(F,function(re){return re.style.pointerEvents=L?"none":""})}}},{key:"isHandler",value:function(L){var F=this.handlers;for(var re in F)if(F[re]===L)return!0;return!1}},{key:"getFocusedEl",value:function(){return this.el}},{key:"getParentEl",value:function(){return this.el.parentElement}},{key:"getDocumentEl",value:function(){return[this.el.ownerDocument,document]}},{key:"getElementPos",value:function(L){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},re=this.posFetcher||"";return re?re(L,F):te(L)}},{key:"focus",value:function(L){L&&L===this.el||(this.el=L,this.updateContainer({forceShow:1}),(0,d.on)(this.getDocumentEl(),"mousedown",this.handleMouseDown))}},{key:"blur",value:function(){this.container.style.display="none",this.el&&((0,d.off)(this.getDocumentEl(),"mousedown",this.handleMouseDown),this.el=null)}},{key:"start",value:function(L){if(L.button===0){L.preventDefault(),L.stopPropagation();var F=this.el,re=this.getParentEl(),ne=this.opts||{},H="data-"+ne.prefix+"handler",Y=this.getElementPos(F,{target:"el"}),l=this.getElementPos(re);this.handlerAttr=L.target.getAttribute(H),this.clickedHandler=L.target,this.startDim={t:Y.top,l:Y.left,w:Y.width,h:Y.height},this.rectDim={t:Y.top,l:Y.left,w:Y.width,h:Y.height},this.startPos={x:L.clientX,y:L.clientY},this.parentDim={t:l.top,l:l.left,w:l.width,h:l.height};var y=this.getDocumentEl();this.docs=y,(0,d.on)(y,"mousemove",this.move),(0,d.on)(y,"keydown",this.handleKeyDown),(0,d.on)(y,"mouseup",this.stop),(0,k.isFunction)(this.onStart)&&this.onStart(L,{docs:y,config:ne,el:F,resizer:this}),this.toggleFrames(1),this.move(L)}}},{key:"move",value:function(L){var F=this.onMove,re=this.mousePosFetcher,ne=re?re(L):{x:L.clientX,y:L.clientY};this.currentPos=ne,this.delta={x:ne.x-this.startPos.x,y:ne.y-this.startPos.y},this.keys={shift:L.shiftKey,ctrl:L.ctrlKey,alt:L.altKey},this.rectDim=this.calc(this),this.updateRect(0),F&&F(L),L.which===0&&this.stop(L)}},{key:"stop",value:function(L){var F=this.opts,re=this.docs||this.getDocumentEl();(0,d.off)(re,"mousemove",this.move),(0,d.off)(re,"keydown",this.handleKeyDown),(0,d.off)(re,"mouseup",this.stop),this.updateRect(1),this.toggleFrames(),(0,k.isFunction)(this.onEnd)&&this.onEnd(L,{docs:re,config:F}),delete this.docs}},{key:"updateRect",value:function(L){var F=this.el,re=this.opts,ne=this.rectDim,H=this.updateTarget,Y=this.getSelectedHandler(),l=re.unitHeight,y=re.unitWidth,g=re.keyWidth,v=re.keyHeight;if((0,k.isFunction)(H))H(F,ne,{store:L,selectedHandler:Y,resizer:this,config:re});else{var $=F.style;$[g]=ne.w+y,$[v]=ne.h+l}this.updateContainer()}},{key:"updateContainer",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=this.opts,re=this.container,ne=this.el,H=re.style;!F.avoidContainerUpdate&&ne&&L.forceShow&&(H.display="block"),this.onUpdateContainer({el:re,resizer:this,opts:Q(Q({},F),L)})}},{key:"getSelectedHandler",value:function(){var L=this.handlers;if(this.selectedHandler){for(var F in L)if(L[F]===this.selectedHandler)return F}}},{key:"handleKeyDown",value:function(L){L.keyCode===27&&(this.rectDim=this.startDim,this.stop(L))}},{key:"handleMouseDown",value:function(L){var F=L.target;this.isHandler(F)?(this.selectedHandler=F,this.start(L)):F!==this.el&&(this.selectedHandler="",this.blur())}},{key:"calc",value:function(L){var F,re=this.opts||{},ne=re.step,H=this.startDim,Y=re.minDim,l=re.maxDim,y=L.delta.x,g=L.delta.y,v=this.parentDim.w,$=this.parentDim.h,ae=this.opts.unitWidth,K=this.opts.unitHeight,N=ae==="%"?H.w/100*v:H.w,b=K==="%"?H.h/100*$:H.h,h={t:0,l:0,w:N,h:b};if(L){var z=L.handlerAttr;~z.indexOf("r")&&(F=ae==="%"?(0,d.normalizeFloat)((N+y*ne)/v*100,.01):(0,d.normalizeFloat)(N+y*ne,ne),F=Math.max(Y,F),l&&(F=Math.min(l,F)),h.w=F),~z.indexOf("b")&&(F=K==="%"?(0,d.normalizeFloat)((b+g*ne)/$*100,.01):(0,d.normalizeFloat)(b+g*ne,ne),F=Math.max(Y,F),l&&(F=Math.min(l,F)),h.h=F),~z.indexOf("l")&&(F=ae==="%"?(0,d.normalizeFloat)((N-y*ne)/v*100,.01):(0,d.normalizeFloat)(N-y*ne,ne),F=Math.max(Y,F),l&&(F=Math.min(l,F)),h.w=F),~z.indexOf("t")&&(F=K==="%"?(0,d.normalizeFloat)((b-g*ne)/$*100,.01):(0,d.normalizeFloat)(b-g*ne,ne),F=Math.max(Y,F),l&&(F=Math.min(l,F)),h.h=F);var R=re.ratioDefault?!L.keys.shift:L.keys.shift;if(z.indexOf("c")<0&&R){var T=H.w/H.h;h.w/h.h>T?h.h=Math.round(h.w/T):h.w=Math.round(h.h*T)}return~z.indexOf("l")&&(h.l=H.w-h.w),~z.indexOf("t")&&(h.t=H.h-h.h),h}}}]),M}();const V={init:function(M){return new X(M)}};function se(M,L){var F=Object.keys(M);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(M);L&&(re=re.filter(function(ne){return Object.getOwnPropertyDescriptor(M,ne).enumerable})),F.push.apply(F,re)}return F}function ve(M){for(var L=1;L<arguments.length;L++){var F=arguments[L]!=null?arguments[L]:{};L%2?se(Object(F),!0).forEach(function(re){(0,A.Z)(M,re,F[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(F)):se(Object(F)).forEach(function(re){Object.defineProperty(M,re,Object.getOwnPropertyDescriptor(F,re))})}return M}const ue=function(){return{name:"Utils",init:function(){return this},destroy:function(){},Sorter:m,Resizer:V,Dragger:U.Z,helpers:ve({},d)}}},7904:(ge,ie,s)=>{s.d(ie,{Z:()=>p});var A,U=s(2316),S=(A=function(k,d){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,_){j.__proto__=_}||function(j,_){for(var f in _)Object.prototype.hasOwnProperty.call(_,f)&&(j[f]=_[f])},A(k,d)},function(k,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function j(){this.constructor=k}A(k,d),k.prototype=d===null?Object.create(d):(j.prototype=d.prototype,new j)});const p=function(k){function d(j,_,f){var c=k.call(this,_,f)||this;return c._module=j,c}return S(d,k),Object.defineProperty(d.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),d}(s.n(U)().Model)},6434:(ge,ie,s)=>{s.d(ie,{O:()=>f,Z:()=>_});var A,U=s(9050),S=s(1163),p=(A=function(c,m){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var Z in E)Object.prototype.hasOwnProperty.call(E,Z)&&(w[Z]=E[Z])},A(c,m)},function(c,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function w(){this.constructor=c}A(c,m),c.prototype=m===null?Object.create(m):(w.prototype=m.prototype,new w)}),k=function(){return k=Object.assign||function(c){for(var m,w=1,E=arguments.length;w<E;w++)for(var Z in m=arguments[w])Object.prototype.hasOwnProperty.call(m,Z)&&(c[Z]=m[Z]);return c},k.apply(this,arguments)},d=function(c,m,w){if(w||arguments.length===2)for(var E,Z=0,Q=m.length;Z<Q;Z++)!E&&Z in m||(E||(E=Array.prototype.slice.call(m,0,Z)),E[Z]=m[Z]);return c.concat(E||Array.prototype.slice.call(m))},j=function(){function c(m,w,E){this.cls=[],this.isPrivate=!1,this._em=m,this._name=w;var Z=this.name.charAt(0).toLowerCase()+this.name.slice(1),Q=(0,U.isUndefined)(m.config[Z])?m.config[this.name]:m.config[Z],J=Q===!0?{}:Q||{};J.pStylePrefix=m.config.pStylePrefix||"",(0,U.isUndefined)(Q)||Q||(J._disable=1),J.em=m,this._config=(0,S.deepMerge)(E||{},J)}return Object.defineProperty(c.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),c.prototype.init=function(m){},c.prototype.postLoad=function(m){},Object.defineProperty(c.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),c.prototype.getConfig=function(m){return m?this.config[m]:this.config},c.prototype.__logWarn=function(m,w){w===void 0&&(w={}),this.em.logWarning("[".concat(this.name,"]: ").concat(m),w)},c.prototype.__appendTo=function(){var m=this.getConfig().appendTo;if(m){var w=(0,U.isElement)(m)?m:document.querySelector(m);if(!w)return this.__logWarn('"appendTo" element not found');w.appendChild(this.render())}},c}();const _=j;var f=function(c){function m(w,E,Z,Q){var J=c.call(this,w,E)||this;return J.cls=[],J.private=!1,J.all=Z,J.events=Q,J.__initListen(),J}return p(m,c),m.prototype.postLoad=function(w){},m.prototype.render=function(){},m.prototype.getProjectData=function(w){var E={},Z=this.storageKey;return Z&&(E[Z]=w||this.getAll()),E},m.prototype.loadProjectData=function(w,E){w===void 0&&(w={}),E===void 0&&(E={});var Z=E.all,Q=E.onResult,J=E.reset,te=this.storageKey,X={action:"load"},V=Z||this.all,se=w[te];if(typeof se=="string")try{se=JSON.parse(se)}catch{this.__logWarn("Data parsing failed",{input:se})}return J&&se&&V.reset(void 0,X),Q?se&&Q(se,X):se&&(0,S.isDef)(se.length)&&V.reset(se,X),se},m.prototype.clear=function(w){w===void 0&&(w={});var E=this.all;return E&&E.reset(void 0,w),this},m.prototype.getAll=function(){return d([],this.all.models,!0)},m.prototype.getAllMap=function(){return this.getAll().reduce(function(w,E){return w[E.get(E.idAttribute)]=E,w},{})},m.prototype.__initListen=function(w){w===void 0&&(w={});var E=this,Z=E.all,Q=E.em,J=E.events;Z&&Q&&Z.on("add",function(te,X,V){return Q.trigger(J.add,te,V)}).on("remove",function(te,X,V){return Q.trigger(J.remove,te,V)}).on("change",function(te,X){return Q.trigger(J.update,te,te.changedAttributes(),X)}).on("all",this.__catchAllEvent,this),this.cls=[Z].concat(w.collections||[]),(w.propagate||[]).forEach(function(te){var X=te.entity,V=te.event;X.on("all",function(se,ve,ue,M){var L=k({event:se},M||ue);[Q,Z].map(function(F){return F.trigger(V,ve,L)})})})},m.prototype.__remove=function(w,E){var Z=this;E===void 0&&(E={});var Q=this.em,J=isString(w)?this.get(w):w,te=function(){return J&&Z.all.remove(J,E),J};return!E.silent&&(Q==null||Q.trigger(this.events.removeBefore,J,te,E)),!E.abort&&te()},m.prototype.__catchAllEvent=function(w,E,Z,Q){var J=this.em,te=this.events,X=Q||Z;J&&te.all&&J.trigger(te.all,{event:w,model:E,options:X}),this.__onAllEvent()},m.prototype.__appendTo=function(){var w=this.config.appendTo;if(w){var E=(0,U.isElement)(w)?w:document.querySelector(w);if(!E)return this.__logWarn('"appendTo" element not found');E.appendChild(this.render())}},m.prototype.__onAllEvent=function(){},m.prototype._createId=function(w){w===void 0&&(w=16);var E,Z=this.getAll().length+w,Q=this.getAllMap();do E=(0,S.createId)(Z);while(Q[E]);return E},m.prototype.__listenAdd=function(w,E){var Z=this;w.on("add",function(Q,J,te){return Z.em.trigger(E,Q,te)})},m.prototype.__listenRemove=function(w,E){var Z=this;w.on("remove",function(Q,J,te){return Z.em.trigger(E,Q,te)})},m.prototype.__listenUpdate=function(w,E){var Z=this;w.on("change",function(Q,J){return Z.em.trigger(E,Q,Q.changedAttributes(),J)})},m.prototype.__destroy=function(){var w;this.cls.forEach(function(E){E.stopListening(),E.reset()}),(w=this.view)===null||w===void 0||w.remove(),this.view=void 0},m}(j)},6840:(ge,ie,s)=>{s.d(ie,{Z:()=>c});var A,U=s(9050),S=s(2316),p=s(1163),k=(A=function(m,w){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,Z){E.__proto__=Z}||function(E,Z){for(var Q in Z)Object.prototype.hasOwnProperty.call(Z,Q)&&(E[Q]=Z[Q])},A(m,w)},function(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function E(){this.constructor=m}A(m,w),m.prototype=w===null?Object.create(w):(E.prototype=w.prototype,new E)}),d=function(){return d=Object.assign||function(m){for(var w,E=1,Z=arguments.length;E<Z;E++)for(var Q in w=arguments[E])Object.prototype.hasOwnProperty.call(w,Q)&&(m[Q]=w[Q]);return m},d.apply(this,arguments)},j=function(m,w,E){if(E||arguments.length===2)for(var Z,Q=0,J=w.length;Q<J;Q++)!Z&&Q in w||(Z||(Z=Array.prototype.slice.call(w,0,Q)),Z[Q]=w[Q]);return m.concat(Z||Array.prototype.slice.call(w))},_="__aw",f="__ah";const c=function(m){function w(E,Z){var Q=m.call(this,E)||this,J=Z.em,te=Q.attributes,X=te.styles,V=te.component,se=J.get("DomComponents"),ve=se.getConfig(),ue=J.get("CssComposer").getAll(),M={};Q.em=J;var L={em:J,config:ve,frame:Q,idMap:M};if(!(0,p.isComponent)(V)){var F=(0,p.isObject)(V)?V:{components:V};!F.type&&(F.type="wrapper");var re=se.getType("wrapper").model;Q.set("component",new re(F,L))}return X?(0,p.isObject)(X)||(Object.keys(M).length&&Array.isArray(X)&&X.forEach(function(ne){var H=ne.selectors;if(H&&H.length==1){var Y=H[0],l=Y.name&&Y.type===2&&Y;if(l&&M[l.name])l.name=M[l.name];else if((0,U.isString)(Y)&&Y[0]==="#"){var y=Y.substring(1);y&&M[y]&&(H[0]="#".concat(M[y]))}}}),ue.add(X),Q.set("styles",ue)):Q.set("styles",ue),!E.width&&Q.set(_,1),!E.height&&Q.set(f,1),Q}return k(w,m),w.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",_undo:!0,_undoexc:["changesCount"]}},w.prototype.onRemove=function(){this.getComponent().remove({root:1})},w.prototype.changesUp=function(E){E===void 0&&(E={}),E.temporary||E.noCount||E.avoidStore||this.set("changesCount",this.get("changesCount")+1)},w.prototype.getComponent=function(){return this.get("component")},w.prototype.getStyles=function(){return this.get("styles")},w.prototype.disable=function(){this.trigger("disable")},w.prototype.remove=function(){this.view=void 0;var E=this.collection;return E&&E.remove(this)},w.prototype.getHead=function(){var E=this.get("head")||[];return j([],E,!0)},w.prototype.setHead=function(E){return this.set("head",j([],E,!0))},w.prototype.addHeadItem=function(E){var Z=this.getHead();Z.push(E),this.setHead(Z)},w.prototype.getHeadByAttr=function(E,Z,Q){return this.getHead().filter(function(J){return J.attributes&&J.attributes[E]==Z&&(!Q||Q===J.tag)})[0]},w.prototype.removeHeadByAttr=function(E,Z,Q){var J=this.getHead(),te=this.getHeadByAttr(E,Z,Q),X=J.indexOf(te);X>=0&&(J.splice(X,1),this.setHead(J))},w.prototype.addLink=function(E){var Z="link";!this.getHeadByAttr("href",E,Z)&&this.addHeadItem({tag:Z,attributes:{href:E,rel:"stylesheet"}})},w.prototype.removeLink=function(E){this.removeHeadByAttr("href",E,"link")},w.prototype.addScript=function(E){var Z="script";!this.getHeadByAttr("src",E,Z)&&this.addHeadItem({tag:Z,attributes:{src:E}})},w.prototype.removeScript=function(E){this.removeHeadByAttr("src",E,"script")},w.prototype.getPage=function(){var E;return(E=this.collection)===null||E===void 0?void 0:E.page},w.prototype._emitUpdated=function(E){E===void 0&&(E={}),this.em.trigger("frame:updated",d({frame:this},E))},w.prototype.toJSON=function(E){E===void 0&&(E={});var Z=S.Model.prototype.toJSON.call(this,E),Q=(0,U.result)(this,"defaults");return E.fromUndo&&delete Z.component,delete Z.styles,delete Z.changesCount,Z.__aw&&delete Z.width,Z.__ah&&delete Z.height,(0,U.forEach)(Z,function(J,te){te.indexOf("_")===0&&delete Z[te]}),(0,U.forEach)(Q,function(J,te){Z[te]===J&&delete Z[te]}),(0,U.forEach)(["attributes","head"],function(J){(0,U.isEmpty)(Z[J])&&delete Z[J]}),Z},w}(S.Model)},3560:(ge,ie,s)=>{s.d(ie,{Z:()=>k});var A,U=s(9050),S=s(2316),p=(A=function(d,j){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,f){_.__proto__=f}||function(_,f){for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&(_[c]=f[c])},A(d,j)},function(d,j){if(typeof j!="function"&&j!==null)throw new TypeError("Class extends value "+String(j)+" is not a constructor or null");function _(){this.constructor=d}A(d,j),d.prototype=j===null?Object.create(j):(_.prototype=j.prototype,new _)});const k=function(d){function j(_){var f=d.call(this,_)||this;return f.loadedItems=0,f.itemsToLoad=0,(0,U.bindAll)(f,"itemLoaded"),f.on("reset",f.onReset),f.on("remove",f.onRemove),f}return p(j,d),j.prototype.onReset=function(_,f){var c=this;((f==null?void 0:f.previousModels)||[]).map(function(m){return c.onRemove(m)})},j.prototype.onRemove=function(_){_==null||_.onRemove()},j.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},j.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},j.prototype.listenToLoadItems=function(_){var f=this;this.forEach(function(c){return c[_?"on":"off"]("loaded",f.itemLoaded)})},j}(S.Collection)},5819:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>Gn});var A=s(9050);const U={stylePrefix:"comp-",components:[],draggableComponents:1,processor:0,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]};var S=s(7375),p=s(8431),k=s(2169),d=s(5671),j=s(3144),_=s(9340),f=s(2963),c=s(1120);function m(he){var ye=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,W=(0,c.Z)(he);if(ye){var ce=(0,c.Z)(this).constructor;O=Reflect.construct(W,arguments,ce)}else O=W.apply(this,arguments);return(0,f.Z)(this,O)}}var w=function(he){(0,_.Z)(O,he);var ye=m(O);function O(){return(0,d.Z)(this,O),ye.apply(this,arguments)}return(0,j.Z)(O,[{key:"tagName",value:function(){return"div"}}]),O}(k.Z),E=s(3505),Z=s(4942),Q=s(1163);function J(he,ye){var O=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(he,ce).enumerable})),O.push.apply(O,W)}return O}function te(he){for(var ye=1;ye<arguments.length;ye++){var O=arguments[ye]!=null?arguments[ye]:{};ye%2?J(Object(O),!0).forEach(function(W){(0,Z.Z)(he,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(O)):J(Object(O)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(O,W))})}return he}const X=S.ZP.extend({defaults:te(te({},S.ZP.prototype.defaults),{},{type:"cell",tagName:"td",draggable:["tr"]})},{isComponent:function(he){return["td","th"].indexOf((0,Q.toLowerCase)(he.tagName))>=0}}),V=k.Z.extend({});function se(he,ye){var O=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(he,ce).enumerable})),O.push.apply(O,W)}return O}function ve(he){for(var ye=1;ye<arguments.length;ye++){var O=arguments[ye]!=null?arguments[ye]:{};ye%2?se(Object(O),!0).forEach(function(W){(0,Z.Z)(he,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(O)):se(Object(O)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(O,W))})}return he}const ue=S.ZP.extend({defaults:ve(ve({},S.ZP.prototype.defaults),{},{tagName:"tr",draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},{isComponent:function(he){return(0,Q.toLowerCase)(he.tagName)==="tr"}}),M=k.Z.extend({});function L(he,ye){var O=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(he,ce).enumerable})),O.push.apply(O,W)}return O}function F(he){for(var ye=1;ye<arguments.length;ye++){var O=arguments[ye]!=null?arguments[ye]:{};ye%2?L(Object(O),!0).forEach(function(W){(0,Z.Z)(he,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(O)):L(Object(O)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(O,W))})}return he}var re="table";const ne=S.ZP.extend({defaults:F(F({},S.ZP.prototype.defaults),{},{type:re,tagName:re,droppable:["tbody","thead","tfoot"]}),initialize:function(he,ye){S.ZP.prototype.initialize.apply(this,arguments);var O=this.get("components");!O.length&&O.add({type:"tbody"})}},{isComponent:function(he){return(0,Q.toLowerCase)(he.tagName)===re}}),H=k.Z.extend({events:{}});function Y(he,ye){var O=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(he,ce).enumerable})),O.push.apply(O,W)}return O}function l(he){for(var ye=1;ye<arguments.length;ye++){var O=arguments[ye]!=null?arguments[ye]:{};ye%2?Y(Object(O),!0).forEach(function(W){(0,Z.Z)(he,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(O)):Y(Object(O)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(O,W))})}return he}var y="tbody";const g=S.ZP.extend({defaults:l(l({},S.ZP.prototype.defaults),{},{type:y,tagName:y,draggable:["table"],droppable:["tr"],columns:1,rows:1}),initialize:function(he,ye){S.ZP.prototype.initialize.apply(this,arguments);var O=this.get("components"),W=this.get("columns"),ce=this.get("rows");if(!O.length){for(var x=[];ce--;){for(var fe=[],ke=W;ke--;)fe.push({type:"cell",classes:["cell"]});x.push({type:"row",classes:["row"],components:fe})}O.add(x)}}},{isComponent:function(he){return(0,Q.toLowerCase)(he.tagName)===y}});function v(he,ye){var O=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(he,ce).enumerable})),O.push.apply(O,W)}return O}function $(he){for(var ye=1;ye<arguments.length;ye++){var O=arguments[ye]!=null?arguments[ye]:{};ye%2?v(Object(O),!0).forEach(function(W){(0,Z.Z)(he,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(O)):v(Object(O)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(O,W))})}return he}var ae="thead";const K=g.extend({defaults:$($({},g.prototype.defaults),{},{type:ae,tagName:ae})},{isComponent:function(he){return(0,Q.toLowerCase)(he.tagName)===ae}}),N=k.Z.extend({});function b(he){var ye=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,W=(0,c.Z)(he);if(ye){var ce=(0,c.Z)(this).constructor;O=Reflect.construct(W,arguments,ce)}else O=W.apply(this,arguments);return(0,f.Z)(this,O)}}var h=function(he){(0,_.Z)(O,he);var ye=b(O);function O(){return(0,d.Z)(this,O),ye.apply(this,arguments)}return(0,j.Z)(O)}(k.Z);function z(he,ye){var O=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(he,ce).enumerable})),O.push.apply(O,W)}return O}function R(he){for(var ye=1;ye<arguments.length;ye++){var O=arguments[ye]!=null?arguments[ye]:{};ye%2?z(Object(O),!0).forEach(function(W){(0,Z.Z)(he,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(O)):z(Object(O)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(O,W))})}return he}var T="tfoot";const P=g.extend({defaults:R(R({},g.prototype.defaults),{},{type:T,tagName:T})},{isComponent:function(he){return(0,Q.toLowerCase)(he.tagName)===T}}),u=k.Z.extend({});function ee(he,ye){var O=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(he,ce).enumerable})),O.push.apply(O,W)}return O}function q(he){for(var ye=1;ye<arguments.length;ye++){var O=arguments[ye]!=null?arguments[ye]:{};ye%2?ee(Object(O),!0).forEach(function(W){(0,Z.Z)(he,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(O)):ee(Object(O)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(O,W))})}return he}var C='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"';const D=S.ZP.extend({defaults:q(q({},S.ZP.prototype.defaults),{},{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(C,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(C,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""}),initialize:function(he,ye){S.ZP.prototype.initialize.apply(this,arguments);var O=this.get("attributes"),W=O.src;W&&this.set("src",W,{silent:1})},initToolbar:function(){for(var he=arguments.length,ye=new Array(he),O=0;O<he;O++)ye[O]=arguments[O];S.ZP.prototype.initToolbar.apply(this,ye);var W=this.em;if(W){var ce=W.get("Commands"),x="image-editor";if(ce.has(x)){for(var fe=!1,ke=this.get("toolbar"),De=0;De<ke.length;De++)if(ke[De].command==="image-editor"){fe=!0;break}fe||(ke.push({attributes:{class:"fa fa-pencil"},command:x}),this.set("toolbar",ke))}}},getAttrToHTML:function(){for(var he=arguments.length,ye=new Array(he),O=0;O<he;O++)ye[O]=arguments[O];var W=S.ZP.prototype.getAttrToHTML.apply(this,ye),ce=this.getSrcResult();return ce&&(W.src=ce),W},getSrcResult:function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ye=this.get(he.fallback?"fallback":"src")||"",O=ye;return ye&&ye.substr(0,4)==="<svg"&&(O="data:image/svg+xml;base64,".concat(window.btoa(ye))),O},isDefaultSrc:function(){return this.get("src")===(0,A.result)(this,"defaults").src},toJSON:function(){for(var he=arguments.length,ye=new Array(he),O=0;O<he;O++)ye[O]=arguments[O];var W=S.ZP.prototype.toJSON.apply(this,ye);return W.attributes&&W.src===W.attributes.src&&delete W.src,W},parseUri:function(he){var ye=document.createElement("a");ye.href=he;for(var O={},W=ye.search.substring(1).split("&"),ce=0;ce<W.length;ce++){var x=W[ce].split("="),fe=decodeURIComponent(x[0]);fe&&(O[fe]=decodeURIComponent(x[1]))}return{hostname:ye.hostname,pathname:ye.pathname,protocol:ye.protocol,search:ye.search,hash:ye.hash,port:ye.port,query:O}}},{isComponent:function(he){return(0,Q.toLowerCase)(he.tagName)==="img"}});function le(he,ye){var O=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(he,ce).enumerable})),O.push.apply(O,W)}return O}function be(he){for(var ye=1;ye<arguments.length;ye++){var O=arguments[ye]!=null?arguments[ye]:{};ye%2?le(Object(O),!0).forEach(function(W){(0,Z.Z)(he,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(O)):le(Object(O)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(O,W))})}return he}const I=D.extend({defaults:be(be({},D.prototype.defaults),{},{type:"map",src:"",void:0,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:S.ZP.prototype.defaults.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:1},{type:"select",label:"Map type",name:"mapType",changeProp:1,options:[{value:"q",name:"Roadmap"},{value:"w",name:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:"1",max:"20",changeProp:1}]}),initialize:function(he,ye){this.get("src")?this.parseFromSrc():this.updateSrc(),D.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:address change:zoom change:mapType",this.updateSrc)},updateSrc:function(){this.set("src",this.getMapUrl())},getMapUrl:function(){var he=this,ye=he.get("address"),O=he.get("zoom"),W=he.get("mapType");ye=ye?"&q="+ye:"",O=O?"&z="+O:"",W=W?"&t="+W:"";var ce=he.get("mapUrl")+"?"+ye+O+W;return ce+="&output=embed"},parseFromSrc:function(){var he=this.parseUri(this.get("src")).query;he.q&&this.set("address",he.q),he.z&&this.set("zoom",he.z),he.t&&this.set("mapType",he.t)}},{isComponent:function(he){var ye="";return(0,Q.toLowerCase)(he.tagName)=="iframe"&&/maps\.google\.com/.test(he.src)&&(ye={type:"map",src:he.src}),ye}});function oe(he){var ye=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,W=(0,c.Z)(he);if(ye){var ce=(0,c.Z)(this).constructor;O=Reflect.construct(W,arguments,ce)}else O=W.apply(this,arguments);return(0,f.Z)(this,O)}}var de=function(he){(0,_.Z)(O,he);var ye=oe(O);function O(){return(0,d.Z)(this,O),ye.apply(this,arguments)}return(0,j.Z)(O,[{key:"tagName",value:function(){return"img"}},{key:"events",value:function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}}},{key:"initialize",value:function(W){k.Z.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()}},{key:"fetchFile",value:function(){if(!this.modelOpt.temporary){var W=this.model,ce=this.em,x=W.get("file");if(x&&ce){var fe=ce.get("AssetManager").FileUploader();fe==null||fe.uploadFile({dataTransfer:{files:[x]}},function(ke){var De=ke&&ke.data&&ke.data[0],Be=De&&((0,A.isString)(De)?De:De.src);Be&&W.set({src:Be})}),W.set("file","")}}}},{key:"updateSrc",value:function(){var W=this.model,ce=this.classEmpty,x=this.$el,fe=W.getSrcResult(),ke=fe&&!W.isDefaultSrc();W.addAttributes({src:fe}),x[ke?"removeClass":"addClass"](ce)}},{key:"onActive",value:function(W){W&&W.stopPropagation();var ce=this.em,x=this.model,fe=ce&&ce.get("AssetManager");fe&&x.get("editable")&&fe.open({select:function(ke,De){x.set({src:ke.getSrc()}),De&&fe.close()},target:x,types:["image"],accept:"image/*"})}},{key:"onError",value:function(){var W=this.model.getSrcResult({fallback:1});W&&(this.el.src=W)}},{key:"onLoad",value:function(){this.em.trigger("change:canvasOffset")}},{key:"noDrag",value:function(W){return W.preventDefault(),!1}},{key:"render",value:function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var W=this.$el,ce=this.model,x=W.attr("class")||"";return!ce.get("src")&&W.attr("class","".concat(x," ").concat(this.classEmpty).trim()),this.postRender(),this}}]),O}(k.Z);function Oe(he){var ye=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,W=(0,c.Z)(he);if(ye){var ce=(0,c.Z)(this).constructor;O=Reflect.construct(W,arguments,ce)}else O=W.apply(this,arguments);return(0,f.Z)(this,O)}}var we=function(he){(0,_.Z)(O,he);var ye=Oe(O);function O(){return(0,d.Z)(this,O),ye.apply(this,arguments)}return(0,j.Z)(O,[{key:"tagName",value:function(){return"div"}},{key:"events",value:function(){return{}}},{key:"initialize",value:function(W){de.prototype.initialize.apply(this,arguments),this.classEmpty=this.ppfx+"plh-map"}},{key:"updateSrc",value:function(){this.getIframe().src=this.model.get("src")}},{key:"getIframe",value:function(){if(!this.iframe){var W=document.createElement("iframe");W.src=this.model.get("src"),W.frameBorder=0,W.style.height="100%",W.style.width="100%",W.className=this.ppfx+"no-pointer",this.iframe=W}return this.iframe}},{key:"render",value:function(){for(var W=arguments.length,ce=new Array(W),x=0;x<W;x++)ce[x]=arguments[x];return de.prototype.render.apply(this,ce),this.updateClasses(),this.el.appendChild(this.getIframe()),this}}]),O}(de);function Se(he,ye){var O=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(he,ce).enumerable})),O.push.apply(O,W)}return O}function xe(he){for(var ye=1;ye<arguments.length;ye++){var O=arguments[ye]!=null?arguments[ye]:{};ye%2?Se(Object(O),!0).forEach(function(W){(0,Z.Z)(he,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(O)):Se(Object(O)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(O,W))})}return he}function Ie(he){var ye=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,W=(0,c.Z)(he);if(ye){var ce=(0,c.Z)(this).constructor;O=Reflect.construct(W,arguments,ce)}else O=W.apply(this,arguments);return(0,f.Z)(this,O)}}var Xe=function(he){(0,_.Z)(O,he);var ye=Ie(O);function O(){return(0,d.Z)(this,O),ye.apply(this,arguments)}return(0,j.Z)(O)}(S.ZP);function tt(he,ye){var O=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(he,ce).enumerable})),O.push.apply(O,W)}return O}function gt(he){for(var ye=1;ye<arguments.length;ye++){var O=arguments[ye]!=null?arguments[ye]:{};ye%2?tt(Object(O),!0).forEach(function(W){(0,Z.Z)(he,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(O)):tt(Object(O)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(O,W))})}return he}function ct(he){var ye=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,W=(0,c.Z)(he);if(ye){var ce=(0,c.Z)(this).constructor;O=Reflect.construct(W,arguments,ce)}else O=W.apply(this,arguments);return(0,f.Z)(this,O)}}Xe.prototype.defaults=xe(xe({},S.ZP.getDefaults()),{},{type:"text",droppable:!1,editable:!0});var Bt="link",Lt=function(he){(0,_.Z)(O,he);var ye=ct(O);function O(){return(0,d.Z)(this,O),ye.apply(this,arguments)}return(0,j.Z)(O)}(Xe);Lt.prototype.defaults=gt(gt({},Xe.getDefaults()),{},{type:Bt,tagName:"a",traits:["title","href","target"]}),Lt.isComponent=function(he){var ye,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,Q.toLowerCase)(he.tagName)==="a"){var W=O.textTags||[];ye={type:Bt,editable:!1};var ce=he.childNodes,x=ce.length;x||delete ye.editable,(0,A.forEach)(ce,function(fe){var ke=fe.tagName;(fe.nodeType==3&&fe.textContent.trim()!==""||ke&&W.indexOf((0,Q.toLowerCase)(ke))>=0)&&delete ye.editable})}return ye};var Ft=s(5861),ze=s(7757),Ee=s.n(ze);function Ne(he,ye){var O=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(he,ce).enumerable})),O.push.apply(O,W)}return O}function We(he){for(var ye=1;ye<arguments.length;ye++){var O=arguments[ye]!=null?arguments[ye]:{};ye%2?Ne(Object(O),!0).forEach(function(W){(0,Z.Z)(he,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(O)):Ne(Object(O)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(O,W))})}return he}function it(he){var ye=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,W=(0,c.Z)(he);if(ye){var ce=(0,c.Z)(this).constructor;O=Reflect.construct(W,arguments,ce)}else O=W.apply(this,arguments);return(0,f.Z)(this,O)}}var vt=k.Z.prototype,jt=function(he){(0,_.Z)(ce,he);var ye,O,W=it(ce);function ce(){return(0,d.Z)(this,ce),W.apply(this,arguments)}return(0,j.Z)(ce,[{key:"events",value:function(){return{dblclick:"onActive",input:"onInput"}}},{key:"initialize",value:function(x){vt.initialize.apply(this,arguments),(0,A.bindAll)(this,"disableEditing","onDisable");var fe=this.model,ke=this.em;this.listenTo(fe,"focus",this.onActive),this.listenTo(fe,"change:content",this.updateContentText),this.listenTo(fe,"sync:content",this.syncContent),this.rte=ke&&ke.get("RichTextEditor")}},{key:"updateContentText",value:function(x,fe){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!ke.fromDisable&&this.disableEditing()}},{key:"canActivate",value:function(){var x,fe=this.model,ke=this.rteEnabled,De=this.em,Be=(De==null?void 0:De.getEditing())===fe,Ke=!0,at=!1;if((ke||!fe.get("editable")||Be||(at=fe.isChildOf("text")))&&(Ke=!1,at&&!fe.get("textable"))){for(var ot=fe.parent();ot&&!ot.isInstanceOf("text");)ot=ot.parent();ot&&ot.get("editable")?x=ot:Ke=!0}return{result:Ke,delegate:x}}},{key:"onActive",value:(O=(0,Ft.Z)(Ee().mark(function x(fe){var ke,De,Be,Ke,at,ot,bt;return Ee().wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:if(De=this.rte,Be=this.em,Ke=this.canActivate(),at=Ke.result,ot=Ke.delegate,at){xt.next=5;break}return ot&&(fe==null||(bt=fe.stopPropagation)===null||bt===void 0||bt.call(fe),Be.setSelected(ot),ot.trigger("active",fe)),xt.abrupt("return");case 5:if(fe==null||(ke=fe.stopPropagation)===null||ke===void 0||ke.call(fe),this.lastContent=this.getContent(),!De){xt.next=17;break}return xt.prev=8,xt.next=11,De.enable(this,this.activeRte,{event:fe});case 11:this.activeRte=xt.sent,xt.next=17;break;case 14:xt.prev=14,xt.t0=xt.catch(8),Be.logError(xt.t0);case 17:this.toggleEvents(1);case 18:case"end":return xt.stop()}},x,this,[[8,14]])})),function(x){return O.apply(this,arguments)})},{key:"onDisable",value:function(){this.disableEditing()}},{key:"disableEditing",value:(ye=(0,Ft.Z)(Ee().mark(function x(){var fe,ke,De,Be,Ke,at,ot=arguments;return Ee().wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:if(fe=ot.length>0&&ot[0]!==void 0?ot[0]:{},ke=this.model,De=this.rte,Be=this.activeRte,Ke=this.em,at=ke&&ke.get("editable"),!De){bt.next=13;break}return bt.prev=4,bt.next=7,De.disable(this,Be);case 7:bt.next=12;break;case 9:bt.prev=9,bt.t0=bt.catch(4),Ke.logError(bt.t0);case 12:at&&this.getContent()!==this.lastContent&&(this.syncContent(fe),this.lastContent="");case 13:this.toggleEvents();case 14:case"end":return bt.stop()}},x,this,[[4,9]])})),function(){return ye.apply(this,arguments)})},{key:"getContent",value:function(){var x=this.activeRte;return x&&typeof x.getContent=="function"?x.getContent():this.getChildrenContainer().innerHTML}},{key:"syncContent",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},fe=this.model,ke=this.rte,De=this.rteEnabled;if(De||x.force){var Be=this.getContent(),Ke=fe.components(),at=We({fromDisable:1},x);fe.set("content","",at),ke.customRte?(Ke.length&&Ke.reset(null,x),fe.set("content",Be,at)):Ke.resetFromString(Be,x)}}},{key:"insertComponent",value:function(x){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=this.model,De=this.el,Be=De.ownerDocument,Ke=Be.getSelection();if(Ke!=null&&Ke.rangeCount){var at,ot=Ke.getRangeAt(0),bt=ot.startContainer,xt=ot.startOffset,Dt=(0,Q.getModel)(bt),Qt=[];if(Dt&&(at=Dt.is)!==null&&at!==void 0&&at.call(Dt,"textnode")){var an=Dt.collection;an.forEach(function(Rn){if(Rn===Dt){var sn="textnode",On=Rn.get("content");Qt.push({type:sn,content:On.slice(0,xt)}),Qt.push(x),Qt.push({type:sn,content:On.slice(xt)})}else Qt.push(Rn)});var gn=Qt.filter(Boolean),Mn=gn.indexOf(x);return an.reset(gn,fe),an.at(Mn)}}return ke.append(x,fe)}},{key:"onInput",value:function(){var x=this.em,fe="component",ke=["".concat(fe,":update"),"".concat(fe,":input")].join(" ");x&&x.trigger(ke,this.model)}},{key:"disablePropagation",value:function(x){x.stopPropagation()}},{key:"toggleEvents",value:function(x){var fe=this.em,ke=this.model,De=this.$el,Be={on:Q.on,off:Q.off},Ke=x?"on":"off";fe.setEditing(x?this:0),this.rteEnabled=!!x;var at=[this.el.ownerDocument,document];if(Be.off(at,"mousedown",this.onDisable),Be[Ke](at,"mousedown",this.onDisable),fe[Ke]("toolbar:run:before",this.onDisable),ke&&(ke[Ke]("removed",this.onDisable),ke.trigger("rte:".concat(x?"enable":"disable"))),De&&De.off("mousedown",this.disablePropagation),De&&De[Ke]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var ot=this.el;ot;)ot.draggable=!x,(ot=ot.parentNode)&&ot.tagName=="BODY"&&(ot=0)}}]),ce}(k.Z);function tn(he){var ye=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,W=(0,c.Z)(he);if(ye){var ce=(0,c.Z)(this).constructor;O=Reflect.construct(W,arguments,ce)}else O=W.apply(this,arguments);return(0,f.Z)(this,O)}}var Ve=function(he){(0,_.Z)(O,he);var ye=tn(O);function O(){return(0,d.Z)(this,O),ye.apply(this,arguments)}return(0,j.Z)(O,[{key:"render",value:function(){for(var W=arguments.length,ce=new Array(W),x=0;x<W;x++)ce[x]=arguments[x];return jt.prototype.render.apply(this,ce),this.el.addEventListener("click",this.prevDef,!0),this}}]),O}(jt);function et(he,ye){var O=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(he,ce).enumerable})),O.push.apply(O,W)}return O}function ut(he){for(var ye=1;ye<arguments.length;ye++){var O=arguments[ye]!=null?arguments[ye]:{};ye%2?et(Object(O),!0).forEach(function(W){(0,Z.Z)(he,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(O)):et(Object(O)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(O,W))})}return he}var At="label";const yt=Xe.extend({defaults:ut(ut({},Xe.prototype.defaults),{},{type:At,tagName:At,traits:["id","title","for"]})},{isComponent:function(he){return(0,Q.toLowerCase)(he.tagName)===At}});function ht(he){var ye=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,W=(0,c.Z)(he);if(ye){var ce=(0,c.Z)(this).constructor;O=Reflect.construct(W,arguments,ce)}else O=W.apply(this,arguments);return(0,f.Z)(this,O)}}var Ut=function(he){(0,_.Z)(O,he);var ye=ht(O);function O(){return(0,d.Z)(this,O),ye.apply(this,arguments)}return(0,j.Z)(O,[{key:"tagName",value:function(){return"span"}}]),O}(Ve);function $t(he,ye){var O=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(he,ce).enumerable})),O.push.apply(O,W)}return O}function un(he){for(var ye=1;ye<arguments.length;ye++){var O=arguments[ye]!=null?arguments[ye]:{};ye%2?$t(Object(O),!0).forEach(function(W){(0,Z.Z)(he,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(O)):$t(Object(O)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(O,W))})}return he}var kn="video",en="yt",Zn="vi",qe="ytnc";const $e=D.extend({defaults:un(un({},D.prototype.defaults),{},{type:kn,tagName:kn,videoId:"",void:0,provider:"so",ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:0,poster:"",muted:0,autoplay:0,controls:1,color:"",list:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}}),initialize:function(he,ye){this.em=ye.em,this.get("src")&&this.parseFromSrc(),this.updateTraits(),this.listenTo(this,"change:provider",this.updateTraits),this.listenTo(this,"change:videoId change:provider",this.updateSrc),D.prototype.initialize.apply(this,arguments)},updateTraits:function(){var he,ye="iframe";switch(this.get("provider")){case en:case qe:he=this.getYoutubeTraits();break;case Zn:he=this.getVimeoTraits();break;default:ye="video",he=this.getSourceTraits()}this.set({tagName:ye},{silent:1}),this.set({traits:he}),this.em.trigger("component:toggled")},parseFromSrc:function(){var he=this.get("provider"),ye=this.parseUri(this.get("src")),O=ye.query;switch(he){case en:case qe:case Zn:var W=ye.pathname.split("/").pop();this.set("videoId",W),O.list&&this.set("list",O.list),O.autoplay&&this.set("autoplay",1),O.loop&&this.set("loop",1),parseInt(O.controls)===0&&this.set("controls",0),O.color&&this.set("color",O.color),O.rel==="0"&&this.set("rel",0),O.modestbranding==="1"&&this.set("modestbranding",1)}},updateSrc:function(){var he="";switch(this.get("provider")){case en:he=this.getYoutubeSrc();break;case qe:he=this.getYoutubeNoCookieSrc();break;case Zn:he=this.getVimeoSrc()}this.set({src:he})},getAttrToHTML:function(){for(var he=arguments.length,ye=new Array(he),O=0;O<he;O++)ye[O]=arguments[O];var W=D.prototype.getAttrToHTML.apply(this,ye),ce=this.get("provider");switch(ce){case en:case qe:case Zn:break;default:this.get("loop")&&(W.loop="loop"),this.get("autoplay")&&(W.autoplay="autoplay"),this.get("controls")&&(W.controls="controls")}return W},getProviderTrait:function(){return{type:"select",label:"Provider",name:"provider",changeProp:1,options:[{value:"so",name:"HTML5 Source"},{value:en,name:"Youtube"},{value:qe,name:"Youtube (no cookie)"},{value:Zn,name:"Vimeo"}]}},getSourceTraits:function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:1},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},getYoutubeTraits:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:1},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:1}]},getVimeoTraits:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:1},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait()]},getAutoplayTrait:function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:1}},getLoopTrait:function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:1}},getControlsTrait:function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:1}},getYoutubeSrc:function(){var he=this.get("videoId"),ye=this.get("ytUrl"),O=this.get("list");return ye+=he+(he.indexOf("?")<0?"?":""),ye+=O?"&list=".concat(O):"",ye+=this.get("autoplay")?"&autoplay=1":"",ye+=this.get("controls")?"":"&controls=0&showinfo=0",ye+=this.get("loop")?"&loop=1&playlist=".concat(he):"",ye+=this.get("rel")?"":"&rel=0",ye+=this.get("modestbranding")?"&modestbranding=1":""},getYoutubeNoCookieSrc:function(){var he=this.getYoutubeSrc();return he=he.replace(this.get("ytUrl"),this.get("ytncUrl"))},getVimeoSrc:function(){var he=this.get("viUrl");return he+=this.get("videoId")+"?",he+=this.get("autoplay")?"&autoplay=1":"",he+=this.get("loop")?"&loop=1":"",he+=this.get("controls")?"":"&title=0&portrait=0&badge=0",he+=this.get("color")?"&color="+this.get("color"):""}},{isComponent:function(he){var ye="",O=he.tagName,W=he.src,ce=/youtube\.com\/embed/.test(W),x=/youtube-nocookie\.com\/embed/.test(W),fe=/player\.vimeo\.com\/video/.test(W),ke=ce||x||fe;return((0,Q.toLowerCase)(O)==kn||(0,Q.toLowerCase)(O)=="iframe"&&ke)&&(ye={type:"video"},W&&(ye.src=W),ke&&(ce?ye.provider=en:x?ye.provider=qe:fe&&(ye.provider=Zn))),ye}});function ft(he){var ye=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,W=(0,c.Z)(he);if(ye){var ce=(0,c.Z)(this).constructor;O=Reflect.construct(W,arguments,ce)}else O=W.apply(this,arguments);return(0,f.Z)(this,O)}}var Ct=function(he){(0,_.Z)(O,he);var ye=ft(O);function O(){return(0,d.Z)(this,O),ye.apply(this,arguments)}return(0,j.Z)(O,[{key:"tagName",value:function(){return"div"}},{key:"events",value:function(){return{}}},{key:"initialize",value:function(W){k.Z.prototype.initialize.apply(this,arguments);var ce=this.model,x=["loop","autoplay","controls","color","rel","modestbranding","poster"],fe=x.map(function(ke){return"change:".concat(ke)}).join(" ");this.listenTo(ce,"change:provider",this.updateProvider),this.listenTo(ce,"change:src",this.updateSrc),this.listenTo(ce,fe,this.updateVideo)}},{key:"updateProvider",value:function(){var W=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(W))}},{key:"updateSrc",value:function(){var W=this.model,ce=this.videoEl;if(ce){var x=W.get("provider"),fe=W.get("src");switch(x){case"yt":fe=W.getYoutubeSrc();break;case"ytnc":fe=W.getYoutubeNoCookieSrc();break;case"vi":fe=W.getVimeoSrc()}ce.src=fe}}},{key:"updateVideo",value:function(){var W=this.model.get("provider"),ce=this.videoEl,x=this.model;switch(W){case"yt":case"ytnc":case"vi":this.model.trigger("change:videoId");break;default:ce.loop=x.get("loop"),ce.autoplay=x.get("autoplay"),ce.controls=x.get("controls"),ce.poster=x.get("poster")}}},{key:"renderByProvider",value:function(W){var ce;switch(W){case"yt":ce=this.renderYoutube();break;case"ytnc":ce=this.renderYoutubeNoCookie();break;case"vi":ce=this.renderVimeo();break;default:ce=this.renderSource()}return this.videoEl=ce,ce}},{key:"renderSource",value:function(){var W=document.createElement("video");return W.src=this.model.get("src"),this.initVideoEl(W),W}},{key:"renderYoutube",value:function(){var W=document.createElement("iframe");return W.src=this.model.getYoutubeSrc(),W.frameBorder=0,W.setAttribute("allowfullscreen",!0),this.initVideoEl(W),W}},{key:"renderYoutubeNoCookie",value:function(){var W=document.createElement("iframe");return W.src=this.model.getYoutubeNoCookieSrc(),W.frameBorder=0,W.setAttribute("allowfullscreen",!0),this.initVideoEl(W),W}},{key:"renderVimeo",value:function(){var W=document.createElement("iframe");return W.src=this.model.getVimeoSrc(),W.frameBorder=0,W.setAttribute("allowfullscreen",!0),this.initVideoEl(W),W}},{key:"initVideoEl",value:function(W){W.className=this.ppfx+"no-pointer",W.style.height="100%",W.style.width="100%"}},{key:"render",value:function(){for(var W=arguments.length,ce=new Array(W),x=0;x<W;x++)ce[x]=arguments[x];de.prototype.render.apply(this,ce),this.updateClasses();var fe=this.model.get("provider");return this.el.appendChild(this.renderByProvider(fe)),this.updateVideo(),this}}]),O}(de);function Zt(he,ye){var O=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(he,ce).enumerable})),O.push.apply(O,W)}return O}function Mt(he){for(var ye=1;ye<arguments.length;ye++){var O=arguments[ye]!=null?arguments[ye]:{};ye%2?Zt(Object(O),!0).forEach(function(W){(0,Z.Z)(he,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(O)):Zt(Object(O)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(O,W))})}return he}var Ht="script";const Gt=S.ZP.extend({defaults:Mt(Mt({},S.ZP.prototype.defaults),{},{type:Ht,tagName:Ht,droppable:!1,draggable:!1,layerable:!1})},{isComponent:function(he){if((0,Q.toLowerCase)(he.tagName)==Ht){var ye={type:Ht};return he.src&&(ye.src=he.src,ye.onload=he.onload),ye}}});function nn(he){var ye=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,W=(0,c.Z)(he);if(ye){var ce=(0,c.Z)(this).constructor;O=Reflect.construct(W,arguments,ce)}else O=W.apply(this,arguments);return(0,f.Z)(this,O)}}var dn=function(he){(0,_.Z)(O,he);var ye=nn(O);function O(){return(0,d.Z)(this,O),ye.apply(this,arguments)}return(0,j.Z)(O,[{key:"tagName",value:function(){return"script"}},{key:"events",value:function(){return{}}},{key:"render",value:function(){var W=this.model,ce=this.em,x=W.get("src"),fe=ce&&ce.get("scriptCount"),ke=fe||0,De="";if(x){var Be=W.get("onload"),Ke="script".concat(ke),at="script".concat(ke+1),ot="".concat(Ke,"Start"),bt="".concat(at,"Start");De=`
        var `.concat(Ke,` = document.createElement('script');
        `).concat(Ke,`.onload = function() {
          `).concat(Be?"".concat(Be,`();
`):"",`
          typeof `).concat(bt," == 'function' && ").concat(bt,`();
        };
        `).concat(Ke,".src = '").concat(x,`';
        function `).concat(ot,"() { document.body.appendChild(").concat(Ke,`); };
        `).concat(ke?"":"".concat(ot,"();"),`
      `),ce&&ce.set("scriptCount",ke+1)}else De=W.__innerHTML();return this.el.innerHTML=De,this.postRender(),this}}]),O}(de);function ln(he,ye){var O=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(he,ce).enumerable})),O.push.apply(O,W)}return O}function bn(he){for(var ye=1;ye<arguments.length;ye++){var O=arguments[ye]!=null?arguments[ye]:{};ye%2?ln(Object(O),!0).forEach(function(W){(0,Z.Z)(he,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(O)):ln(Object(O)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(O,W))})}return he}var wn="svg";const Cn=S.ZP.extend({defaults:bn(bn({},S.ZP.prototype.defaults),{},{type:wn,tagName:wn,highlightable:0,resizable:{ratioDefault:1}}),getName:function(){var he=this.get("tagName"),ye=this.get("custom-name");return he=he.charAt(0).toUpperCase()+he.slice(1),ye||he}},{isComponent:function(he){return(0,Q.toLowerCase)(he.tagName)===wn}});function Sn(he,ye){var O=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(he,ce).enumerable})),O.push.apply(O,W)}return O}function Tn(he){for(var ye=1;ye<arguments.length;ye++){var O=arguments[ye]!=null?arguments[ye]:{};ye%2?Sn(Object(O),!0).forEach(function(W){(0,Z.Z)(he,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(O)):Sn(Object(O)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(O,W))})}return he}const qn=Cn.extend({defaults:Tn(Tn({},Cn.prototype.defaults),{},{selectable:!1,hoverable:!1,layerable:!1})},{isComponent:function(he){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return!!ye.inSvg}});function Nt(he){var ye=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,W=(0,c.Z)(he);if(ye){var ce=(0,c.Z)(this).constructor;O=Reflect.construct(W,arguments,ce)}else O=W.apply(this,arguments);return(0,f.Z)(this,O)}}var Rt=function(he){(0,_.Z)(O,he);var ye=Nt(O);function O(){return(0,d.Z)(this,O),ye.apply(this,arguments)}return(0,j.Z)(O,[{key:"_createElement",value:function(W){return document.createElementNS("http://www.w3.org/2000/svg",W)}}]),O}(k.Z);function Dn(he,ye){var O=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(he,ce).enumerable})),O.push.apply(O,W)}return O}function Bn(he){for(var ye=1;ye<arguments.length;ye++){var O=arguments[ye]!=null?arguments[ye]:{};ye%2?Dn(Object(O),!0).forEach(function(W){(0,Z.Z)(he,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(O)):Dn(Object(O)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(O,W))})}return he}const Nn=S.ZP.extend({defaults:Bn(Bn({},S.ZP.prototype.defaults),{},{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0}),toHTML:function(){var he=this.parent(),ye=this.get("content");return he&&he.is("script")?ye:(0,Q.escape)(ye)}},{isComponent:function(he){var ye="";return he.nodeType===3&&(ye={type:"textnode",content:he.textContent}),ye}});function Wt(he,ye){var O=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(he,ce).enumerable})),O.push.apply(O,W)}return O}const hn=Nn.extend({defaults:function(he){for(var ye=1;ye<arguments.length;ye++){var O=arguments[ye]!=null?arguments[ye]:{};ye%2?Wt(Object(O),!0).forEach(function(W){(0,Z.Z)(he,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(O)):Wt(Object(O)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(O,W))})}return he}({},Nn.prototype.defaults),toHTML:function(){return"<!--".concat(this.get("content"),"-->")}},{isComponent:function(he){if(he.nodeType==8)return{tagName:"NULL",type:"comment",content:he.textContent}}});function on(he){var ye=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,W=(0,c.Z)(he);if(ye){var ce=(0,c.Z)(this).constructor;O=Reflect.construct(W,arguments,ce)}else O=W.apply(this,arguments);return(0,f.Z)(this,O)}}var sr=function(he){(0,_.Z)(O,he);var ye=on(O);function O(){return(0,d.Z)(this,O),ye.apply(this,arguments)}return(0,j.Z)(O,[{key:"initialize",value:function(){k.Z.prototype.initialize.apply(this,arguments)}},{key:"_setAttributes",value:function(){}},{key:"renderAttributes",value:function(){}},{key:"updateStatus",value:function(){}},{key:"updateClasses",value:function(){}},{key:"setAttribute",value:function(){}},{key:"updateAttributes",value:function(){}},{key:"initClasses",value:function(){}},{key:"initComponents",value:function(){}},{key:"delegateEvents",value:function(){}},{key:"_createElement",value:function(){return document.createTextNode("")}},{key:"render",value:function(){var W=this.model,ce=this.el;return W.opt.temporary||(ce.textContent=W.get("content")),this}}]),O}(k.Z);function Ot(he){var ye=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,W=(0,c.Z)(he);if(ye){var ce=(0,c.Z)(this).constructor;O=Reflect.construct(W,arguments,ce)}else O=W.apply(this,arguments);return(0,f.Z)(this,O)}}var cn=function(he){(0,_.Z)(O,he);var ye=Ot(O);function O(){return(0,d.Z)(this,O),ye.apply(this,arguments)}return(0,j.Z)(O,[{key:"_createElement",value:function(){return document.createComment(this.model.get("content"))}}]),O}(sr);function Me(he,ye){var O=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(he,ce).enumerable})),O.push.apply(O,W)}return O}function Fe(he){for(var ye=1;ye<arguments.length;ye++){var O=arguments[ye]!=null?arguments[ye]:{};ye%2?Me(Object(O),!0).forEach(function(W){(0,Z.Z)(he,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(O)):Me(Object(O)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(O,W))})}return he}function mt(he){var ye=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,W=(0,c.Z)(he);if(ye){var ce=(0,c.Z)(this).constructor;O=Reflect.construct(W,arguments,ce)}else O=W.apply(this,arguments);return(0,f.Z)(this,O)}}var It=function(he){(0,_.Z)(O,he);var ye=mt(O);function O(){return(0,d.Z)(this,O),ye.apply(this,arguments)}return(0,j.Z)(O,[{key:"defaults",value:function(){return Fe(Fe({},S.ZP.getDefaults()),{},{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})}},{key:"__postAdd",value:function(){var W=this.em&&this.em.get("UndoManager");return W&&!this.__hasUm&&W.add(this),S.ZP.prototype.__postAdd.call(this,arguments)}},{key:"__postRemove",value:function(){var W=this.em&&this.em.get("UndoManager");return W&&W.remove(this),S.ZP.prototype.__postRemove.call(this,arguments)}}]),O}(S.ZP);function rt(he,ye){var O=Object.keys(he);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(he);ye&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(he,ce).enumerable})),O.push.apply(O,W)}return O}function _t(he){for(var ye=1;ye<arguments.length;ye++){var O=arguments[ye]!=null?arguments[ye]:{};ye%2?rt(Object(O),!0).forEach(function(W){(0,Z.Z)(he,W,O[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(O)):rt(Object(O)).forEach(function(W){Object.defineProperty(he,W,Object.getOwnPropertyDescriptor(O,W))})}return he}It.isComponent=function(){return!1};var jn="iframe";const fn=S.ZP.extend({defaults:function(){return _t(_t({},S.ZP.prototype.defaults),{},{type:jn,tagName:jn,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})}},{isComponent:function(he){return(0,Q.toLowerCase)(he.tagName)===jn}});var En=s(9283);function $n(he){var ye=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,W=(0,c.Z)(he);if(ye){var ce=(0,c.Z)(this).constructor;O=Reflect.construct(W,arguments,ce)}else O=W.apply(this,arguments);return(0,f.Z)(this,O)}}var nr,er=function(he){(0,_.Z)(O,he);var ye=$n(O);function O(){return(0,d.Z)(this,O),ye.apply(this,arguments)}return(0,j.Z)(O,[{key:"tagName",value:function(){return"div"}},{key:"initialize",value:function(){for(var W=arguments.length,ce=new Array(W),x=0;x<W;x++)ce[x]=arguments[x];k.Z.prototype.initialize.apply(this,ce),this.listenTo(this.model,"change:attributes:src",this.updateSrc)}},{key:"updateSrc",value:function(){var W=(0,En.sE)(this.el,"iframe")[0];W&&(0,En.FW)(W,{src:this.__getSrc()})}},{key:"render",value:function(){for(var W=arguments.length,ce=new Array(W),x=0;x<W;x++)ce[x]=arguments[x];k.Z.prototype.render.apply(this,ce);var fe=(0,En.ut)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(fe),this}},{key:"__getSrc",value:function(){return this.model.getAttributes().src||""}}]),O}(k.Z.extend),Kn=s(6434),Xn=(nr=function(he,ye){return nr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,W){O.__proto__=W}||function(O,W){for(var ce in W)Object.prototype.hasOwnProperty.call(W,ce)&&(O[ce]=W[ce])},nr(he,ye)},function(he,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Class extends value "+String(ye)+" is not a constructor or null");function O(){this.constructor=he}nr(he,ye),he.prototype=ye===null?Object.create(ye):(O.prototype=ye.prototype,new O)}),Wn=function(){return Wn=Object.assign||function(he){for(var ye,O=1,W=arguments.length;O<W;O++)for(var ce in ye=arguments[O])Object.prototype.hasOwnProperty.call(ye,ce)&&(he[ce]=ye[ce]);return he},Wn.apply(this,arguments)},zn=function(he,ye){var O={};for(var W in he)Object.prototype.hasOwnProperty.call(he,W)&&ye.indexOf(W)<0&&(O[W]=he[W]);if(he!=null&&typeof Object.getOwnPropertySymbols=="function"){var ce=0;for(W=Object.getOwnPropertySymbols(he);ce<W.length;ce++)ye.indexOf(W[ce])<0&&Object.prototype.propertyIsEnumerable.call(he,W[ce])&&(O[W[ce]]=he[W[ce]])}return O},In=function(he){function ye(O){var W=he.call(this,O,"DomComponents",new p.Z(void 0,{em:O}))||this;for(var ce in W.componentTypes=[{id:"cell",model:X,view:V},{id:"row",model:ue,view:M},{id:"table",model:ne,view:H},{id:"thead",model:K,view:N},{id:"tbody",model:g,view:h},{id:"tfoot",model:P,view:u},{id:"map",model:I,view:we},{id:"link",model:Lt,view:Ve},{id:"label",model:yt,view:Ut},{id:"video",model:$e,view:Ct},{id:"image",model:D,view:de},{id:"script",model:Gt,view:dn},{id:"svg-in",model:qn,view:Rt},{id:"svg",model:Cn,view:Rt},{id:"iframe",model:fn,view:er},{id:"comment",model:hn,view:cn},{id:"textnode",model:Nn,view:sr},{id:"text",model:Xe,view:jt},{id:"wrapper",model:It,view:w},{id:"default",model:S.ZP,view:k.Z}],W.componentsById={},W.Component=S.ZP,W.Components=p.Z,W.ComponentsView=E.Z,W.storageKey="components",O&&(W.config.components=O.config.components||W.config.components),U)ce in W.config||(W.config[ce]=U[ce]);var x=W.config.pStylePrefix;if(x&&(W.config.stylePrefix=x+W.config.stylePrefix),O){W.config.modal=O.get("Modal")||"",W.config.am=O.get("AssetManager")||"",O.get("Parser").compTypes=W.componentTypes,O.on("change:componentHovered",W.componentHovered,W);var fe=O.get("selected");O.listenTo(fe,"add",function(ke,De,Be){return W.selectAdd(fe.getComponent(ke),Be)}),O.listenTo(fe,"remove",function(ke,De,Be){return W.selectRemove(fe.getComponent(ke),Be)})}return W}return Xn(ye,he),ye.prototype.load=function(O){var W=this;return this.loadProjectData(O,{onResult:function(ce){var x=W.getWrapper();if(x||(W.em.get("PageManager").add({},{select:!0}),x=W.getWrapper()),(0,A.isArray)(ce))ce.length&&x.components(ce);else{var fe=ce.components,ke=fe===void 0?[]:fe,De=zn(ce,["components"]);x.set(De),x.components(ke)}}})},ye.prototype.store=function(){return{}},ye.prototype.getComponent=function(){var O=this.em.get("PageManager").getSelected(),W=O&&O.getMainFrame();return W&&W.getComponent()},ye.prototype.getWrapper=function(){return this.getComponent()},ye.prototype.getComponents=function(){var O=this.getWrapper();return O&&O.get("components")},ye.prototype.addComponent=function(O,W){return W===void 0&&(W={}),this.getComponents().add(O,W)},ye.prototype.render=function(){var O;return(O=this.componentView)===null||O===void 0?void 0:O.render().el},ye.prototype.clear=function(O){O===void 0&&(O={});var W=this.getComponents();return W==null||W.filter(Boolean).forEach(function(ce){return ce.remove(O)}),this},ye.prototype.setComponents=function(O,W){W===void 0&&(W={}),this.clear(W).addComponent(O,W)},ye.prototype.addType=function(O,W){var ce=this.em,x=W.model,fe=x===void 0?{}:x,ke=W.view,De=ke===void 0?{}:ke,Be=W.isComponent,Ke=W.extend,at=W.extendView,ot=W.extendFn,bt=ot===void 0?[]:ot,xt=W.extendFnView,Dt=xt===void 0?[]:xt,Qt=this.getType(O),an=this.getType(Ke),gn=this.getType(at),Mn=an||Qt||this.getType("default"),Rn=Mn.model,sn=gn?gn.view:Mn.view,On=function(Jn,lr,An){return Jn.reduce(function(Yn,xn){var Yt=lr[xn],i=An.prototype[xn];return Yt&&i&&(Yn[xn]=function(){for(var o=[],G=0;G<arguments.length;G++)o[G]=arguments[G];i.bind(this).apply(void 0,o),Yt.bind(this).apply(void 0,o)}),Yn},{})};typeof fe=="object"&&(W.model=Rn.extend(Wn(Wn(Wn({},fe),On(bt,fe,Rn)),{defaults:Wn(Wn({},(0,A.result)(Rn.prototype,"defaults")||{}),(0,A.result)(fe,"defaults")||{})}),{isComponent:!Qt||an||Be?Be||function(){return 0}:Rn.isComponent})),typeof De=="object"&&(W.view=sn.extend(Wn(Wn({},De),On(Dt,De,sn)))),Qt?(Qt.model=W.model,Qt.view=W.view):(W.id=O,this.componentTypes.unshift(W));var Un="component:type:".concat(Qt?"update":"add");return ce==null||ce.trigger(Un,Qt||W),this},ye.prototype.getType=function(O){for(var W=this.componentTypes,ce=0;ce<W.length;ce++)if(W[ce].id==O)return W[ce]},ye.prototype.removeType=function(O){var W=this.componentTypes,ce=this.getType(O);if(ce){var x=W.indexOf(ce);return W.splice(x,1),ce}},ye.prototype.getTypes=function(){return this.componentTypes},ye.prototype.selectAdd=function(O,W){var ce=this;W===void 0&&(W={}),O&&(O.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(x){return ce.em.trigger(x,O,W)}))},ye.prototype.selectRemove=function(O,W){var ce=this;W===void 0&&(W={}),O&&(this.em,O.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(x){return ce.em.trigger(x,O,W)}))},ye.prototype.componentHovered=function(){var O=this.em,W=O.get("componentHovered"),ce=O.previous("componentHovered"),x="hovered";ce&&ce.get("status")==x&&ce.set({status:"",state:""}),W&&(0,A.isEmpty)(W.get("status"))&&W.set("status",x)},ye.prototype.getShallowWrapper=function(){var O=this.shallow,W=this.em;if(!O&&W){var ce=W.shallow;if(!ce)return;var x=ce.get("DomComponents");if(x.componentTypes=this.componentTypes,O=x.getWrapper()){var fe=[S.GN,S.xH].join(" ");O.on(fe,(0,A.debounce)(function(){return O==null?void 0:O.components("")},100))}this.shallow=O}return O},ye.prototype.canMove=function(O,W,ce){var x=ce||ce===0?ce:null,fe={result:!1,reason:0,target:O,source:null};if(!W)return fe;var ke=W.toHTML?W:null;if(!ke){var De=this.getShallowWrapper();ke=De==null?void 0:De.append(W)[0]}if(fe.source=ke,!ke)return fe;var Be=ke.get("draggable");if((0,A.isFunction)(Be))Be=!!Be(ke,O,x);else{var Ke=O.getEl();Be=(0,A.isArray)(Be)?Be.join(","):Be,Be=(0,A.isString)(Be)?Ke==null?void 0:Ke.matches(Be):Be}if(!Be)return Wn(Wn({},fe),{reason:1});var at=O.get("droppable");return(0,A.isFunction)(at)?at=!!at(ke,O,x):at===!1&&O.isInstanceOf("text")&&ke.get("textable")?at=!0:(Ke=ke.getEl(),at=(0,A.isArray)(at)?at.join(","):at,at=(0,A.isString)(at)?Ke==null?void 0:Ke.matches(at):at),Wn(Wn({},fe),at?{result:!0}:{reason:2})},ye.prototype.allById=function(){return this.componentsById},ye.prototype.getById=function(O){return this.componentsById[O]||null},ye.prototype.destroy=function(){var O,W=this.allById();Object.keys(W).forEach(function(ce){return W[ce]&&W[ce].remove()}),(O=this.componentView)===null||O===void 0||O.remove(),[this.em,this.componentsById,this.componentView].forEach(function(ce){return{}})},ye}(Kn.O);const Gn=In},6764:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>Y,evAll:()=>ve,evComponent:()=>L,evPfx:()=>ue,evRoot:()=>M});var A=s(9050),U=s(7904),S=s(6434),p=s(1163);const k={stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,onInit:function(){},onRender:function(){},extend:{}};var d,j=s(2316),_=(d=function(l,y){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var $ in v)Object.prototype.hasOwnProperty.call(v,$)&&(g[$]=v[$])},d(l,y)},function(l,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function g(){this.constructor=l}d(l,y),l.prototype=y===null?Object.create(y):(g.prototype=y.prototype,new g)});const f=function(l){function y(){return l!==null&&l.apply(this,arguments)||this}return _(y,l),Object.defineProperty(y.prototype,"pfx",{get:function(){return this.model.module.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"ppfx",{get:function(){return this.pfx+this.model.module.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"em",{get:function(){return this.model.module.em},enumerable:!1,configurable:!0}),y}(s.n(j)().View);var c=s(2169),m=s(7375),w=function(){var l=function(y,g){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,$){v.__proto__=$}||function(v,$){for(var ae in $)Object.prototype.hasOwnProperty.call($,ae)&&(v[ae]=$[ae])},l(y,g)};return function(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function v(){this.constructor=y}l(y,g),y.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}}(),E=function(l){function y(g){g===void 0&&(g={});var v=l.call(this,g)||this;v.items=[],v.opt=g;var $=g.config||{};v.config=$,v.parentView=g.parentView;var ae=$.stylePrefix||"",K=$.pStylePrefix||"",N=v.collection;v.listenTo(N,"add",v.addTo),v.listenTo(N,"reset resetNavigator",v.render),v.listenTo(N,"remove",v.removeChildren),v.className="".concat(ae,"layers");var b=$.em;if($.sortable&&!v.opt.sorter){var h=b.get("Utils");v.opt.sorter=new h.Sorter({container:$.sortContainer||v.el,containerSel:".".concat(v.className),itemSel:".".concat(ae,"layer"),ignoreViewChildren:1,onEndMove:function(z,R,T){var P=R.getSourceModel();b.setSelected(P,{forceChange:1}),b.trigger("".concat(m.OA,":end"),T)},avoidSelectOnEnd:1,nested:1,ppfx:K,pfx:ae})}return v.$el.data("collection",N),g.parent&&v.$el.data("model",g.parent),v}return w(y,l),y.prototype.removeChildren=function(g){var v=g.viewLayer;v&&(v.remove(),delete g.viewLayer)},y.prototype.addTo=function(g){var v=this.collection.indexOf(g);this.addToCollection(g,null,v)},y.prototype.addToCollection=function(g,v,$){var ae=this,K=ae.parentView,N=ae.opt,b=ae.config,h=N.ItemView,z=N.opened,R=N.module,T=v||null,P=new h({ItemView:h,level:N.level,model:g,parentView:K,config:b,sorter:N.sorter,opened:z,module:R}),u=P.render().el;if(T)T.appendChild(u);else if($!==void 0){var ee="before";this.$el.children().length==$&&($--,ee="after"),$<0?this.$el.append(u):this.$el.children().eq($)[ee](u)}else this.$el.append(u);return this.items.push(P),u},y.prototype.remove=function(){for(var g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];return f.prototype.remove.apply(this,g),this.items.map(function($){return $.remove()}),this},y.prototype.render=function(){var g=this,v=document.createDocumentFragment(),$=this.el;return $.innerHTML="",this.collection.each(function(ae){return g.addToCollection(ae,v)}),$.appendChild(v),$.className=this.className,this},y}(f);const Z=E;var Q=function(){var l=function(y,g){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,$){v.__proto__=$}||function(v,$){for(var ae in $)Object.prototype.hasOwnProperty.call($,ae)&&(v[ae]=$[ae])},l(y,g)};return function(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function v(){this.constructor=y}l(y,g),y.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}}(),J="contentEditable",te=function(l){function y(g){var v=l.call(this,g)||this;(0,A.bindAll)(v,"__render"),v.opt=g,v.module=g.module;var $=g.config||{},ae=$.onInit;v.config=$,v.sorter=g.sorter||"",v.parentView=g.parentView;var K=v.pfx,N=v.ppfx,b=v.model,h=b.get("components"),z=b.get("type")||"default";return v.listenTo(h,"remove add reset",v.checkChildren),[["change:status",v.updateStatus],["change:open",v.updateOpening],["change:layerable",v.updateLayerable],["change:style:display",v.updateVisibility],["rerender:layer",v.render],["change:name change:custom-name",v.updateName]].forEach(function(R){return v.listenTo(b,R[0],R[1])}),v.className="".concat(K,"layer ").concat(K,"layer__t-").concat(z," no-select ").concat(N,"two-color"),v.inputNameCls="".concat(N,"layer-name"),v.clsTitleC="".concat(K,"layer-title-c"),v.clsTitle="".concat(K,"layer-title"),v.clsCaret="".concat(K,"layer-caret"),v.clsCount="".concat(K,"layer-count"),v.clsMove="".concat(K,"layer-move"),v.clsChildren="".concat(K,"layer-children"),v.clsNoChild="".concat(K,"layer-no-chld"),v.clsEdit="".concat(v.inputNameCls,"--edit"),v.clsNoEdit="".concat(v.inputNameCls,"--no-edit"),v.$el.data("model",b),v.$el.data("collection",h),b.viewLayer=v,ae.bind(v)({component:b,render:v.__render,listenTo:v.listenTo}),v}return Q(y,l),y.prototype.events=function(){return{"mousedown [data-toggle-move]":"startSort","touchstart [data-toggle-move]":"startSort","click [data-toggle-visible]":"toggleVisibility","click [data-toggle-open]":"toggleOpening","click [data-toggle-select]":"handleSelect","mouseover [data-toggle-select]":"handleHover","mouseout [data-toggle-select]":"handleHoverOut","dblclick [data-name]":"handleEdit","keydown [data-name]":"handleEditKey","focusout [data-name]":"handleEditEnd"}},y.prototype.template=function(g){var v=this,$=v.pfx,ae=v.ppfx,K=v.config,N=v.clsNoEdit,b=v.module,h=v.opt,z=K.hidable,R=b.getComponents(g).length,T=R?"":this.clsNoChild,P="".concat(this.clsTitle," ").concat(T),u="".concat(this.clsTitleC," ").concat(ae,"one-bg"),ee="".concat(this.clsCaret," fa fa-chevron-right"),q="".concat(this.inputNameCls," ").concat(N," ").concat(ae,"no-app"),C=h.level+1,D="".concat(30+10*C,"px"),le=g.getName(),be=g.getIcon(),I="".concat($,"layer");return`
      `.concat(z?'<i class="'.concat($,"layer-vis fa fa-eye ").concat(b.isVisible(g)?"":"fa-eye-slash",'" data-toggle-visible></i>'):"",`
      <div class="`).concat(u,`">
        <div class="`).concat(P,'" style="padding-left: ').concat(D,`" data-toggle-select>
          <div class="`).concat($,'layer-title-inn" title="').concat(le,`">
            <i class="`).concat(ee,`" data-toggle-open></i>
            `).concat(be?'<span class="'.concat(I,'__icon">').concat(be,"</span>"):"",`
            <span class="`).concat(q,'" data-name>').concat(le,`</span>
          </div>
        </div>
      </div>
      <div class="`).concat(this.clsCount,'" data-count>').concat(R||"",`</div>
      <div class="`).concat(this.clsMove,`" data-toggle-move>
        <i class="fa fa-arrows"></i>
      </div>
      <div class="`).concat(this.clsChildren,'"></div>')},Object.defineProperty(y.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),y.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},y.prototype.getVisibilityEl=function(){return this.eyeEl||(this.eyeEl=this.$el.children(".".concat(this.pfx,"layer-vis"))),this.eyeEl},y.prototype.updateVisibility=function(){var g=this,v=g.pfx,$=g.model,ae=g.module,K="".concat(v,"layer-hidden"),N=ae.isVisible($)?"removeClass":"addClass";this.$el[N](K),this.getVisibilityEl()[N]("fa-eye-slash")},y.prototype.toggleVisibility=function(g){g==null||g.stopPropagation();var v=this.module,$=this.model;v.setVisible($,!v.isVisible($))},y.prototype.handleEdit=function(g){g==null||g.stopPropagation();var v=this,$=v.em,ae=v.$el,K=v.clsNoEdit,N=v.clsEdit,b=this.getInputName();b[J]="true",b.focus(),document.execCommand("selectAll",!1),$.setEditing(!0),ae.find(".".concat(this.inputNameCls)).removeClass(K).addClass(N)},y.prototype.handleEditKey=function(g){g.stopPropagation(),((0,p.isEscKey)(g)||(0,p.isEnterKey)(g))&&this.handleEditEnd(g)},y.prototype.handleEditEnd=function(g){g==null||g.stopPropagation();var v=this,$=v.em,ae=v.$el,K=v.clsNoEdit,N=v.clsEdit,b=this.getInputName(),h=b.textContent;b.scrollLeft=0,b[J]="false",this.setName(h,{component:this.model,propName:"custom-name"}),$.setEditing(!1),ae.find(".".concat(this.inputNameCls)).addClass(K).removeClass(N)},y.prototype.setName=function(g,v){var $=v.propName;this.model.set($,g)},y.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},y.prototype.updateOpening=function(){var g=this.$el,v=this.model,$="open",ae="fa-chevron-down",K=this.getCaret();this.module.isOpen(v)?(g.addClass($),K.addClass(ae)):(g.removeClass($),K.removeClass(ae))},y.prototype.toggleOpening=function(g){var v=this.model,$=this.module;g==null||g.stopImmediatePropagation(),v.get("components").length&&$.setOpen(v,!$.isOpen(v))},y.prototype.handleSelect=function(g){g==null||g.stopPropagation();var v=this.module,$=this.model;v.setLayerData($,{selected:!0},{event:g})},y.prototype.handleHover=function(g){g==null||g.stopPropagation();var v=this.module,$=this.model;v.setLayerData($,{hovered:!0})},y.prototype.handleHoverOut=function(g){g==null||g.stopPropagation();var v=this.module,$=this.model;v.setLayerData($,{hovered:!1})},y.prototype.startSort=function(g){g.stopPropagation();var v=this.em,$=this.sorter;g.button&&g.button!==0||$&&($.onStart=function(ae){return v.trigger("".concat(m.OA,":start"),ae)},$.onMoveClb=function(ae){return v.trigger(m.OA,ae)},$.startSort(g.target))},y.prototype.updateStatus=function(){c.Z.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:1}])},y.prototype.checkChildren=function(){var g=this,v=g.model,$=g.clsNoChild,ae=g.$el,K=g.module,N=K.getComponents(v).length,b=ae.children(".".concat(this.clsTitleC)).children(".".concat(this.clsTitle)),h=this.cnt;h||(h=ae.children("[data-count]").get(0),this.cnt=h),b[N?"removeClass":"addClass"]($),h&&(h.innerHTML=N||""),!N&&K.setOpen(v,!1)},y.prototype.getCaret=function(){return this.caret&&this.caret.length||(this.caret=this.$el.children(".".concat(this.clsTitleC)).find(".".concat(this.clsCaret))),this.caret},y.prototype.setRoot=function(g){g=(0,A.isString)(g)?this.em.getWrapper().find(g)[0]:g;var v=(0,p.getModel)(g,0);v&&(this.stopListening(),this.model=v,this.initialize(this.opt),this._rendered&&this.render())},y.prototype.updateLayerable=function(){(this.parentView||this).render()},y.prototype.__clearItems=function(){var g;(g=this.items)===null||g===void 0||g.remove()},y.prototype.remove=function(){for(var g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];return f.prototype.remove.apply(this,g),this.__clearItems(),this},y.prototype.render=function(){var g=this,v=g.model,$=g.config,ae=g.pfx,K=g.ppfx,N=g.opt,b=g.sorter;this.__clearItems();var h=N.opened,z=N.module,R=N.ItemView,T=!z.__isLayerable(v),P=this.$el.empty(),u=N.level+1;delete this.inputName,this.items=new Z({ItemView:R,collection:v.get("components"),config:$,sorter:b,opened:h,parentView:this,parent:v,level:u,module:z});var ee=this.items.render().$el;return $.showWrapper||u!==1?(P.html(this.template(v)),P.find(".".concat(this.clsChildren)).append(ee)):P.append(ee),v.get("draggable")&&$.sortable||P.children(".".concat(this.clsMove)).remove(),!z.isVisible(v)&&(this.className+=" ".concat(ae,"hide")),T&&(this.className+=" ".concat(K,"hidden")),P.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.__render(),this._rendered=!0,this},y.prototype.__render=function(){var g=this,v=g.model,$=g.config,ae={component:v,el:g.el};$.onRender.bind(this)(ae),this.em.trigger("layer:render",ae)},y}(f);const X=te;var V=function(){var l=function(y,g){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,$){v.__proto__=$}||function(v,$){for(var ae in $)Object.prototype.hasOwnProperty.call($,ae)&&(v[ae]=$[ae])},l(y,g)};return function(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function v(){this.constructor=y}l(y,g),y.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}}(),se=function(){return se=Object.assign||function(l){for(var y,g=1,v=arguments.length;g<v;g++)for(var $ in y=arguments[g])Object.prototype.hasOwnProperty.call(y,$)&&(l[$]=y[$]);return l},se.apply(this,arguments)},ve="layer",ue="".concat(ve,":"),M="".concat(ue,"root"),L="".concat(ue,"component"),F={all:ve,root:M,component:L},re={mediaText:""},ne=["open","status","locked","custom-name","components","classes"].map(function(l){return"component:update:".concat(l)}).join(" "),H=function(l){function y(g){var v=l.call(this,g,"LayerManager",k)||this;return v.events=F,(0,A.bindAll)(v,"componentChanged","__onRootChange","__onComponent"),v.model=new U.Z(v,{opened:{}}),v.config.stylePrefix=v.config.pStylePrefix,v}return V(y,l),y.prototype.onLoad=function(){var g=this,v=this,$=v.em,ae=v.config,K=v.model;K.listenTo($,"component:selected",this.componentChanged),K.on("change:root",this.__onRootChange),K.listenTo($,ne,this.__onComponent),this.componentChanged(),K.listenToOnce($,"load",function(){g.setRoot(ae.root),g.__appendTo()})},y.prototype.setRoot=function(g){var v=this.em.getWrapper(),$=(0,p.isComponent)(g)?g:v;return g&&(0,A.isString)(g)&&(0,p.hasWin)()&&($=v.find(g)[0]||v),this.model.set("root",$),$},y.prototype.getRoot=function(){return this.model.get("root")},y.prototype.getLayerData=function(g){var v=g.get("status");return{name:g.getName(),open:this.isOpen(g),selected:v==="selected",hovered:v==="hovered",visible:this.isVisible(g),locked:this.isLocked(g),components:this.getComponents(g)}},y.prototype.setLayerData=function(g,v,$){$===void 0&&($={});var ae=this.em,K=this.config,N=v.open,b=v.selected,h=v.hovered,z=v.visible,R=v.locked,T=v.name,P=se({fromLayers:!0},$);if((0,p.isDef)(N)&&this.setOpen(g,N),(0,p.isDef)(b))if(b){ae.setSelected(g,P);var u=K.scrollCanvas;u&&g.views.forEach(function(ee){return ee.scrollIntoView(u)})}else ae.removeSelected(g,P);(0,p.isDef)(h)&&K.showHover&&(h?ae.setHovered(g,P):ae.setHovered(null,P)),(0,p.isDef)(z)&&z!==this.isVisible(g)&&this.setVisible(g,z),(0,p.isDef)(R)&&this.setLocked(g,R),(0,p.isDef)(T)&&this.setName(g,T)},y.prototype.getComponents=function(g){var v=this;return g.components().filter(function($){return v.__isLayerable($)})},y.prototype.setOpen=function(g,v){g.set("open",v)},y.prototype.isOpen=function(g){return!!g.get("open")},y.prototype.setVisible=function(g,v){var $="__prev-display",ae=g.getStyle(re),K=ae.display;if(v){var N=g.get($);delete ae.display,N&&(ae.display=N,g.unset($))}else K&&g.set($,K),ae.display="none";g.setStyle(ae,re),this.updateLayer(g),this.em.trigger("component:toggled")},y.prototype.isVisible=function(g){return(v=g.getStyle(re))===void 0&&(v={}),(v.display||"").trim().indexOf("none")!==0;var v},y.prototype.setLocked=function(g,v){g.set("locked",v)},y.prototype.isLocked=function(g){return g.get("locked")},y.prototype.setName=function(g,v){g.set("custom-name",v)},y.prototype.getAll=function(){return this.view},y.prototype.componentChanged=function(g,v){var $;if(v===void 0&&(v={}),!v.fromLayers){var ae=this.em,K=this.config.scrollLayers,N=this.model.get("opened"),b=ae.getSelected(),h=b==null?void 0:b.parent();for(var z in N)N[z].set("open",!1),delete N[z];for(;h;)h.set("open",!0),N[h.cid]=h,h=h.parent();if(b&&K){var R=($=b.viewLayer)===null||$===void 0?void 0:$.el;R==null||R.scrollIntoView(K)}}},y.prototype.render=function(){var g,v,$=this.config,ae=this.model,K=X.extend($.extend);return this.view=new K({el:(g=this.view)===null||g===void 0?void 0:g.el,ItemView:K,level:0,config:$,opened:ae.get("opened"),model:this.getRoot(),module:this}),(v=this.view)===null||v===void 0?void 0:v.render().el},y.prototype.destroy=function(){var g;(g=this.view)===null||g===void 0||g.remove()},y.prototype.__onRootChange=function(){var g,v=this.getRoot();(g=this.view)===null||g===void 0||g.setRoot(v),this.em.trigger(M,v)},y.prototype.__onComponent=function(g){this.updateLayer(g)},y.prototype.__isLayerable=function(g){var v=g.get("tagName");return(!this.config.hideTextnode||!g.is("textnode")&&v!=="br")&&g.get("layerable")},y.prototype.updateLayer=function(g,v){this.em.trigger(L,g,v)},y}(S.Z);const Y=H},7948:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>H,evAll:()=>Q,evPageAdd:()=>se,evPageAddBefore:()=>ve,evPageRemove:()=>ue,evPageRemoveBefore:()=>M,evPageSelect:()=>te,evPageSelectBefore:()=>X,evPageUpdate:()=>V,evPfx:()=>J});var A,U=s(9050),S=s(1163),p=s(7904),k=s(6434),d=s(2316),j=s(3560),_=s(6840),f=(A=function(Y,l){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(y[v]=g[v])},A(Y,l)},function(Y,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function y(){this.constructor=Y}A(Y,l),Y.prototype=l===null?Object.create(l):(y.prototype=l.prototype,new y)});const c=function(Y){function l(y,g){g===void 0&&(g={});var v=Y.call(this,y,g)||this,$=g.em,ae={};v.em=$,y.frames||(ae.component=y.component,ae.styles=y.styles,["component","styles"].map(function(h){return v.unset(h)}));var K=y.frames||[ae],N=new j.Z(K==null?void 0:K.map(function(h){return new _.Z(h,g)}));N.page=v,v.set("frames",N),!v.getId()&&v.set("id",$==null?void 0:$.get("PageManager")._createId());var b=$==null?void 0:$.get("UndoManager");return b==null||b.add(N),v}return f(l,Y),l.prototype.defaults=function(){return{frames:[],_undo:!0}},l.prototype.onRemove=function(){this.get("frames").reset()},l.prototype.getFrames=function(){return this.get("frames")},l.prototype.getId=function(){return this.id},l.prototype.getName=function(){return this.get("name")},l.prototype.setName=function(y){return this.set({name:y})},l.prototype.getAllFrames=function(){return this.getFrames().models||[]},l.prototype.getMainFrame=function(){return this.getFrames().at(0)},l.prototype.getMainComponent=function(){var y=this.getMainFrame();return y==null?void 0:y.getComponent()},l.prototype.toJSON=function(y){y===void 0&&(y={});var g=d.Model.prototype.toJSON.call(this,y),v=(0,U.result)(this,"defaults");return(0,U.forEach)(g,function($,ae){ae.indexOf("_")===0&&delete g[ae]}),(0,U.forEach)(v,function($,ae){g[ae]===$&&delete g[ae]}),g},l}(d.Model);var m=function(){var Y=function(l,y){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var $ in v)Object.prototype.hasOwnProperty.call(v,$)&&(g[$]=v[$])},Y(l,y)};return function(l,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function g(){this.constructor=l}Y(l,y),l.prototype=y===null?Object.create(y):(g.prototype=y.prototype,new g)}}(),w=function(){return w=Object.assign||function(Y){for(var l,y=1,g=arguments.length;y<g;y++)for(var v in l=arguments[y])Object.prototype.hasOwnProperty.call(l,v)&&(Y[v]=l[v]);return Y},w.apply(this,arguments)};const E=function(Y){function l(y,g){var v=Y.call(this,y)||this;return v.on("reset",v.onReset),v.on("remove",v.onRemove),v.model=function($,ae){return ae===void 0&&(ae={}),new c($,w(w({},ae),{em:g}))},v}return m(l,Y),l.prototype.onReset=function(y,g){var v,$=this;(v=g==null?void 0:g.previousModels)===null||v===void 0||v.map(function(ae){return $.onRemove(ae)})},l.prototype.onRemove=function(y){y==null||y.onRemove()},l}(d.Collection);var Z=function(){var Y=function(l,y){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var $ in v)Object.prototype.hasOwnProperty.call(v,$)&&(g[$]=v[$])},Y(l,y)};return function(l,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function g(){this.constructor=l}Y(l,y),l.prototype=y===null?Object.create(y):(g.prototype=y.prototype,new g)}}(),Q="page",J="".concat(Q,":"),te="".concat(J,"select"),X="".concat(te,":before"),V="".concat(J,"update"),se="".concat(J,"add"),ve="".concat(se,":before"),ue="".concat(J,"remove"),M="".concat(ue,":before"),L="change:selected",F="main",re={all:Q,select:te,selectBefore:X,update:V,add:se,addBefore:ve,remove:ue,removeBefore:M},ne=function(Y){function l(y){var g=Y.call(this,y,"PageManager",new E([],y),re)||this;g.storageKey="pages",(0,U.bindAll)(g,"_onPageChange");var v=new p.Z({_undo:!0});return g.model=v,g.pages.on("reset",function($){return $.at(0)&&g.select($.at(0))}),g.pages.on("all",g.__onChange,g),v.on(L,g._onPageChange),g}return Z(l,Y),Object.defineProperty(l.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),l.prototype.__onChange=function(y,g,v,$){var ae=$||v;this.em.trigger(Q,{event:y,page:g,options:ae})},l.prototype.onLoad=function(){var y,g=this,v=this.pages,$={silent:!0};v.add(((y=this.config.pages)===null||y===void 0?void 0:y.map(function(K){return new c(K,{em:g.em,config:g.config})}))||[],$);var ae=v.length?this.getMain():this.add({type:F},$);ae&&this.select(ae,$)},l.prototype._onPageChange=function(y,g,v){var $=this.em,ae=$.get("LayerManager"),K=g.getMainComponent();ae&&K&&ae.setRoot(K),$.trigger(te,g,y.previous("selected")),this.__onChange(L,g,v)},l.prototype.postLoad=function(){var y=this.em,g=this.model,v=y.get("UndoManager");v&&v.add(g),v&&v.add(this.pages)},l.prototype.add=function(y,g){var v=this;g===void 0&&(g={});var $=this.em;y.id=y.id||this._createId();var ae=function(){var K=v.pages.add(new c(y,{em:v.em,config:v.config}),g);return g.select&&v.select(K),K};return!g.silent&&$.trigger(ve,y,ae,g),!g.abort&&ae()},l.prototype.remove=function(y,g){var v=this;g===void 0&&(g={});var $=this.em,ae=(0,U.isString)(y)?this.get(y):y,K=function(){return ae&&v.pages.remove(ae,g),ae};return!g.silent&&$.trigger(M,ae,K,g),!g.abort&&K()},l.prototype.get=function(y){return this.pages.filter(function(g){return g.get(g.idAttribute)===y})[0]},l.prototype.getMain=function(){var y=this.pages;return y.filter(function(g){return g.get("type")===F})[0]||y.at(0)},l.prototype.getAllWrappers=function(){var y=this.getAll();return(0,U.unique)((0,U.flatten)(y.map(function(g){return g.getAllFrames().map(function(v){return v.getComponent()})})))},l.prototype.select=function(y,g){g===void 0&&(g={});var v=(0,U.isString)(y)?this.get(y):y;return v&&(this.em.trigger(X,v,g),this.model.set("selected",v,g)),this},l.prototype.getSelected=function(){return this.model.get("selected")},l.prototype.destroy=function(){var y=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(g){return y[g]=0})},l.prototype.store=function(){return this.getProjectData()},l.prototype.load=function(y){return this.loadProjectData(y,{all:this.pages,reset:!0})},l.prototype._createId=function(){var y,g=this.getAll().length+16,v=this.getAllMap();do y=(0,S.createId)(g);while(v[y]);return y},l}(k.O);const H=ne},3463:(ge,ie,s)=>{s.r(ie),s.d(ie,{default:()=>K,evAdd:()=>l,evAll:()=>H,evCustom:()=>$,evPfx:()=>Y,evRemove:()=>g,evRemoveBefore:()=>v,evState:()=>ae,evUpdate:()=>y});var A=s(9050),U=s(1163),S=s(9714),p=s(2316);const k={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],escapeName:0,selectedName:0,iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',render:0,componentFirst:!1,custom:!1};var d,j=s(5963),_=s(966),f=(d=function(N,b){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,z){h.__proto__=z}||function(h,z){for(var R in z)Object.prototype.hasOwnProperty.call(z,R)&&(h[R]=z[R])},d(N,b)},function(N,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function h(){this.constructor=N}d(N,b),N.prototype=b===null?Object.create(b):(h.prototype=b.prototype,new h)}),c=function(N){function b(){return N!==null&&N.apply(this,arguments)||this}return f(b,N),b.prototype.defaults=function(){return{name:"",label:""}},b.prototype.getName=function(){return this.get("name")},b.prototype.getLabel=function(){return this.get("label")||this.getName()},b}(p.Model);const m=c;c.prototype.idAttribute="name";var w=function(){var N=function(b,h){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,R){z.__proto__=R}||function(z,R){for(var T in R)Object.prototype.hasOwnProperty.call(R,T)&&(z[T]=R[T])},N(b,h)};return function(b,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function z(){this.constructor=b}N(b,h),b.prototype=h===null?Object.create(h):(z.prototype=h.prototype,new z)}}(),E="contentEditable";const Z=function(N){function b(h){h===void 0&&(h={});var z=N.call(this,h)||this,R=h.config||{};return z.config=R,z.module=h.module,z.coll=h.coll||null,z.pfx=R.stylePrefix||"",z.ppfx=R.pStylePrefix||"",z.em=R.em,z.listenTo(z.model,"change:active",z.updateStatus),z}return w(b,N),b.prototype.template=function(){var h=this,z=h.pfx,R=h.model,T=h.config,P=R.get("label")||"";return`
      <span id="`.concat(z,'checkbox" class="').concat(z,`tag-status" data-tag-status></span>
      <span id="`).concat(z,'tag-label" data-tag-name>').concat(P,`</span>
      <span id="`).concat(z,'close" class="').concat(z,`tag-close" data-tag-remove>
        `).concat(T.iconTagRemove,`
      </span>
    `)},b.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},b.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},b.prototype.startEditTag=function(){var h=this.em,z=this.getInputEl();z[E]="true",z.focus(),h&&h.setEditing(1)},b.prototype.endEditTag=function(){var h=this.model,z=this.getInputEl(),R=z.textContent,T=this.em,P=T&&T.get("SelectorManager");if(z[E]="false",T&&T.setEditing(0),P){var u=P.escapeName(R);P.get(u)?z.innerText=h.get("label"):h.set({name:u,label:R})}},b.prototype.changeStatus=function(){var h=this.model;h.set("active",!h.get("active"))},b.prototype.removeTag=function(){this.module.removeSelected(this.model)},b.prototype.updateStatus=function(){var h=this,z=h.model,R=h.$el,T=h.config,P=T.iconTagOn,u=T.iconTagOff,ee=R.find("[data-tag-status]");z.get("active")?(ee.html(P),R.removeClass("opac50")):(ee.html(u),R.addClass("opac50"))},b.prototype.render=function(){var h=this.pfx,z=this.ppfx;return this.$el.html(this.template()),this.$el.attr("class","".concat(h,"tag ").concat(z,"three-bg")),this.updateStatus(),this},b}(p.View);var Q=s(7539),J=function(){var N=function(b,h){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,R){z.__proto__=R}||function(z,R){for(var T in R)Object.prototype.hasOwnProperty.call(R,T)&&(z[T]=R[T])},N(b,h)};return function(b,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function z(){this.constructor=b}N(b,h),b.prototype=h===null?Object.create(h):(z.prototype=h.prototype,new z)}}(),te=function(N,b){return Object.defineProperty?Object.defineProperty(N,"raw",{value:b}):N.raw=b,N};const X=function(N){function b(h){h===void 0&&(h={});var z=N.call(this,h)||this;z.config=h.config||{},z.pfx=z.config.stylePrefix||"",z.ppfx=z.config.pStylePrefix||"",z.className=z.pfx+"tags",z.stateInputId=z.pfx+"states",z.stateInputC=z.pfx+"input-c",z.states=z.config.states||[];var R=z.config.em,T=z.collection;z.target=R;var P=R.get("SelectorManager");return z.module=P,z.em=R,z.componentChanged=(0,A.debounce)(z.componentChanged.bind(z),0),z.checkSync=(0,A.debounce)(z.checkSync.bind(z),0),z.listenTo(R,"component:toggled component:update:classes",z.componentChanged),z.listenTo(R,"styleManager:update",z.componentChanged),z.listenTo(R,"component:update:classes change:state",z.__handleStateChange),z.listenTo(R,"styleable:change change:device",z.checkSync),z.listenTo(T,"add",z.addNew),z.listenTo(T,"reset",z.renderClasses),z.listenTo(T,"remove",z.tagRemoved),z.listenTo(P.getAll(),P.events.state,(0,A.debounce)(function(){return z.renderStates()},0)),z.delegateEvents(),z}return J(b,N),b.prototype.template=function(h){var z=h.labelInfo,R=h.labelHead,T=h.iconSync,P=h.iconAdd,u=h.pfx,ee=h.ppfx;return`
    <div id="`.concat(u,'up" class="').concat(u,`header">
      <div id="`).concat(u,'label" class="').concat(u,'header-label">').concat(R,`</div>
      <div id="`).concat(u,'status-c" class="').concat(u,`header-status">
        <span id="`).concat(u,`input-c" data-states-c>
          <div class="`).concat(ee,"field ").concat(ee,`select">
            <span id="`).concat(ee,`input-holder">
              <select id="`).concat(u,`states" data-states></select>
            </span>
            <div class="`).concat(ee,`sel-arrow">
              <div class="`).concat(ee,`d-s-arrow"></div>
            </div>
          </div>
        </span>
      </div>
    </div>
    <div id="`).concat(u,'tags-field" class="').concat(ee,`field">
      <div id="`).concat(u,`tags-c" data-selectors></div>
      <input id="`).concat(u,`new" data-input/>
      <span id="`).concat(u,'add-tag" class="').concat(u,"tags-btn ").concat(u,`tags-btn__add" data-add>
        `).concat(P,`
      </span>
      <span class="`).concat(u,"tags-btn ").concat(u,`tags-btn__sync" style="display: none" data-sync-style>
        `).concat(T,`
      </span>
    </div>
    <div class="`).concat(u,`sels-info">
      <div class="`).concat(u,'label-sel">').concat(z,`:</div>
      <div class="`).concat(u,`sels" data-selected></div>
    </div>`)},b.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},b.prototype.syncStyle=function(){var h,z=this.em,R=this.getTarget(),T=z.get("CssComposer"),P=this.getCommonSelectors({opts:{noDisabled:1}}),u=z.get("state"),ee=z.getCurrentMedia(),q=[],C=T.get(P,u,ee)||T.add(P,u,ee);this.getTargets().forEach(function(D){var le=T.getIdRule(D.getId(),{state:u,mediaText:ee});h=le.getStyle(),le.setStyle({}),q.push(le)}),h&&C.addStyle(h),z.trigger("component:toggled"),z.trigger("component:sync-style",{component:R,selectors:P,mediaText:ee,rule:C,ruleComponents:q,state:u})},b.prototype.tagRemoved=function(h){this.updateStateVis()},b.prototype.addNew=function(h){this.addToClasses(h)},b.prototype.startNewTag=function(){var h,z;(h=this.$addBtn)===null||h===void 0||h.css({display:"none"}),(z=this.$input)===null||z===void 0||z.show().focus()},b.prototype.endNewTag=function(){var h,z;(h=this.$addBtn)===null||h===void 0||h.css({display:""}),(z=this.$input)===null||z===void 0||z.hide().val("")},b.prototype.onInputKeyUp=function(h){var z;h.keyCode===13?(h.preventDefault(),this.addNewTag((z=this.$input)===null||z===void 0?void 0:z.val())):h.keyCode===27&&this.endNewTag()},b.prototype.checkStates=function(){var h=this.em.getState(),z=this.getStates();z&&z.val(h)},b.prototype.componentChanged=function(h){var z=(h===void 0?{}:h).targets;this.updateSelection(z)},b.prototype.updateSelection=function(h){var z=h||this.getTargets(),R=[];return(z=(0,A.isArray)(z)?z:[z])&&z.length&&(R=this.getCommonSelectors({targets:z}),this.checkSync({validSelectors:R})),this.collection.reset(R),this.updateStateVis(z),this.module.__trgCustom(),R},b.prototype.getCommonSelectors=function(h){var z=h===void 0?{}:h,R=z.targets,T=z.opts,P=T===void 0?{}:T,u=R||this.getTargets();return this.module.__getCommonSelectors(u,P)},b.prototype._commonSelectors=function(){for(var h,z=[],R=0;R<arguments.length;R++)z[R]=arguments[R];return(h=this.module).__common.apply(h,z)},b.prototype.checkSync=function(){var h,z=this,R=z.$btnSyncEl,T=z.config,P=z.collection,u=this.getTarget();if(u&&T.componentFirst&&P.length){var ee=u.getStyle();h=!(0,A.isEmpty)(ee)}R&&R[h?"show":"hide"]()},b.prototype.getTarget=function(){return this.target.getSelected()},b.prototype.getTargets=function(){return this.target.getSelectedAll()},b.prototype.updateStateVis=function(h){var z=this.em,R=z&&z.getConfig().avoidInlineStyle,T=this.collection.length||R?"":"none";this.getStatesC().css("display",T),this.updateSelector(h)},b.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},b.prototype.updateSelector=function(h){var z=this,R=this.el.querySelector("[data-selected]"),T=[],P=h||this.getTargets();(P=(0,A.isArray)(P)?P:[P]).forEach(function(u){return T.push(z.__getName(u))}),R&&(R.innerHTML=T.join(", ")),this.checkStates()},b.prototype.__getName=function(h){var z,R=this,T=R.pfx,P=R.config,u=R.em,ee=P.selectedName,q=P.componentFirst;if((0,A.isString)(h))z=(0,Q.Z)(V||(V=te(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),T,h);else{var C=h==null?void 0:h.getSelectors();if(!C)return"";var D=C.getStyleable(),le=u.get("state"),be=h.getId?(0,Q.Z)(se||(se=te(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),T,h.getName(),T,h.getId()):"";z=(z=this.collection.getFullString(D))?(0,Q.Z)(ve||(ve=te(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),T,z):h.get("selectorsAdd")||be,z=q&&be?be:z,z+=le?(0,Q.Z)(ue||(ue=te(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),T,le):"",z=ee?ee({result:z,state:le,target:h}):z}return z&&'<span class="'.concat(T,'sel">').concat(z,"</span>")},b.prototype.stateChanged=function(h){var z=this.em,R=h.target.value;z.set("state",R)},b.prototype.addNewTag=function(h){var z=h.trim();z&&(this.module.addSelected({label:z}),this.endNewTag())},b.prototype.addToClasses=function(h,z){var R=z,T=this.getClasses(),P=new Z({model:h,config:this.config,coll:this.collection,module:this.module}).render().el;return R?R.appendChild(P):T.append(P),P},b.prototype.renderClasses=function(){var h=this,z=document.createDocumentFragment(),R=this.getClasses();R.empty(),this.collection.each(function(T){return h.addToClasses(T,z)}),R.append(z)},b.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},b.prototype.getStates=function(){if(!this.$states){var h=this.$el.find("[data-states]");this.$states=h[0]&&h}return this.$states},b.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},b.prototype.renderStates=function(){var h=this.module,z=this.em,R=z.t("selectorManager.emptyState"),T=h.getStates().map(function(u){var ee=z.t("selectorManager.states.".concat(u.id))||u.getLabel()||u.id;return'<option value="'.concat(u.id,'">').concat(ee,"</option>")}).join(""),P=this.getStates();P&&P.html('<option value="">'.concat(R,"</option>").concat(T)),this.checkStates()},b.prototype.render=function(){var h=this,z=h.em,R=h.pfx,T=h.ppfx,P=h.config,u=h.$el,ee=h.el,q=P.render,C={iconSync:P.iconSync,iconAdd:P.iconAdd,labelHead:z.t("selectorManager.label"),labelInfo:z.t("selectorManager.selected"),ppfx:T,pfx:R,el:ee};u.html(this.template(C));var D=q&&q(C);return D&&D!==ee&&u.empty().append(D),this.$input=u.find("[data-input]"),this.$addBtn=u.find("[data-add]"),this.$classes=u.find("#"+R+"tags-c"),this.$btnSyncEl=u.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),u.attr("class","".concat(this.className," ").concat(T,"one-bg ").concat(T,"two-color")),this},b}(p.View);var V,se,ve,ue,M=function(){var N=function(b,h){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,R){z.__proto__=R}||function(z,R){for(var T in R)Object.prototype.hasOwnProperty.call(R,T)&&(z[T]=R[T])},N(b,h)};return function(b,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function z(){this.constructor=b}N(b,h),b.prototype=h===null?Object.create(h):(z.prototype=h.prototype,new z)}}(),L=function(){return L=Object.assign||function(N){for(var b,h=1,z=arguments.length;h<z;h++)for(var R in b=arguments[h])Object.prototype.hasOwnProperty.call(b,R)&&(N[R]=b[R]);return N},L.apply(this,arguments)},F=function(N,b,h){if(h||arguments.length===2)for(var z,R=0,T=b.length;R<T;R++)!z&&R in b||(z||(z=Array.prototype.slice.call(b,0,R)),z[R]=b[R]);return N.concat(z||Array.prototype.slice.call(b))},re=function(N){return(0,A.isString)(N)&&N[0]=="#"},ne=function(N){return(0,A.isString)(N)&&N[0]=="."},H="selector",Y="".concat(H,":"),l="".concat(Y,"add"),y="".concat(Y,"update"),g="".concat(Y,"remove"),v="".concat(g,":before"),$="".concat(Y,"custom"),ae="".concat(Y,"state");const K=function(N){function b(){var h=N!==null&&N.apply(this,arguments)||this;return h.name="SelectorManager",h.Selector=j.Z,h.Selectors=_.Z,h.events={all:H,update:y,add:l,remove:g,removeBefore:v,state:ae,custom:$},h.__update=(0,A.debounce)(function(){h.__trgCustom()},0),h}return M(b,N),b.prototype.init=function(h){var z=this;h===void 0&&(h={}),this.__initConfig(k,h);var R=this.getConfig(),T=this.em,P=R.pStylePrefix;return P&&(R.stylePrefix=P+R.stylePrefix),this.all=new _.Z(R.selectors),this.selected=new _.Z([],{em:T,config:R}),this.states=new p.Collection(R.states.map(function(u){return new m(u)}),{model:m}),this.model=new p.Model({cFirst:R.componentFirst,_undo:!0}),this.__initListen({collections:[this.states,this.selected],propagate:[{entity:this.states,event:this.events.state}]}),T.on("change:state",function(u,ee){return T.trigger(ae,ee)}),this.model.on("change:cFirst",function(u,ee){return T.trigger("selector:type",ee)}),this.model.listenTo(T,"component:toggled component:update:classes change:device styleManager:update selector:state selector:type",function(){return z.__update()}),this},b.prototype.__trgCustom=function(h){this.em.trigger(this.events.custom,this.__customData(h))},b.prototype.__customData=function(h){h===void 0&&(h={});var z=h.container;return{states:this.getStates(),selected:this.getSelected(),container:z}},b.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},b.prototype.select=function(h,z){z===void 0&&(z={});var R=Array.isArray(h)?h:[h],T=this.em.get("StyleManager").select(R,z),P=this.selectorTags,u=T.filter(function(ee){return ee}).map(function(ee){return(0,U.isComponent)(ee)||(0,U.isRule)(ee)&&!ee.get("selectorsAdd")?ee:ee.getSelectorsString()});return P&&P.componentChanged({targets:u}),this},b.prototype.addSelector=function(h,z,R){z===void 0&&(z={}),R===void 0&&(R={});var T=L({},z);(0,A.isObject)(h)?T=h:T.name=h,re(T.name)?(T.name=T.name.substr(1),T.type=j.Z.TYPE_ID):ne(T.name)&&(T.name=T.name.substr(1)),T.label&&!T.name&&(T.name=this.escapeName(T.label));var P=T.name,u=this.getConfig(),ee=this.getAll(),q=this.em,C=P?this.get(P,T.type):ee.where(T)[0];if(!C){var D=T instanceof j.Z?T:new j.Z(T,L(L({},R),{config:u,em:q}));return ee.add(D,R)}return C},b.prototype.getSelector=function(h,z){return z===void 0&&(z=j.Z.TYPE_CLASS),re(h)?(h=h.substr(1),z=j.Z.TYPE_ID):ne(h)&&(h=h.substr(1)),this.getAll().where({name:h,type:z})[0]},b.prototype.add=function(h,z){var R=this;z===void 0&&(z={});var T=(0,A.isString)(h)?{}:z;return(0,A.isArray)(h)?h.map(function(P){return R.addSelector(P,z,T)}):this.addSelector(h,z,T)},b.prototype.addClass=function(h){var z=this,R=[];return(0,A.isString)(h)&&(h=h.trim().split(" ")),h.forEach(function(T){return R.push(z.addSelector(T))}),R},b.prototype.get=function(h,z){var R=this;if((0,A.isArray)(h)){var T=[];return h.map(function(P){return R.getSelector(P)}).filter(function(P){return P}).forEach(function(P){return T.indexOf(P)<0&&T.push(P)}),T}return this.getSelector(h,z)||null},b.prototype.remove=function(h,z){return this.__remove(h,z)},b.prototype.setState=function(h){return this.em.setState(h),this},b.prototype.getState=function(){return this.em.getState()},b.prototype.getStates=function(){return F([],this.states.models,!0)},b.prototype.setStates=function(h,z){return this.states.reset(h.map(function(R){return new m(R)}),z)},b.prototype.getSelected=function(){return this.__getCommon()},b.prototype.addSelected=function(h){var z=this.add(h);this.em.getSelectedAll().forEach(function(R){R.getSelectors().add(z)})},b.prototype.removeSelected=function(h){this.em.getSelectedAll().forEach(function(z){!h.get("protected")&&z&&z.getSelectors().remove(h)})},b.prototype.getSelectedTargets=function(){return this.em.get("StyleManager").getSelectedAll()},b.prototype.setComponentFirst=function(h){this.getConfig().componentFirst=h,this.model.set({cFirst:h})},b.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},b.prototype.escapeName=function(h){var z=this.getConfig().escapeName;return z?z(h):j.Z.escapeName(h)},b.prototype.render=function(h){this.em;var z=this.selectorTags,R=this.getConfig(),T=z&&z.el;return this.selected.reset(h),this.selectorTags=new X({el:T,collection:this.selected,module:this,config:R}),this.selectorTags.render().el},b.prototype.destroy=function(){var h=this.selectorTags;this.model.stopListening(),this.__destroy(),h==null||h.remove(),this.selectorTags=void 0},b.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},b.prototype.__getCommonSelectors=function(h,z){z===void 0&&(z={});var R=h.map(function(T){return T.getSelectors&&T.getSelectors().getValid(z)}).filter(Boolean);return this.__common.apply(this,R)},b.prototype.__common=function(){for(var h=this,z=[],R=0;R<arguments.length;R++)z[R]=arguments[R];return z.length?z.length===1?z[0]:z.length===2?z[0].filter(function(T){return z[1].indexOf(T)>=0}):z.slice(1).reduce(function(T,P){return h.__common(T,P)},z[0]):[]},b}(S.Z)},5963:(ge,ie,s)=>{s.d(ie,{Z:()=>d});var A,U=s(9050),S=s(2316),p=(A=function(j,_){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&(f[m]=c[m])},A(j,_)},function(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function f(){this.constructor=j}A(j,_),j.prototype=_===null?Object.create(_):(f.prototype=_.prototype,new f)}),k=function(j){function _(f,c){c===void 0&&(c={});var m=j.call(this,f,c)||this,w=c.config,E=w===void 0?{}:w,Z=m.get("name"),Q=m.get("label");Z?Q||m.set("label",Z):m.set("name",Q);var J=m.get("name"),te=E.escapeName,X=te?te(J):_.escapeName(J);return m.set("name",X),m.em=c.em,m}return p(_,j),_.prototype.defaults=function(){return{name:"",label:"",type:1,active:!0,private:!1,protected:!1,_undo:!0}},_.prototype.isId=function(){return this.get("type")===2},_.prototype.isClass=function(){return this.get("type")===1},_.prototype.getFullName=function(f){f===void 0&&(f={});var c=f.escape,m=this.get("name"),w="";switch(this.get("type")){case 1:w=".";break;case 2:w="#"}return w+(c?c(m):m)},_.prototype.toString=function(){return this.getFullName()},_.prototype.getLabel=function(){return this.get("label")},_.prototype.setLabel=function(f){return this.set("label",f)},_.prototype.getActive=function(){return this.get("active")},_.prototype.setActive=function(f){return this.set("active",f)},_.prototype.toJSON=function(f){f===void 0&&(f={});var c=this.em,m=S.Model.prototype.toJSON.call(this,[f]),w=(0,U.result)(this,"defaults");if(c&&c.getConfig().avoidDefaults){(0,U.forEach)(w,function(Z,Q){m[Q]===Z&&delete m[Q]}),m.label===m.name&&delete m.label;var E=(0,U.keys)(m).length;E===1&&m.name&&(m=m.name),E===2&&m.name&&m.type&&(m=this.getFullName())}return m},_.escapeName=function(f){return"".concat(f).trim().replace(/([^a-z0-9\w-\:]+)/gi,"-")},_.TYPE_CLASS=1,_.TYPE_ID=2,_}(S.Model);const d=k;k.prototype.idAttribute="name"},966:(ge,ie,s)=>{s.d(ie,{Z:()=>_});var A,U=s(9050),S=s(2316),p=s(5963),k=(A=function(f,c){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,w){m.__proto__=w}||function(m,w){for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(m[E]=w[E])},A(f,c)},function(f,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function m(){this.constructor=f}A(f,c),f.prototype=c===null?Object.create(c):(m.prototype=c.prototype,new m)}),d=function(f,c){return f.reduce(function(m,w,E){return m.concat(d(f.slice(E+1),"".concat(c).concat(w)))},[c])},j=function(f){function c(){return f!==null&&f.apply(this,arguments)||this}return k(c,f),c.prototype.modelId=function(m){return"".concat(m.name,"_").concat(m.type||p.Z.TYPE_CLASS)},c.prototype.getStyleable=function(){return(0,U.filter)(this.models,function(m){return m.get("active")&&!m.get("private")})},c.prototype.getValid=function(m){var w=(m===void 0?{}:m).noDisabled;return(0,U.filter)(this.models,function(E){return!E.get("private")}).filter(function(E){return w?E.get("active"):1})},c.prototype.getFullString=function(m,w){w===void 0&&(w={});var E=[];return(m||this).forEach(function(Z){return E.push(Z.getFullName(w))}),w.sort&&E.sort(),E.join("").trim()},c.prototype.getFullName=function(m){m===void 0&&(m={});var w=m.combination,E=m.array,Z=[],Q=this.map(function(J){return J.getFullName(m)}).sort();return w?Q.forEach(function(J,te){Z=Z.concat(d(Q.slice(te+1),J))}):Z=Q,E?Z:w?Z.join(","):Z.join("")},c}(S.Collection);const _=j;j.prototype.model=p.Z},7539:(ge,ie,s)=>{s.d(ie,{Z:()=>U});var A=s(1163);function U(S){for(var p=[],k=1;k<arguments.length;k++)p[k-1]=arguments[k];var d=S.raw;return d.reduce(function(j,_,f){var c=p[f-1],m=d[f-1];return Array.isArray(c)?c=c.join(""):m&&m.slice(-1)==="$"?j=j.slice(0,-1):c=(0,A.escape)(c),j+c+_})}},1163:(ge,ie,s)=>{s.r(ie),s.d(ie,{appendStyles:()=>m,camelCase:()=>te,capitalize:()=>K,createId:()=>R,deepMerge:()=>re,escape:()=>F,find:()=>L,getElRect:()=>H,getElement:()=>se,getGlobal:()=>d,getKeyChar:()=>y,getKeyCode:()=>l,getModel:()=>ne,getPointerEvent:()=>Y,getUiClass:()=>c,getUnitFromValue:()=>Q,getViewEl:()=>h,hasDnd:()=>V,hasWin:()=>k,isCommentNode:()=>ue,isComponent:()=>N,isDef:()=>p,isEmptyObj:()=>ae,isEnterKey:()=>v,isEscKey:()=>g,isObject:()=>$,isRule:()=>b,isTaggableNode:()=>M,isTextNode:()=>ve,matches:()=>f,normalizeFloat:()=>X,off:()=>Z,on:()=>E,setViewEl:()=>z,shallowDiff:()=>w,toLowerCase:()=>j,upFirst:()=>J});var A=s(9050),U=function(){return U=Object.assign||function(T){for(var P,u=1,ee=arguments.length;u<ee;u++)for(var q in P=arguments[u])Object.prototype.hasOwnProperty.call(P,q)&&(T[q]=P[q]);return T},U.apply(this,arguments)},S=function(T,P,u){if(u||arguments.length===2)for(var ee,q=0,C=P.length;q<C;q++)!ee&&q in P||(ee||(ee=Array.prototype.slice.call(P,0,q)),ee[q]=P[q]);return T.concat(ee||Array.prototype.slice.call(P))},p=function(T){return T!==void 0},k=function(){return typeof window!="undefined"},d=function(){return typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:s.g},j=function(T){return(T||"").toLowerCase()},_=k()?window.Element.prototype:{},f=_.matches||_.webkitMatchesSelector||_.mozMatchesSelector||_.msMatchesSelector,c=function(T,P){var u=T.getConfig(),ee=u.stylePrefix;return[u.customUI&&"".concat(ee,"cui"),P].filter(function(q){return q}).join(" ")},m=function(T,P){P===void 0&&(P={});var u=(0,A.isArray)(T)?S([],T,!0):[T];if(u.length){var ee=u.shift();if(ee&&(!P.unique||!document.querySelector('link[href="'.concat(ee,'"]')))){var q=document.head,C=document.createElement("link");C.href=ee,C.rel="stylesheet",P.prepand?q.insertBefore(C,q.firstChild):q.appendChild(C)}m(u)}},w=function(T,P){var u={},ee=(0,A.keys)(P);for(var q in T)if(T.hasOwnProperty(q)){var C=T[q],D=P[q];ee.indexOf(q)>=0?C!==D&&(u[q]=D):u[q]=null}for(var q in P)P.hasOwnProperty(q)&&(0,A.isUndefined)(T[q])&&(u[q]=P[q]);return u},E=function(T,P,u,ee){var q=P.split(/\s+/);T=T instanceof Array?T:[T];for(var C=function(le){T.forEach(function(be){return be&&be.addEventListener(q[le],u,ee)})},D=0;D<q.length;++D)C(D)},Z=function(T,P,u,ee){var q=P.split(/\s+/);T=T instanceof Array?T:[T];for(var C=function(le){T.forEach(function(be){return be&&be.removeEventListener(q[le],u,ee)})},D=0;D<q.length;++D)C(D)},Q=function(T){return T.replace(parseFloat(T),"")},J=function(T){return T[0].toUpperCase()+T.toLowerCase().slice(1)},te=function(T){return T.replace(/-./g,function(P){return P[1].toUpperCase()})},X=function(T,P,u){P===void 0&&(P=1),u===void 0&&(u=0);var ee=0;if(isNaN(T))return u;if(T=parseFloat(T),Math.floor(T)!==T){var q=P.toString().split(".")[1];ee=q?q.length:0}return ee?parseFloat(T.toFixed(ee)):T},V=function(T){return"draggable"in document.createElement("i")&&(T?T.get("Config").nativeDnD:1)},se=function(T){return(0,A.isElement)(T)||ve(T)?T:T&&T.getEl?T.getEl():void 0},ve=function(T){return T&&T.nodeType===3},ue=function(T){return T&&T.nodeType===8},M=function(T){return T&&!ve(T)&&!ue(T)},L=function(T,P){var u=null;return T.some(function(ee,q){return P(ee,q,T)?(u=ee,1):0}),u},F=function(T){return T===void 0&&(T=""),"".concat(T).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},re=function(){for(var T=[],P=0;P<arguments.length;P++)T[P]=arguments[P];for(var u=U({},T[0]),ee=1;ee<T.length;ee++){var q=U({},T[ee]);for(var C in q){var D=u[C],le=q[C];$(D)&&$(le)?u[C]=re(D,le):u[C]=le}}return u},ne=function(T,P){var u=T;return!P&&T&&T.__cashData?u=T.__cashData.model:(0,A.isElement)(T)&&(u=P(T).data("model")),u},H=function(T){var P,u={top:0,left:0,width:0,height:0};if(!T)return u;if(ve(T)){var ee=document.createRange();ee.selectNode(T),P=ee.getBoundingClientRect(),ee.detach()}return P||(T.getBoundingClientRect?T.getBoundingClientRect():u)},Y=function(T){return T.touches&&T.touches[0]?T.touches[0]:T},l=function(T){return T.which||T.keyCode},y=function(T){return String.fromCharCode(l(T))},g=function(T){return l(T)===27},v=function(T){return l(T)===13},$=function(T){return T!==null&&!Array.isArray(T)&&typeof T=="object"},ae=function(T){return Object.keys(T).length<=0},K=function(T){return T&&T.charAt(0).toUpperCase()+T.substring(1)},N=function(T){return T&&T.toHTML},b=function(T){return T&&T.toCSS},h=function(T){return T.__gjsv},z=function(T,P){T.__gjsv=P},R=function(T){T===void 0&&(T=16);for(var P="",u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",ee=u.length,q=0;q<T;q++)P+=u.charAt(Math.floor(Math.random()*ee));return P}},5666:ge=>{var ie=function(s){var A,U=Object.prototype,S=U.hasOwnProperty,p=typeof Symbol=="function"?Symbol:{},k=p.iterator||"@@iterator",d=p.asyncIterator||"@@asyncIterator",j=p.toStringTag||"@@toStringTag";function _(y,g,v){return Object.defineProperty(y,g,{value:v,enumerable:!0,configurable:!0,writable:!0}),y[g]}try{_({},"")}catch{_=function(g,v,$){return g[v]=$}}function f(y,g,v,$){var ae=g&&g.prototype instanceof J?g:J,K=Object.create(ae.prototype),N=new H($||[]);return K._invoke=function(b,h,z){var R=m;return function(T,P){if(R===E)throw new Error("Generator is already running");if(R===Z){if(T==="throw")throw P;return l()}for(z.method=T,z.arg=P;;){var u=z.delegate;if(u){var ee=F(u,z);if(ee){if(ee===Q)continue;return ee}}if(z.method==="next")z.sent=z._sent=z.arg;else if(z.method==="throw"){if(R===m)throw R=Z,z.arg;z.dispatchException(z.arg)}else z.method==="return"&&z.abrupt("return",z.arg);R=E;var q=c(b,h,z);if(q.type==="normal"){if(R=z.done?Z:w,q.arg===Q)continue;return{value:q.arg,done:z.done}}q.type==="throw"&&(R=Z,z.method="throw",z.arg=q.arg)}}}(y,v,N),K}function c(y,g,v){try{return{type:"normal",arg:y.call(g,v)}}catch($){return{type:"throw",arg:$}}}s.wrap=f;var m="suspendedStart",w="suspendedYield",E="executing",Z="completed",Q={};function J(){}function te(){}function X(){}var V={};V[k]=function(){return this};var se=Object.getPrototypeOf,ve=se&&se(se(Y([])));ve&&ve!==U&&S.call(ve,k)&&(V=ve);var ue=X.prototype=J.prototype=Object.create(V);function M(y){["next","throw","return"].forEach(function(g){_(y,g,function(v){return this._invoke(g,v)})})}function L(y,g){function v(ae,K,N,b){var h=c(y[ae],y,K);if(h.type!=="throw"){var z=h.arg,R=z.value;return R&&typeof R=="object"&&S.call(R,"__await")?g.resolve(R.__await).then(function(T){v("next",T,N,b)},function(T){v("throw",T,N,b)}):g.resolve(R).then(function(T){z.value=T,N(z)},function(T){return v("throw",T,N,b)})}b(h.arg)}var $;this._invoke=function(ae,K){function N(){return new g(function(b,h){v(ae,K,b,h)})}return $=$?$.then(N,N):N()}}function F(y,g){var v=y.iterator[g.method];if(v===A){if(g.delegate=null,g.method==="throw"){if(y.iterator.return&&(g.method="return",g.arg=A,F(y,g),g.method==="throw"))return Q;g.method="throw",g.arg=new TypeError("The iterator does not provide a 'throw' method")}return Q}var $=c(v,y.iterator,g.arg);if($.type==="throw")return g.method="throw",g.arg=$.arg,g.delegate=null,Q;var ae=$.arg;return ae?ae.done?(g[y.resultName]=ae.value,g.next=y.nextLoc,g.method!=="return"&&(g.method="next",g.arg=A),g.delegate=null,Q):ae:(g.method="throw",g.arg=new TypeError("iterator result is not an object"),g.delegate=null,Q)}function re(y){var g={tryLoc:y[0]};1 in y&&(g.catchLoc=y[1]),2 in y&&(g.finallyLoc=y[2],g.afterLoc=y[3]),this.tryEntries.push(g)}function ne(y){var g=y.completion||{};g.type="normal",delete g.arg,y.completion=g}function H(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(re,this),this.reset(!0)}function Y(y){if(y){var g=y[k];if(g)return g.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var v=-1,$=function ae(){for(;++v<y.length;)if(S.call(y,v))return ae.value=y[v],ae.done=!1,ae;return ae.value=A,ae.done=!0,ae};return $.next=$}}return{next:l}}function l(){return{value:A,done:!0}}return te.prototype=ue.constructor=X,X.constructor=te,te.displayName=_(X,j,"GeneratorFunction"),s.isGeneratorFunction=function(y){var g=typeof y=="function"&&y.constructor;return!!g&&(g===te||(g.displayName||g.name)==="GeneratorFunction")},s.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,X):(y.__proto__=X,_(y,j,"GeneratorFunction")),y.prototype=Object.create(ue),y},s.awrap=function(y){return{__await:y}},M(L.prototype),L.prototype[d]=function(){return this},s.AsyncIterator=L,s.async=function(y,g,v,$,ae){ae===void 0&&(ae=Promise);var K=new L(f(y,g,v,$),ae);return s.isGeneratorFunction(g)?K:K.next().then(function(N){return N.done?N.value:K.next()})},M(ue),_(ue,j,"Generator"),ue[k]=function(){return this},ue.toString=function(){return"[object Generator]"},s.keys=function(y){var g=[];for(var v in y)g.push(v);return g.reverse(),function $(){for(;g.length;){var ae=g.pop();if(ae in y)return $.value=ae,$.done=!1,$}return $.done=!0,$}},s.values=Y,H.prototype={constructor:H,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=A,this.done=!1,this.delegate=null,this.method="next",this.arg=A,this.tryEntries.forEach(ne),!y)for(var g in this)g.charAt(0)==="t"&&S.call(this,g)&&!isNaN(+g.slice(1))&&(this[g]=A)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var g=this;function v(h,z){return K.type="throw",K.arg=y,g.next=h,z&&(g.method="next",g.arg=A),!!z}for(var $=this.tryEntries.length-1;$>=0;--$){var ae=this.tryEntries[$],K=ae.completion;if(ae.tryLoc==="root")return v("end");if(ae.tryLoc<=this.prev){var N=S.call(ae,"catchLoc"),b=S.call(ae,"finallyLoc");if(N&&b){if(this.prev<ae.catchLoc)return v(ae.catchLoc,!0);if(this.prev<ae.finallyLoc)return v(ae.finallyLoc)}else if(N){if(this.prev<ae.catchLoc)return v(ae.catchLoc,!0)}else{if(!b)throw new Error("try statement without catch or finally");if(this.prev<ae.finallyLoc)return v(ae.finallyLoc)}}}},abrupt:function(y,g){for(var v=this.tryEntries.length-1;v>=0;--v){var $=this.tryEntries[v];if($.tryLoc<=this.prev&&S.call($,"finallyLoc")&&this.prev<$.finallyLoc){var ae=$;break}}ae&&(y==="break"||y==="continue")&&ae.tryLoc<=g&&g<=ae.finallyLoc&&(ae=null);var K=ae?ae.completion:{};return K.type=y,K.arg=g,ae?(this.method="next",this.next=ae.finallyLoc,Q):this.complete(K)},complete:function(y,g){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&g&&(this.next=g),Q},finish:function(y){for(var g=this.tryEntries.length-1;g>=0;--g){var v=this.tryEntries[g];if(v.finallyLoc===y)return this.complete(v.completion,v.afterLoc),ne(v),Q}},catch:function(y){for(var g=this.tryEntries.length-1;g>=0;--g){var v=this.tryEntries[g];if(v.tryLoc===y){var $=v.completion;if($.type==="throw"){var ae=$.arg;ne(v)}return ae}}throw new Error("illegal catch attempt")},delegateYield:function(y,g,v){return this.delegate={iterator:Y(y),resultName:g,nextLoc:v},this.method==="next"&&(this.arg=A),Q}},s}(ge.exports);try{regeneratorRuntime=ie}catch{Function("r","regeneratorRuntime = r")(ie)}},2828:(ge,ie,s)=>{var A={"./CanvasClear":7202,"./CanvasClear.js":7202,"./CanvasMove":327,"./CanvasMove.js":327,"./CommandAbstract":238,"./CommandAbstract.js":238,"./ComponentDelete":5820,"./ComponentDelete.js":5820,"./ComponentDrag":6694,"./ComponentDrag.js":6694,"./ComponentEnter":1947,"./ComponentEnter.js":1947,"./ComponentExit":3888,"./ComponentExit.js":3888,"./ComponentNext":5883,"./ComponentNext.js":5883,"./ComponentPrev":7508,"./ComponentPrev.js":7508,"./ComponentStyleClear":8769,"./ComponentStyleClear.js":8769,"./CopyComponent":2213,"./CopyComponent.js":2213,"./DeleteComponent":5049,"./DeleteComponent.js":5049,"./ExportTemplate":3775,"./ExportTemplate.js":3775,"./Fullscreen":58,"./Fullscreen.js":58,"./MoveComponent":8658,"./MoveComponent.js":8658,"./OpenAssets":9617,"./OpenAssets.js":9617,"./OpenBlocks":5821,"./OpenBlocks.js":5821,"./OpenLayers":3452,"./OpenLayers.js":3452,"./OpenStyleManager":2840,"./OpenStyleManager.js":2840,"./OpenTraitManager":8644,"./OpenTraitManager.js":8644,"./PasteComponent":560,"./PasteComponent.js":560,"./Preview":4944,"./Preview.js":4944,"./Resize":7538,"./Resize.js":7538,"./SelectComponent":2620,"./SelectComponent.js":2620,"./SelectPosition":8463,"./SelectPosition.js":8463,"./ShowOffset":7994,"./ShowOffset.js":7994,"./SwitchVisibility":8352,"./SwitchVisibility.js":8352};function U(p){var k=S(p);return s(k)}function S(p){if(!s.o(A,p)){var k=new Error("Cannot find module '"+p+"'");throw k.code="MODULE_NOT_FOUND",k}return A[p]}U.keys=function(){return Object.keys(A)},U.resolve=S,ge.exports=U,U.id=2828},907:(ge,ie,s)=>{function A(U,S){(S==null||S>U.length)&&(S=U.length);for(var p=0,k=new Array(S);p<S;p++)k[p]=U[p];return k}s.d(ie,{Z:()=>A})},7326:(ge,ie,s)=>{function A(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}s.d(ie,{Z:()=>A})},5861:(ge,ie,s)=>{function A(S,p,k,d,j,_,f){try{var c=S[_](f),m=c.value}catch(w){return void k(w)}c.done?p(m):Promise.resolve(m).then(d,j)}function U(S){return function(){var p=this,k=arguments;return new Promise(function(d,j){var _=S.apply(p,k);function f(m){A(_,d,j,f,c,"next",m)}function c(m){A(_,d,j,f,c,"throw",m)}f(void 0)})}}s.d(ie,{Z:()=>U})},5671:(ge,ie,s)=>{function A(U,S){if(!(U instanceof S))throw new TypeError("Cannot call a class as a function")}s.d(ie,{Z:()=>A})},3144:(ge,ie,s)=>{function A(S,p){for(var k=0;k<p.length;k++){var d=p[k];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(S,d.key,d)}}function U(S,p,k){return p&&A(S.prototype,p),k&&A(S,k),Object.defineProperty(S,"prototype",{writable:!1}),S}s.d(ie,{Z:()=>U})},4942:(ge,ie,s)=>{function A(U,S,p){return S in U?Object.defineProperty(U,S,{value:p,enumerable:!0,configurable:!0,writable:!0}):U[S]=p,U}s.d(ie,{Z:()=>A})},1120:(ge,ie,s)=>{function A(U){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},A(U)}s.d(ie,{Z:()=>A})},9340:(ge,ie,s)=>{function A(S,p){return A=Object.setPrototypeOf||function(k,d){return k.__proto__=d,k},A(S,p)}function U(S,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(p&&p.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),p&&A(S,p)}s.d(ie,{Z:()=>U})},4925:(ge,ie,s)=>{function A(U,S){if(U==null)return{};var p,k,d=function(_,f){if(_==null)return{};var c,m,w={},E=Object.keys(_);for(m=0;m<E.length;m++)c=E[m],f.indexOf(c)>=0||(w[c]=_[c]);return w}(U,S);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(U);for(k=0;k<j.length;k++)p=j[k],S.indexOf(p)>=0||Object.prototype.propertyIsEnumerable.call(U,p)&&(d[p]=U[p])}return d}s.d(ie,{Z:()=>A})},2963:(ge,ie,s)=>{s.d(ie,{Z:()=>S});var A=s(1002),U=s(7326);function S(p,k){if(k&&((0,A.Z)(k)==="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,U.Z)(p)}},885:(ge,ie,s)=>{s.d(ie,{Z:()=>U});var A=s(181);function U(S,p){return function(k){if(Array.isArray(k))return k}(S)||function(k,d){var j=k==null?null:typeof Symbol!="undefined"&&k[Symbol.iterator]||k["@@iterator"];if(j!=null){var _,f,c=[],m=!0,w=!1;try{for(j=j.call(k);!(m=(_=j.next()).done)&&(c.push(_.value),!d||c.length!==d);m=!0);}catch(E){w=!0,f=E}finally{try{m||j.return==null||j.return()}finally{if(w)throw f}}return c}}(S,p)||(0,A.Z)(S,p)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},168:(ge,ie,s)=>{function A(U,S){return S||(S=U.slice(0)),Object.freeze(Object.defineProperties(U,{raw:{value:Object.freeze(S)}}))}s.d(ie,{Z:()=>A})},2982:(ge,ie,s)=>{s.d(ie,{Z:()=>S});var A=s(907),U=s(181);function S(p){return function(k){if(Array.isArray(k))return(0,A.Z)(k)}(p)||function(k){if(typeof Symbol!="undefined"&&k[Symbol.iterator]!=null||k["@@iterator"]!=null)return Array.from(k)}(p)||(0,U.Z)(p)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},1002:(ge,ie,s)=>{function A(U){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},A(U)}s.d(ie,{Z:()=>A})},181:(ge,ie,s)=>{s.d(ie,{Z:()=>U});var A=s(907);function U(S,p){if(S){if(typeof S=="string")return(0,A.Z)(S,p);var k=Object.prototype.toString.call(S).slice(8,-1);return k==="Object"&&S.constructor&&(k=S.constructor.name),k==="Map"||k==="Set"?Array.from(S):k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k)?(0,A.Z)(S,p):void 0}}},9050:(ge,ie,s)=>{s.r(ie),s.d(ie,{VERSION:()=>U,after:()=>De,all:()=>xn,allKeys:()=>Ne,any:()=>Yt,assign:()=>qe,before:()=>Be,bind:()=>Wn,bindAll:()=>Gn,chain:()=>nr,chunk:()=>Fi,clone:()=>Zt,collect:()=>On,compact:()=>ho,compose:()=>ke,constant:()=>be,contains:()=>i,countBy:()=>Xt,create:()=>Ct,debounce:()=>ce,default:()=>Fo,defaults:()=>$e,defer:()=>O,delay:()=>ye,detect:()=>Mn,difference:()=>Gr,drop:()=>Tr,each:()=>sn,escape:()=>Ot,every:()=>xn,extend:()=>Zn,extendOwn:()=>qe,filter:()=>An,find:()=>Mn,findIndex:()=>bt,findKey:()=>at,findLastIndex:()=>xt,findWhere:()=>Rn,first:()=>Fr,flatten:()=>po,foldl:()=>Jn,foldr:()=>lr,forEach:()=>sn,functions:()=>kn,get:()=>dn,groupBy:()=>Tt,has:()=>ln,head:()=>Fr,identity:()=>bn,include:()=>i,includes:()=>i,indexBy:()=>Jt,indexOf:()=>an,initial:()=>yi,inject:()=>Jn,intersection:()=>Xr,invert:()=>un,invoke:()=>o,isArguments:()=>C,isArray:()=>u,isArrayBuffer:()=>ae,isBoolean:()=>re,isDataView:()=>P,isDate:()=>y,isElement:()=>ne,isEmpty:()=>tt,isEqual:()=>Ee,isError:()=>v,isFinite:()=>D,isFunction:()=>b,isMap:()=>ut,isMatch:()=>gt,isNaN:()=>le,isNull:()=>L,isNumber:()=>l,isObject:()=>M,isRegExp:()=>g,isSet:()=>yt,isString:()=>Y,isSymbol:()=>$,isTypedArray:()=>Se,isUndefined:()=>F,isWeakMap:()=>At,isWeakSet:()=>ht,iteratee:()=>qn,keys:()=>Xe,last:()=>fo,lastIndexOf:()=>gn,map:()=>On,mapObject:()=>Rt,matcher:()=>wn,matches:()=>wn,max:()=>Ze,memoize:()=>he,methods:()=>kn,min:()=>Le,mixin:()=>Vi,negate:()=>fe,noop:()=>Dn,now:()=>hn,object:()=>go,omit:()=>$r,once:()=>Ke,pairs:()=>$t,partial:()=>Xn,partition:()=>Kt,pick:()=>Qn,pluck:()=>G,property:()=>Cn,propertyOf:()=>Bn,random:()=>Wt,range:()=>bi,reduce:()=>Jn,reduceRight:()=>lr,reject:()=>Yn,rest:()=>Tr,restArguments:()=>ue,result:()=>fn,sample:()=>Qe,select:()=>An,shuffle:()=>dt,size:()=>Fn,some:()=>Yt,sortBy:()=>kt,sortedIndex:()=>Dt,tail:()=>Tr,take:()=>Fr,tap:()=>Mt,template:()=>jn,templateSettings:()=>Me,throttle:()=>W,times:()=>Nn,toArray:()=>Pn,toPath:()=>Ht,transpose:()=>li,unescape:()=>cn,union:()=>Ii,uniq:()=>si,unique:()=>si,uniqueId:()=>$n,unzip:()=>li,values:()=>Ut,where:()=>_e,without:()=>pr,wrap:()=>x,zip:()=>Bi});var A={};s.r(A),s.d(A,{VERSION:()=>U,after:()=>De,all:()=>xn,allKeys:()=>Ne,any:()=>Yt,assign:()=>qe,before:()=>Be,bind:()=>Wn,bindAll:()=>Gn,chain:()=>nr,chunk:()=>Fi,clone:()=>Zt,collect:()=>On,compact:()=>ho,compose:()=>ke,constant:()=>be,contains:()=>i,countBy:()=>Xt,create:()=>Ct,debounce:()=>ce,default:()=>mo,defaults:()=>$e,defer:()=>O,delay:()=>ye,detect:()=>Mn,difference:()=>Gr,drop:()=>Tr,each:()=>sn,escape:()=>Ot,every:()=>xn,extend:()=>Zn,extendOwn:()=>qe,filter:()=>An,find:()=>Mn,findIndex:()=>bt,findKey:()=>at,findLastIndex:()=>xt,findWhere:()=>Rn,first:()=>Fr,flatten:()=>po,foldl:()=>Jn,foldr:()=>lr,forEach:()=>sn,functions:()=>kn,get:()=>dn,groupBy:()=>Tt,has:()=>ln,head:()=>Fr,identity:()=>bn,include:()=>i,includes:()=>i,indexBy:()=>Jt,indexOf:()=>an,initial:()=>yi,inject:()=>Jn,intersection:()=>Xr,invert:()=>un,invoke:()=>o,isArguments:()=>C,isArray:()=>u,isArrayBuffer:()=>ae,isBoolean:()=>re,isDataView:()=>P,isDate:()=>y,isElement:()=>ne,isEmpty:()=>tt,isEqual:()=>Ee,isError:()=>v,isFinite:()=>D,isFunction:()=>b,isMap:()=>ut,isMatch:()=>gt,isNaN:()=>le,isNull:()=>L,isNumber:()=>l,isObject:()=>M,isRegExp:()=>g,isSet:()=>yt,isString:()=>Y,isSymbol:()=>$,isTypedArray:()=>Se,isUndefined:()=>F,isWeakMap:()=>At,isWeakSet:()=>ht,iteratee:()=>qn,keys:()=>Xe,last:()=>fo,lastIndexOf:()=>gn,map:()=>On,mapObject:()=>Rt,matcher:()=>wn,matches:()=>wn,max:()=>Ze,memoize:()=>he,methods:()=>kn,min:()=>Le,mixin:()=>Vi,negate:()=>fe,noop:()=>Dn,now:()=>hn,object:()=>go,omit:()=>$r,once:()=>Ke,pairs:()=>$t,partial:()=>Xn,partition:()=>Kt,pick:()=>Qn,pluck:()=>G,property:()=>Cn,propertyOf:()=>Bn,random:()=>Wt,range:()=>bi,reduce:()=>Jn,reduceRight:()=>lr,reject:()=>Yn,rest:()=>Tr,restArguments:()=>ue,result:()=>fn,sample:()=>Qe,select:()=>An,shuffle:()=>dt,size:()=>Fn,some:()=>Yt,sortBy:()=>kt,sortedIndex:()=>Dt,tail:()=>Tr,take:()=>Fr,tap:()=>Mt,template:()=>jn,templateSettings:()=>Me,throttle:()=>W,times:()=>Nn,toArray:()=>Pn,toPath:()=>Ht,transpose:()=>li,unescape:()=>cn,union:()=>Ii,uniq:()=>si,unique:()=>si,uniqueId:()=>$n,unzip:()=>li,values:()=>Ut,where:()=>_e,without:()=>pr,wrap:()=>x,zip:()=>Bi});var U="1.13.1",S=typeof self=="object"&&self.self===self&&self||typeof Ni=="object"&&Ni.global===Ni&&Ni||Function("return this")()||{},p=Array.prototype,k=Object.prototype,d=typeof Symbol!="undefined"?Symbol.prototype:null,j=p.push,_=p.slice,f=k.toString,c=k.hasOwnProperty,m=typeof ArrayBuffer!="undefined",w=typeof DataView!="undefined",E=Array.isArray,Z=Object.keys,Q=Object.create,J=m&&ArrayBuffer.isView,te=isNaN,X=isFinite,V=!{toString:null}.propertyIsEnumerable("toString"),se=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ve=Math.pow(2,53)-1;function ue(Ae,Re){return Re=Re==null?Ae.length-1:+Re,function(){for(var Ge=Math.max(arguments.length-Re,0),Je=Array(Ge),pt=0;pt<Ge;pt++)Je[pt]=arguments[pt+Re];switch(Re){case 0:return Ae.call(this,Je);case 1:return Ae.call(this,arguments[0],Je);case 2:return Ae.call(this,arguments[0],arguments[1],Je)}var nt=Array(Re+1);for(pt=0;pt<Re;pt++)nt[pt]=arguments[pt];return nt[Re]=Je,Ae.apply(this,nt)}}function M(Ae){var Re=typeof Ae;return Re==="function"||Re==="object"&&!!Ae}function L(Ae){return Ae===null}function F(Ae){return Ae===void 0}function re(Ae){return Ae===!0||Ae===!1||f.call(Ae)==="[object Boolean]"}function ne(Ae){return!(!Ae||Ae.nodeType!==1)}function H(Ae){var Re="[object "+Ae+"]";return function(Ge){return f.call(Ge)===Re}}const Y=H("String"),l=H("Number"),y=H("Date"),g=H("RegExp"),v=H("Error"),$=H("Symbol"),ae=H("ArrayBuffer");var K=H("Function"),N=S.document&&S.document.childNodes;typeof Int8Array!="object"&&typeof N!="function"&&(K=function(Ae){return typeof Ae=="function"||!1});const b=K,h=H("Object");var z=w&&h(new DataView(new ArrayBuffer(8))),R=typeof Map!="undefined"&&h(new Map),T=H("DataView");const P=z?function(Ae){return Ae!=null&&b(Ae.getInt8)&&ae(Ae.buffer)}:T,u=E||H("Array");function ee(Ae,Re){return Ae!=null&&c.call(Ae,Re)}var q=H("Arguments");(function(){q(arguments)||(q=function(Ae){return ee(Ae,"callee")})})();const C=q;function D(Ae){return!$(Ae)&&X(Ae)&&!isNaN(parseFloat(Ae))}function le(Ae){return l(Ae)&&te(Ae)}function be(Ae){return function(){return Ae}}function I(Ae){return function(Re){var Ge=Ae(Re);return typeof Ge=="number"&&Ge>=0&&Ge<=ve}}function oe(Ae){return function(Re){return Re==null?void 0:Re[Ae]}}const de=oe("byteLength"),Oe=I(de);var we=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const Se=m?function(Ae){return J?J(Ae)&&!P(Ae):Oe(Ae)&&we.test(f.call(Ae))}:be(!1),xe=oe("length");function Ie(Ae,Re){Re=function(St){for(var Vt={},Ln=St.length,Vn=0;Vn<Ln;++Vn)Vt[St[Vn]]=!0;return{contains:function(ur){return Vt[ur]},push:function(ur){return Vt[ur]=!0,St.push(ur)}}}(Re);var Ge=se.length,Je=Ae.constructor,pt=b(Je)&&Je.prototype||k,nt="constructor";for(ee(Ae,nt)&&!Re.contains(nt)&&Re.push(nt);Ge--;)(nt=se[Ge])in Ae&&Ae[nt]!==pt[nt]&&!Re.contains(nt)&&Re.push(nt)}function Xe(Ae){if(!M(Ae))return[];if(Z)return Z(Ae);var Re=[];for(var Ge in Ae)ee(Ae,Ge)&&Re.push(Ge);return V&&Ie(Ae,Re),Re}function tt(Ae){if(Ae==null)return!0;var Re=xe(Ae);return typeof Re=="number"&&(u(Ae)||Y(Ae)||C(Ae))?Re===0:xe(Xe(Ae))===0}function gt(Ae,Re){var Ge=Xe(Re),Je=Ge.length;if(Ae==null)return!Je;for(var pt=Object(Ae),nt=0;nt<Je;nt++){var St=Ge[nt];if(Re[St]!==pt[St]||!(St in pt))return!1}return!0}function ct(Ae){return Ae instanceof ct?Ae:this instanceof ct?void(this._wrapped=Ae):new ct(Ae)}function Bt(Ae){return new Uint8Array(Ae.buffer||Ae,Ae.byteOffset||0,de(Ae))}ct.VERSION=U,ct.prototype.value=function(){return this._wrapped},ct.prototype.valueOf=ct.prototype.toJSON=ct.prototype.value,ct.prototype.toString=function(){return String(this._wrapped)};var Lt="[object DataView]";function Ft(Ae,Re,Ge,Je){if(Ae===Re)return Ae!==0||1/Ae==1/Re;if(Ae==null||Re==null)return!1;if(Ae!=Ae)return Re!=Re;var pt=typeof Ae;return(pt==="function"||pt==="object"||typeof Re=="object")&&ze(Ae,Re,Ge,Je)}function ze(Ae,Re,Ge,Je){Ae instanceof ct&&(Ae=Ae._wrapped),Re instanceof ct&&(Re=Re._wrapped);var pt=f.call(Ae);if(pt!==f.call(Re))return!1;if(z&&pt=="[object Object]"&&P(Ae)){if(!P(Re))return!1;pt=Lt}switch(pt){case"[object RegExp]":case"[object String]":return""+Ae==""+Re;case"[object Number]":return+Ae!=+Ae?+Re!=+Re:+Ae==0?1/+Ae==1/Re:+Ae==+Re;case"[object Date]":case"[object Boolean]":return+Ae==+Re;case"[object Symbol]":return d.valueOf.call(Ae)===d.valueOf.call(Re);case"[object ArrayBuffer]":case Lt:return ze(Bt(Ae),Bt(Re),Ge,Je)}var nt=pt==="[object Array]";if(!nt&&Se(Ae)){if(de(Ae)!==de(Re))return!1;if(Ae.buffer===Re.buffer&&Ae.byteOffset===Re.byteOffset)return!0;nt=!0}if(!nt){if(typeof Ae!="object"||typeof Re!="object")return!1;var St=Ae.constructor,Vt=Re.constructor;if(St!==Vt&&!(b(St)&&St instanceof St&&b(Vt)&&Vt instanceof Vt)&&"constructor"in Ae&&"constructor"in Re)return!1}Je=Je||[];for(var Ln=(Ge=Ge||[]).length;Ln--;)if(Ge[Ln]===Ae)return Je[Ln]===Re;if(Ge.push(Ae),Je.push(Re),nt){if((Ln=Ae.length)!==Re.length)return!1;for(;Ln--;)if(!Ft(Ae[Ln],Re[Ln],Ge,Je))return!1}else{var Vn,ur=Xe(Ae);if(Ln=ur.length,Xe(Re).length!==Ln)return!1;for(;Ln--;)if(!ee(Re,Vn=ur[Ln])||!Ft(Ae[Vn],Re[Vn],Ge,Je))return!1}return Ge.pop(),Je.pop(),!0}function Ee(Ae,Re){return Ft(Ae,Re)}function Ne(Ae){if(!M(Ae))return[];var Re=[];for(var Ge in Ae)Re.push(Ge);return V&&Ie(Ae,Re),Re}function We(Ae){var Re=xe(Ae);return function(Ge){if(Ge==null)return!1;var Je=Ne(Ge);if(xe(Je))return!1;for(var pt=0;pt<Re;pt++)if(!b(Ge[Ae[pt]]))return!1;return Ae!==Ve||!b(Ge[it])}}var it="forEach",vt=["clear","delete"],jt=["get","has","set"],tn=vt.concat(it,jt),Ve=vt.concat(jt),et=["add"].concat(vt,it,"has");const ut=R?We(tn):H("Map"),At=R?We(Ve):H("WeakMap"),yt=R?We(et):H("Set"),ht=H("WeakSet");function Ut(Ae){for(var Re=Xe(Ae),Ge=Re.length,Je=Array(Ge),pt=0;pt<Ge;pt++)Je[pt]=Ae[Re[pt]];return Je}function $t(Ae){for(var Re=Xe(Ae),Ge=Re.length,Je=Array(Ge),pt=0;pt<Ge;pt++)Je[pt]=[Re[pt],Ae[Re[pt]]];return Je}function un(Ae){for(var Re={},Ge=Xe(Ae),Je=0,pt=Ge.length;Je<pt;Je++)Re[Ae[Ge[Je]]]=Ge[Je];return Re}function kn(Ae){var Re=[];for(var Ge in Ae)b(Ae[Ge])&&Re.push(Ge);return Re.sort()}function en(Ae,Re){return function(Ge){var Je=arguments.length;if(Re&&(Ge=Object(Ge)),Je<2||Ge==null)return Ge;for(var pt=1;pt<Je;pt++)for(var nt=arguments[pt],St=Ae(nt),Vt=St.length,Ln=0;Ln<Vt;Ln++){var Vn=St[Ln];Re&&Ge[Vn]!==void 0||(Ge[Vn]=nt[Vn])}return Ge}}const Zn=en(Ne),qe=en(Xe),$e=en(Ne,!0);function ft(Ae){if(!M(Ae))return{};if(Q)return Q(Ae);var Re=function(){};Re.prototype=Ae;var Ge=new Re;return Re.prototype=null,Ge}function Ct(Ae,Re){var Ge=ft(Ae);return Re&&qe(Ge,Re),Ge}function Zt(Ae){return M(Ae)?u(Ae)?Ae.slice():Zn({},Ae):Ae}function Mt(Ae,Re){return Re(Ae),Ae}function Ht(Ae){return u(Ae)?Ae:[Ae]}function Gt(Ae){return ct.toPath(Ae)}function nn(Ae,Re){for(var Ge=Re.length,Je=0;Je<Ge;Je++){if(Ae==null)return;Ae=Ae[Re[Je]]}return Ge?Ae:void 0}function dn(Ae,Re,Ge){var Je=nn(Ae,Gt(Re));return F(Je)?Ge:Je}function ln(Ae,Re){for(var Ge=(Re=Gt(Re)).length,Je=0;Je<Ge;Je++){var pt=Re[Je];if(!ee(Ae,pt))return!1;Ae=Ae[pt]}return!!Ge}function bn(Ae){return Ae}function wn(Ae){return Ae=qe({},Ae),function(Re){return gt(Re,Ae)}}function Cn(Ae){return Ae=Gt(Ae),function(Re){return nn(Re,Ae)}}function Sn(Ae,Re,Ge){if(Re===void 0)return Ae;switch(Ge==null?3:Ge){case 1:return function(Je){return Ae.call(Re,Je)};case 3:return function(Je,pt,nt){return Ae.call(Re,Je,pt,nt)};case 4:return function(Je,pt,nt,St){return Ae.call(Re,Je,pt,nt,St)}}return function(){return Ae.apply(Re,arguments)}}function Tn(Ae,Re,Ge){return Ae==null?bn:b(Ae)?Sn(Ae,Re,Ge):M(Ae)&&!u(Ae)?wn(Ae):Cn(Ae)}function qn(Ae,Re){return Tn(Ae,Re,1/0)}function Nt(Ae,Re,Ge){return ct.iteratee!==qn?ct.iteratee(Ae,Re):Tn(Ae,Re,Ge)}function Rt(Ae,Re,Ge){Re=Nt(Re,Ge);for(var Je=Xe(Ae),pt=Je.length,nt={},St=0;St<pt;St++){var Vt=Je[St];nt[Vt]=Re(Ae[Vt],Vt,Ae)}return nt}function Dn(){}function Bn(Ae){return Ae==null?Dn:function(Re){return dn(Ae,Re)}}function Nn(Ae,Re,Ge){var Je=Array(Math.max(0,Ae));Re=Sn(Re,Ge,1);for(var pt=0;pt<Ae;pt++)Je[pt]=Re(pt);return Je}function Wt(Ae,Re){return Re==null&&(Re=Ae,Ae=0),Ae+Math.floor(Math.random()*(Re-Ae+1))}ct.toPath=Ht,ct.iteratee=qn;const hn=Date.now||function(){return new Date().getTime()};function on(Ae){var Re=function(nt){return Ae[nt]},Ge="(?:"+Xe(Ae).join("|")+")",Je=RegExp(Ge),pt=RegExp(Ge,"g");return function(nt){return nt=nt==null?"":""+nt,Je.test(nt)?nt.replace(pt,Re):nt}}const sr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ot=on(sr),cn=on(un(sr)),Me=ct.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Fe=/(.)^/,mt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},It=/\\|'|\r|\n|\u2028|\u2029/g;function rt(Ae){return"\\"+mt[Ae]}var _t=/^\s*(\w|\$)+\s*$/;function jn(Ae,Re,Ge){!Re&&Ge&&(Re=Ge),Re=$e({},Re,ct.templateSettings);var Je=RegExp([(Re.escape||Fe).source,(Re.interpolate||Fe).source,(Re.evaluate||Fe).source].join("|")+"|$","g"),pt=0,nt="__p+='";Ae.replace(Je,function(Vn,ur,Lr,xi,Yr){return nt+=Ae.slice(pt,Yr).replace(It,rt),pt=Yr+Vn.length,ur?nt+=`'+
((__t=(`+ur+`))==null?'':_.escape(__t))+
'`:Lr?nt+=`'+
((__t=(`+Lr+`))==null?'':__t)+
'`:xi&&(nt+=`';
`+xi+`
__p+='`),Vn}),nt+=`';
`;var St,Vt=Re.variable;if(Vt){if(!_t.test(Vt))throw new Error("variable is not a bare identifier: "+Vt)}else nt=`with(obj||{}){
`+nt+`}
`,Vt="obj";nt=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+nt+`return __p;
`;try{St=new Function(Vt,"_",nt)}catch(Vn){throw Vn.source=nt,Vn}var Ln=function(Vn){return St.call(this,Vn,ct)};return Ln.source="function("+Vt+`){
`+nt+"}",Ln}function fn(Ae,Re,Ge){var Je=(Re=Gt(Re)).length;if(!Je)return b(Ge)?Ge.call(Ae):Ge;for(var pt=0;pt<Je;pt++){var nt=Ae==null?void 0:Ae[Re[pt]];nt===void 0&&(nt=Ge,pt=Je),Ae=b(nt)?nt.call(Ae):nt}return Ae}var En=0;function $n(Ae){var Re=++En+"";return Ae?Ae+Re:Re}function nr(Ae){var Re=ct(Ae);return Re._chain=!0,Re}function er(Ae,Re,Ge,Je,pt){if(!(Je instanceof Re))return Ae.apply(Ge,pt);var nt=ft(Ae.prototype),St=Ae.apply(nt,pt);return M(St)?St:nt}var Kn=ue(function(Ae,Re){var Ge=Kn.placeholder,Je=function(){for(var pt=0,nt=Re.length,St=Array(nt),Vt=0;Vt<nt;Vt++)St[Vt]=Re[Vt]===Ge?arguments[pt++]:Re[Vt];for(;pt<arguments.length;)St.push(arguments[pt++]);return er(Ae,Je,this,this,St)};return Je});Kn.placeholder=ct;const Xn=Kn,Wn=ue(function(Ae,Re,Ge){if(!b(Ae))throw new TypeError("Bind must be called on a function");var Je=ue(function(pt){return er(Ae,Je,Re,this,Ge.concat(pt))});return Je}),zn=I(xe);function In(Ae,Re,Ge,Je){if(Je=Je||[],Re||Re===0){if(Re<=0)return Je.concat(Ae)}else Re=1/0;for(var pt=Je.length,nt=0,St=xe(Ae);nt<St;nt++){var Vt=Ae[nt];if(zn(Vt)&&(u(Vt)||C(Vt)))if(Re>1)In(Vt,Re-1,Ge,Je),pt=Je.length;else for(var Ln=0,Vn=Vt.length;Ln<Vn;)Je[pt++]=Vt[Ln++];else Ge||(Je[pt++]=Vt)}return Je}const Gn=ue(function(Ae,Re){var Ge=(Re=In(Re,!1,!1)).length;if(Ge<1)throw new Error("bindAll must be passed function names");for(;Ge--;){var Je=Re[Ge];Ae[Je]=Wn(Ae[Je],Ae)}return Ae});function he(Ae,Re){var Ge=function(Je){var pt=Ge.cache,nt=""+(Re?Re.apply(this,arguments):Je);return ee(pt,nt)||(pt[nt]=Ae.apply(this,arguments)),pt[nt]};return Ge.cache={},Ge}const ye=ue(function(Ae,Re,Ge){return setTimeout(function(){return Ae.apply(null,Ge)},Re)}),O=Xn(ye,ct,1);function W(Ae,Re,Ge){var Je,pt,nt,St,Vt=0;Ge||(Ge={});var Ln=function(){Vt=Ge.leading===!1?0:hn(),Je=null,St=Ae.apply(pt,nt),Je||(pt=nt=null)},Vn=function(){var ur=hn();Vt||Ge.leading!==!1||(Vt=ur);var Lr=Re-(ur-Vt);return pt=this,nt=arguments,Lr<=0||Lr>Re?(Je&&(clearTimeout(Je),Je=null),Vt=ur,St=Ae.apply(pt,nt),Je||(pt=nt=null)):Je||Ge.trailing===!1||(Je=setTimeout(Ln,Lr)),St};return Vn.cancel=function(){clearTimeout(Je),Vt=0,Je=pt=nt=null},Vn}function ce(Ae,Re,Ge){var Je,pt,nt,St,Vt,Ln=function(){var ur=hn()-pt;Re>ur?Je=setTimeout(Ln,Re-ur):(Je=null,Ge||(St=Ae.apply(Vt,nt)),Je||(nt=Vt=null))},Vn=ue(function(ur){return Vt=this,nt=ur,pt=hn(),Je||(Je=setTimeout(Ln,Re),Ge&&(St=Ae.apply(Vt,nt))),St});return Vn.cancel=function(){clearTimeout(Je),Je=nt=Vt=null},Vn}function x(Ae,Re){return Xn(Re,Ae)}function fe(Ae){return function(){return!Ae.apply(this,arguments)}}function ke(){var Ae=arguments,Re=Ae.length-1;return function(){for(var Ge=Re,Je=Ae[Re].apply(this,arguments);Ge--;)Je=Ae[Ge].call(this,Je);return Je}}function De(Ae,Re){return function(){if(--Ae<1)return Re.apply(this,arguments)}}function Be(Ae,Re){var Ge;return function(){return--Ae>0&&(Ge=Re.apply(this,arguments)),Ae<=1&&(Re=null),Ge}}const Ke=Xn(Be,2);function at(Ae,Re,Ge){Re=Nt(Re,Ge);for(var Je,pt=Xe(Ae),nt=0,St=pt.length;nt<St;nt++)if(Re(Ae[Je=pt[nt]],Je,Ae))return Je}function ot(Ae){return function(Re,Ge,Je){Ge=Nt(Ge,Je);for(var pt=xe(Re),nt=Ae>0?0:pt-1;nt>=0&&nt<pt;nt+=Ae)if(Ge(Re[nt],nt,Re))return nt;return-1}}const bt=ot(1),xt=ot(-1);function Dt(Ae,Re,Ge,Je){for(var pt=(Ge=Nt(Ge,Je,1))(Re),nt=0,St=xe(Ae);nt<St;){var Vt=Math.floor((nt+St)/2);Ge(Ae[Vt])<pt?nt=Vt+1:St=Vt}return nt}function Qt(Ae,Re,Ge){return function(Je,pt,nt){var St=0,Vt=xe(Je);if(typeof nt=="number")Ae>0?St=nt>=0?nt:Math.max(nt+Vt,St):Vt=nt>=0?Math.min(nt+1,Vt):nt+Vt+1;else if(Ge&&nt&&Vt)return Je[nt=Ge(Je,pt)]===pt?nt:-1;if(pt!=pt)return(nt=Re(_.call(Je,St,Vt),le))>=0?nt+St:-1;for(nt=Ae>0?St:Vt-1;nt>=0&&nt<Vt;nt+=Ae)if(Je[nt]===pt)return nt;return-1}}const an=Qt(1,bt,Dt),gn=Qt(-1,xt);function Mn(Ae,Re,Ge){var Je=(zn(Ae)?bt:at)(Ae,Re,Ge);if(Je!==void 0&&Je!==-1)return Ae[Je]}function Rn(Ae,Re){return Mn(Ae,wn(Re))}function sn(Ae,Re,Ge){var Je,pt;if(Re=Sn(Re,Ge),zn(Ae))for(Je=0,pt=Ae.length;Je<pt;Je++)Re(Ae[Je],Je,Ae);else{var nt=Xe(Ae);for(Je=0,pt=nt.length;Je<pt;Je++)Re(Ae[nt[Je]],nt[Je],Ae)}return Ae}function On(Ae,Re,Ge){Re=Nt(Re,Ge);for(var Je=!zn(Ae)&&Xe(Ae),pt=(Je||Ae).length,nt=Array(pt),St=0;St<pt;St++){var Vt=Je?Je[St]:St;nt[St]=Re(Ae[Vt],Vt,Ae)}return nt}function Un(Ae){var Re=function(Ge,Je,pt,nt){var St=!zn(Ge)&&Xe(Ge),Vt=(St||Ge).length,Ln=Ae>0?0:Vt-1;for(nt||(pt=Ge[St?St[Ln]:Ln],Ln+=Ae);Ln>=0&&Ln<Vt;Ln+=Ae){var Vn=St?St[Ln]:Ln;pt=Je(pt,Ge[Vn],Vn,Ge)}return pt};return function(Ge,Je,pt,nt){var St=arguments.length>=3;return Re(Ge,Sn(Je,nt,4),pt,St)}}const Jn=Un(1),lr=Un(-1);function An(Ae,Re,Ge){var Je=[];return Re=Nt(Re,Ge),sn(Ae,function(pt,nt,St){Re(pt,nt,St)&&Je.push(pt)}),Je}function Yn(Ae,Re,Ge){return An(Ae,fe(Nt(Re)),Ge)}function xn(Ae,Re,Ge){Re=Nt(Re,Ge);for(var Je=!zn(Ae)&&Xe(Ae),pt=(Je||Ae).length,nt=0;nt<pt;nt++){var St=Je?Je[nt]:nt;if(!Re(Ae[St],St,Ae))return!1}return!0}function Yt(Ae,Re,Ge){Re=Nt(Re,Ge);for(var Je=!zn(Ae)&&Xe(Ae),pt=(Je||Ae).length,nt=0;nt<pt;nt++){var St=Je?Je[nt]:nt;if(Re(Ae[St],St,Ae))return!0}return!1}function i(Ae,Re,Ge,Je){return zn(Ae)||(Ae=Ut(Ae)),(typeof Ge!="number"||Je)&&(Ge=0),an(Ae,Re,Ge)>=0}const o=ue(function(Ae,Re,Ge){var Je,pt;return b(Re)?pt=Re:(Re=Gt(Re),Je=Re.slice(0,-1),Re=Re[Re.length-1]),On(Ae,function(nt){var St=pt;if(!St){if(Je&&Je.length&&(nt=nn(nt,Je)),nt==null)return;St=nt[Re]}return St==null?St:St.apply(nt,Ge)})});function G(Ae,Re){return On(Ae,Cn(Re))}function _e(Ae,Re){return An(Ae,wn(Re))}function Ze(Ae,Re,Ge){var Je,pt,nt=-1/0,St=-1/0;if(Re==null||typeof Re=="number"&&typeof Ae[0]!="object"&&Ae!=null)for(var Vt=0,Ln=(Ae=zn(Ae)?Ae:Ut(Ae)).length;Vt<Ln;Vt++)(Je=Ae[Vt])!=null&&Je>nt&&(nt=Je);else Re=Nt(Re,Ge),sn(Ae,function(Vn,ur,Lr){((pt=Re(Vn,ur,Lr))>St||pt===-1/0&&nt===-1/0)&&(nt=Vn,St=pt)});return nt}function Le(Ae,Re,Ge){var Je,pt,nt=1/0,St=1/0;if(Re==null||typeof Re=="number"&&typeof Ae[0]!="object"&&Ae!=null)for(var Vt=0,Ln=(Ae=zn(Ae)?Ae:Ut(Ae)).length;Vt<Ln;Vt++)(Je=Ae[Vt])!=null&&Je<nt&&(nt=Je);else Re=Nt(Re,Ge),sn(Ae,function(Vn,ur,Lr){((pt=Re(Vn,ur,Lr))<St||pt===1/0&&nt===1/0)&&(nt=Vn,St=pt)});return nt}function Qe(Ae,Re,Ge){if(Re==null||Ge)return zn(Ae)||(Ae=Ut(Ae)),Ae[Wt(Ae.length-1)];var Je=zn(Ae)?Zt(Ae):Ut(Ae),pt=xe(Je);Re=Math.max(Math.min(Re,pt),0);for(var nt=pt-1,St=0;St<Re;St++){var Vt=Wt(St,nt),Ln=Je[St];Je[St]=Je[Vt],Je[Vt]=Ln}return Je.slice(0,Re)}function dt(Ae){return Qe(Ae,1/0)}function kt(Ae,Re,Ge){var Je=0;return Re=Nt(Re,Ge),G(On(Ae,function(pt,nt,St){return{value:pt,index:Je++,criteria:Re(pt,nt,St)}}).sort(function(pt,nt){var St=pt.criteria,Vt=nt.criteria;if(St!==Vt){if(St>Vt||St===void 0)return 1;if(St<Vt||Vt===void 0)return-1}return pt.index-nt.index}),"value")}function Pt(Ae,Re){return function(Ge,Je,pt){var nt=Re?[[],[]]:{};return Je=Nt(Je,pt),sn(Ge,function(St,Vt){var Ln=Je(St,Vt,Ge);Ae(nt,St,Ln)}),nt}}const Tt=Pt(function(Ae,Re,Ge){ee(Ae,Ge)?Ae[Ge].push(Re):Ae[Ge]=[Re]}),Jt=Pt(function(Ae,Re,Ge){Ae[Ge]=Re}),Xt=Pt(function(Ae,Re,Ge){ee(Ae,Ge)?Ae[Ge]++:Ae[Ge]=1}),Kt=Pt(function(Ae,Re,Ge){Ae[Ge?0:1].push(Re)},!0);var mn=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Pn(Ae){return Ae?u(Ae)?_.call(Ae):Y(Ae)?Ae.match(mn):zn(Ae)?On(Ae,bn):Ut(Ae):[]}function Fn(Ae){return Ae==null?0:zn(Ae)?Ae.length:Xe(Ae).length}function Hn(Ae,Re,Ge){return Re in Ge}const Qn=ue(function(Ae,Re){var Ge={},Je=Re[0];if(Ae==null)return Ge;b(Je)?(Re.length>1&&(Je=Sn(Je,Re[1])),Re=Ne(Ae)):(Je=Hn,Re=In(Re,!1,!1),Ae=Object(Ae));for(var pt=0,nt=Re.length;pt<nt;pt++){var St=Re[pt],Vt=Ae[St];Je(Vt,St,Ae)&&(Ge[St]=Vt)}return Ge}),$r=ue(function(Ae,Re){var Ge,Je=Re[0];return b(Je)?(Je=fe(Je),Re.length>1&&(Ge=Re[1])):(Re=On(In(Re,!1,!1),String),Je=function(pt,nt){return!i(Re,nt)}),Qn(Ae,Je,Ge)});function yi(Ae,Re,Ge){return _.call(Ae,0,Math.max(0,Ae.length-(Re==null||Ge?1:Re)))}function Fr(Ae,Re,Ge){return Ae==null||Ae.length<1?Re==null||Ge?void 0:[]:Re==null||Ge?Ae[0]:yi(Ae,Ae.length-Re)}function Tr(Ae,Re,Ge){return _.call(Ae,Re==null||Ge?1:Re)}function fo(Ae,Re,Ge){return Ae==null||Ae.length<1?Re==null||Ge?void 0:[]:Re==null||Ge?Ae[Ae.length-1]:Tr(Ae,Math.max(0,Ae.length-Re))}function ho(Ae){return An(Ae,Boolean)}function po(Ae,Re){return In(Ae,Re,!1)}const Gr=ue(function(Ae,Re){return Re=In(Re,!0,!0),An(Ae,function(Ge){return!i(Re,Ge)})}),pr=ue(function(Ae,Re){return Gr(Ae,Re)});function si(Ae,Re,Ge,Je){re(Re)||(Je=Ge,Ge=Re,Re=!1),Ge!=null&&(Ge=Nt(Ge,Je));for(var pt=[],nt=[],St=0,Vt=xe(Ae);St<Vt;St++){var Ln=Ae[St],Vn=Ge?Ge(Ln,St,Ae):Ln;Re&&!Ge?(St&&nt===Vn||pt.push(Ln),nt=Vn):Ge?i(nt,Vn)||(nt.push(Vn),pt.push(Ln)):i(pt,Ln)||pt.push(Ln)}return pt}const Ii=ue(function(Ae){return si(In(Ae,!0,!0))});function Xr(Ae){for(var Re=[],Ge=arguments.length,Je=0,pt=xe(Ae);Je<pt;Je++){var nt=Ae[Je];if(!i(Re,nt)){var St;for(St=1;St<Ge&&i(arguments[St],nt);St++);St===Ge&&Re.push(nt)}}return Re}function li(Ae){for(var Re=Ae&&Ze(Ae,xe).length||0,Ge=Array(Re),Je=0;Je<Re;Je++)Ge[Je]=G(Ae,Je);return Ge}const Bi=ue(li);function go(Ae,Re){for(var Ge={},Je=0,pt=xe(Ae);Je<pt;Je++)Re?Ge[Ae[Je]]=Re[Je]:Ge[Ae[Je][0]]=Ae[Je][1];return Ge}function bi(Ae,Re,Ge){Re==null&&(Re=Ae||0,Ae=0),Ge||(Ge=Re<Ae?-1:1);for(var Je=Math.max(Math.ceil((Re-Ae)/Ge),0),pt=Array(Je),nt=0;nt<Je;nt++,Ae+=Ge)pt[nt]=Ae;return pt}function Fi(Ae,Re){if(Re==null||Re<1)return[];for(var Ge=[],Je=0,pt=Ae.length;Je<pt;)Ge.push(_.call(Ae,Je,Je+=Re));return Ge}function zi(Ae,Re){return Ae._chain?ct(Re).chain():Re}function Vi(Ae){return sn(kn(Ae),function(Re){var Ge=ct[Re]=Ae[Re];ct.prototype[Re]=function(){var Je=[this._wrapped];return j.apply(Je,arguments),zi(this,Ge.apply(ct,Je))}}),ct}sn(["pop","push","reverse","shift","sort","splice","unshift"],function(Ae){var Re=p[Ae];ct.prototype[Ae]=function(){var Ge=this._wrapped;return Ge!=null&&(Re.apply(Ge,arguments),Ae!=="shift"&&Ae!=="splice"||Ge.length!==0||delete Ge[0]),zi(this,Ge)}}),sn(["concat","join","slice"],function(Ae){var Re=p[Ae];ct.prototype[Ae]=function(){var Ge=this._wrapped;return Ge!=null&&(Ge=Re.apply(Ge,arguments)),zi(this,Ge)}});const mo=ct;var wi=Vi(A);wi._=wi;const Fo=wi}},Ye={};function Te(ge){var ie=Ye[ge];if(ie!==void 0)return ie.exports;var s=Ye[ge]={exports:{}};return Ir[ge].call(s.exports,s,s.exports,Te),s.exports}Te.n=ge=>{var ie=ge&&ge.__esModule?()=>ge.default:()=>ge;return Te.d(ie,{a:ie}),ie},Te.d=(ge,ie)=>{for(var s in ie)Te.o(ie,s)&&!Te.o(ge,s)&&Object.defineProperty(ge,s,{enumerable:!0,get:ie[s]})},Te.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Te.o=(ge,ie)=>Object.prototype.hasOwnProperty.call(ge,ie),Te.r=ge=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(ge,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ge,"__esModule",{value:!0})};var je={};return(()=>{Te.d(je,{default:()=>ae});var ge=Te(4942),ie=Te(9050),s=Te(2579),A=Te(7539);const U={stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:null,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,dragMode:0,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>'},el:"",i18n:{},undoManager:{},assetManager:{},canvas:{},layers:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,multiFrames:!1,customUI:!1};var S=Te(2316),p=Te.n(S),k,d=Te(1163),j=(k=function(K,N){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,h){b.__proto__=h}||function(b,h){for(var z in h)Object.prototype.hasOwnProperty.call(h,z)&&(b[z]=h[z])},k(K,N)},function(K,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");function b(){this.constructor=K}k(K,N),K.prototype=N===null?Object.create(N):(b.prototype=N.prototype,new b)}),_=function(K){function N(){return K!==null&&K.apply(this,arguments)||this}return j(N,K),N}(S.Model);const f=function(K){function N(){return K!==null&&K.apply(this,arguments)||this}return j(N,K),N.prototype.getByComponent=function(b){var h=this;return this.filter(function(z){return h.getComponent(z)===b})[0]},N.prototype.addComponent=function(b,h){var z=this,R=((0,ie.isArray)(b)?b:[b]).filter(function(T){return!z.hasComponent(T)}).map(function(T){return new _({component:T})})[0];return this.push(R,h)},N.prototype.getComponent=function(b){return b.get("component")},N.prototype.hasComponent=function(b){var h=this.getByComponent(b);return h&&this.contains(h)},N.prototype.lastComponent=function(){var b=this.last();return b&&this.getComponent(b)},N.prototype.allComponents=function(){var b=this;return this.map(function(h){return b.getComponent(h)}).filter(function(h){return h})},N.prototype.removeComponent=function(b,h){var z=this,R=((0,ie.isArray)(b)?b:[b]).map(function(T){return z.getByComponent(T)});return this.remove(R,h)},N}(S.Collection);var c=function(){var K=function(N,b){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,z){h.__proto__=z}||function(h,z){for(var R in z)Object.prototype.hasOwnProperty.call(z,R)&&(h[R]=z[R])},K(N,b)};return function(N,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function h(){this.constructor=N}K(N,b),N.prototype=b===null?Object.create(b):(h.prototype=b.prototype,new h)}}(),m=function(){return m=Object.assign||function(K){for(var N,b=1,h=arguments.length;b<h;b++)for(var z in N=arguments[b])Object.prototype.hasOwnProperty.call(N,z)&&(K[z]=N[z]);return K},m.apply(this,arguments)},w=function(K,N,b,h){return new(b||(b=Promise))(function(z,R){function T(ee){try{u(h.next(ee))}catch(q){R(q)}}function P(ee){try{u(h.throw(ee))}catch(q){R(q)}}function u(ee){var q;ee.done?z(ee.value):(q=ee.value,q instanceof b?q:new b(function(C){C(q)})).then(T,P)}u((h=h.apply(K,N||[])).next())})},E=function(K,N){var b,h,z,R,T={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return R={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function P(u){return function(ee){return function(q){if(b)throw new TypeError("Generator is already executing.");for(;T;)try{if(b=1,h&&(z=2&q[0]?h.return:q[0]?h.throw||((z=h.return)&&z.call(h),0):h.next)&&!(z=z.call(h,q[1])).done)return z;switch(h=0,z&&(q=[2&q[0],z.value]),q[0]){case 0:case 1:z=q;break;case 4:return T.label++,{value:q[1],done:!1};case 5:T.label++,h=q[1],q=[0];continue;case 7:q=T.ops.pop(),T.trys.pop();continue;default:if(z=T.trys,!((z=z.length>0&&z[z.length-1])||q[0]!==6&&q[0]!==2)){T=0;continue}if(q[0]===3&&(!z||q[1]>z[0]&&q[1]<z[3])){T.label=q[1];break}if(q[0]===6&&T.label<z[1]){T.label=z[1],z=q;break}if(z&&T.label<z[2]){T.label=z[2],T.ops.push(q);break}z[2]&&T.ops.pop(),T.trys.pop();continue}q=N.call(K,T)}catch(C){q=[6,C],h=0}finally{b=z=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([u,ee])}}},Z=function(K,N){var b={};for(var h in K)Object.prototype.hasOwnProperty.call(K,h)&&N.indexOf(h)<0&&(b[h]=K[h]);if(K!=null&&typeof Object.getOwnPropertySymbols=="function"){var z=0;for(h=Object.getOwnPropertySymbols(K);z<h.length;z++)N.indexOf(h[z])<0&&Object.prototype.propertyIsEnumerable.call(K,h[z])&&(b[h[z]]=K[h[z]])}return b},Q=function(K,N,b){if(b||arguments.length===2)for(var h,z=0,R=N.length;z<R;z++)!h&&z in N||(h||(h=Array.prototype.slice.call(N,0,z)),h[z]=N[z]);return K.concat(h||Array.prototype.slice.call(N))};p().$=s.default;var J=[Te(6718),Te(4836),Te(9788),Te(8202),Te(4859),Te(2004),Te(4424),Te(2326),Te(3463),Te(2450),Te(7619),Te(4906),Te(2012),Te(1030),Te(672),Te(7948),Te(6388),Te(5819),Te(6764),Te(4068),Te(289),Te(6407)],te=[];(function(K){var N=K.$;if(N&&N.prototype&&N.prototype.constructor.name!=="jQuery"){var b=N.fn;b.hide=function(){return this.css("display","none")},b.show=function(){return this.css("display","block")},b.focus=function(){var R=this.get(0);return R&&R.focus(),this},b.bind=function(R,T){return this.on(R,T)},b.unbind=function(R,T){if((0,ie.isObject)(R)){for(var P in R)R.hasOwnProperty(P)&&this.off(P,R[P]);return this}return this.off(R,T)},b.click=function(R){return R?this.on("click",R):this.trigger("click")},b.change=function(R){return R?this.on("change",R):this.trigger("change")},b.keydown=function(R){return R?this.on("keydown",R):this.trigger("keydown")},b.delegate=function(R,T,P,u){return u||(u=P),this.on(T,R,function(ee){ee.data=P,u(ee)})},b.scrollLeft=function(){var R=this.get(0),T=(R=R.nodeType==9?R.defaultView:R)instanceof Window?R:null;return T?T.pageXOffset:R.scrollLeft||0},b.scrollTop=function(){var R=this.get(0),T=(R=R.nodeType==9?R.defaultView:R)instanceof Window?R:null;return T?T.pageYOffset:R.scrollTop||0};var h=N.prototype.offset;b.offset=function(R){var T,P;return R&&(T=R.top,P=R.left),T!==void 0&&this.css("top","".concat(T,"px")),P!==void 0&&this.css("left","".concat(P,"px")),h.call(this)},N.map=function(R,T){for(var P=[],u=0;u<R.length;u++)P.push(T(R[u],u));return P};var z=Array.prototype.indexOf;N.inArray=function(R,T,P){return T==null?-1:z.call(T,R,P)},N.Event=function(R,T){if(!(this instanceof N.Event))return new N.Event(R,T);this.type=R,this.isDefaultPrevented=function(){return!1}}}})({Backbone:p(),$:p().$});var X={debug:console.log,info:console.info,warning:console.warn,error:console.error},V=function(K){function N(b){b===void 0&&(b={});var h=K.call(this)||this;h.__skip=!1,h.defaultRunning=!1,h.destroyed=!1,h._config=b;var z=h.config;h.set("Config",b),h.set("modules",[]),h.set("toLoad",[]),h.set("storables",[]),h.set("selected",new f),h.set("dmode",z.dragMode);var R=z.el,T=z.log,P=T===!0?(0,ie.keys)(X):(0,ie.isArray)(T)?T:[];return(0,ie.bindAll)(h,"initBaseColorPicker"),R&&z.fromElement&&(z.components=R.innerHTML),h.attrsOrig=R?(0,ie.toArray)(R.attributes).reduce(function(u,ee){return u[ee.nodeName]=ee.nodeValue,u},{}):"",z.components&&!z.pageManager&&(z.pageManager={pages:[{component:z.components}]}),J.forEach(function(u){return h.loadModule(u)}),te.forEach(function(u){return h.tsLoadModule(u)}),h.on("change:componentHovered",h.componentHovered,h),h.on("change:changesCount",h.updateChanges,h),h.on("change:readyLoad change:readyCanvas",h._checkReady,h),P.forEach(function(u){return h.listenLog(u)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(u){var ee=u.from,q=u.to;h.listenTo(h,ee,function(){for(var C=[],D=0;D<arguments.length;D++)C[D]=arguments[D];h.trigger.apply(h,Q([q],C,!1)),h.logWarning("The event '".concat(ee,"' is deprecated, replace it with '").concat(q,"'"))})}),h}return c(N,K),N.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(N.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),N.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},N.prototype.getContainer=function(){return this.config.el},N.prototype.listenLog=function(b){this.listenTo(this,"log:".concat(b),X[b])},Object.defineProperty(N.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),N.prototype.getConfig=function(b){var h=this.config;return(0,ie.isUndefined)(b)?h:h[b]},N.prototype.loadOnStart=function(){var b=this,h=this.config,z=h.projectData,R=h.headless,T=this.get("StorageManager");this.toLoad.forEach(function(ee){return ee.onLoad()});var P=function(){b.modules.forEach(function(ee){return ee.postLoad&&ee.postLoad(b)}),b.set("readyLoad",1)};R?(z&&this.loadData(z),P()):setTimeout(function(){return w(b,void 0,void 0,function(){var ee;return E(this,function(q){switch(q.label){case 0:return z?(this.loadData(z),[3,5]):[3,1];case 1:if(!(T!=null&&T.canAutoload()))return[3,5];q.label=2;case 2:return q.trys.push([2,4,,5]),[4,this.load()];case 3:return q.sent(),[3,5];case 4:return ee=q.sent(),this.logError(ee),[3,5];case 5:return P(),[2]}})})});var u=new N({noticeOnUnload:!1,storageManager:!1,undoManager:!1});["PageManager","Canvas"].forEach(function(ee){return u.get(ee).onLoad()}),this.set("shallow",u)},N.prototype.updateChanges=function(){var b=this,h=this.get("StorageManager"),z=this.getDirtyCount();this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return b.trigger("update")}),this.config.noticeOnUnload&&(window.onbeforeunload=z?function(){return!0}:null),h.isAutosave()&&z>=h.getStepsBeforeSave()&&this.store().catch(function(R){return b.logError(R)})},N.prototype.loadModule=function(b){var h=this.config,z=new(b.default||b)(this),R=z.name.charAt(0).toLowerCase()+z.name.slice(1),T=(0,ie.isUndefined)(h[R])?h[z.name]:h[R],P=T===!0?{}:T||{};return P.pStylePrefix=h.pStylePrefix||"",(0,ie.isUndefined)(T)||T||(P._disable=1),z.storageKey&&z.store&&z.load&&this.storables.push(z),P.em=this,z.init(m({},P)),!z.private&&this.set(z.name,z),z.onLoad&&this.toLoad.push(z),this.modules.push(z),this},N.prototype.tsLoadModule=function(b){var h=new(b.default||b)(this);return h.storageKey&&h.store&&h.load&&this.storables.push(h),!h.private&&this.set(h.name,h),h.onLoad&&this.toLoad.push(h),this.modules.push(h),this},N.prototype.init=function(b,h){h===void 0&&(h={}),this.destroyed&&(this.initialize(h),this.destroyed=!1),this.set("Editor",b)},N.prototype.getEditor=function(){return this.get("Editor")},N.prototype.handleUpdates=function(b,h,z){var R=this;z===void 0&&(z={}),this.__skip||z.temporary||z.noCount||z.avoidStore||!this.get("ready")||(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var T=R.getDirtyCount()||0,P=(z.unset,Z(z,["unset"]));R.set("changesCount",T+1,P)},0))},N.prototype.changesUp=function(b){this.handleUpdates(0,0,b)},N.prototype.componentHovered=function(b,h,z){var R=this.previous("componentHovered");R&&this.trigger("component:unhovered",R,z),h&&this.trigger("component:hovered",h,z)},N.prototype.getSelected=function(){return this.selected.lastComponent()},N.prototype.getSelectedAll=function(){return this.selected.allComponents()},N.prototype.setSelected=function(b,h){var z=this;h===void 0&&(h={});var R=h.event,T=R&&(R.ctrlKey||R.metaKey),P=(R||{}).shiftKey,u=((0,ie.isArray)(b)?b:[b]).map(function(D){return(0,d.getModel)(D,s.default)}),ee=this.getSelectedAll(),q=this.getConfig().multipleSelection,C=(0,ie.isArray)(b);C&&this.removeSelected(ee.filter(function(D){return!(0,ie.contains)(u,D)})),u.forEach(function(D){var le=(0,d.getModel)(D,void 0);if(le&&(z.trigger("component:select:before",le,h),!le.get("selectable")||h.abort)){if(!h.useValid)return;for(var be=le.parent();be&&!be.get("selectable");)be=be.parent();le=be}if(T&&q)return z.toggleSelected(le);if(P&&q){z.clearSelection(z.get("Canvas").getWindow());var I,oe,de=le.collection,Oe=le.index();if(z.getSelectedAll().forEach(function(we){var Se=we.collection,xe=we.index();Se===de&&(xe<Oe?I=(0,ie.isUndefined)(I)?xe:Math.max(I,xe):xe>Oe&&(oe=(0,ie.isUndefined)(oe)?xe:Math.min(oe,xe)))}),!(0,ie.isUndefined)(I))for(;I!==Oe;)z.addSelected(de.at(I)),I++;if(!(0,ie.isUndefined)(oe))for(;oe!==Oe;)z.addSelected(de.at(oe)),oe--;return z.addSelected(le)}!C&&z.removeSelected(ee.filter(function(we){return we!==le})),z.addSelected(le,h)})},N.prototype.addSelected=function(b,h){var z=this;h===void 0&&(h={});var R=(0,d.getModel)(b,s.default);((0,ie.isArray)(R)?R:[R]).forEach(function(T){if(!T||T.get("selectable")){var P=z.selected;h.forceChange&&z.removeSelected(T,h),P.addComponent(T,h),T&&z.trigger("component:select",T,h)}})},N.prototype.removeSelected=function(b,h){h===void 0&&(h={}),this.selected.removeComponent((0,d.getModel)(b,s.default),h)},N.prototype.toggleSelected=function(b,h){var z=this;h===void 0&&(h={});var R=(0,d.getModel)(b,s.default);((0,ie.isArray)(R)?R:[R]).forEach(function(T){z.selected.hasComponent(T)?z.removeSelected(T,h):z.addSelected(T,h)})},N.prototype.setHovered=function(b,h){if(h===void 0&&(h={}),!b)return this.set("componentHovered","");var z="component:hover",R=(0,d.getModel)(b,void 0);if(R){if(h.forceChange&&this.set("componentHovered",""),this.trigger("".concat(z,":before"),R,h),!R.get("hoverable")){if(!h.useValid||h.abort)return;for(var T=R&&R.parent();T&&!T.get("hoverable");)T=T.parent();R=T}h.abort||(this.set("componentHovered",R,h),this.trigger(z,R,h))}},N.prototype.getHovered=function(){return this.get("componentHovered")},N.prototype.setComponents=function(b,h){return h===void 0&&(h={}),this.get("DomComponents").setComponents(b,h)},N.prototype.getComponents=function(){var b=this.get("DomComponents"),h=this.get("CodeManager");if(b&&h){var z=b.getComponents();return h.getCode(z,"json")}},N.prototype.setStyle=function(b,h){h===void 0&&(h={});var z=this.get("CssComposer");return z.clear(h),z.getAll().add(b,h),this},N.prototype.addStyle=function(b,h){h===void 0&&(h={});var z=this.getStyle().add(b,h);return(0,ie.isArray)(z)?z:[z]},N.prototype.getStyle=function(){return this.get("CssComposer").getAll()},N.prototype.setState=function(b){return this.set("state",b),this},N.prototype.getState=function(){return this.get("state")||""},N.prototype.getHtml=function(b){b===void 0&&(b={});var h=this.config,z=h.optsHtml,R=h.jsInHtml?this.getJs(b):"",T=b.component||this.get("DomComponents").getComponent(),P=T?this.get("CodeManager").getCode(T,"html",m(m({},z),b)):"";return P+=R?"<script>".concat(R,"<\/script>"):""},N.prototype.getCss=function(b){b===void 0&&(b={});var h=this.config,z=h.optsCss,R=b.avoidProtected,T=(0,ie.isUndefined)(b.keepUnusedStyles)?h.keepUnusedStyles:b.keepUnusedStyles,P=this.get("CssComposer"),u=b.component||this.get("DomComponents").getComponent(),ee=R?"":h.protectedCss,q=u&&this.get("CodeManager").getCode(u,"css",m(m({cssc:P,keepUnusedStyles:T},z),b));return u?b.json?q:ee+q:""},N.prototype.getJs=function(b){b===void 0&&(b={});var h=b.component||this.get("DomComponents").getWrapper();return h?this.get("CodeManager").getCode(h,"js").trim():""},N.prototype.store=function(b){return w(this,void 0,void 0,function(){var h;return E(this,function(z){switch(z.label){case 0:return h=this.storeData(),[4,this.get("StorageManager").store(h,b)];case 1:return z.sent(),this.clearDirtyCount(),[2,h]}})})},N.prototype.load=function(b){return w(this,void 0,void 0,function(){var h;return E(this,function(z){switch(z.label){case 0:return[4,this.get("StorageManager").load(b)];case 1:return h=z.sent(),this.loadData(h),[2,h]}})})},N.prototype.storeData=function(){var b={},h=this.getEditing();return h&&h.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(z){b=m(m({},b),z.store(1))}),JSON.parse(JSON.stringify(b))},N.prototype.loadData=function(b){return b===void 0&&(b={}),(0,d.isEmptyObj)(b)||(this.storables.forEach(function(h){return h.clear()}),this.storables.forEach(function(h){return h.load(b)})),b},N.prototype.getDeviceModel=function(){var b=this.get("device");return this.get("DeviceManager").get(b)},N.prototype.runDefault=function(b){b===void 0&&(b={});var h=this.get("Commands").get(this.config.defaultCommand);h&&!this.defaultRunning&&(h.stop(this,this,b),h.run(this,this,b),this.defaultRunning=!0)},N.prototype.stopDefault=function(b){b===void 0&&(b={});var h=this.get("Commands").get(this.config.defaultCommand);h&&this.defaultRunning&&(h.stop(this,this,b),this.defaultRunning=!1)},N.prototype.refreshCanvas=function(b){b===void 0&&(b={}),this.set("canvasOffset",null),this.set("canvasOffset",this.get("Canvas").getOffset()),b.tools&&this.trigger("canvas:updateTools")},N.prototype.clearSelection=function(b){var h;(h=(b||window).getSelection())===null||h===void 0||h.removeAllRanges()},N.prototype.getCurrentMedia=function(){var b=this.config,h=this.getDeviceModel(),z=b.mediaCondition,R=b.devicePreviewMode,T=h&&h.get("widthMedia");return h&&T&&!R?"(".concat(z,": ").concat(T,")"):""},N.prototype.getWrapper=function(){return this.get("DomComponents").getWrapper()},N.prototype.setCurrentFrame=function(b){return this.set("currentFrame",b)},N.prototype.getCurrentFrame=function(){return this.get("currentFrame")},N.prototype.getCurrentFrameModel=function(){return(this.getCurrentFrame()||{}).model},N.prototype.getIcon=function(b){return(this.config.icons||{})[b]||""},N.prototype.getDirtyCount=function(){return this.get("changesCount")},N.prototype.clearDirtyCount=function(){return this.set("changesCount",0)},N.prototype.getZoomDecimal=function(){return this.get("Canvas").getZoomDecimal()},N.prototype.getZoomMultiplier=function(){return this.get("Canvas").getZoomMultiplier()},N.prototype.setDragMode=function(b){return this.set("dmode",b)},N.prototype.t=function(){for(var b=[],h=0;h<arguments.length;h++)b[h]=arguments[h];var z=this.get("I18n");return z==null?void 0:z.t.apply(z,b)},N.prototype.inAbsoluteMode=function(){return this.get("dmode")==="absolute"},N.prototype.destroyAll=function(){var b=this,h=this.config,z=this.view,R=this.getEditor(),T=(h.grapesjs||{}).editors,P=T===void 0?[]:T,u=this.get("shallow");u==null||u.destroyAll(),this.stopListening(),this.stopDefault(),this.modules.slice().reverse().forEach(function(ee){return ee.destroy()}),z&&z.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(ee){return b[ee]={}}),P.splice(P.indexOf(R),1),(0,d.hasWin)()&&(0,s.default)(h.el).empty().attr(this.attrsOrig)},N.prototype.getEditing=function(){var b=this.get("editing");return b&&b.model||null},N.prototype.setEditing=function(b){return this.set("editing",b),this},N.prototype.isEditing=function(){return!!this.get("editing")},N.prototype.log=function(b,h){h===void 0&&(h={});var z=h.ns,R=h.level,T=R===void 0?"debug":R;if(this.trigger("log",b,h),T&&this.trigger("log:".concat(T),b,h),z){var P="log-".concat(z);this.trigger(P,b,h),T&&this.trigger("".concat(P,":").concat(T),b,h)}},N.prototype.logInfo=function(b,h){this.log(b,m(m({},h),{level:"info"}))},N.prototype.logWarning=function(b,h){this.log(b,m(m({},h),{level:"warning"}))},N.prototype.logError=function(b,h){this.log(b,m(m({},h),{level:"error"}))},N.prototype.initBaseColorPicker=function(b,h){h===void 0&&(h={});var z=this.config,R=z.colorPicker,T=R===void 0?{}:R,P=z.el,u=z.stylePrefix;return(0,s.default)(b).spectrum(m(m({containerClassName:"".concat(u,"one-bg ").concat(u,"two-color"),appendTo:P||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F"},h),T))},N.prototype.skip=function(b){this.__skip=!0;var h=this.get("UndoManager");h?h.skip(b):b(),this.__skip=!1},N.prototype.data=function(b,h,z){var R="_gjs-data";if(b[R]||(b[R]={}),(0,ie.isUndefined)(z))return b[R][h];b[R][h]=z},N}(S.Model);const se=V;var ve=function(){var K=function(N,b){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,z){h.__proto__=z}||function(h,z){for(var R in z)Object.prototype.hasOwnProperty.call(z,R)&&(h[R]=z[R])},K(N,b)};return function(N,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function h(){this.constructor=N}K(N,b),N.prototype=b===null?Object.create(b):(h.prototype=b.prototype,new h)}}(),ue=p().$;const M=function(K){function N(b){var h=K.call(this,{model:b})||this,z=b.attributes,R=z.Panels,T=z.UndoManager;return b.view=h,b.once("change:ready",function(){R.active(),R.disableButtons(),T.clear(),setTimeout(function(){b.trigger("load",b.get("Editor")),b.clearDirtyCount()})}),h}return ve(N,K),N.prototype.render=function(){var b=this,h=this.$el,z=this.model,R=z.attributes,T=R.Panels,P=R.Canvas,u=z.config,ee=z.modules,q=u.stylePrefix,C=ue(u.el||"body ".concat(u.container));(0,d.appendStyles)(u.cssIcons,{unique:!0,prepand:!0}),h.empty(),u.width&&C.css("width",u.width),u.height&&C.css("height",u.height),h.append(P.render()),h.append(T.render());var D=z.get("shallow").get("Canvas").render();return D.style.display="none",h.append(D),h.attr("class","".concat(q,"editor ").concat(q,"one-bg ").concat(q,"two-color")),C.addClass("".concat(q,"editor-cont")).empty().append(h),ee.forEach(function(le){return le.postRender&&le.postRender(b)}),this},N}(S.View);var L=function(){return L=Object.assign||function(K){for(var N,b=1,h=arguments.length;b<h;b++)for(var z in N=arguments[b])Object.prototype.hasOwnProperty.call(N,z)&&(K[z]=N[z]);return K},L.apply(this,arguments)},F=function(K,N,b,h){return new(b||(b=Promise))(function(z,R){function T(ee){try{u(h.next(ee))}catch(q){R(q)}}function P(ee){try{u(h.throw(ee))}catch(q){R(q)}}function u(ee){var q;ee.done?z(ee.value):(q=ee.value,q instanceof b?q:new b(function(C){C(q)})).then(T,P)}u((h=h.apply(K,N||[])).next())})},re=function(K,N){var b,h,z,R,T={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return R={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function P(u){return function(ee){return function(q){if(b)throw new TypeError("Generator is already executing.");for(;T;)try{if(b=1,h&&(z=2&q[0]?h.return:q[0]?h.throw||((z=h.return)&&z.call(h),0):h.next)&&!(z=z.call(h,q[1])).done)return z;switch(h=0,z&&(q=[2&q[0],z.value]),q[0]){case 0:case 1:z=q;break;case 4:return T.label++,{value:q[1],done:!1};case 5:T.label++,h=q[1],q=[0];continue;case 7:q=T.ops.pop(),T.trys.pop();continue;default:if(z=T.trys,!((z=z.length>0&&z[z.length-1])||q[0]!==6&&q[0]!==2)){T=0;continue}if(q[0]===3&&(!z||q[1]>z[0]&&q[1]<z[3])){T.label=q[1];break}if(q[0]===6&&T.label<z[1]){T.label=z[1],z=q;break}if(z&&T.label<z[2]){T.label=z[2],T.ops.push(q);break}z[2]&&T.ops.pop(),T.trys.pop();continue}q=N.call(K,T)}catch(C){q=[6,C],h=0}finally{b=z=0}if(5&q[0])throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}([u,ee])}}},ne=function(K,N,b){if(b||arguments.length===2)for(var h,z=0,R=N.length;z<R;z++)!h&&z in N||(h||(h=Array.prototype.slice.call(N,0,z)),h[z]=N[z]);return K.concat(h||Array.prototype.slice.call(N))};const H=function(){function K(N,b){N===void 0&&(N={}),b===void 0&&(b={}),this.modules=[],this.html=A.Z,this.config=L(L(L({},U),N),{pStylePrefix:U.stylePrefix}),this.em=new se(this.config),this.$=b.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(K.prototype,"I18n",{get:function(){return this.em.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Utils",{get:function(){return this.em.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Commands",{get:function(){return this.em.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Keymaps",{get:function(){return this.em.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Modal",{get:function(){return this.em.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Panels",{get:function(){return this.em.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Canvas",{get:function(){return this.em.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Parser",{get:function(){return this.em.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"CodeManager",{get:function(){return this.em.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"UndoManager",{get:function(){return this.em.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"RichTextEditor",{get:function(){return this.em.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Pages",{get:function(){return this.em.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Components",{get:function(){return this.em.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"DomComponents",{get:function(){return this.em.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Layers",{get:function(){return this.em.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"LayerManager",{get:function(){return this.em.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Css",{get:function(){return this.em.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"CssComposer",{get:function(){return this.em.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Storage",{get:function(){return this.em.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"StorageManager",{get:function(){return this.em.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Assets",{get:function(){return this.em.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"AssetManager",{get:function(){return this.em.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Blocks",{get:function(){return this.em.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"BlockManager",{get:function(){return this.em.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Traits",{get:function(){return this.em.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"TraitManager",{get:function(){return this.em.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Selectors",{get:function(){return this.em.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"SelectorManager",{get:function(){return this.em.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Styles",{get:function(){return this.em.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"StyleManager",{get:function(){return this.em.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"Devices",{get:function(){return this.em.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"DeviceManager",{get:function(){return this.em.get("DeviceManager")},enumerable:!1,configurable:!0}),K.prototype.getConfig=function(N){var b=this.config;return(0,ie.isUndefined)(N)?b:b[N]},K.prototype.getHtml=function(N){return this.em.getHtml(N)},K.prototype.getCss=function(N){return this.em.getCss(N)},K.prototype.getJs=function(N){return this.em.getJs(N)},K.prototype.getComponents=function(){return this.em.get("DomComponents").getComponents()},K.prototype.getWrapper=function(){return this.em.get("DomComponents").getWrapper()},K.prototype.setComponents=function(N,b){return b===void 0&&(b={}),this.em.setComponents(N,b),this},K.prototype.addComponents=function(N,b){return this.getWrapper().append(N,b)},K.prototype.getStyle=function(){return this.em.get("CssComposer").getAll()},K.prototype.setStyle=function(N,b){return b===void 0&&(b={}),this.em.setStyle(N,b),this},K.prototype.addStyle=function(N,b){return b===void 0&&(b={}),this.em.addStyle(N,b)},K.prototype.getSelected=function(){return this.em.getSelected()},K.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},K.prototype.getSelectedToStyle=function(){var N=this.em.getSelected();if(N)return this.StyleManager.getModelToStyle(N)},K.prototype.select=function(N,b){return this.em.setSelected(N,b),this},K.prototype.selectAdd=function(N){return this.em.addSelected(N),this},K.prototype.selectRemove=function(N){return this.em.removeSelected(N),this},K.prototype.selectToggle=function(N){return this.em.toggleSelected(N),this},K.prototype.getEditing=function(){return this.em.getEditing()},K.prototype.setDevice=function(N){return this.em.set("device",N),this},K.prototype.getDevice=function(){return this.em.get("device")},K.prototype.runCommand=function(N,b){return b===void 0&&(b={}),this.em.get("Commands").run(N,b)},K.prototype.stopCommand=function(N,b){return b===void 0&&(b={}),this.em.get("Commands").stop(N,b)},K.prototype.store=function(N){return F(this,void 0,void 0,function(){return re(this,function(b){switch(b.label){case 0:return[4,this.em.store(N)];case 1:return[2,b.sent()]}})})},K.prototype.load=function(N){return F(this,void 0,void 0,function(){return re(this,function(b){switch(b.label){case 0:return[4,this.em.load(N)];case 1:return[2,b.sent()]}})})},K.prototype.getProjectData=function(){return this.em.storeData()},K.prototype.loadProjectData=function(N){return this.em.loadData(N)},K.prototype.storeData=function(){return this.em.storeData()},K.prototype.loadData=function(N){return this.em.loadData(N)},K.prototype.getContainer=function(){return this.config.el},K.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},K.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},K.prototype.refresh=function(N){this.em.refreshCanvas(N)},K.prototype.setCustomRte=function(N){this.RichTextEditor.customRte=N},K.prototype.setCustomParserCss=function(N){return this.Parser.getConfig().parserCss=N,this},K.prototype.setDragMode=function(N){return this.em.setDragMode(N),this},K.prototype.log=function(N,b){return b===void 0&&(b={}),this.em.log(N,b),this},K.prototype.t=function(){for(var N,b=[],h=0;h<arguments.length;h++)b[h]=arguments[h];return(N=this.em).t.apply(N,b)},K.prototype.on=function(N,b){return this.em.on(N,b),this},K.prototype.once=function(N,b){return this.em.once(N,b),this},K.prototype.off=function(N,b){return this.em.off(N,b),this},K.prototype.trigger=function(N){for(var b=[],h=1;h<arguments.length;h++)b[h-1]=arguments[h];return this.em.trigger.apply(this.em,ne([N],b,!0)),this},K.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},K.prototype.getEl=function(){var N;return(N=this.editorView)===null||N===void 0?void 0:N.el},K.prototype.getModel=function(){return this.em},K.prototype.render=function(){var N;return(N=this.editorView)===null||N===void 0||N.remove(),this.editorView=new M(this.em),this.editorView.render().el},K.prototype.onReady=function(N){this.em.get("ready")?N(this):this.em.on("load",N)},K}(),Y={plugins:[]};function l(K,N){var b=Object.keys(K);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(K);N&&(h=h.filter(function(z){return Object.getOwnPropertyDescriptor(K,z).enumerable})),b.push.apply(b,h)}return b}function y(K){for(var N=1;N<arguments.length;N++){var b=arguments[N]!=null?arguments[N]:{};N%2?l(Object(b),!0).forEach(function(h){(0,ge.Z)(K,h,b[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(b)):l(Object(b)).forEach(function(h){Object.defineProperty(K,h,Object.getOwnPropertyDescriptor(b,h))})}return K}(function(){if((0,d.hasWin)()&&function(){for(var N,b=window.navigator.userAgent,h=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],z=0;z<h.length&&!(N=h[z][1].exec(b));z++);return!!N}()){var K=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(N){return N||(N=""),K.apply(document.implementation,[N])}}})();var g=new function(K){var N=K||{};for(var b in Y)b in N||(N[b]=Y[b]);var h={};return{add:function(z,R){return h[z]?h[z]:(h[z]=R,R)},get:function(z){return h[z]},getAll:function(){return h}}},v=[],$={autorender:1,plugins:[],pluginsOpts:{}};const ae={$:s.default,editors:v,plugins:g,version:"0.19.4",init:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=K,b=N.headless,h=K.container;if(!h&&!b)throw new Error("'container' is required");(K=y(y(y({},$),K),{},{grapesjs:this})).el=!b&&((0,ie.isElement)(h)?h:document.querySelector(h));var z=new H(K,{$:s.default}),R=z.getModel();return K.plugins.forEach(function(T){var P=(0,ie.isFunction)(T)?T:g.get(T),u=K.pluginsOpts[T]||{};if(!P){var ee=(0,d.getGlobal)()[T];P=(ee==null?void 0:ee.default)||ee}P?P(z,u):(0,ie.isFunction)(T)?T(z,u):R.logWarning("Plugin ".concat(T," not found"),{context:"plugins",plugin:T})}),R.loadOnStart(),K.autorender&&!b&&z.render(),v.push(z),z}}})(),je=je.default})())})(Aa);var Ic=Nc(Aa.exports),Bc={exports:{}};/*! grapesjs-preset-newsletter - 0.2.21 */(function(ir,Rr){(function(Ir,Ye){ir.exports=Ye(Aa.exports)})(typeof self!="undefined"?self:Ni,function(Ir){return function(Ye){function Te(ge){if(je[ge])return je[ge].exports;var ie=je[ge]={i:ge,l:!1,exports:{}};return Ye[ge].call(ie.exports,ie,ie.exports,Te),ie.l=!0,ie.exports}var je={};return Te.m=Ye,Te.c=je,Te.d=function(ge,ie,s){Te.o(ge,ie)||Object.defineProperty(ge,ie,{configurable:!1,enumerable:!0,get:s})},Te.n=function(ge){var ie=ge&&ge.__esModule?function(){return ge.default}:function(){return ge};return Te.d(ie,"a",ie),ie},Te.o=function(ge,ie){return Object.prototype.hasOwnProperty.call(ge,ie)},Te.p="",Te(Te.s=46)}([function(Ye,Te){var je;je=function(){return this}();try{je=je||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(je=window)}Ye.exports=je},function(Ye,Te){typeof Object.create=="function"?Ye.exports=function(je,ge){je.super_=ge,je.prototype=Object.create(ge.prototype,{constructor:{value:je,enumerable:!1,writable:!0,configurable:!0}})}:Ye.exports=function(je,ge){je.super_=ge;var ie=function(){};ie.prototype=ge.prototype,je.prototype=new ie,je.prototype.constructor=je}},function(Ye,Te,je){function ge(f){if(!(this instanceof ge))return new ge(f);p.call(this,f),k.call(this,f),f&&f.readable===!1&&(this.readable=!1),f&&f.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,f&&f.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",ie)}function ie(){this.allowHalfOpen||this._writableState.ended||A.nextTick(s,this)}function s(f){f.end()}var A=je(14),U=Object.keys||function(f){var c=[];for(var m in f)c.push(m);return c};Ye.exports=ge;var S=je(8);S.inherits=je(1);var p=je(36),k=je(21);S.inherits(ge,p);for(var d=U(k.prototype),j=0;j<d.length;j++){var _=d[j];ge.prototype[_]||(ge.prototype[_]=k.prototype[_])}Object.defineProperty(ge.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ge.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),ge.prototype._destroy=function(f,c){this.push(null),this.end(),A.nextTick(c,f)}},function(Ye,Te,je){function ge(A,U){return delete Ye.exports[A],Ye.exports[A]=U,U}var ie=je(30),s=je(58);Ye.exports={Parser:ie,Tokenizer:je(31),ElementType:je(6),DomHandler:s,get FeedHandler(){return ge("FeedHandler",je(60))},get Stream(){return ge("Stream",je(61))},get WritableStream(){return ge("WritableStream",je(35))},get ProxyHandler(){return ge("ProxyHandler",je(75))},get DomUtils(){return ge("DomUtils",je(4))},get CollectingHandler(){return ge("CollectingHandler",je(86))},DefaultHandler:s,get RssHandler(){return ge("RssHandler",this.FeedHandler)},parseDOM:function(A,U){var S=new s(U);return new ie(S,U).end(A),S.dom},parseFeed:function(A,U){var S=new Ye.exports.FeedHandler(U);return new ie(S,U).end(A),S.dom},createDomStream:function(A,U,S){var p=new s(A,U,S);return new ie(p,U)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(Ye,Te,je){var ge=Ye.exports;[je(76),je(81),je(82),je(83),je(84),je(85)].forEach(function(ie){Object.keys(ie).forEach(function(s){ge[s]=ie[s].bind(ge)})})},function(Ye,Te){Ye.exports=function(je){return je.webpackPolyfill||(je.deprecate=function(){},je.paths=[],je.children||(je.children=[]),Object.defineProperty(je,"loaded",{enumerable:!0,get:function(){return je.l}}),Object.defineProperty(je,"id",{enumerable:!0,get:function(){return je.i}}),je.webpackPolyfill=1),je}},function(Ye,Te){Ye.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(je){return je.type==="tag"||je.type==="script"||je.type==="style"}}},function(Ye,Te){function je(){throw new Error("setTimeout has not been defined")}function ge(){throw new Error("clearTimeout has not been defined")}function ie(w){if(k===setTimeout)return setTimeout(w,0);if((k===je||!k)&&setTimeout)return k=setTimeout,setTimeout(w,0);try{return k(w,0)}catch{try{return k.call(null,w,0)}catch{return k.call(this,w,0)}}}function s(w){if(d===clearTimeout)return clearTimeout(w);if((d===ge||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(w);try{return d(w)}catch{try{return d.call(null,w)}catch{return d.call(this,w)}}}function A(){c&&_&&(c=!1,_.length?f=_.concat(f):m=-1,f.length&&U())}function U(){if(!c){var w=ie(A);c=!0;for(var E=f.length;E;){for(_=f,f=[];++m<E;)_&&_[m].run();m=-1,E=f.length}_=null,c=!1,s(w)}}function S(w,E){this.fun=w,this.array=E}function p(){}var k,d,j=Ye.exports={};(function(){try{k=typeof setTimeout=="function"?setTimeout:je}catch{k=je}try{d=typeof clearTimeout=="function"?clearTimeout:ge}catch{d=ge}})();var _,f=[],c=!1,m=-1;j.nextTick=function(w){var E=new Array(arguments.length-1);if(arguments.length>1)for(var Z=1;Z<arguments.length;Z++)E[Z-1]=arguments[Z];f.push(new S(w,E)),f.length!==1||c||ie(U)},S.prototype.run=function(){this.fun.apply(null,this.array)},j.title="browser",j.browser=!0,j.env={},j.argv=[],j.version="",j.versions={},j.on=p,j.addListener=p,j.once=p,j.off=p,j.removeListener=p,j.removeAllListeners=p,j.emit=p,j.prependListener=p,j.prependOnceListener=p,j.listeners=function(w){return[]},j.binding=function(w){throw new Error("process.binding is not supported")},j.cwd=function(){return"/"},j.chdir=function(w){throw new Error("process.chdir is not supported")},j.umask=function(){return 0}},function(Ye,Te,je){(function(ge){function ie(Z){return Array.isArray?Array.isArray(Z):E(Z)==="[object Array]"}function s(Z){return typeof Z=="boolean"}function A(Z){return Z===null}function U(Z){return Z==null}function S(Z){return typeof Z=="number"}function p(Z){return typeof Z=="string"}function k(Z){return typeof Z=="symbol"}function d(Z){return Z===void 0}function j(Z){return E(Z)==="[object RegExp]"}function _(Z){return typeof Z=="object"&&Z!==null}function f(Z){return E(Z)==="[object Date]"}function c(Z){return E(Z)==="[object Error]"||Z instanceof Error}function m(Z){return typeof Z=="function"}function w(Z){return Z===null||typeof Z=="boolean"||typeof Z=="number"||typeof Z=="string"||typeof Z=="symbol"||Z===void 0}function E(Z){return Object.prototype.toString.call(Z)}Te.isArray=ie,Te.isBoolean=s,Te.isNull=A,Te.isNullOrUndefined=U,Te.isNumber=S,Te.isString=p,Te.isSymbol=k,Te.isUndefined=d,Te.isRegExp=j,Te.isObject=_,Te.isDate=f,Te.isError=c,Te.isFunction=m,Te.isPrimitive=w,Te.isBuffer=ge.isBuffer}).call(Te,je(12).Buffer)},function(Ye,Te,je){var ge=je(11),ie=je(23),s={tag:!0,script:!0,style:!0};Te.isTag=function(U){return U.type&&(U=U.type),s[U]||!1},Te.camelCase=function(U){return U.replace(/[_.-](\w|$)/g,function(S,p){return p.toUpperCase()})},Te.cssCase=function(U){return U.replace(/[A-Z]/g,"-$&").toLowerCase()},Te.domEach=function(U,S){for(var p=0,k=U.length;p<k&&S.call(U,p,U[p])!==!1;)++p;return U},Te.cloneDom=function(U,S){return ge(ie(U,S),S).children};var A=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;Te.isHtml=function(U){if(U.charAt(0)==="<"&&U.charAt(U.length-1)===">"&&U.length>=3)return!0;var S=A.exec(U);return!(!S||!S[1])}},function(Ye,Te){Ye.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},function(Ye,Te,je){(function(ge){var ie=je(3);Te=Ye.exports=function(s,A){var U=Te.evaluate(s,A),S=Te.evaluate("<root></root>",A)[0];return S.type="root",Te.update(U,S),S},Te.evaluate=function(s,A){return typeof s=="string"||ge.isBuffer(s)?ie.parseDOM(s,A):s},Te.update=function(s,A){Array.isArray(s)||(s=[s]),A?A.children=s:A=null;for(var U=0;U<s.length;U++){var S=s[U],p=S.parent||S.root,k=p&&p.children;k&&k!==s&&(k.splice(k.indexOf(S),1),S.prev&&(S.prev.next=S.next),S.next&&(S.next.prev=S.prev)),A?(S.prev=s[U-1]||null,S.next=s[U+1]||null):S.prev=S.next=null,A&&A.type==="root"?(S.root=A,S.parent=null):(S.root=null,S.parent=A)}return A}}).call(Te,je(12).Buffer)},function(Ye,Te,je){(function(ge){function ie(){return A.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(I,oe){if(ie()<oe)throw new RangeError("Invalid typed array length");return A.TYPED_ARRAY_SUPPORT?(I=new Uint8Array(oe),I.__proto__=A.prototype):(I===null&&(I=new A(oe)),I.length=oe),I}function A(I,oe,de){if(!(A.TYPED_ARRAY_SUPPORT||this instanceof A))return new A(I,oe,de);if(typeof I=="number"){if(typeof oe=="string")throw new Error("If encoding is specified then the first argument must be a string");return k(this,I)}return U(this,I,oe,de)}function U(I,oe,de,Oe){if(typeof oe=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&oe instanceof ArrayBuffer?_(I,oe,de,Oe):typeof oe=="string"?d(I,oe,de):f(I,oe)}function S(I){if(typeof I!="number")throw new TypeError('"size" argument must be a number');if(I<0)throw new RangeError('"size" argument must not be negative')}function p(I,oe,de,Oe){return S(oe),oe<=0?s(I,oe):de!==void 0?typeof Oe=="string"?s(I,oe).fill(de,Oe):s(I,oe).fill(de):s(I,oe)}function k(I,oe){if(S(oe),I=s(I,oe<0?0:0|c(oe)),!A.TYPED_ARRAY_SUPPORT)for(var de=0;de<oe;++de)I[de]=0;return I}function d(I,oe,de){if(typeof de=="string"&&de!==""||(de="utf8"),!A.isEncoding(de))throw new TypeError('"encoding" must be a valid string encoding');var Oe=0|w(oe,de);I=s(I,Oe);var we=I.write(oe,de);return we!==Oe&&(I=I.slice(0,we)),I}function j(I,oe){var de=oe.length<0?0:0|c(oe.length);I=s(I,de);for(var Oe=0;Oe<de;Oe+=1)I[Oe]=255&oe[Oe];return I}function _(I,oe,de,Oe){if(oe.byteLength,de<0||oe.byteLength<de)throw new RangeError("'offset' is out of bounds");if(oe.byteLength<de+(Oe||0))throw new RangeError("'length' is out of bounds");return oe=de===void 0&&Oe===void 0?new Uint8Array(oe):Oe===void 0?new Uint8Array(oe,de):new Uint8Array(oe,de,Oe),A.TYPED_ARRAY_SUPPORT?(I=oe,I.__proto__=A.prototype):I=j(I,oe),I}function f(I,oe){if(A.isBuffer(oe)){var de=0|c(oe.length);return I=s(I,de),I.length===0||oe.copy(I,0,0,de),I}if(oe){if(typeof ArrayBuffer!="undefined"&&oe.buffer instanceof ArrayBuffer||"length"in oe)return typeof oe.length!="number"||ee(oe.length)?s(I,0):j(I,oe);if(oe.type==="Buffer"&&D(oe.data))return j(I,oe.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function c(I){if(I>=ie())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ie().toString(16)+" bytes");return 0|I}function m(I){return+I!=I&&(I=0),A.alloc(+I)}function w(I,oe){if(A.isBuffer(I))return I.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(I)||I instanceof ArrayBuffer))return I.byteLength;typeof I!="string"&&(I=""+I);var de=I.length;if(de===0)return 0;for(var Oe=!1;;)switch(oe){case"ascii":case"latin1":case"binary":return de;case"utf8":case"utf-8":case void 0:return z(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*de;case"hex":return de>>>1;case"base64":return P(I).length;default:if(Oe)return z(I).length;oe=(""+oe).toLowerCase(),Oe=!0}}function E(I,oe,de){var Oe=!1;if((oe===void 0||oe<0)&&(oe=0),oe>this.length||((de===void 0||de>this.length)&&(de=this.length),de<=0)||(de>>>=0,oe>>>=0,de<=oe))return"";for(I||(I="utf8");;)switch(I){case"hex":return H(this,oe,de);case"utf8":case"utf-8":return L(this,oe,de);case"ascii":return re(this,oe,de);case"latin1":case"binary":return ne(this,oe,de);case"base64":return M(this,oe,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,oe,de);default:if(Oe)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase(),Oe=!0}}function Z(I,oe,de){var Oe=I[oe];I[oe]=I[de],I[de]=Oe}function Q(I,oe,de,Oe,we){if(I.length===0)return-1;if(typeof de=="string"?(Oe=de,de=0):de>2147483647?de=2147483647:de<-2147483648&&(de=-2147483648),de=+de,isNaN(de)&&(de=we?0:I.length-1),de<0&&(de=I.length+de),de>=I.length){if(we)return-1;de=I.length-1}else if(de<0){if(!we)return-1;de=0}if(typeof oe=="string"&&(oe=A.from(oe,Oe)),A.isBuffer(oe))return oe.length===0?-1:J(I,oe,de,Oe,we);if(typeof oe=="number")return oe&=255,A.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?we?Uint8Array.prototype.indexOf.call(I,oe,de):Uint8Array.prototype.lastIndexOf.call(I,oe,de):J(I,[oe],de,Oe,we);throw new TypeError("val must be string, number or Buffer")}function J(I,oe,de,Oe,we){function Se(Lt,Ft){return xe===1?Lt[Ft]:Lt.readUInt16BE(Ft*xe)}var xe=1,Ie=I.length,Xe=oe.length;if(Oe!==void 0&&((Oe=String(Oe).toLowerCase())==="ucs2"||Oe==="ucs-2"||Oe==="utf16le"||Oe==="utf-16le")){if(I.length<2||oe.length<2)return-1;xe=2,Ie/=2,Xe/=2,de/=2}var tt;if(we){var gt=-1;for(tt=de;tt<Ie;tt++)if(Se(I,tt)===Se(oe,gt===-1?0:tt-gt)){if(gt===-1&&(gt=tt),tt-gt+1===Xe)return gt*xe}else gt!==-1&&(tt-=tt-gt),gt=-1}else for(de+Xe>Ie&&(de=Ie-Xe),tt=de;tt>=0;tt--){for(var ct=!0,Bt=0;Bt<Xe;Bt++)if(Se(I,tt+Bt)!==Se(oe,Bt)){ct=!1;break}if(ct)return tt}return-1}function te(I,oe,de,Oe){de=Number(de)||0;var we=I.length-de;Oe?(Oe=Number(Oe))>we&&(Oe=we):Oe=we;var Se=oe.length;if(Se%2!=0)throw new TypeError("Invalid hex string");Oe>Se/2&&(Oe=Se/2);for(var xe=0;xe<Oe;++xe){var Ie=parseInt(oe.substr(2*xe,2),16);if(isNaN(Ie))return xe;I[de+xe]=Ie}return xe}function X(I,oe,de,Oe){return u(z(oe,I.length-de),I,de,Oe)}function V(I,oe,de,Oe){return u(R(oe),I,de,Oe)}function se(I,oe,de,Oe){return V(I,oe,de,Oe)}function ve(I,oe,de,Oe){return u(P(oe),I,de,Oe)}function ue(I,oe,de,Oe){return u(T(oe,I.length-de),I,de,Oe)}function M(I,oe,de){return oe===0&&de===I.length?q.fromByteArray(I):q.fromByteArray(I.slice(oe,de))}function L(I,oe,de){de=Math.min(I.length,de);for(var Oe=[],we=oe;we<de;){var Se=I[we],xe=null,Ie=Se>239?4:Se>223?3:Se>191?2:1;if(we+Ie<=de){var Xe,tt,gt,ct;switch(Ie){case 1:Se<128&&(xe=Se);break;case 2:Xe=I[we+1],(192&Xe)==128&&(ct=(31&Se)<<6|63&Xe)>127&&(xe=ct);break;case 3:Xe=I[we+1],tt=I[we+2],(192&Xe)==128&&(192&tt)==128&&(ct=(15&Se)<<12|(63&Xe)<<6|63&tt)>2047&&(ct<55296||ct>57343)&&(xe=ct);break;case 4:Xe=I[we+1],tt=I[we+2],gt=I[we+3],(192&Xe)==128&&(192&tt)==128&&(192&gt)==128&&(ct=(15&Se)<<18|(63&Xe)<<12|(63&tt)<<6|63&gt)>65535&&ct<1114112&&(xe=ct)}}xe===null?(xe=65533,Ie=1):xe>65535&&(xe-=65536,Oe.push(xe>>>10&1023|55296),xe=56320|1023&xe),Oe.push(xe),we+=Ie}return F(Oe)}function F(I){var oe=I.length;if(oe<=le)return String.fromCharCode.apply(String,I);for(var de="",Oe=0;Oe<oe;)de+=String.fromCharCode.apply(String,I.slice(Oe,Oe+=le));return de}function re(I,oe,de){var Oe="";de=Math.min(I.length,de);for(var we=oe;we<de;++we)Oe+=String.fromCharCode(127&I[we]);return Oe}function ne(I,oe,de){var Oe="";de=Math.min(I.length,de);for(var we=oe;we<de;++we)Oe+=String.fromCharCode(I[we]);return Oe}function H(I,oe,de){var Oe=I.length;(!oe||oe<0)&&(oe=0),(!de||de<0||de>Oe)&&(de=Oe);for(var we="",Se=oe;Se<de;++Se)we+=h(I[Se]);return we}function Y(I,oe,de){for(var Oe=I.slice(oe,de),we="",Se=0;Se<Oe.length;Se+=2)we+=String.fromCharCode(Oe[Se]+256*Oe[Se+1]);return we}function l(I,oe,de){if(I%1!=0||I<0)throw new RangeError("offset is not uint");if(I+oe>de)throw new RangeError("Trying to access beyond buffer length")}function y(I,oe,de,Oe,we,Se){if(!A.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(oe>we||oe<Se)throw new RangeError('"value" argument is out of bounds');if(de+Oe>I.length)throw new RangeError("Index out of range")}function g(I,oe,de,Oe){oe<0&&(oe=65535+oe+1);for(var we=0,Se=Math.min(I.length-de,2);we<Se;++we)I[de+we]=(oe&255<<8*(Oe?we:1-we))>>>8*(Oe?we:1-we)}function v(I,oe,de,Oe){oe<0&&(oe=4294967295+oe+1);for(var we=0,Se=Math.min(I.length-de,4);we<Se;++we)I[de+we]=oe>>>8*(Oe?we:3-we)&255}function $(I,oe,de,Oe,we,Se){if(de+Oe>I.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("Index out of range")}function ae(I,oe,de,Oe,we){return we||$(I,oe,de,4),C.write(I,oe,de,Oe,23,4),de+4}function K(I,oe,de,Oe,we){return we||$(I,oe,de,8),C.write(I,oe,de,Oe,52,8),de+8}function N(I){if(I=b(I).replace(be,""),I.length<2)return"";for(;I.length%4!=0;)I+="=";return I}function b(I){return I.trim?I.trim():I.replace(/^\s+|\s+$/g,"")}function h(I){return I<16?"0"+I.toString(16):I.toString(16)}function z(I,oe){oe=oe||1/0;for(var de,Oe=I.length,we=null,Se=[],xe=0;xe<Oe;++xe){if((de=I.charCodeAt(xe))>55295&&de<57344){if(!we){if(de>56319){(oe-=3)>-1&&Se.push(239,191,189);continue}if(xe+1===Oe){(oe-=3)>-1&&Se.push(239,191,189);continue}we=de;continue}if(de<56320){(oe-=3)>-1&&Se.push(239,191,189),we=de;continue}de=65536+(we-55296<<10|de-56320)}else we&&(oe-=3)>-1&&Se.push(239,191,189);if(we=null,de<128){if((oe-=1)<0)break;Se.push(de)}else if(de<2048){if((oe-=2)<0)break;Se.push(de>>6|192,63&de|128)}else if(de<65536){if((oe-=3)<0)break;Se.push(de>>12|224,de>>6&63|128,63&de|128)}else{if(!(de<1114112))throw new Error("Invalid code point");if((oe-=4)<0)break;Se.push(de>>18|240,de>>12&63|128,de>>6&63|128,63&de|128)}}return Se}function R(I){for(var oe=[],de=0;de<I.length;++de)oe.push(255&I.charCodeAt(de));return oe}function T(I,oe){for(var de,Oe,we,Se=[],xe=0;xe<I.length&&!((oe-=2)<0);++xe)de=I.charCodeAt(xe),Oe=de>>8,we=de%256,Se.push(we),Se.push(Oe);return Se}function P(I){return q.toByteArray(N(I))}function u(I,oe,de,Oe){for(var we=0;we<Oe&&!(we+de>=oe.length||we>=I.length);++we)oe[we+de]=I[we];return we}function ee(I){return I!==I}/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var q=je(55),C=je(56),D=je(29);Te.Buffer=A,Te.SlowBuffer=m,Te.INSPECT_MAX_BYTES=50,A.TYPED_ARRAY_SUPPORT=ge.TYPED_ARRAY_SUPPORT!==void 0?ge.TYPED_ARRAY_SUPPORT:function(){try{var I=new Uint8Array(1);return I.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},I.foo()===42&&typeof I.subarray=="function"&&I.subarray(1,1).byteLength===0}catch{return!1}}(),Te.kMaxLength=ie(),A.poolSize=8192,A._augment=function(I){return I.__proto__=A.prototype,I},A.from=function(I,oe,de){return U(null,I,oe,de)},A.TYPED_ARRAY_SUPPORT&&(A.prototype.__proto__=Uint8Array.prototype,A.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&A[Symbol.species]===A&&Object.defineProperty(A,Symbol.species,{value:null,configurable:!0})),A.alloc=function(I,oe,de){return p(null,I,oe,de)},A.allocUnsafe=function(I){return k(null,I)},A.allocUnsafeSlow=function(I){return k(null,I)},A.isBuffer=function(I){return!(I==null||!I._isBuffer)},A.compare=function(I,oe){if(!A.isBuffer(I)||!A.isBuffer(oe))throw new TypeError("Arguments must be Buffers");if(I===oe)return 0;for(var de=I.length,Oe=oe.length,we=0,Se=Math.min(de,Oe);we<Se;++we)if(I[we]!==oe[we]){de=I[we],Oe=oe[we];break}return de<Oe?-1:Oe<de?1:0},A.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(I,oe){if(!D(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return A.alloc(0);var de;if(oe===void 0)for(oe=0,de=0;de<I.length;++de)oe+=I[de].length;var Oe=A.allocUnsafe(oe),we=0;for(de=0;de<I.length;++de){var Se=I[de];if(!A.isBuffer(Se))throw new TypeError('"list" argument must be an Array of Buffers');Se.copy(Oe,we),we+=Se.length}return Oe},A.byteLength=w,A.prototype._isBuffer=!0,A.prototype.swap16=function(){var I=this.length;if(I%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var oe=0;oe<I;oe+=2)Z(this,oe,oe+1);return this},A.prototype.swap32=function(){var I=this.length;if(I%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var oe=0;oe<I;oe+=4)Z(this,oe,oe+3),Z(this,oe+1,oe+2);return this},A.prototype.swap64=function(){var I=this.length;if(I%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var oe=0;oe<I;oe+=8)Z(this,oe,oe+7),Z(this,oe+1,oe+6),Z(this,oe+2,oe+5),Z(this,oe+3,oe+4);return this},A.prototype.toString=function(){var I=0|this.length;return I===0?"":arguments.length===0?L(this,0,I):E.apply(this,arguments)},A.prototype.equals=function(I){if(!A.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I||A.compare(this,I)===0},A.prototype.inspect=function(){var I="",oe=Te.INSPECT_MAX_BYTES;return this.length>0&&(I=this.toString("hex",0,oe).match(/.{2}/g).join(" "),this.length>oe&&(I+=" ... ")),"<Buffer "+I+">"},A.prototype.compare=function(I,oe,de,Oe,we){if(!A.isBuffer(I))throw new TypeError("Argument must be a Buffer");if(oe===void 0&&(oe=0),de===void 0&&(de=I?I.length:0),Oe===void 0&&(Oe=0),we===void 0&&(we=this.length),oe<0||de>I.length||Oe<0||we>this.length)throw new RangeError("out of range index");if(Oe>=we&&oe>=de)return 0;if(Oe>=we)return-1;if(oe>=de)return 1;if(oe>>>=0,de>>>=0,Oe>>>=0,we>>>=0,this===I)return 0;for(var Se=we-Oe,xe=de-oe,Ie=Math.min(Se,xe),Xe=this.slice(Oe,we),tt=I.slice(oe,de),gt=0;gt<Ie;++gt)if(Xe[gt]!==tt[gt]){Se=Xe[gt],xe=tt[gt];break}return Se<xe?-1:xe<Se?1:0},A.prototype.includes=function(I,oe,de){return this.indexOf(I,oe,de)!==-1},A.prototype.indexOf=function(I,oe,de){return Q(this,I,oe,de,!0)},A.prototype.lastIndexOf=function(I,oe,de){return Q(this,I,oe,de,!1)},A.prototype.write=function(I,oe,de,Oe){if(oe===void 0)Oe="utf8",de=this.length,oe=0;else if(de===void 0&&typeof oe=="string")Oe=oe,de=this.length,oe=0;else{if(!isFinite(oe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");oe|=0,isFinite(de)?(de|=0,Oe===void 0&&(Oe="utf8")):(Oe=de,de=void 0)}var we=this.length-oe;if((de===void 0||de>we)&&(de=we),I.length>0&&(de<0||oe<0)||oe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Oe||(Oe="utf8");for(var Se=!1;;)switch(Oe){case"hex":return te(this,I,oe,de);case"utf8":case"utf-8":return X(this,I,oe,de);case"ascii":return V(this,I,oe,de);case"latin1":case"binary":return se(this,I,oe,de);case"base64":return ve(this,I,oe,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,I,oe,de);default:if(Se)throw new TypeError("Unknown encoding: "+Oe);Oe=(""+Oe).toLowerCase(),Se=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var le=4096;A.prototype.slice=function(I,oe){var de=this.length;I=~~I,oe=oe===void 0?de:~~oe,I<0?(I+=de)<0&&(I=0):I>de&&(I=de),oe<0?(oe+=de)<0&&(oe=0):oe>de&&(oe=de),oe<I&&(oe=I);var Oe;if(A.TYPED_ARRAY_SUPPORT)Oe=this.subarray(I,oe),Oe.__proto__=A.prototype;else{var we=oe-I;Oe=new A(we,void 0);for(var Se=0;Se<we;++Se)Oe[Se]=this[Se+I]}return Oe},A.prototype.readUIntLE=function(I,oe,de){I|=0,oe|=0,de||l(I,oe,this.length);for(var Oe=this[I],we=1,Se=0;++Se<oe&&(we*=256);)Oe+=this[I+Se]*we;return Oe},A.prototype.readUIntBE=function(I,oe,de){I|=0,oe|=0,de||l(I,oe,this.length);for(var Oe=this[I+--oe],we=1;oe>0&&(we*=256);)Oe+=this[I+--oe]*we;return Oe},A.prototype.readUInt8=function(I,oe){return oe||l(I,1,this.length),this[I]},A.prototype.readUInt16LE=function(I,oe){return oe||l(I,2,this.length),this[I]|this[I+1]<<8},A.prototype.readUInt16BE=function(I,oe){return oe||l(I,2,this.length),this[I]<<8|this[I+1]},A.prototype.readUInt32LE=function(I,oe){return oe||l(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+16777216*this[I+3]},A.prototype.readUInt32BE=function(I,oe){return oe||l(I,4,this.length),16777216*this[I]+(this[I+1]<<16|this[I+2]<<8|this[I+3])},A.prototype.readIntLE=function(I,oe,de){I|=0,oe|=0,de||l(I,oe,this.length);for(var Oe=this[I],we=1,Se=0;++Se<oe&&(we*=256);)Oe+=this[I+Se]*we;return we*=128,Oe>=we&&(Oe-=Math.pow(2,8*oe)),Oe},A.prototype.readIntBE=function(I,oe,de){I|=0,oe|=0,de||l(I,oe,this.length);for(var Oe=oe,we=1,Se=this[I+--Oe];Oe>0&&(we*=256);)Se+=this[I+--Oe]*we;return we*=128,Se>=we&&(Se-=Math.pow(2,8*oe)),Se},A.prototype.readInt8=function(I,oe){return oe||l(I,1,this.length),128&this[I]?-1*(255-this[I]+1):this[I]},A.prototype.readInt16LE=function(I,oe){oe||l(I,2,this.length);var de=this[I]|this[I+1]<<8;return 32768&de?4294901760|de:de},A.prototype.readInt16BE=function(I,oe){oe||l(I,2,this.length);var de=this[I+1]|this[I]<<8;return 32768&de?4294901760|de:de},A.prototype.readInt32LE=function(I,oe){return oe||l(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},A.prototype.readInt32BE=function(I,oe){return oe||l(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},A.prototype.readFloatLE=function(I,oe){return oe||l(I,4,this.length),C.read(this,I,!0,23,4)},A.prototype.readFloatBE=function(I,oe){return oe||l(I,4,this.length),C.read(this,I,!1,23,4)},A.prototype.readDoubleLE=function(I,oe){return oe||l(I,8,this.length),C.read(this,I,!0,52,8)},A.prototype.readDoubleBE=function(I,oe){return oe||l(I,8,this.length),C.read(this,I,!1,52,8)},A.prototype.writeUIntLE=function(I,oe,de,Oe){I=+I,oe|=0,de|=0,!Oe&&y(this,I,oe,de,Math.pow(2,8*de)-1,0);var we=1,Se=0;for(this[oe]=255&I;++Se<de&&(we*=256);)this[oe+Se]=I/we&255;return oe+de},A.prototype.writeUIntBE=function(I,oe,de,Oe){I=+I,oe|=0,de|=0,!Oe&&y(this,I,oe,de,Math.pow(2,8*de)-1,0);var we=de-1,Se=1;for(this[oe+we]=255&I;--we>=0&&(Se*=256);)this[oe+we]=I/Se&255;return oe+de},A.prototype.writeUInt8=function(I,oe,de){return I=+I,oe|=0,de||y(this,I,oe,1,255,0),A.TYPED_ARRAY_SUPPORT||(I=Math.floor(I)),this[oe]=255&I,oe+1},A.prototype.writeUInt16LE=function(I,oe,de){return I=+I,oe|=0,de||y(this,I,oe,2,65535,0),A.TYPED_ARRAY_SUPPORT?(this[oe]=255&I,this[oe+1]=I>>>8):g(this,I,oe,!0),oe+2},A.prototype.writeUInt16BE=function(I,oe,de){return I=+I,oe|=0,de||y(this,I,oe,2,65535,0),A.TYPED_ARRAY_SUPPORT?(this[oe]=I>>>8,this[oe+1]=255&I):g(this,I,oe,!1),oe+2},A.prototype.writeUInt32LE=function(I,oe,de){return I=+I,oe|=0,de||y(this,I,oe,4,4294967295,0),A.TYPED_ARRAY_SUPPORT?(this[oe+3]=I>>>24,this[oe+2]=I>>>16,this[oe+1]=I>>>8,this[oe]=255&I):v(this,I,oe,!0),oe+4},A.prototype.writeUInt32BE=function(I,oe,de){return I=+I,oe|=0,de||y(this,I,oe,4,4294967295,0),A.TYPED_ARRAY_SUPPORT?(this[oe]=I>>>24,this[oe+1]=I>>>16,this[oe+2]=I>>>8,this[oe+3]=255&I):v(this,I,oe,!1),oe+4},A.prototype.writeIntLE=function(I,oe,de,Oe){if(I=+I,oe|=0,!Oe){var we=Math.pow(2,8*de-1);y(this,I,oe,de,we-1,-we)}var Se=0,xe=1,Ie=0;for(this[oe]=255&I;++Se<de&&(xe*=256);)I<0&&Ie===0&&this[oe+Se-1]!==0&&(Ie=1),this[oe+Se]=(I/xe>>0)-Ie&255;return oe+de},A.prototype.writeIntBE=function(I,oe,de,Oe){if(I=+I,oe|=0,!Oe){var we=Math.pow(2,8*de-1);y(this,I,oe,de,we-1,-we)}var Se=de-1,xe=1,Ie=0;for(this[oe+Se]=255&I;--Se>=0&&(xe*=256);)I<0&&Ie===0&&this[oe+Se+1]!==0&&(Ie=1),this[oe+Se]=(I/xe>>0)-Ie&255;return oe+de},A.prototype.writeInt8=function(I,oe,de){return I=+I,oe|=0,de||y(this,I,oe,1,127,-128),A.TYPED_ARRAY_SUPPORT||(I=Math.floor(I)),I<0&&(I=255+I+1),this[oe]=255&I,oe+1},A.prototype.writeInt16LE=function(I,oe,de){return I=+I,oe|=0,de||y(this,I,oe,2,32767,-32768),A.TYPED_ARRAY_SUPPORT?(this[oe]=255&I,this[oe+1]=I>>>8):g(this,I,oe,!0),oe+2},A.prototype.writeInt16BE=function(I,oe,de){return I=+I,oe|=0,de||y(this,I,oe,2,32767,-32768),A.TYPED_ARRAY_SUPPORT?(this[oe]=I>>>8,this[oe+1]=255&I):g(this,I,oe,!1),oe+2},A.prototype.writeInt32LE=function(I,oe,de){return I=+I,oe|=0,de||y(this,I,oe,4,2147483647,-2147483648),A.TYPED_ARRAY_SUPPORT?(this[oe]=255&I,this[oe+1]=I>>>8,this[oe+2]=I>>>16,this[oe+3]=I>>>24):v(this,I,oe,!0),oe+4},A.prototype.writeInt32BE=function(I,oe,de){return I=+I,oe|=0,de||y(this,I,oe,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),A.TYPED_ARRAY_SUPPORT?(this[oe]=I>>>24,this[oe+1]=I>>>16,this[oe+2]=I>>>8,this[oe+3]=255&I):v(this,I,oe,!1),oe+4},A.prototype.writeFloatLE=function(I,oe,de){return ae(this,I,oe,!0,de)},A.prototype.writeFloatBE=function(I,oe,de){return ae(this,I,oe,!1,de)},A.prototype.writeDoubleLE=function(I,oe,de){return K(this,I,oe,!0,de)},A.prototype.writeDoubleBE=function(I,oe,de){return K(this,I,oe,!1,de)},A.prototype.copy=function(I,oe,de,Oe){if(de||(de=0),Oe||Oe===0||(Oe=this.length),oe>=I.length&&(oe=I.length),oe||(oe=0),Oe>0&&Oe<de&&(Oe=de),Oe===de||I.length===0||this.length===0)return 0;if(oe<0)throw new RangeError("targetStart out of bounds");if(de<0||de>=this.length)throw new RangeError("sourceStart out of bounds");if(Oe<0)throw new RangeError("sourceEnd out of bounds");Oe>this.length&&(Oe=this.length),I.length-oe<Oe-de&&(Oe=I.length-oe+de);var we,Se=Oe-de;if(this===I&&de<oe&&oe<Oe)for(we=Se-1;we>=0;--we)I[we+oe]=this[we+de];else if(Se<1e3||!A.TYPED_ARRAY_SUPPORT)for(we=0;we<Se;++we)I[we+oe]=this[we+de];else Uint8Array.prototype.set.call(I,this.subarray(de,de+Se),oe);return Se},A.prototype.fill=function(I,oe,de,Oe){if(typeof I=="string"){if(typeof oe=="string"?(Oe=oe,oe=0,de=this.length):typeof de=="string"&&(Oe=de,de=this.length),I.length===1){var we=I.charCodeAt(0);we<256&&(I=we)}if(Oe!==void 0&&typeof Oe!="string")throw new TypeError("encoding must be a string");if(typeof Oe=="string"&&!A.isEncoding(Oe))throw new TypeError("Unknown encoding: "+Oe)}else typeof I=="number"&&(I&=255);if(oe<0||this.length<oe||this.length<de)throw new RangeError("Out of range index");if(de<=oe)return this;oe>>>=0,de=de===void 0?this.length:de>>>0,I||(I=0);var Se;if(typeof I=="number")for(Se=oe;Se<de;++Se)this[Se]=I;else{var xe=A.isBuffer(I)?I:z(new A(I,Oe).toString()),Ie=xe.length;for(Se=0;Se<de-oe;++Se)this[Se+oe]=xe[Se%Ie]}return this};var be=/[^+\/0-9A-Za-z-_]/g}).call(Te,je(0))},function(Ye,Te){function je(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function ge(U){return typeof U=="function"}function ie(U){return typeof U=="number"}function s(U){return typeof U=="object"&&U!==null}function A(U){return U===void 0}Ye.exports=je,je.EventEmitter=je,je.prototype._events=void 0,je.prototype._maxListeners=void 0,je.defaultMaxListeners=10,je.prototype.setMaxListeners=function(U){if(!ie(U)||U<0||isNaN(U))throw TypeError("n must be a positive number");return this._maxListeners=U,this},je.prototype.emit=function(U){var S,p,k,d,j,_;if(this._events||(this._events={}),U==="error"&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((S=arguments[1])instanceof Error)throw S;var f=new Error('Uncaught, unspecified "error" event. ('+S+")");throw f.context=S,f}if(p=this._events[U],A(p))return!1;if(ge(p))switch(arguments.length){case 1:p.call(this);break;case 2:p.call(this,arguments[1]);break;case 3:p.call(this,arguments[1],arguments[2]);break;default:d=Array.prototype.slice.call(arguments,1),p.apply(this,d)}else if(s(p))for(d=Array.prototype.slice.call(arguments,1),_=p.slice(),k=_.length,j=0;j<k;j++)_[j].apply(this,d);return!0},je.prototype.addListener=function(U,S){var p;if(!ge(S))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",U,ge(S.listener)?S.listener:S),this._events[U]?s(this._events[U])?this._events[U].push(S):this._events[U]=[this._events[U],S]:this._events[U]=S,s(this._events[U])&&!this._events[U].warned&&(p=A(this._maxListeners)?je.defaultMaxListeners:this._maxListeners)&&p>0&&this._events[U].length>p&&(this._events[U].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[U].length),typeof console.trace=="function"&&console.trace()),this},je.prototype.on=je.prototype.addListener,je.prototype.once=function(U,S){function p(){this.removeListener(U,p),k||(k=!0,S.apply(this,arguments))}if(!ge(S))throw TypeError("listener must be a function");var k=!1;return p.listener=S,this.on(U,p),this},je.prototype.removeListener=function(U,S){var p,k,d,j;if(!ge(S))throw TypeError("listener must be a function");if(!this._events||!this._events[U])return this;if(p=this._events[U],d=p.length,k=-1,p===S||ge(p.listener)&&p.listener===S)delete this._events[U],this._events.removeListener&&this.emit("removeListener",U,S);else if(s(p)){for(j=d;j-- >0;)if(p[j]===S||p[j].listener&&p[j].listener===S){k=j;break}if(k<0)return this;p.length===1?(p.length=0,delete this._events[U]):p.splice(k,1),this._events.removeListener&&this.emit("removeListener",U,S)}return this},je.prototype.removeAllListeners=function(U){var S,p;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[U]&&delete this._events[U],this;if(arguments.length===0){for(S in this._events)S!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events={},this}if(p=this._events[U],ge(p))this.removeListener(U,p);else if(p)for(;p.length;)this.removeListener(U,p[p.length-1]);return delete this._events[U],this},je.prototype.listeners=function(U){return this._events&&this._events[U]?ge(this._events[U])?[this._events[U]]:this._events[U].slice():[]},je.prototype.listenerCount=function(U){if(this._events){var S=this._events[U];if(ge(S))return 1;if(S)return S.length}return 0},je.listenerCount=function(U,S){return U.listenerCount(S)}},function(Ye,Te,je){(function(ge){function ie(s,A,U,S){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var p,k,d=arguments.length;switch(d){case 0:case 1:return ge.nextTick(s);case 2:return ge.nextTick(function(){s.call(null,A)});case 3:return ge.nextTick(function(){s.call(null,A,U)});case 4:return ge.nextTick(function(){s.call(null,A,U,S)});default:for(p=new Array(d-1),k=0;k<p.length;)p[k++]=arguments[k];return ge.nextTick(function(){s.apply(null,p)})}}!ge.version||ge.version.indexOf("v0.")===0||ge.version.indexOf("v1.")===0&&ge.version.indexOf("v1.8.")!==0?Ye.exports={nextTick:ie}:Ye.exports=ge}).call(Te,je(7))},function(Ye,Te,je){function ge(U,S){for(var p in U)S[p]=U[p]}function ie(U,S,p){return A(U,S,p)}var s=je(12),A=s.Buffer;A.from&&A.alloc&&A.allocUnsafe&&A.allocUnsafeSlow?Ye.exports=s:(ge(s,Te),Te.Buffer=ie),ge(A,ie),ie.from=function(U,S,p){if(typeof U=="number")throw new TypeError("Argument must not be a number");return A(U,S,p)},ie.alloc=function(U,S,p){if(typeof U!="number")throw new TypeError("Argument must be a number");var k=A(U);return S!==void 0?typeof p=="string"?k.fill(S,p):k.fill(S):k.fill(0),k},ie.allocUnsafe=function(U){if(typeof U!="number")throw new TypeError("Argument must be a number");return A(U)},ie.allocUnsafeSlow=function(U){if(typeof U!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(U)}},function(Ye,Te){function je(ne,H){for(var Y=-1,l=ne?ne.length:0;++Y<l&&H(ne[Y],Y,ne)!==!1;);return ne}function ge(ne,H){for(var Y=-1,l=Array(ne);++Y<ne;)l[Y]=H(Y);return l}function ie(ne,H){var Y=re(ne)||k(ne)?ge(ne.length,String):[],l=Y.length,y=!!l;for(var g in ne)!H&&!se.call(ne,g)||y&&(g=="length"||U(g,l))||Y.push(g);return Y}function s(ne,H){return ne&&F(ne,H,w)}function A(ne){if(!S(ne))return M(ne);var H=[];for(var Y in Object(ne))se.call(ne,Y)&&Y!="constructor"&&H.push(Y);return H}function U(ne,H){return!!(H=H==null?Z:H)&&(typeof ne=="number"||X.test(ne))&&ne>-1&&ne%1==0&&ne<H}function S(ne){var H=ne&&ne.constructor;return ne===(typeof H=="function"&&H.prototype||V)}function p(ne,H){return(re(ne)?je:L)(ne,typeof H=="function"?H:E)}function k(ne){return j(ne)&&se.call(ne,"callee")&&(!ue.call(ne,"callee")||ve.call(ne)==Q)}function d(ne){return ne!=null&&f(ne.length)&&!_(ne)}function j(ne){return m(ne)&&d(ne)}function _(ne){var H=c(ne)?ve.call(ne):"";return H==J||H==te}function f(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=Z}function c(ne){var H=typeof ne;return!!ne&&(H=="object"||H=="function")}function m(ne){return!!ne&&typeof ne=="object"}function w(ne){return d(ne)?ie(ne):A(ne)}function E(ne){return ne}var Z=9007199254740991,Q="[object Arguments]",J="[object Function]",te="[object GeneratorFunction]",X=/^(?:0|[1-9]\d*)$/,V=Object.prototype,se=V.hasOwnProperty,ve=V.toString,ue=V.propertyIsEnumerable,M=function(ne,H){return function(Y){return ne(H(Y))}}(Object.keys,Object),L=function(ne,H){return function(Y,l){if(Y==null)return Y;if(!d(Y))return ne(Y,l);for(var y=Y.length,g=H?y:-1,v=Object(Y);(H?g--:++g<y)&&l(v[g],g,v)!==!1;);return Y}}(s),F=function(ne){return function(H,Y,l){for(var y=-1,g=Object(H),v=l(H),$=v.length;$--;){var ae=v[ne?$:++y];if(Y(g[ae],ae,g)===!1)break}return H}}(),re=Array.isArray;Ye.exports=p},function(Ye,Te,je){var ge=je(11),ie=je(9).isHtml,s={extend:je(40),bind:je(24),forEach:je(16),defaults:je(41)},A=[je(87),je(97),je(101),je(103),je(105)],U=Ye.exports=function(p,k,d,j){return this instanceof U?(this.options=s.defaults(j||{},this.options),p?(d&&(typeof d=="string"&&(d=ge(d,this.options)),this._root=U.call(this,d)),p.cheerio?p:(S(p)&&(p=[p]),Array.isArray(p)?(s.forEach(p,s.bind(function(_,f){this[f]=_},this)),this.length=p.length,this):typeof p=="string"&&ie(p)?U.call(this,ge(p,this.options).children):(k?typeof k=="string"?ie(k)?(k=ge(k,this.options),k=U.call(this,k)):(p=[k,p].join(" "),k=this._root):k.cheerio||(k=U.call(this,k)):k=this._root,k?k.find(p):this))):this):new U(p,k,d,j)};s.extend(U,je(25)),U.prototype.cheerio="[cheerio object]",U.prototype.options={withDomLvl1:!0,normalizeWhitespace:!1,xmlMode:!1,decodeEntities:!0},U.prototype.length=0,U.prototype.splice=Array.prototype.splice,U.prototype._make=function(p,k){var d=new this.constructor(p,k,this._root,this.options);return d.prevObject=this,d},U.prototype.toArray=function(){return this.get()},A.forEach(function(p){s.extend(U.prototype,p)});var S=function(p){return p.name||p.type==="text"||p.type==="comment"}},function(Ye,Te){Ye.exports={Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",amp:"&",AMP:"&",andand:"\u2A55",And:"\u2A53",and:"\u2227",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angmsd:"\u2221",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",apacir:"\u2A6F",ap:"\u2248",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250C",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252C",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxul:"\u2518",boxuL:"\u255B",boxUl:"\u255C",boxUL:"\u255D",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255A",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253C",boxvH:"\u256A",boxVh:"\u256B",boxVH:"\u256C",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251C",boxvR:"\u255E",boxVr:"\u255F",boxVR:"\u2560",bprime:"\u2035",breve:"\u02D8",Breve:"\u02D8",brvbar:"\xA6",bscr:"\u{1D4B7}",Bscr:"\u212C",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsolb:"\u29C5",bsol:"\\",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",cap:"\u2229",Cap:"\u22D2",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",centerdot:"\xB7",CenterDot:"\xB7",cfr:"\u{1D520}",Cfr:"\u212D",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25CB",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",conint:"\u222E",Conint:"\u222F",ContourIntegral:"\u222E",copf:"\u{1D554}",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xA9",COPY:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",cross:"\u2717",Cross:"\u2A2F",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",cupbrcap:"\u2A48",cupcap:"\u2A46",CupCap:"\u224D",cup:"\u222A",Cup:"\u22D3",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21A1",dArr:"\u21D3",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21CA",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",diamond:"\u22C4",Diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21D3",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21BD",DownRightTeeVector:"\u295F",DownRightVectorBar:"\u2957",DownRightVector:"\u21C1",DownTeeArrow:"\u21A7",DownTee:"\u22A4",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",Ecirc:"\xCA",ecirc:"\xEA",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",escr:"\u212F",Escr:"\u2130",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",forall:"\u2200",ForAll:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",fscr:"\u{1D4BB}",Fscr:"\u2131",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",gescc:"\u2AA9",ges:"\u2A7E",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",gg:"\u226B",Gg:"\u22D9",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2AA5",gl:"\u2277",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gnE:"\u2269",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gt:">",GT:">",Gt:"\u226B",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",harrcir:"\u2948",harr:"\u2194",hArr:"\u21D4",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",Hfr:"\u210C",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",hopf:"\u{1D559}",Hopf:"\u210D",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\u{1D4BD}",Hscr:"\u210B",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",ifr:"\u{1D526}",Ifr:"\u2111",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",incare:"\u2105",in:"\u2208",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",intcal:"\u22BA",int:"\u222B",Int:"\u222C",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",iscr:"\u{1D4BE}",Iscr:"\u2110",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",lang:"\u27E8",Lang:"\u27EA",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",larrb:"\u21E4",larrbfs:"\u291F",larr:"\u2190",Larr:"\u219E",lArr:"\u21D0",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",latail:"\u2919",lAtail:"\u291B",lat:"\u2AAB",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lBarr:"\u290E",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27E8",LeftArrowBar:"\u21E4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21D0",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21C3",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTeeArrow:"\u21A4",LeftTee:"\u22A3",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangleBar:"\u29CF",LeftTriangle:"\u22B2",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21BF",LeftVectorBar:"\u2952",LeftVector:"\u21BC",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",lescc:"\u2AA8",les:"\u2A7D",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21C7",ll:"\u226A",Ll:"\u22D8",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoustache:"\u23B0",lmoust:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lnE:"\u2268",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",longleftarrow:"\u27F5",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftrightarrow:"\u27F7",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longmapsto:"\u27FC",longrightarrow:"\u27F6",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",Lscr:"\u2112",lsh:"\u21B0",Lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",lt:"<",LT:"<",Lt:"\u226A",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midast:"*",midcir:"\u2AF0",mid:"\u2223",middot:"\xB7",minusb:"\u229F",minus:"\u2212",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",mscr:"\u{1D4C2}",Mscr:"\u2133",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266E",naturals:"\u2115",natur:"\u266E",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21D7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nharr:"\u21AE",nhArr:"\u21CE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlarr:"\u219A",nlArr:"\u21CD",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219A",nLeftarrow:"\u21CD",nleftrightarrow:"\u21AE",nLeftrightarrow:"\u21CE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nopf:"\u{1D55F}",Nopf:"\u2115",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangle:"\u22EA",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangle:"\u22EB",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",nprec:"\u2280",npreceq:"\u2AAF\u0338",npre:"\u2AAF\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219B",nrArr:"\u21CF",nrarrw:"\u219D\u0338",nrightarrow:"\u219B",nRightarrow:"\u21CF",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvDash:"\u22AD",nVdash:"\u22AE",nVDash:"\u22AF",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21D6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",Ocirc:"\xD4",ocirc:"\xF4",ocir:"\u229A",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",orarr:"\u21BB",Or:"\u2A54",or:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",otimesas:"\u2A36",Otimes:"\u2A37",otimes:"\u2297",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",para:"\xB6",parallel:"\u2225",par:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plus:"+",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",popf:"\u{1D561}",Popf:"\u2119",pound:"\xA3",prap:"\u2AB7",Pr:"\u2ABB",pr:"\u227A",prcue:"\u227C",precapprox:"\u2AB7",prec:"\u227A",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",pre:"\u2AAF",prE:"\u2AB3",precsim:"\u227E",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportional:"\u221D",Proportion:"\u2237",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",qopf:"\u{1D562}",Qopf:"\u211A",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",quot:'"',QUOT:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",rang:"\u27E9",Rang:"\u27EB",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21A0",rArr:"\u21D2",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",ratail:"\u291A",rAtail:"\u291C",ratio:"\u2236",rationals:"\u211A",rbarr:"\u290D",rBarr:"\u290F",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",Re:"\u211C",rect:"\u25AD",reg:"\xAE",REG:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",rfr:"\u{1D52F}",Rfr:"\u211C",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrowBar:"\u21E5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21D2",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVectorBar:"\u2955",RightDownVector:"\u21C2",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTeeArrow:"\u21A6",RightTee:"\u22A2",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangleBar:"\u29D0",RightTriangle:"\u22B3",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVectorBar:"\u2954",RightUpVector:"\u21BE",RightVectorBar:"\u2953",RightVector:"\u21C0",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoustache:"\u23B1",rmoust:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",ropf:"\u{1D563}",Ropf:"\u211D",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",rscr:"\u{1D4C7}",Rscr:"\u211B",rsh:"\u21B1",Rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2ABC",sc:"\u227B",sccue:"\u227D",sce:"\u2AB0",scE:"\u2AB4",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdotb:"\u22A1",sdot:"\u22C5",sdote:"\u2A66",searhk:"\u2925",searr:"\u2198",seArr:"\u21D8",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",solbar:"\u233F",solb:"\u29C4",sol:"/",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25A1",Square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squ:"\u25A1",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",sub:"\u2282",Sub:"\u22D0",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subset:"\u2282",Subset:"\u22D0",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succapprox:"\u2AB8",succ:"\u227B",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",sum:"\u2211",Sum:"\u2211",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",sup:"\u2283",Sup:"\u22D1",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",supset:"\u2283",Supset:"\u22D1",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21D9",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",tilde:"\u02DC",Tilde:"\u223C",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2A31",timesb:"\u22A0",times:"\xD7",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",topbot:"\u2336",topcir:"\u2AF1",top:"\u22A4",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",uarr:"\u2191",Uarr:"\u219F",uArr:"\u21D1",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21D1",UpArrowDownArrow:"\u21C5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21D5",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03C5",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTeeArrow:"\u21A5",UpTee:"\u22A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",varr:"\u2195",vArr:"\u21D5",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",vBar:"\u2AE8",Vbar:"\u2AEB",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22A2",vDash:"\u22A8",Vdash:"\u22A9",VDash:"\u22AB",Vdashl:"\u2AE6",veebar:"\u22BB",vee:"\u2228",Vee:"\u22C1",veeeq:"\u225A",vellip:"\u22EE",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",wedge:"\u2227",Wedge:"\u22C0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xharr:"\u27F7",xhArr:"\u27FA",Xi:"\u039E",xi:"\u03BE",xlarr:"\u27F5",xlArr:"\u27F8",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrarr:"\u27F6",xrArr:"\u27F9",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",yuml:"\xFF",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",zfr:"\u{1D537}",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",Zopf:"\u2124",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"}},function(Ye,Te){Ye.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(Ye,Te,je){Te=Ye.exports=je(36),Te.Stream=Te,Te.Readable=Te,Te.Writable=je(21),Te.Duplex=je(2),Te.Transform=je(39),Te.PassThrough=je(69)},function(Ye,Te,je){(function(ge,ie,s){function A($){var ae=this;this.next=null,this.entry=null,this.finish=function(){M(ae,$)}}function U($){return l.from($)}function S($){return l.isBuffer($)||$ instanceof y}function p(){}function k($,ae){F=F||je(2),$=$||{};var K=ae instanceof F;this.objectMode=!!$.objectMode,K&&(this.objectMode=this.objectMode||!!$.writableObjectMode);var N=$.highWaterMark,b=$.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=N||N===0?N:K&&(b||b===0)?b:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var z=$.decodeStrings===!1;this.decodeStrings=!z,this.defaultEncoding=$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(R){Z(ae,R)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new A(this)}function d($){if(F=F||je(2),!(v.call(d,this)||this instanceof F))return new d($);this._writableState=new k($,this),this.writable=!0,$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final)),Y.call(this)}function j($,ae){var K=new Error("write after end");$.emit("error",K),L.nextTick(ae,K)}function _($,ae,K,N){var b=!0,h=!1;return K===null?h=new TypeError("May not write null values to stream"):typeof K=="string"||K===void 0||ae.objectMode||(h=new TypeError("Invalid non-string/buffer chunk")),h&&($.emit("error",h),L.nextTick(N,h),b=!1),b}function f($,ae,K){return $.objectMode||$.decodeStrings===!1||typeof ae!="string"||(ae=l.from(ae,K)),ae}function c($,ae,K,N,b,h){if(!K){var z=f(ae,N,b);N!==z&&(K=!0,b="buffer",N=z)}var R=ae.objectMode?1:N.length;ae.length+=R;var T=ae.length<ae.highWaterMark;if(T||(ae.needDrain=!0),ae.writing||ae.corked){var P=ae.lastBufferedRequest;ae.lastBufferedRequest={chunk:N,encoding:b,isBuf:K,callback:h,next:null},P?P.next=ae.lastBufferedRequest:ae.bufferedRequest=ae.lastBufferedRequest,ae.bufferedRequestCount+=1}else m($,ae,!1,R,N,b,h);return T}function m($,ae,K,N,b,h,z){ae.writelen=N,ae.writecb=z,ae.writing=!0,ae.sync=!0,K?$._writev(b,ae.onwrite):$._write(b,h,ae.onwrite),ae.sync=!1}function w($,ae,K,N,b){--ae.pendingcb,K?(L.nextTick(b,N),L.nextTick(ve,$,ae),$._writableState.errorEmitted=!0,$.emit("error",N)):(b(N),$._writableState.errorEmitted=!0,$.emit("error",N),ve($,ae))}function E($){$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0}function Z($,ae){var K=$._writableState,N=K.sync,b=K.writecb;if(E(K),ae)w($,K,N,ae,b);else{var h=X(K);h||K.corked||K.bufferProcessing||!K.bufferedRequest||te($,K),N?re(Q,$,K,h,b):Q($,K,h,b)}}function Q($,ae,K,N){K||J($,ae),ae.pendingcb--,N(),ve($,ae)}function J($,ae){ae.length===0&&ae.needDrain&&(ae.needDrain=!1,$.emit("drain"))}function te($,ae){ae.bufferProcessing=!0;var K=ae.bufferedRequest;if($._writev&&K&&K.next){var N=ae.bufferedRequestCount,b=new Array(N),h=ae.corkedRequestsFree;h.entry=K;for(var z=0,R=!0;K;)b[z]=K,K.isBuf||(R=!1),K=K.next,z+=1;b.allBuffers=R,m($,ae,!0,ae.length,b,"",h.finish),ae.pendingcb++,ae.lastBufferedRequest=null,h.next?(ae.corkedRequestsFree=h.next,h.next=null):ae.corkedRequestsFree=new A(ae),ae.bufferedRequestCount=0}else{for(;K;){var T=K.chunk,P=K.encoding,u=K.callback;if(m($,ae,!1,ae.objectMode?1:T.length,T,P,u),K=K.next,ae.bufferedRequestCount--,ae.writing)break}K===null&&(ae.lastBufferedRequest=null)}ae.bufferedRequest=K,ae.bufferProcessing=!1}function X($){return $.ending&&$.length===0&&$.bufferedRequest===null&&!$.finished&&!$.writing}function V($,ae){$._final(function(K){ae.pendingcb--,K&&$.emit("error",K),ae.prefinished=!0,$.emit("prefinish"),ve($,ae)})}function se($,ae){ae.prefinished||ae.finalCalled||(typeof $._final=="function"?(ae.pendingcb++,ae.finalCalled=!0,L.nextTick(V,$,ae)):(ae.prefinished=!0,$.emit("prefinish")))}function ve($,ae){var K=X(ae);return K&&(se($,ae),ae.pendingcb===0&&(ae.finished=!0,$.emit("finish"))),K}function ue($,ae,K){ae.ending=!0,ve($,ae),K&&(ae.finished?L.nextTick(K):$.once("finish",K)),ae.ended=!0,$.writable=!1}function M($,ae,K){var N=$.entry;for($.entry=null;N;){var b=N.callback;ae.pendingcb--,b(K),N=N.next}ae.corkedRequestsFree?ae.corkedRequestsFree.next=$:ae.corkedRequestsFree=$}var L=je(14);Ye.exports=d;var F,re=!ge.browser&&["v0.10","v0.9."].indexOf(ge.version.slice(0,5))>-1?ie:L.nextTick;d.WritableState=k;var ne=je(8);ne.inherits=je(1);var H={deprecate:je(68)},Y=je(37),l=je(15).Buffer,y=s.Uint8Array||function(){},g=je(38);ne.inherits(d,Y),k.prototype.getBuffer=function(){for(var $=this.bufferedRequest,ae=[];$;)ae.push($),$=$.next;return ae},function(){try{Object.defineProperty(k.prototype,"buffer",{get:H.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var v;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(d,Symbol.hasInstance,{value:function($){return!!v.call(this,$)||this===d&&$&&$._writableState instanceof k}})):v=function($){return $ instanceof this},d.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},d.prototype.write=function($,ae,K){var N=this._writableState,b=!1,h=!N.objectMode&&S($);return h&&!l.isBuffer($)&&($=U($)),typeof ae=="function"&&(K=ae,ae=null),h?ae="buffer":ae||(ae=N.defaultEncoding),typeof K!="function"&&(K=p),N.ended?j(this,K):(h||_(this,N,$,K))&&(N.pendingcb++,b=c(this,N,h,$,ae,K)),b},d.prototype.cork=function(){this._writableState.corked++},d.prototype.uncork=function(){var $=this._writableState;$.corked&&($.corked--,$.writing||$.corked||$.finished||$.bufferProcessing||!$.bufferedRequest||te(this,$))},d.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+$);return this._writableState.defaultEncoding=$,this},Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),d.prototype._write=function($,ae,K){K(new Error("_write() is not implemented"))},d.prototype._writev=null,d.prototype.end=function($,ae,K){var N=this._writableState;typeof $=="function"?(K=$,$=null,ae=null):typeof ae=="function"&&(K=ae,ae=null),$!=null&&this.write($,ae),N.corked&&(N.corked=1,this.uncork()),N.ending||N.finished||ue(this,N,K)},Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),d.prototype.destroy=g.destroy,d.prototype._undestroy=g.undestroy,d.prototype._destroy=function($,ae){this.end(),ae($)}}).call(Te,je(7),je(66).setImmediate,je(0))},function(Ye,Te,je){function ge(Q){if(!Q)return"utf8";for(var J;;)switch(Q){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Q;default:if(J)return;Q=(""+Q).toLowerCase(),J=!0}}function ie(Q){var J=ge(Q);if(typeof J!="string"&&(E.isEncoding===Z||!Z(Q)))throw new Error("Unknown encoding: "+Q);return J||Q}function s(Q){this.encoding=ie(Q);var J;switch(this.encoding){case"utf16le":this.text=j,this.end=_,J=4;break;case"utf8":this.fillLast=p,J=4;break;case"base64":this.text=f,this.end=c,J=3;break;default:return this.write=m,void(this.end=w)}this.lastNeed=0,this.lastTotal=0,this.lastChar=E.allocUnsafe(J)}function A(Q){return Q<=127?0:Q>>5==6?2:Q>>4==14?3:Q>>3==30?4:Q>>6==2?-1:-2}function U(Q,J,te){var X=J.length-1;if(X<te)return 0;var V=A(J[X]);return V>=0?(V>0&&(Q.lastNeed=V-1),V):--X<te||V===-2?0:(V=A(J[X]))>=0?(V>0&&(Q.lastNeed=V-2),V):--X<te||V===-2?0:(V=A(J[X]),V>=0?(V>0&&(V===2?V=0:Q.lastNeed=V-3),V):0)}function S(Q,J,te){if((192&J[0])!=128)return Q.lastNeed=0,"\uFFFD";if(Q.lastNeed>1&&J.length>1){if((192&J[1])!=128)return Q.lastNeed=1,"\uFFFD";if(Q.lastNeed>2&&J.length>2&&(192&J[2])!=128)return Q.lastNeed=2,"\uFFFD"}}function p(Q){var J=this.lastTotal-this.lastNeed,te=S(this,Q);return te!==void 0?te:this.lastNeed<=Q.length?(Q.copy(this.lastChar,J,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(Q.copy(this.lastChar,J,0,Q.length),void(this.lastNeed-=Q.length))}function k(Q,J){var te=U(this,Q,J);if(!this.lastNeed)return Q.toString("utf8",J);this.lastTotal=te;var X=Q.length-(te-this.lastNeed);return Q.copy(this.lastChar,0,X),Q.toString("utf8",J,X)}function d(Q){var J=Q&&Q.length?this.write(Q):"";return this.lastNeed?J+"\uFFFD":J}function j(Q,J){if((Q.length-J)%2==0){var te=Q.toString("utf16le",J);if(te){var X=te.charCodeAt(te.length-1);if(X>=55296&&X<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Q[Q.length-2],this.lastChar[1]=Q[Q.length-1],te.slice(0,-1)}return te}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Q[Q.length-1],Q.toString("utf16le",J,Q.length-1)}function _(Q){var J=Q&&Q.length?this.write(Q):"";if(this.lastNeed){var te=this.lastTotal-this.lastNeed;return J+this.lastChar.toString("utf16le",0,te)}return J}function f(Q,J){var te=(Q.length-J)%3;return te===0?Q.toString("base64",J):(this.lastNeed=3-te,this.lastTotal=3,te===1?this.lastChar[0]=Q[Q.length-1]:(this.lastChar[0]=Q[Q.length-2],this.lastChar[1]=Q[Q.length-1]),Q.toString("base64",J,Q.length-te))}function c(Q){var J=Q&&Q.length?this.write(Q):"";return this.lastNeed?J+this.lastChar.toString("base64",0,3-this.lastNeed):J}function m(Q){return Q.toString(this.encoding)}function w(Q){return Q&&Q.length?this.write(Q):""}var E=je(15).Buffer,Z=E.isEncoding||function(Q){switch((Q=""+Q)&&Q.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};Te.StringDecoder=s,s.prototype.write=function(Q){if(Q.length===0)return"";var J,te;if(this.lastNeed){if((J=this.fillLast(Q))===void 0)return"";te=this.lastNeed,this.lastNeed=0}else te=0;return te<Q.length?J?J+this.text(Q,te):this.text(Q,te):J||""},s.prototype.end=d,s.prototype.text=k,s.prototype.fillLast=function(Q){if(this.lastNeed<=Q.length)return Q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Q.length),this.lastNeed-=Q.length}},function(Ye,Te,je){function ge(c,m){if(c){var w,E="";for(var Z in c)w=c[Z],E&&(E+=" "),!w&&d[Z]?E+=Z:E+=Z+'="'+(m.decodeEntities?k.encodeXML(w):w)+'"';return E}}function ie(c,m){c.name==="svg"&&(m={decodeEntities:m.decodeEntities,xmlMode:!0});var w="<"+c.name,E=ge(c.attribs,m);return E&&(w+=" "+E),!m.xmlMode||c.children&&c.children.length!==0?(w+=">",c.children&&(w+=f(c.children,m)),_[c.name]&&!m.xmlMode||(w+="</"+c.name+">")):w+="/>",w}function s(c){return"<"+c.data+">"}function A(c,m){var w=c.data||"";return!m.decodeEntities||c.parent&&c.parent.name in j||(w=k.encodeXML(w)),w}function U(c){return"<![CDATA["+c.children[0].data+"]]>"}function S(c){return"<!--"+c.data+"-->"}var p=je(77),k=je(78),d={__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},j={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0},_={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},f=Ye.exports=function(c,m){Array.isArray(c)||c.cheerio||(c=[c]),m=m||{};for(var w="",E=0;E<c.length;E++){var Z=c[E];Z.type==="root"?w+=f(Z.children,m):p.isTag(Z)?w+=ie(Z,m):Z.type===p.Directive?w+=s(Z):Z.type===p.Comment?w+=S(Z):Z.type===p.CDATA?w+=U(Z):w+=A(Z,m)}return w}},function(Ye,Te,je){(function(ge){function ie(qe,$e,ft){switch(ft.length){case 0:return qe.call($e);case 1:return qe.call($e,ft[0]);case 2:return qe.call($e,ft[0],ft[1]);case 3:return qe.call($e,ft[0],ft[1],ft[2])}return qe.apply($e,ft)}function s(qe,$e){for(var ft=-1,Ct=qe?qe.length:0;++ft<Ct&&$e(qe[ft],ft,qe)!==!1;);return qe}function A(qe,$e){return!!(qe&&qe.length)&&S(qe,$e,0)>-1}function U(qe,$e,ft,Ct){for(var Zt=qe.length,Mt=ft+(Ct?1:-1);Ct?Mt--:++Mt<Zt;)if($e(qe[Mt],Mt,qe))return Mt;return-1}function S(qe,$e,ft){if($e!==$e)return U(qe,p,ft);for(var Ct=ft-1,Zt=qe.length;++Ct<Zt;)if(qe[Ct]===$e)return Ct;return-1}function p(qe){return qe!==qe}function k(qe,$e){for(var ft=qe.length,Ct=0;ft--;)qe[ft]===$e&&Ct++;return Ct}function d(qe,$e){return qe==null?void 0:qe[$e]}function j(qe){var $e=!1;if(qe!=null&&typeof qe.toString!="function")try{$e=!!(qe+"")}catch{}return $e}function _(qe,$e){for(var ft=-1,Ct=qe.length,Zt=0,Mt=[];++ft<Ct;){var Ht=qe[ft];Ht!==$e&&Ht!==z||(qe[ft]=z,Mt[Zt++]=ft)}return Mt}function f(qe){return y(qe)?Ut(qe):{}}function c(qe){return!(!y(qe)||re(qe))&&(l(qe)||j(qe)?ht:Ft).test(H(qe))}function m(qe,$e,ft,Ct){for(var Zt=-1,Mt=qe.length,Ht=ft.length,Gt=-1,nn=$e.length,dn=$t(Mt-Ht,0),ln=Array(nn+dn),bn=!Ct;++Gt<nn;)ln[Gt]=$e[Gt];for(;++Zt<Ht;)(bn||Zt<Mt)&&(ln[ft[Zt]]=qe[Zt]);for(;dn--;)ln[Gt++]=qe[Zt++];return ln}function w(qe,$e,ft,Ct){for(var Zt=-1,Mt=qe.length,Ht=-1,Gt=ft.length,nn=-1,dn=$e.length,ln=$t(Mt-Gt,0),bn=Array(ln+dn),wn=!Ct;++Zt<ln;)bn[Zt]=qe[Zt];for(var Cn=Zt;++nn<dn;)bn[Cn+nn]=$e[nn];for(;++Ht<Gt;)(wn||Zt<Mt)&&(bn[Cn+ft[Ht]]=qe[Zt++]);return bn}function E(qe,$e){var ft=-1,Ct=qe.length;for($e||($e=Array(Ct));++ft<Ct;)$e[ft]=qe[ft];return $e}function Z(qe,$e,ft){function Ct(){return(this&&this!==vt&&this instanceof Ct?Mt:qe).apply(Zt?ft:this,arguments)}var Zt=$e&R,Mt=Q(qe);return Ct}function Q(qe){return function(){var $e=arguments;switch($e.length){case 0:return new qe;case 1:return new qe($e[0]);case 2:return new qe($e[0],$e[1]);case 3:return new qe($e[0],$e[1],$e[2]);case 4:return new qe($e[0],$e[1],$e[2],$e[3]);case 5:return new qe($e[0],$e[1],$e[2],$e[3],$e[4]);case 6:return new qe($e[0],$e[1],$e[2],$e[3],$e[4],$e[5]);case 7:return new qe($e[0],$e[1],$e[2],$e[3],$e[4],$e[5],$e[6])}var ft=f(qe.prototype),Ct=qe.apply(ft,$e);return y(Ct)?Ct:ft}}function J(qe,$e,ft){function Ct(){for(var Mt=arguments.length,Ht=Array(Mt),Gt=Mt,nn=ve(Ct);Gt--;)Ht[Gt]=arguments[Gt];var dn=Mt<3&&Ht[0]!==nn&&Ht[Mt-1]!==nn?[]:_(Ht,nn);return(Mt-=dn.length)<ft?V(qe,$e,te,Ct.placeholder,void 0,Ht,dn,void 0,void 0,ft-Mt):ie(this&&this!==vt&&this instanceof Ct?Zt:qe,this,Ht)}var Zt=Q(qe);return Ct}function te(qe,$e,ft,Ct,Zt,Mt,Ht,Gt,nn,dn){function ln(){for(var Nt=arguments.length,Rt=Array(Nt),Dn=Nt;Dn--;)Rt[Dn]=arguments[Dn];if(Sn)var Bn=ve(ln),Nn=k(Rt,Bn);if(Ct&&(Rt=m(Rt,Ct,Zt,Sn)),Mt&&(Rt=w(Rt,Mt,Ht,Sn)),Nt-=Nn,Sn&&Nt<dn){var Wt=_(Rt,Bn);return V(qe,$e,te,ln.placeholder,ft,Rt,Wt,Gt,nn,dn-Nt)}var hn=wn?ft:this,on=Cn?hn[qe]:qe;return Nt=Rt.length,Gt?Rt=ne(Rt,Gt):Tn&&Nt>1&&Rt.reverse(),bn&&nn<Nt&&(Rt.length=nn),this&&this!==vt&&this instanceof ln&&(on=qn||Q(on)),on.apply(hn,Rt)}var bn=$e&D,wn=$e&R,Cn=$e&T,Sn=$e&(u|ee),Tn=$e&le,qn=Cn?void 0:Q(qe);return ln}function X(qe,$e,ft,Ct){function Zt(){for(var Gt=-1,nn=arguments.length,dn=-1,ln=Ct.length,bn=Array(ln+nn),wn=this&&this!==vt&&this instanceof Zt?Ht:qe;++dn<ln;)bn[dn]=Ct[dn];for(;nn--;)bn[dn++]=arguments[++Gt];return ie(wn,Mt?ft:this,bn)}var Mt=$e&R,Ht=Q(qe);return Zt}function V(qe,$e,ft,Ct,Zt,Mt,Ht,Gt,nn,dn){var ln=$e&u,bn=ln?Ht:void 0,wn=ln?void 0:Ht,Cn=ln?Mt:void 0,Sn=ln?void 0:Mt;$e|=ln?q:C,($e&=~(ln?C:q))&P||($e&=~(R|T));var Tn=ft(qe,$e,Zt,Cn,bn,Sn,wn,Gt,nn,dn);return Tn.placeholder=Ct,en(Tn,qe,$e)}function se(qe,$e,ft,Ct,Zt,Mt,Ht,Gt){var nn=$e&T;if(!nn&&typeof qe!="function")throw new TypeError(h);var dn=Ct?Ct.length:0;if(dn||($e&=~(q|C),Ct=Zt=void 0),Ht=Ht===void 0?Ht:$t(ae(Ht),0),Gt=Gt===void 0?Gt:ae(Gt),dn-=Zt?Zt.length:0,$e&C){var ln=Ct,bn=Zt;Ct=Zt=void 0}var wn=[qe,$e,ft,Ct,Zt,ln,bn,Mt,Ht,Gt];if(qe=wn[0],$e=wn[1],ft=wn[2],Ct=wn[3],Zt=wn[4],Gt=wn[9]=wn[9]==null?nn?0:qe.length:$t(wn[9]-dn,0),!Gt&&$e&(u|ee)&&($e&=~(u|ee)),$e&&$e!=R)Cn=$e==u||$e==ee?J(qe,$e,Gt):$e!=q&&$e!=(R|q)||Zt.length?te.apply(void 0,wn):X(qe,$e,ft,Ct);else var Cn=Z(qe,$e,ft);return en(Cn,qe,$e)}function ve(qe){return qe.placeholder}function ue(qe,$e){var ft=d(qe,$e);return c(ft)?ft:void 0}function M(qe){var $e=qe.match(gt);return $e?$e[1].split(ct):[]}function L(qe,$e){var ft=$e.length,Ct=ft-1;return $e[Ct]=(ft>1?"& ":"")+$e[Ct],$e=$e.join(ft>2?", ":" "),qe.replace(tt,`{
/* [wrapped with `+$e+`] */
`)}function F(qe,$e){return!!($e=$e==null?I:$e)&&(typeof qe=="number"||Ee.test(qe))&&qe>-1&&qe%1==0&&qe<$e}function re(qe){return!!et&&et in qe}function ne(qe,$e){for(var ft=qe.length,Ct=un($e.length,ft),Zt=E(qe);Ct--;){var Mt=$e[Ct];qe[Ct]=F(Mt,ft)?Zt[Mt]:void 0}return qe}function H(qe){if(qe!=null){try{return ut.call(qe)}catch{}try{return qe+""}catch{}}return""}function Y(qe,$e){return s(Oe,function(ft){var Ct="_."+ft[0];$e&ft[1]&&!A(qe,Ct)&&qe.push(Ct)}),qe.sort()}function l(qe){var $e=y(qe)?yt.call(qe):"";return $e==we||$e==Se}function y(qe){var $e=typeof qe;return!!qe&&($e=="object"||$e=="function")}function g(qe){return!!qe&&typeof qe=="object"}function v(qe){return typeof qe=="symbol"||g(qe)&&yt.call(qe)==xe}function $(qe){return qe?(qe=K(qe))===be||qe===-be?(qe<0?-1:1)*oe:qe===qe?qe:0:qe===0?qe:0}function ae(qe){var $e=$(qe),ft=$e%1;return $e===$e?ft?$e-ft:$e:0}function K(qe){if(typeof qe=="number")return qe;if(v(qe))return de;if(y(qe)){var $e=typeof qe.valueOf=="function"?qe.valueOf():qe;qe=y($e)?$e+"":$e}if(typeof qe!="string")return qe===0?qe:+qe;qe=qe.replace(Xe,"");var ft=Lt.test(qe);return ft||ze.test(qe)?Ne(qe.slice(2),ft?2:8):Bt.test(qe)?de:+qe}function N(qe){return function(){return qe}}function b(qe){return qe}var h="Expected a function",z="__lodash_placeholder__",R=1,T=2,P=4,u=8,ee=16,q=32,C=64,D=128,le=512,be=1/0,I=9007199254740991,oe=17976931348623157e292,de=NaN,Oe=[["ary",D],["bind",R],["bindKey",T],["curry",u],["curryRight",ee],["flip",le],["partial",q],["partialRight",C],["rearg",256]],we="[object Function]",Se="[object GeneratorFunction]",xe="[object Symbol]",Ie=/[\\^$.*+?()[\]{}|]/g,Xe=/^\s+|\s+$/g,tt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,gt=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,Bt=/^[-+]0x[0-9a-f]+$/i,Lt=/^0b[01]+$/i,Ft=/^\[object .+?Constructor\]$/,ze=/^0o[0-7]+$/i,Ee=/^(?:0|[1-9]\d*)$/,Ne=parseInt,We=typeof ge=="object"&&ge&&ge.Object===Object&&ge,it=typeof self=="object"&&self&&self.Object===Object&&self,vt=We||it||Function("return this")(),jt=Function.prototype,tn=Object.prototype,Ve=vt["__core-js_shared__"],et=function(){var qe=/[^.]+$/.exec(Ve&&Ve.keys&&Ve.keys.IE_PROTO||"");return qe?"Symbol(src)_1."+qe:""}(),ut=jt.toString,At=tn.hasOwnProperty,yt=tn.toString,ht=RegExp("^"+ut.call(At).replace(Ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=Object.create,$t=Math.max,un=Math.min,kn=function(){var qe=ue(Object,"defineProperty"),$e=ue.name;return $e&&$e.length>2?qe:void 0}(),en=kn?function(qe,$e,ft){var Ct=$e+"";return kn(qe,"toString",{configurable:!0,enumerable:!1,value:N(L(Ct,Y(M(Ct),ft)))})}:b,Zn=function(qe,$e){return $e=$t($e===void 0?qe.length-1:$e,0),function(){for(var ft=arguments,Ct=-1,Zt=$t(ft.length-$e,0),Mt=Array(Zt);++Ct<Zt;)Mt[Ct]=ft[$e+Ct];Ct=-1;for(var Ht=Array($e+1);++Ct<$e;)Ht[Ct]=ft[Ct];return Ht[$e]=Mt,ie(qe,this,Ht)}}(function(qe,$e,ft){var Ct=R;if(ft.length){var Zt=_(ft,ve(Zn));Ct|=q}return se(qe,Ct,$e,ft,Zt)});Zn.placeholder={},Ye.exports=Zn}).call(Te,je(0))},function(Ye,Te,je){function ge(S,p,k){if(p)typeof p=="string"&&(p=s(p,S._root,k));else{if(!S._root||!S._root.children)return"";p=S._root.children}return ie(p,k)}var ie=je(23),s=je(42),A=je(11),U={merge:je(95),defaults:je(41)};Te.load=function(S,p){var k=je(17);p=U.defaults(p||{},k.prototype.options);var d=A(S,p),j=function(_,f,c,m){return this instanceof j?(m=U.defaults(m||{},p),k.call(this,_,f,c||d,m)):new j(_,f,c,m)};return j.prototype=Object.create(k.prototype),j.prototype.constructor=j,j.fn=j.prototype,j.prototype._originalRoot=d,U.merge(j,Te),j._root=d,j._options=p,j},Te.html=function(S,p){var k=je(17);return Object.prototype.toString.call(S)!=="[object Object]"||p||"length"in S||"type"in S||(p=S,S=void 0),p=U.defaults(p||{},this._options,k.prototype.options),ge(this,S,p)},Te.xml=function(S){return ge(this,S,U.defaults({xmlMode:!0},this._options))},Te.text=function(S){S||(S=this.root());for(var p,k="",d=S.length,j=0;j<d;j++)p=S[j],p.type==="text"?k+=p.data:p.children&&p.type!=="comment"&&(k+=Te.text(p.children));return k},Te.parseHTML=function(S,p,k){var d;return S&&typeof S=="string"?(typeof p=="boolean"&&(k=p),d=this.load(S),k||d("script").remove(),d.root()[0].children.slice()):null},Te.root=function(){return this(this._root)},Te.contains=function(S,p){if(p===S)return!1;for(;p&&p!==p.parent;)if((p=p.parent)===S)return!0;return!1}},function(Ye,Te,je){function ge(V){for(var se=0;V&&se<V.length;se++)if(S(V[se]))return V[se]}function ie(V,se){var ve={name:V,value:se};return function(ue){return w(ue,ve)}}function s(V){return function(se){return!!k(se)&&V(se)}}function A(V,se,ve){if(ve===null){if(V.length>1&&se!=="scope")throw new SyntaxError("pseudo-selector :"+se+" requires an argument")}else if(V.length===1)throw new SyntaxError("pseudo-selector :"+se+" doesn't have any arguments")}var U=je(4),S=U.isTag,p=U.getText,k=U.getParent,d=U.getChildren,j=U.getSiblings,_=U.hasAttrib,f=U.getName,c=U.getAttributeValue,m=je(88),w=je(43).rules.equals,E=je(10),Z=E.trueFunc,Q=E.falseFunc,J={contains:function(V,se){return function(ve){return V(ve)&&p(ve).indexOf(se)>=0}},icontains:function(V,se){var ve=se.toLowerCase();return function(ue){return V(ue)&&p(ue).toLowerCase().indexOf(ve)>=0}},"nth-child":function(V,se){var ve=m(se);return ve===Q?ve:ve===Z?s(V):function(ue){for(var M=j(ue),L=0,F=0;L<M.length;L++)if(S(M[L])){if(M[L]===ue)break;F++}return ve(F)&&V(ue)}},"nth-last-child":function(V,se){var ve=m(se);return ve===Q?ve:ve===Z?s(V):function(ue){for(var M=j(ue),L=0,F=M.length-1;F>=0;F--)if(S(M[F])){if(M[F]===ue)break;L++}return ve(L)&&V(ue)}},"nth-of-type":function(V,se){var ve=m(se);return ve===Q?ve:ve===Z?s(V):function(ue){for(var M=j(ue),L=0,F=0;F<M.length;F++)if(S(M[F])){if(M[F]===ue)break;f(M[F])===f(ue)&&L++}return ve(L)&&V(ue)}},"nth-last-of-type":function(V,se){var ve=m(se);return ve===Q?ve:ve===Z?s(V):function(ue){for(var M=j(ue),L=0,F=M.length-1;F>=0;F--)if(S(M[F])){if(M[F]===ue)break;f(M[F])===f(ue)&&L++}return ve(L)&&V(ue)}},root:function(V){return function(se){return!k(se)&&V(se)}},scope:function(V,se,ve,ue){return ue&&ue.length!==0?ue.length===1?function(M){return ue[0]===M&&V(M)}:function(M){return ue.indexOf(M)>=0&&V(M)}:J.root(V)},checkbox:ie("type","checkbox"),file:ie("type","file"),password:ie("type","password"),radio:ie("type","radio"),reset:ie("type","reset"),image:ie("type","image"),submit:ie("type","submit")},te={empty:function(V){return!d(V).some(function(se){return S(se)||se.type==="text"})},"first-child":function(V){return ge(j(V))===V},"last-child":function(V){for(var se=j(V),ve=se.length-1;ve>=0;ve--){if(se[ve]===V)return!0;if(S(se[ve]))break}return!1},"first-of-type":function(V){for(var se=j(V),ve=0;ve<se.length;ve++)if(S(se[ve])){if(se[ve]===V)return!0;if(f(se[ve])===f(V))break}return!1},"last-of-type":function(V){for(var se=j(V),ve=se.length-1;ve>=0;ve--)if(S(se[ve])){if(se[ve]===V)return!0;if(f(se[ve])===f(V))break}return!1},"only-of-type":function(V){for(var se=j(V),ve=0,ue=se.length;ve<ue;ve++)if(S(se[ve])){if(se[ve]===V)continue;if(f(se[ve])===f(V))return!1}return!0},"only-child":function(V){for(var se=j(V),ve=0;ve<se.length;ve++)if(S(se[ve])&&se[ve]!==V)return!1;return!0},link:function(V){return _(V,"href")},visited:Q,selected:function(V){if(_(V,"selected"))return!0;if(f(V)!=="option")return!1;var se=k(V);if(!se||f(se)!=="select"||_(se,"multiple"))return!1;for(var ve=d(se),ue=!1,M=0;M<ve.length;M++)if(S(ve[M])){if(ve[M]===V)ue=!0;else if(!ue||_(ve[M],"selected"))return!1}return ue},disabled:function(V){return _(V,"disabled")},enabled:function(V){return!_(V,"disabled")},checked:function(V){return _(V,"checked")||te.selected(V)},required:function(V){return _(V,"required")},optional:function(V){return!_(V,"required")},parent:function(V){return!te.empty(V)},header:function(V){var se=f(V);return se==="h1"||se==="h2"||se==="h3"||se==="h4"||se==="h5"||se==="h6"},button:function(V){var se=f(V);return se==="button"||se==="input"&&c(V,"type")==="button"},input:function(V){var se=f(V);return se==="input"||se==="textarea"||se==="select"||se==="button"},text:function(V){var se;return f(V)==="input"&&(!(se=c(V,"type"))||se.toLowerCase()==="text")}},X=/^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/;Ye.exports={compile:function(V,se,ve,ue){var M=se.name,L=se.data;if(ve&&ve.strict&&!X.test(M))throw SyntaxError(":"+M+" isn't part of CSS3");if(typeof J[M]=="function")return A(J[M],M,L),J[M](V,L,ve,ue);if(typeof te[M]=="function"){var F=te[M];return A(F,M,L),V===Z?F:function(re){return F(re,L)&&V(re)}}throw new SyntaxError("unmatched pseudo-class :"+M)},filters:J,pseudos:te}},function(Ye,Te,je){var ge=je(108),ie={}.hasOwnProperty,s=je(111),A=je(113);Te.Selector=s,Te.Property=A,Te.extract=function(U){for(var S=0,p=[],k="",d=0,j=U.length;d<j;d++){var _=U.charAt(d);S?(_!=="]"&&_!==")"||S--,k+=_):_===","?(p.push(k),k=""):(_!=="["&&_!=="("||S++,(k.length||_!==","&&_!==`
`&&_!==" ")&&(k+=_))}return k.length&&p.push(k),p},Te.parseCSS=function(U){for(var S=ge.parse(U,{position:!0,comments:!0}),p=S.stylesheet!==void 0&&S.stylesheet.rules?S.stylesheet.rules:[],k=[],d=0,j=p.length;d<j;d++)if(p[d].type=="rule")for(var _=p[d],f=_.selectors,c=0,m=f.length;c<m;c++)k.push([f[c],_.declarations]);return k},Te.getPreservedText=function(U,S){for(var p=ge.parse(U,{position:!0,comments:!0}),k=p.stylesheet!==void 0&&p.stylesheet.rules?p.stylesheet.rules:[],d=[],j=k.length-1;j>=0;j--)(S.fontFaces&&k[j].type==="font-face"||S.mediaQueries&&k[j].type==="media")&&d.unshift(ge.stringify({stylesheet:{rules:[k[j]]}},{comments:!1,indentation:"  "})),k[j].position.start;return d.length!==0&&`
`+d.join(`
`)+`
`},Te.normalizeLineEndings=function(U){return U.replace(/\r\n/g,`
`).replace(/\n/g,`\r
`)},Te.compareFunc=function(U,S){for(var p=Math.min(U.length,S.length),k=0;k<p;k++)if(U[k]!==S[k])return U[k]>S[k]?1:-1;return U.length-S.length},Te.compare=function(U,S){return Te.compareFunc(U,S)==1?U:S},Te.extend=function(U,S){for(var p in S)ie.call(S,p)&&(U[p]=S[p]);return U},Te.getDefaultOptions=function(U){var S=Te.extend({extraCss:"",insertPreservedExtraCss:!0,applyStyleTags:!0,removeStyleTags:!0,preserveMediaQueries:!0,preserveFontFaces:!0,applyWidthAttributes:!0,applyHeightAttributes:!0,applyAttributesTableElements:!0,url:""},U);return S.webResources=S.webResources||{},S}},function(Ye,Te,je){(function(ge){function ie(A){return s.bind(null,A)}function s(A){var U=[].slice.call(arguments,1);U.unshift("["+A+"]"),ge.stderr.write(U.join(" ")+`
`)}Te=Ye.exports=ie}).call(Te,je(7))},function(Ye,Te){var je={}.toString;Ye.exports=Array.isArray||function(ge){return je.call(ge)=="[object Array]"}},function(Ye,Te,je){function ge(p,k){this._options=k||{},this._cbs=p||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(ie=this._options.Tokenizer),this._tokenizer=new ie(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}var ie=je(31),s={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},A={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:s,input:s,output:s,button:s,datalist:s,textarea:s,option:{option:!0},optgroup:{optgroup:!0}},U={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0,stop:!0,polyline:!0,polygon:!0},S=/\s|\//;je(1)(ge,je(13).EventEmitter),ge.prototype._updatePosition=function(p){this.endIndex===null?this._tokenizer._sectionStart<=p?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-p:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},ge.prototype.ontext=function(p){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(p)},ge.prototype.onopentagname=function(p){if(this._lowerCaseTagNames&&(p=p.toLowerCase()),this._tagname=p,!this._options.xmlMode&&p in A)for(var k;(k=this._stack[this._stack.length-1])in A[p];this.onclosetag(k));!this._options.xmlMode&&p in U||this._stack.push(p),this._cbs.onopentagname&&this._cbs.onopentagname(p),this._cbs.onopentag&&(this._attribs={})},ge.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in U&&this._cbs.onclosetag(this._tagname),this._tagname=""},ge.prototype.onclosetag=function(p){if(this._updatePosition(1),this._lowerCaseTagNames&&(p=p.toLowerCase()),!this._stack.length||p in U&&!this._options.xmlMode)this._options.xmlMode||p!=="br"&&p!=="p"||(this.onopentagname(p),this._closeCurrentTag());else{var k=this._stack.lastIndexOf(p);if(k!==-1)if(this._cbs.onclosetag)for(k=this._stack.length-k;k--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=k;else p!=="p"||this._options.xmlMode||(this.onopentagname(p),this._closeCurrentTag())}},ge.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing?this._closeCurrentTag():this.onopentagend()},ge.prototype._closeCurrentTag=function(){var p=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===p&&(this._cbs.onclosetag&&this._cbs.onclosetag(p),this._stack.pop())},ge.prototype.onattribname=function(p){this._lowerCaseAttributeNames&&(p=p.toLowerCase()),this._attribname=p},ge.prototype.onattribdata=function(p){this._attribvalue+=p},ge.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},ge.prototype._getInstructionName=function(p){var k=p.search(S),d=k<0?p:p.substr(0,k);return this._lowerCaseTagNames&&(d=d.toLowerCase()),d},ge.prototype.ondeclaration=function(p){if(this._cbs.onprocessinginstruction){var k=this._getInstructionName(p);this._cbs.onprocessinginstruction("!"+k,"!"+p)}},ge.prototype.onprocessinginstruction=function(p){if(this._cbs.onprocessinginstruction){var k=this._getInstructionName(p);this._cbs.onprocessinginstruction("?"+k,"?"+p)}},ge.prototype.oncomment=function(p){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(p),this._cbs.oncommentend&&this._cbs.oncommentend()},ge.prototype.oncdata=function(p){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(p),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+p+"]]")},ge.prototype.onerror=function(p){this._cbs.onerror&&this._cbs.onerror(p)},ge.prototype.onend=function(){if(this._cbs.onclosetag)for(var p=this._stack.length;p>0;this._cbs.onclosetag(this._stack[--p]));this._cbs.onend&&this._cbs.onend()},ge.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},ge.prototype.parseComplete=function(p){this.reset(),this.end(p)},ge.prototype.write=function(p){this._tokenizer.write(p)},ge.prototype.end=function(p){this._tokenizer.end(p)},ge.prototype.pause=function(){this._tokenizer.pause()},ge.prototype.resume=function(){this._tokenizer.resume()},ge.prototype.parseChunk=ge.prototype.write,ge.prototype.done=ge.prototype.end,Ye.exports=ge},function(Ye,Te,je){function ge(ze){return ze===" "||ze===`
`||ze==="	"||ze==="\f"||ze==="\r"}function ie(ze,Ee,Ne){var We=ze.toLowerCase();return ze===We?function(it){it===We?this._state=Ee:(this._state=Ne,this._index--)}:function(it){it===We||it===ze?this._state=Ee:(this._state=Ne,this._index--)}}function s(ze,Ee){var Ne=ze.toLowerCase();return function(We){We===Ne||We===ze?this._state=Ee:(this._state=f,this._index--)}}function A(ze,Ee){this._state=j,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=j,this._special=Bt,this._cbs=Ee,this._running=!0,this._ended=!1,this._xmlMode=!(!ze||!ze.xmlMode),this._decodeEntities=!(!ze||!ze.decodeEntities)}Ye.exports=A;var U=je(32),S=je(18),p=je(33),k=je(19),d=0,j=d++,_=d++,f=d++,c=d++,m=d++,w=d++,E=d++,Z=d++,Q=d++,J=d++,te=d++,X=d++,V=d++,se=d++,ve=d++,ue=d++,M=d++,L=d++,F=d++,re=d++,ne=d++,H=d++,Y=d++,l=d++,y=d++,g=d++,v=d++,$=d++,ae=d++,K=d++,N=d++,b=d++,h=d++,z=d++,R=d++,T=d++,P=d++,u=d++,ee=d++,q=d++,C=d++,D=d++,le=d++,be=d++,I=d++,oe=d++,de=d++,Oe=d++,we=d++,Se=d++,xe=d++,Ie=d++,Xe=d++,tt=d++,gt=d++,ct=0,Bt=ct++,Lt=ct++,Ft=ct++;A.prototype._stateText=function(ze){ze==="<"?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=_,this._sectionStart=this._index):this._decodeEntities&&this._special===Bt&&ze==="&"&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=j,this._state=xe,this._sectionStart=this._index)},A.prototype._stateBeforeTagName=function(ze){ze==="/"?this._state=m:ze==="<"?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):ze===">"||this._special!==Bt||ge(ze)?this._state=j:ze==="!"?(this._state=ve,this._sectionStart=this._index+1):ze==="?"?(this._state=M,this._sectionStart=this._index+1):(this._state=this._xmlMode||ze!=="s"&&ze!=="S"?f:N,this._sectionStart=this._index)},A.prototype._stateInTagName=function(ze){(ze==="/"||ze===">"||ge(ze))&&(this._emitToken("onopentagname"),this._state=Z,this._index--)},A.prototype._stateBeforeCloseingTagName=function(ze){ge(ze)||(ze===">"?this._state=j:this._special!==Bt?ze==="s"||ze==="S"?this._state=b:(this._state=j,this._index--):(this._state=w,this._sectionStart=this._index))},A.prototype._stateInCloseingTagName=function(ze){(ze===">"||ge(ze))&&(this._emitToken("onclosetag"),this._state=E,this._index--)},A.prototype._stateAfterCloseingTagName=function(ze){ze===">"&&(this._state=j,this._sectionStart=this._index+1)},A.prototype._stateBeforeAttributeName=function(ze){ze===">"?(this._cbs.onopentagend(),this._state=j,this._sectionStart=this._index+1):ze==="/"?this._state=c:ge(ze)||(this._state=Q,this._sectionStart=this._index)},A.prototype._stateInSelfClosingTag=function(ze){ze===">"?(this._cbs.onselfclosingtag(),this._state=j,this._sectionStart=this._index+1):ge(ze)||(this._state=Z,this._index--)},A.prototype._stateInAttributeName=function(ze){(ze==="="||ze==="/"||ze===">"||ge(ze))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=J,this._index--)},A.prototype._stateAfterAttributeName=function(ze){ze==="="?this._state=te:ze==="/"||ze===">"?(this._cbs.onattribend(),this._state=Z,this._index--):ge(ze)||(this._cbs.onattribend(),this._state=Q,this._sectionStart=this._index)},A.prototype._stateBeforeAttributeValue=function(ze){ze==='"'?(this._state=X,this._sectionStart=this._index+1):ze==="'"?(this._state=V,this._sectionStart=this._index+1):ge(ze)||(this._state=se,this._sectionStart=this._index,this._index--)},A.prototype._stateInAttributeValueDoubleQuotes=function(ze){ze==='"'?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=Z):this._decodeEntities&&ze==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=xe,this._sectionStart=this._index)},A.prototype._stateInAttributeValueSingleQuotes=function(ze){ze==="'"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=Z):this._decodeEntities&&ze==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=xe,this._sectionStart=this._index)},A.prototype._stateInAttributeValueNoQuotes=function(ze){ge(ze)||ze===">"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=Z,this._index--):this._decodeEntities&&ze==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=xe,this._sectionStart=this._index)},A.prototype._stateBeforeDeclaration=function(ze){this._state=ze==="["?H:ze==="-"?L:ue},A.prototype._stateInDeclaration=function(ze){ze===">"&&(this._cbs.ondeclaration(this._getSection()),this._state=j,this._sectionStart=this._index+1)},A.prototype._stateInProcessingInstruction=function(ze){ze===">"&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=j,this._sectionStart=this._index+1)},A.prototype._stateBeforeComment=function(ze){ze==="-"?(this._state=F,this._sectionStart=this._index+1):this._state=ue},A.prototype._stateInComment=function(ze){ze==="-"&&(this._state=re)},A.prototype._stateAfterComment1=function(ze){this._state=ze==="-"?ne:F},A.prototype._stateAfterComment2=function(ze){ze===">"?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=j,this._sectionStart=this._index+1):ze!=="-"&&(this._state=F)},A.prototype._stateBeforeCdata1=ie("C",Y,ue),A.prototype._stateBeforeCdata2=ie("D",l,ue),A.prototype._stateBeforeCdata3=ie("A",y,ue),A.prototype._stateBeforeCdata4=ie("T",g,ue),A.prototype._stateBeforeCdata5=ie("A",v,ue),A.prototype._stateBeforeCdata6=function(ze){ze==="["?(this._state=$,this._sectionStart=this._index+1):(this._state=ue,this._index--)},A.prototype._stateInCdata=function(ze){ze==="]"&&(this._state=ae)},A.prototype._stateAfterCdata1=function(ze,Ee){return function(Ne){Ne===ze&&(this._state=Ee)}}("]",K),A.prototype._stateAfterCdata2=function(ze){ze===">"?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=j,this._sectionStart=this._index+1):ze!=="]"&&(this._state=$)},A.prototype._stateBeforeSpecial=function(ze){ze==="c"||ze==="C"?this._state=h:ze==="t"||ze==="T"?this._state=le:(this._state=f,this._index--)},A.prototype._stateBeforeSpecialEnd=function(ze){this._special!==Lt||ze!=="c"&&ze!=="C"?this._special!==Ft||ze!=="t"&&ze!=="T"?this._state=j:this._state=de:this._state=u},A.prototype._stateBeforeScript1=s("R",z),A.prototype._stateBeforeScript2=s("I",R),A.prototype._stateBeforeScript3=s("P",T),A.prototype._stateBeforeScript4=s("T",P),A.prototype._stateBeforeScript5=function(ze){(ze==="/"||ze===">"||ge(ze))&&(this._special=Lt),this._state=f,this._index--},A.prototype._stateAfterScript1=ie("R",ee,j),A.prototype._stateAfterScript2=ie("I",q,j),A.prototype._stateAfterScript3=ie("P",C,j),A.prototype._stateAfterScript4=ie("T",D,j),A.prototype._stateAfterScript5=function(ze){ze===">"||ge(ze)?(this._special=Bt,this._state=w,this._sectionStart=this._index-6,this._index--):this._state=j},A.prototype._stateBeforeStyle1=s("Y",be),A.prototype._stateBeforeStyle2=s("L",I),A.prototype._stateBeforeStyle3=s("E",oe),A.prototype._stateBeforeStyle4=function(ze){(ze==="/"||ze===">"||ge(ze))&&(this._special=Ft),this._state=f,this._index--},A.prototype._stateAfterStyle1=ie("Y",Oe,j),A.prototype._stateAfterStyle2=ie("L",we,j),A.prototype._stateAfterStyle3=ie("E",Se,j),A.prototype._stateAfterStyle4=function(ze){ze===">"||ge(ze)?(this._special=Bt,this._state=w,this._sectionStart=this._index-5,this._index--):this._state=j},A.prototype._stateBeforeEntity=ie("#",Ie,Xe),A.prototype._stateBeforeNumericEntity=ie("X",gt,tt),A.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var ze=this._buffer.substring(this._sectionStart+1,this._index),Ee=this._xmlMode?k:S;Ee.hasOwnProperty(ze)&&(this._emitPartial(Ee[ze]),this._sectionStart=this._index+1)}},A.prototype._parseLegacyEntity=function(){var ze=this._sectionStart+1,Ee=this._index-ze;for(Ee>6&&(Ee=6);Ee>=2;){var Ne=this._buffer.substr(ze,Ee);if(p.hasOwnProperty(Ne))return this._emitPartial(p[Ne]),void(this._sectionStart+=Ee+1);Ee--}},A.prototype._stateInNamedEntity=function(ze){ze===";"?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(ze<"a"||ze>"z")&&(ze<"A"||ze>"Z")&&(ze<"0"||ze>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==j?ze!=="="&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},A.prototype._decodeNumericEntity=function(ze,Ee){var Ne=this._sectionStart+ze;if(Ne!==this._index){var We=this._buffer.substring(Ne,this._index),it=parseInt(We,Ee);this._emitPartial(U(it)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},A.prototype._stateInNumericEntity=function(ze){ze===";"?(this._decodeNumericEntity(2,10),this._sectionStart++):(ze<"0"||ze>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},A.prototype._stateInHexEntity=function(ze){ze===";"?(this._decodeNumericEntity(3,16),this._sectionStart++):(ze<"a"||ze>"f")&&(ze<"A"||ze>"F")&&(ze<"0"||ze>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},A.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===j?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},A.prototype.write=function(ze){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=ze,this._parse()},A.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var ze=this._buffer.charAt(this._index);this._state===j?this._stateText(ze):this._state===_?this._stateBeforeTagName(ze):this._state===f?this._stateInTagName(ze):this._state===m?this._stateBeforeCloseingTagName(ze):this._state===w?this._stateInCloseingTagName(ze):this._state===E?this._stateAfterCloseingTagName(ze):this._state===c?this._stateInSelfClosingTag(ze):this._state===Z?this._stateBeforeAttributeName(ze):this._state===Q?this._stateInAttributeName(ze):this._state===J?this._stateAfterAttributeName(ze):this._state===te?this._stateBeforeAttributeValue(ze):this._state===X?this._stateInAttributeValueDoubleQuotes(ze):this._state===V?this._stateInAttributeValueSingleQuotes(ze):this._state===se?this._stateInAttributeValueNoQuotes(ze):this._state===ve?this._stateBeforeDeclaration(ze):this._state===ue?this._stateInDeclaration(ze):this._state===M?this._stateInProcessingInstruction(ze):this._state===L?this._stateBeforeComment(ze):this._state===F?this._stateInComment(ze):this._state===re?this._stateAfterComment1(ze):this._state===ne?this._stateAfterComment2(ze):this._state===H?this._stateBeforeCdata1(ze):this._state===Y?this._stateBeforeCdata2(ze):this._state===l?this._stateBeforeCdata3(ze):this._state===y?this._stateBeforeCdata4(ze):this._state===g?this._stateBeforeCdata5(ze):this._state===v?this._stateBeforeCdata6(ze):this._state===$?this._stateInCdata(ze):this._state===ae?this._stateAfterCdata1(ze):this._state===K?this._stateAfterCdata2(ze):this._state===N?this._stateBeforeSpecial(ze):this._state===b?this._stateBeforeSpecialEnd(ze):this._state===h?this._stateBeforeScript1(ze):this._state===z?this._stateBeforeScript2(ze):this._state===R?this._stateBeforeScript3(ze):this._state===T?this._stateBeforeScript4(ze):this._state===P?this._stateBeforeScript5(ze):this._state===u?this._stateAfterScript1(ze):this._state===ee?this._stateAfterScript2(ze):this._state===q?this._stateAfterScript3(ze):this._state===C?this._stateAfterScript4(ze):this._state===D?this._stateAfterScript5(ze):this._state===le?this._stateBeforeStyle1(ze):this._state===be?this._stateBeforeStyle2(ze):this._state===I?this._stateBeforeStyle3(ze):this._state===oe?this._stateBeforeStyle4(ze):this._state===de?this._stateAfterStyle1(ze):this._state===Oe?this._stateAfterStyle2(ze):this._state===we?this._stateAfterStyle3(ze):this._state===Se?this._stateAfterStyle4(ze):this._state===xe?this._stateBeforeEntity(ze):this._state===Ie?this._stateBeforeNumericEntity(ze):this._state===Xe?this._stateInNamedEntity(ze):this._state===tt?this._stateInNumericEntity(ze):this._state===gt?this._stateInHexEntity(ze):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},A.prototype.pause=function(){this._running=!1},A.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},A.prototype.end=function(ze){this._ended&&this._cbs.onerror(Error(".end() after done!")),ze&&this.write(ze),this._ended=!0,this._running&&this._finish()},A.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},A.prototype._handleTrailingData=function(){var ze=this._buffer.substr(this._sectionStart);this._state===$||this._state===ae||this._state===K?this._cbs.oncdata(ze):this._state===F||this._state===re||this._state===ne?this._cbs.oncomment(ze):this._state!==Xe||this._xmlMode?this._state!==tt||this._xmlMode?this._state!==gt||this._xmlMode?this._state!==f&&this._state!==Z&&this._state!==te&&this._state!==J&&this._state!==Q&&this._state!==V&&this._state!==X&&this._state!==se&&this._state!==w&&this._cbs.ontext(ze):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},A.prototype.reset=function(){A.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},A.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},A.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},A.prototype._emitToken=function(ze){this._cbs[ze](this._getSection()),this._sectionStart=-1},A.prototype._emitPartial=function(ze){this._baseState!==j?this._cbs.onattribdata(ze):this._cbs.ontext(ze)}},function(Ye,Te,je){function ge(s){if(s>=55296&&s<=57343||s>1114111)return"\uFFFD";s in ie&&(s=ie[s]);var A="";return s>65535&&(s-=65536,A+=String.fromCharCode(s>>>10&1023|55296),s=56320|1023&s),A+=String.fromCharCode(s)}var ie=je(57);Ye.exports=ge},function(Ye,Te){Ye.exports={Aacute:"\xC1",aacute:"\xE1",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",AElig:"\xC6",aelig:"\xE6",Agrave:"\xC0",agrave:"\xE0",amp:"&",AMP:"&",Aring:"\xC5",aring:"\xE5",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",brvbar:"\xA6",Ccedil:"\xC7",ccedil:"\xE7",cedil:"\xB8",cent:"\xA2",copy:"\xA9",COPY:"\xA9",curren:"\xA4",deg:"\xB0",divide:"\xF7",Eacute:"\xC9",eacute:"\xE9",Ecirc:"\xCA",ecirc:"\xEA",Egrave:"\xC8",egrave:"\xE8",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",frac12:"\xBD",frac14:"\xBC",frac34:"\xBE",gt:">",GT:">",Iacute:"\xCD",iacute:"\xED",Icirc:"\xCE",icirc:"\xEE",iexcl:"\xA1",Igrave:"\xCC",igrave:"\xEC",iquest:"\xBF",Iuml:"\xCF",iuml:"\xEF",laquo:"\xAB",lt:"<",LT:"<",macr:"\xAF",micro:"\xB5",middot:"\xB7",nbsp:"\xA0",not:"\xAC",Ntilde:"\xD1",ntilde:"\xF1",Oacute:"\xD3",oacute:"\xF3",Ocirc:"\xD4",ocirc:"\xF4",Ograve:"\xD2",ograve:"\xF2",ordf:"\xAA",ordm:"\xBA",Oslash:"\xD8",oslash:"\xF8",Otilde:"\xD5",otilde:"\xF5",Ouml:"\xD6",ouml:"\xF6",para:"\xB6",plusmn:"\xB1",pound:"\xA3",quot:'"',QUOT:'"',raquo:"\xBB",reg:"\xAE",REG:"\xAE",sect:"\xA7",shy:"\xAD",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",szlig:"\xDF",THORN:"\xDE",thorn:"\xFE",times:"\xD7",Uacute:"\xDA",uacute:"\xFA",Ucirc:"\xDB",ucirc:"\xFB",Ugrave:"\xD9",ugrave:"\xF9",uml:"\xA8",Uuml:"\xDC",uuml:"\xFC",Yacute:"\xDD",yacute:"\xFD",yen:"\xA5",yuml:"\xFF"}},function(Ye,Te){Ye.exports={get firstChild(){var ie=this.children;return ie&&ie[0]||null},get lastChild(){var ie=this.children;return ie&&ie[ie.length-1]||null},get nodeType(){return ge[this.type]||ge.element}};var je={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},ge={element:1,text:3,cdata:4,comment:8};Object.keys(je).forEach(function(ie){je[ie]})},function(Ye,Te,je){function ge(S,p){var k=this._parser=new ie(S,p),d=this._decoder=new A;s.call(this,{decodeStrings:!1}),this.once("finish",function(){k.end(d.end())})}Ye.exports=ge;var ie=je(30),s=je(62).Writable||je(74).Writable,A=je(22).StringDecoder,U=je(12).Buffer;je(1)(ge,s),s.prototype._write=function(S,p,k){S instanceof U&&(S=this._decoder.write(S)),this._parser.write(S),k()}},function(Ye,Te,je){(function(ge,ie){function s(P){return v.from(P)}function A(P){return v.isBuffer(P)||P instanceof $}function U(P,u,ee){if(typeof P.prependListener=="function")return P.prependListener(u,ee);P._events&&P._events[u]?l(P._events[u])?P._events[u].unshift(ee):P._events[u]=[ee,P._events[u]]:P.on(u,ee)}function S(P,u){Y=Y||je(2),P=P||{};var ee=u instanceof Y;this.objectMode=!!P.objectMode,ee&&(this.objectMode=this.objectMode||!!P.readableObjectMode);var q=P.highWaterMark,C=P.readableHighWaterMark,D=this.objectMode?16:16384;this.highWaterMark=q||q===0?q:ee&&(C||C===0)?C:D,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=P.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,P.encoding&&(b||(b=je(22).StringDecoder),this.decoder=new b(P.encoding),this.encoding=P.encoding)}function p(P){if(Y=Y||je(2),!(this instanceof p))return new p(P);this._readableState=new S(P,this),this.readable=!0,P&&(typeof P.read=="function"&&(this._read=P.read),typeof P.destroy=="function"&&(this._destroy=P.destroy)),g.call(this)}function k(P,u,ee,q,C){var D=P._readableState;if(u===null)D.reading=!1,m(P,D);else{var le;C||(le=j(D,u)),le?P.emit("error",le):D.objectMode||u&&u.length>0?(typeof u=="string"||D.objectMode||Object.getPrototypeOf(u)===v.prototype||(u=s(u)),q?D.endEmitted?P.emit("error",new Error("stream.unshift() after end event")):d(P,D,u,!0):D.ended?P.emit("error",new Error("stream.push() after EOF")):(D.reading=!1,D.decoder&&!ee?(u=D.decoder.write(u),D.objectMode||u.length!==0?d(P,D,u,!1):Z(P,D)):d(P,D,u,!1))):q||(D.reading=!1)}return _(D)}function d(P,u,ee,q){u.flowing&&u.length===0&&!u.sync?(P.emit("data",ee),P.read(0)):(u.length+=u.objectMode?1:ee.length,q?u.buffer.unshift(ee):u.buffer.push(ee),u.needReadable&&w(P)),Z(P,u)}function j(P,u){var ee;return A(u)||typeof u=="string"||u===void 0||P.objectMode||(ee=new TypeError("Invalid non-string/buffer chunk")),ee}function _(P){return!P.ended&&(P.needReadable||P.length<P.highWaterMark||P.length===0)}function f(P){return P>=T?P=T:(P--,P|=P>>>1,P|=P>>>2,P|=P>>>4,P|=P>>>8,P|=P>>>16,P++),P}function c(P,u){return P<=0||u.length===0&&u.ended?0:u.objectMode?1:P!==P?u.flowing&&u.length?u.buffer.head.data.length:u.length:(P>u.highWaterMark&&(u.highWaterMark=f(P)),P<=u.length?P:u.ended?u.length:(u.needReadable=!0,0))}function m(P,u){if(!u.ended){if(u.decoder){var ee=u.decoder.end();ee&&ee.length&&(u.buffer.push(ee),u.length+=u.objectMode?1:ee.length)}u.ended=!0,w(P)}}function w(P){var u=P._readableState;u.needReadable=!1,u.emittedReadable||(N("emitReadable",u.flowing),u.emittedReadable=!0,u.sync?H.nextTick(E,P):E(P))}function E(P){N("emit readable"),P.emit("readable"),se(P)}function Z(P,u){u.readingMore||(u.readingMore=!0,H.nextTick(Q,P,u))}function Q(P,u){for(var ee=u.length;!u.reading&&!u.flowing&&!u.ended&&u.length<u.highWaterMark&&(N("maybeReadMore read 0"),P.read(0),ee!==u.length);)ee=u.length;u.readingMore=!1}function J(P){return function(){var u=P._readableState;N("pipeOnDrain",u.awaitDrain),u.awaitDrain&&u.awaitDrain--,u.awaitDrain===0&&y(P,"data")&&(u.flowing=!0,se(P))}}function te(P){N("readable nexttick read 0"),P.read(0)}function X(P,u){u.resumeScheduled||(u.resumeScheduled=!0,H.nextTick(V,P,u))}function V(P,u){u.reading||(N("resume read 0"),P.read(0)),u.resumeScheduled=!1,u.awaitDrain=0,P.emit("resume"),se(P),u.flowing&&!u.reading&&P.read(0)}function se(P){var u=P._readableState;for(N("flow",u.flowing);u.flowing&&P.read()!==null;);}function ve(P,u){if(u.length===0)return null;var ee;return u.objectMode?ee=u.buffer.shift():!P||P>=u.length?(ee=u.decoder?u.buffer.join(""):u.buffer.length===1?u.buffer.head.data:u.buffer.concat(u.length),u.buffer.clear()):ee=ue(P,u.buffer,u.decoder),ee}function ue(P,u,ee){var q;return P<u.head.data.length?(q=u.head.data.slice(0,P),u.head.data=u.head.data.slice(P)):q=P===u.head.data.length?u.shift():ee?M(P,u):L(P,u),q}function M(P,u){var ee=u.head,q=1,C=ee.data;for(P-=C.length;ee=ee.next;){var D=ee.data,le=P>D.length?D.length:P;if(le===D.length?C+=D:C+=D.slice(0,P),(P-=le)===0){le===D.length?(++q,ee.next?u.head=ee.next:u.head=u.tail=null):(u.head=ee,ee.data=D.slice(le));break}++q}return u.length-=q,C}function L(P,u){var ee=v.allocUnsafe(P),q=u.head,C=1;for(q.data.copy(ee),P-=q.data.length;q=q.next;){var D=q.data,le=P>D.length?D.length:P;if(D.copy(ee,ee.length-P,0,le),(P-=le)===0){le===D.length?(++C,q.next?u.head=q.next:u.head=u.tail=null):(u.head=q,q.data=D.slice(le));break}++C}return u.length-=C,ee}function F(P){var u=P._readableState;if(u.length>0)throw new Error('"endReadable()" called on non-empty stream');u.endEmitted||(u.ended=!0,H.nextTick(re,u,P))}function re(P,u){P.endEmitted||P.length!==0||(P.endEmitted=!0,u.readable=!1,u.emit("end"))}function ne(P,u){for(var ee=0,q=P.length;ee<q;ee++)if(P[ee]===u)return ee;return-1}var H=je(14);Ye.exports=p;var Y,l=je(29);p.ReadableState=S;var y=(je(13).EventEmitter,function(P,u){return P.listeners(u).length}),g=je(37),v=je(15).Buffer,$=ge.Uint8Array||function(){},ae=je(8);ae.inherits=je(1);var K=je(63),N=void 0;N=K&&K.debuglog?K.debuglog("stream"):function(){};var b,h=je(64),z=je(38);ae.inherits(p,g);var R=["error","close","destroy","pause","resume"];Object.defineProperty(p.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(P){this._readableState&&(this._readableState.destroyed=P)}}),p.prototype.destroy=z.destroy,p.prototype._undestroy=z.undestroy,p.prototype._destroy=function(P,u){this.push(null),u(P)},p.prototype.push=function(P,u){var ee,q=this._readableState;return q.objectMode?ee=!0:typeof P=="string"&&(u=u||q.defaultEncoding,u!==q.encoding&&(P=v.from(P,u),u=""),ee=!0),k(this,P,u,!1,ee)},p.prototype.unshift=function(P){return k(this,P,null,!0,!1)},p.prototype.isPaused=function(){return this._readableState.flowing===!1},p.prototype.setEncoding=function(P){return b||(b=je(22).StringDecoder),this._readableState.decoder=new b(P),this._readableState.encoding=P,this};var T=8388608;p.prototype.read=function(P){N("read",P),P=parseInt(P,10);var u=this._readableState,ee=P;if(P!==0&&(u.emittedReadable=!1),P===0&&u.needReadable&&(u.length>=u.highWaterMark||u.ended))return N("read: emitReadable",u.length,u.ended),u.length===0&&u.ended?F(this):w(this),null;if((P=c(P,u))===0&&u.ended)return u.length===0&&F(this),null;var q=u.needReadable;N("need readable",q),(u.length===0||u.length-P<u.highWaterMark)&&(q=!0,N("length less than watermark",q)),u.ended||u.reading?(q=!1,N("reading or ended",q)):q&&(N("do read"),u.reading=!0,u.sync=!0,u.length===0&&(u.needReadable=!0),this._read(u.highWaterMark),u.sync=!1,u.reading||(P=c(ee,u)));var C;return C=P>0?ve(P,u):null,C===null?(u.needReadable=!0,P=0):u.length-=P,u.length===0&&(u.ended||(u.needReadable=!0),ee!==P&&u.ended&&F(this)),C!==null&&this.emit("data",C),C},p.prototype._read=function(P){this.emit("error",new Error("_read() is not implemented"))},p.prototype.pipe=function(P,u){function ee(tt,gt){N("onunpipe"),tt===de&&gt&&gt.hasUnpiped===!1&&(gt.hasUnpiped=!0,C())}function q(){N("onend"),P.end()}function C(){N("cleanup"),P.removeListener("close",be),P.removeListener("finish",I),P.removeListener("drain",xe),P.removeListener("error",le),P.removeListener("unpipe",ee),de.removeListener("end",q),de.removeListener("end",oe),de.removeListener("data",D),Ie=!0,!Oe.awaitDrain||P._writableState&&!P._writableState.needDrain||xe()}function D(tt){N("ondata"),Xe=!1,P.write(tt)!==!1||Xe||((Oe.pipesCount===1&&Oe.pipes===P||Oe.pipesCount>1&&ne(Oe.pipes,P)!==-1)&&!Ie&&(N("false write response, pause",de._readableState.awaitDrain),de._readableState.awaitDrain++,Xe=!0),de.pause())}function le(tt){N("onerror",tt),oe(),P.removeListener("error",le),y(P,"error")===0&&P.emit("error",tt)}function be(){P.removeListener("finish",I),oe()}function I(){N("onfinish"),P.removeListener("close",be),oe()}function oe(){N("unpipe"),de.unpipe(P)}var de=this,Oe=this._readableState;switch(Oe.pipesCount){case 0:Oe.pipes=P;break;case 1:Oe.pipes=[Oe.pipes,P];break;default:Oe.pipes.push(P)}Oe.pipesCount+=1,N("pipe count=%d opts=%j",Oe.pipesCount,u);var we=(!u||u.end!==!1)&&P!==ie.stdout&&P!==ie.stderr,Se=we?q:oe;Oe.endEmitted?H.nextTick(Se):de.once("end",Se),P.on("unpipe",ee);var xe=J(de);P.on("drain",xe);var Ie=!1,Xe=!1;return de.on("data",D),U(P,"error",le),P.once("close",be),P.once("finish",I),P.emit("pipe",de),Oe.flowing||(N("pipe resume"),de.resume()),P},p.prototype.unpipe=function(P){var u=this._readableState,ee={hasUnpiped:!1};if(u.pipesCount===0)return this;if(u.pipesCount===1)return P&&P!==u.pipes?this:(P||(P=u.pipes),u.pipes=null,u.pipesCount=0,u.flowing=!1,P&&P.emit("unpipe",this,ee),this);if(!P){var q=u.pipes,C=u.pipesCount;u.pipes=null,u.pipesCount=0,u.flowing=!1;for(var D=0;D<C;D++)q[D].emit("unpipe",this,ee);return this}var le=ne(u.pipes,P);return le===-1?this:(u.pipes.splice(le,1),u.pipesCount-=1,u.pipesCount===1&&(u.pipes=u.pipes[0]),P.emit("unpipe",this,ee),this)},p.prototype.on=function(P,u){var ee=g.prototype.on.call(this,P,u);if(P==="data")this._readableState.flowing!==!1&&this.resume();else if(P==="readable"){var q=this._readableState;q.endEmitted||q.readableListening||(q.readableListening=q.needReadable=!0,q.emittedReadable=!1,q.reading?q.length&&w(this):H.nextTick(te,this))}return ee},p.prototype.addListener=p.prototype.on,p.prototype.resume=function(){var P=this._readableState;return P.flowing||(N("resume"),P.flowing=!0,X(this,P)),this},p.prototype.pause=function(){return N("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(N("pause"),this._readableState.flowing=!1,this.emit("pause")),this},p.prototype.wrap=function(P){var u=this,ee=this._readableState,q=!1;P.on("end",function(){if(N("wrapped end"),ee.decoder&&!ee.ended){var le=ee.decoder.end();le&&le.length&&u.push(le)}u.push(null)}),P.on("data",function(le){N("wrapped data"),ee.decoder&&(le=ee.decoder.write(le)),(!ee.objectMode||le!=null)&&(ee.objectMode||le&&le.length)&&(u.push(le)||(q=!0,P.pause()))});for(var C in P)this[C]===void 0&&typeof P[C]=="function"&&(this[C]=function(le){return function(){return P[le].apply(P,arguments)}}(C));for(var D=0;D<R.length;D++)P.on(R[D],this.emit.bind(this,R[D]));return this._read=function(le){N("wrapped _read",le),q&&(q=!1,P.resume())},this},Object.defineProperty(p.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),p._fromList=ve}).call(Te,je(0),je(7))},function(Ye,Te,je){Ye.exports=je(13).EventEmitter},function(Ye,Te,je){function ge(U,S){var p=this,k=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return k||d?(S?S(U):!U||this._writableState&&this._writableState.errorEmitted||A.nextTick(s,this,U),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(U||null,function(j){!S&&j?(A.nextTick(s,p,j),p._writableState&&(p._writableState.errorEmitted=!0)):S&&S(j)}),this)}function ie(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(U,S){U.emit("error",S)}var A=je(14);Ye.exports={destroy:ge,undestroy:ie}},function(Ye,Te,je){function ge(p,k){var d=this._transformState;d.transforming=!1;var j=d.writecb;if(!j)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,k!=null&&this.push(k),j(p);var _=this._readableState;_.reading=!1,(_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}function ie(p){if(!(this instanceof ie))return new ie(p);U.call(this,p),this._transformState={afterTransform:ge.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",s)}function s(){var p=this;typeof this._flush=="function"?this._flush(function(k,d){A(p,k,d)}):A(this,null,null)}function A(p,k,d){if(k)return p.emit("error",k);if(d!=null&&p.push(d),p._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(p._transformState.transforming)throw new Error("Calling transform done when still transforming");return p.push(null)}Ye.exports=ie;var U=je(2),S=je(8);S.inherits=je(1),S.inherits(ie,U),ie.prototype.push=function(p,k){return this._transformState.needTransform=!1,U.prototype.push.call(this,p,k)},ie.prototype._transform=function(p,k,d){throw new Error("_transform() is not implemented")},ie.prototype._write=function(p,k,d){var j=this._transformState;if(j.writecb=d,j.writechunk=p,j.writeencoding=k,!j.transforming){var _=this._readableState;(j.needTransform||_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}},ie.prototype._read=function(p){var k=this._transformState;k.writechunk!==null&&k.writecb&&!k.transforming?(k.transforming=!0,this._transform(k.writechunk,k.writeencoding,k.afterTransform)):k.needTransform=!0},ie.prototype._destroy=function(p,k){var d=this;U.prototype._destroy.call(this,p,function(j){k(j),d.emit("close")})}},function(Ye,Te){function je(Y,l,y){switch(y.length){case 0:return Y.call(l);case 1:return Y.call(l,y[0]);case 2:return Y.call(l,y[0],y[1]);case 3:return Y.call(l,y[0],y[1],y[2])}return Y.apply(l,y)}function ge(Y,l){for(var y=-1,g=Array(Y);++y<Y;)g[y]=l(y);return g}function ie(Y,l){var y=ne(Y)||f(Y)?ge(Y.length,String):[],g=y.length,v=!!g;for(var $ in Y)!l&&!M.call(Y,$)||v&&($=="length"||p($,g))||y.push($);return y}function s(Y,l,y){var g=Y[l];M.call(Y,l)&&_(g,y)&&(y!==void 0||l in Y)||(Y[l]=y)}function A(Y){if(!Z(Y))return j(Y);var l=d(Y),y=[];for(var g in Y)(g!="constructor"||!l&&M.call(Y,g))&&y.push(g);return y}function U(Y,l){return l=re(l===void 0?Y.length-1:l,0),function(){for(var y=arguments,g=-1,v=re(y.length-l,0),$=Array(v);++g<v;)$[g]=y[l+g];g=-1;for(var ae=Array(l+1);++g<l;)ae[g]=y[g];return ae[l]=$,je(Y,this,ae)}}function S(Y,l,y,g){y||(y={});for(var v=-1,$=l.length;++v<$;){var ae=l[v],K=g?g(y[ae],Y[ae],ae,y,Y):void 0;s(y,ae,K===void 0?Y[ae]:K)}return y}function p(Y,l){return!!(l=l==null?te:l)&&(typeof Y=="number"||ve.test(Y))&&Y>-1&&Y%1==0&&Y<l}function k(Y,l,y){if(!Z(y))return!1;var g=typeof l;return!!(g=="number"?c(y)&&p(l,y.length):g=="string"&&l in y)&&_(y[l],Y)}function d(Y){var l=Y&&Y.constructor;return Y===(typeof l=="function"&&l.prototype||ue)}function j(Y){var l=[];if(Y!=null)for(var y in Object(Y))l.push(y);return l}function _(Y,l){return Y===l||Y!==Y&&l!==l}function f(Y){return m(Y)&&M.call(Y,"callee")&&(!F.call(Y,"callee")||L.call(Y)==X)}function c(Y){return Y!=null&&E(Y.length)&&!w(Y)}function m(Y){return Q(Y)&&c(Y)}function w(Y){var l=Z(Y)?L.call(Y):"";return l==V||l==se}function E(Y){return typeof Y=="number"&&Y>-1&&Y%1==0&&Y<=te}function Z(Y){var l=typeof Y;return!!Y&&(l=="object"||l=="function")}function Q(Y){return!!Y&&typeof Y=="object"}function J(Y){return c(Y)?ie(Y,!0):A(Y)}var te=9007199254740991,X="[object Arguments]",V="[object Function]",se="[object GeneratorFunction]",ve=/^(?:0|[1-9]\d*)$/,ue=Object.prototype,M=ue.hasOwnProperty,L=ue.toString,F=ue.propertyIsEnumerable,re=Math.max,ne=Array.isArray,H=function(Y){return U(function(l,y){var g=-1,v=y.length,$=v>1?y[v-1]:void 0,ae=v>2?y[2]:void 0;for($=Y.length>3&&typeof $=="function"?(v--,$):void 0,ae&&k(y[0],y[1],ae)&&($=v<3?void 0:$,v=1),l=Object(l);++g<v;){var K=y[g];K&&Y(l,K,g,$)}return l})}(function(Y,l){S(l,J(l),Y)});Ye.exports=H},function(Ye,Te){function je(y,g,v){switch(v.length){case 0:return y.call(g);case 1:return y.call(g,v[0]);case 2:return y.call(g,v[0],v[1]);case 3:return y.call(g,v[0],v[1],v[2])}return y.apply(g,v)}function ge(y,g){for(var v=-1,$=Array(y);++v<y;)$[v]=g(v);return $}function ie(y,g){var v=H(y)||c(y)?ge(y.length,String):[],$=v.length,ae=!!$;for(var K in y)!g&&!L.call(y,K)||ae&&(K=="length"||k(K,$))||v.push(K);return v}function s(y,g,v,$){return y===void 0||f(y,M[v])&&!L.call($,v)?g:y}function A(y,g,v){var $=y[g];L.call(y,g)&&f($,v)&&(v!==void 0||g in y)||(y[g]=v)}function U(y){if(!Q(y))return _(y);var g=j(y),v=[];for(var $ in y)($!="constructor"||!g&&L.call(y,$))&&v.push($);return v}function S(y,g){return g=ne(g===void 0?y.length-1:g,0),function(){for(var v=arguments,$=-1,ae=ne(v.length-g,0),K=Array(ae);++$<ae;)K[$]=v[g+$];$=-1;for(var N=Array(g+1);++$<g;)N[$]=v[$];return N[g]=K,je(y,this,N)}}function p(y,g,v,$){v||(v={});for(var ae=-1,K=g.length;++ae<K;){var N=g[ae],b=$?$(v[N],y[N],N,v,y):void 0;A(v,N,b===void 0?y[N]:b)}return v}function k(y,g){return!!(g=g==null?X:g)&&(typeof y=="number"||ue.test(y))&&y>-1&&y%1==0&&y<g}function d(y,g,v){if(!Q(v))return!1;var $=typeof g;return!!($=="number"?m(v)&&k(g,v.length):$=="string"&&g in v)&&f(v[g],y)}function j(y){var g=y&&y.constructor;return y===(typeof g=="function"&&g.prototype||M)}function _(y){var g=[];if(y!=null)for(var v in Object(y))g.push(v);return g}function f(y,g){return y===g||y!==y&&g!==g}function c(y){return w(y)&&L.call(y,"callee")&&(!re.call(y,"callee")||F.call(y)==V)}function m(y){return y!=null&&Z(y.length)&&!E(y)}function w(y){return J(y)&&m(y)}function E(y){var g=Q(y)?F.call(y):"";return g==se||g==ve}function Z(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=X}function Q(y){var g=typeof y;return!!y&&(g=="object"||g=="function")}function J(y){return!!y&&typeof y=="object"}function te(y){return m(y)?ie(y,!0):U(y)}var X=9007199254740991,V="[object Arguments]",se="[object Function]",ve="[object GeneratorFunction]",ue=/^(?:0|[1-9]\d*)$/,M=Object.prototype,L=M.hasOwnProperty,F=M.toString,re=M.propertyIsEnumerable,ne=Math.max,H=Array.isArray,Y=function(y){return S(function(g,v){var $=-1,ae=v.length,K=ae>1?v[ae-1]:void 0,N=ae>2?v[2]:void 0;for(K=y.length>3&&typeof K=="function"?(ae--,K):void 0,N&&d(v[0],v[1],N)&&(K=ae<3?void 0:K,ae=1),g=Object(g);++$<ae;){var b=v[$];b&&y(g,b,$,K)}return g})}(function(y,g,v,$){p(g,te(g),y,$)}),l=S(function(y){return y.push(void 0,s),je(Y,void 0,y)});Ye.exports=l},function(Ye,Te,je){function ge(E){return function(Z,Q,J){return typeof Z!="function"&&(Z=f(Z,J,Q)),Q=Array.isArray(Q)?d(Q):k(Q),E(Z,Q)}}function ie(E,Z,Q){return(typeof Z=="function"?Z:_(Z,Q))(E)}function s(E,Z,Q){return m(E,Z,Q)}Ye.exports=s;var A=je(26),U=je(4),S=U.findOne,p=U.findAll,k=U.getChildren,d=U.removeSubsets,j=je(10).falseFunc,_=je(91),f=_.compileUnsafe,c=_.compileToken,m=ge(function(E,Z){return E!==j&&Z&&Z.length!==0?p(E,Z):[]}),w=ge(function(E,Z){return E!==j&&Z&&Z.length!==0?S(E,Z):null});s.compile=_,s.filters=A.filters,s.pseudos=A.pseudos,s.selectAll=m,s.selectOne=w,s.is=ie,s.parse=_,s.iterate=m,s._compileUnsafe=f,s._compileToken=c},function(Ye,Te,je){var ge=je(4),ie=ge.hasAttrib,s=ge.getAttributeValue,A=je(10).falseFunc,U=/[-[\]{}()*+?.,\\^$|#\s]/g,S={__proto__:null,equals:function(p,k){var d=k.name,j=k.value;return k.ignoreCase?(j=j.toLowerCase(),function(_){var f=s(_,d);return f!=null&&f.toLowerCase()===j&&p(_)}):function(_){return s(_,d)===j&&p(_)}},hyphen:function(p,k){var d=k.name,j=k.value,_=j.length;return k.ignoreCase?(j=j.toLowerCase(),function(f){var c=s(f,d);return c!=null&&(c.length===_||c.charAt(_)==="-")&&c.substr(0,_).toLowerCase()===j&&p(f)}):function(f){var c=s(f,d);return c!=null&&c.substr(0,_)===j&&(c.length===_||c.charAt(_)==="-")&&p(f)}},element:function(p,k){var d=k.name,j=k.value;if(/\s/.test(j))return A;j=j.replace(U,"\\$&");var _="(?:^|\\s)"+j+"(?:$|\\s)",f=k.ignoreCase?"i":"",c=new RegExp(_,f);return function(m){var w=s(m,d);return w!=null&&c.test(w)&&p(m)}},exists:function(p,k){var d=k.name;return function(j){return ie(j,d)&&p(j)}},start:function(p,k){var d=k.name,j=k.value,_=j.length;return _===0?A:k.ignoreCase?(j=j.toLowerCase(),function(f){var c=s(f,d);return c!=null&&c.substr(0,_).toLowerCase()===j&&p(f)}):function(f){var c=s(f,d);return c!=null&&c.substr(0,_)===j&&p(f)}},end:function(p,k){var d=k.name,j=k.value,_=-j.length;return _===0?A:k.ignoreCase?(j=j.toLowerCase(),function(f){var c=s(f,d);return c!=null&&c.substr(_).toLowerCase()===j&&p(f)}):function(f){var c=s(f,d);return c!=null&&c.substr(_)===j&&p(f)}},any:function(p,k){var d=k.name,j=k.value;if(j==="")return A;if(k.ignoreCase){var _=new RegExp(j.replace(U,"\\$&"),"i");return function(f){var c=s(f,d);return c!=null&&_.test(c)&&p(f)}}return function(f){var c=s(f,d);return c!=null&&c.indexOf(j)>=0&&p(f)}},not:function(p,k){var d=k.name,j=k.value;return j===""?function(_){return!!s(_,d)&&p(_)}:k.ignoreCase?(j=j.toLowerCase(),function(_){var f=s(_,d);return f!=null&&f.toLowerCase()!==j&&p(_)}):function(_){return s(_,d)!==j&&p(_)}}};Ye.exports={compile:function(p,k,d){if(d&&d.strict&&(k.ignoreCase||k.action==="not"))throw SyntaxError("Unsupported attribute selector");return S[k.action](p,k)},rules:S}},function(Ye,Te){Ye.exports={universal:50,tag:30,attribute:1,pseudo:0,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1}},function(Ye,Te,je){function ge(s){function A(ne){return ne?te[te.length-1-ne]:J}function U(ne){return ne===S(1)}function S(ne){return s[E+(ne||1)]}function p(){var ne=te.pop();return J=te[te.length-1],ne}function k(ne){return J=ne,te.push(J),te.length}function d(ne){var H=J;return te[te.length-1]=J=ne,H}function j(ne){if((ne||1)==1)s[E]==`
`?(Q++,w=1):w++,E++;else{var H=s.slice(E,E+ne).split(`
`);H.length>1&&(Q+=H.length-1,w=1),w+=H[H.length-1].length,E+=ne}}function _(){X.end={line:Q,col:w},V.push(X),m="",X={}}function f(ne){X={type:ne,start:{line:Q,col:w}}}var c,m="",w=0,E=-1,Z=0,Q=1,J="before-selector",te=[J],X={},V=[],se=["media","keyframes",{name:"-webkit-keyframes",type:"keyframes",prefix:"-webkit-"},{name:"-moz-keyframes",type:"keyframes",prefix:"-moz-"},{name:"-ms-keyframes",type:"keyframes",prefix:"-ms-"},{name:"-o-keyframes",type:"keyframes",prefix:"-o-"},"font-face",{name:"import",state:"before-at-value"},{name:"charset",state:"before-at-value"},"supports","viewport",{name:"namespace",state:"before-at-value"},"document",{name:"-moz-document",type:"document",prefix:"-moz-"},"page"];for(ie;c=function(){return j(),s[E]}();)switch(c){case" ":switch(A()){case"selector":case"value":case"value-paren":case"at-group":case"at-value":case"comment":case"double-string":case"single-string":m+=c}break;case`
`:case"	":case"\r":case"\f":switch(A()){case"value":case"value-paren":case"at-group":case"comment":case"single-string":case"double-string":case"selector":m+=c;break;case"at-value":c===`
`&&(X.value=m.trim(),_(),p())}break;case":":switch(A()){case"name":X.name=m.trim(),m="",d("before-value");break;case"before-selector":m+=c,f("selector"),k("selector");break;case"before-value":d("value"),m+=c;break;default:m+=c}break;case";":switch(A()){case"name":case"before-value":case"value":m.trim().length>0&&(X.value=m.trim(),_()),d("before-name");break;case"value-paren":m+=c;break;case"at-value":X.value=m.trim(),_(),p();break;case"before-name":break;default:m+=c}break;case"{":switch(A()){case"selector":if(S(-1)==="\\"){m+=c;break}X.text=m.trim(),_(),d("before-name"),Z+=1;break;case"at-group":switch(X.name=m.trim(),X.type){case"font-face":case"viewport":case"page":k("before-name");break;default:k("before-selector")}_(),Z+=1;break;case"name":case"at-rule":X.name=m.trim(),_(),k("before-name"),Z+=1;break;case"comment":case"double-string":case"single-string":m+=c;break;case"before-value":d("value"),m+=c}break;case"}":switch(A()){case"before-name":case"name":case"before-value":case"value":m&&(X.value=m.trim()),X.name&&X.value&&_(),f("end"),_(),p(),A()==="at-group"&&(f("at-group-end"),_(),p()),Z>0&&(Z-=1);break;case"at-group":case"before-selector":case"selector":if(S(-1)==="\\"){m+=c;break}Z>0&&A(1)==="at-group"&&(f("at-group-end"),_()),Z>1&&p(),Z>0&&(Z-=1);break;case"double-string":case"single-string":case"comment":m+=c}break;case'"':case"'":switch(A()){case"double-string":c==='"'&&S(-1)!=="\\"&&p();break;case"single-string":c==="'"&&S(-1)!=="\\"&&p();break;case"before-at-value":d("at-value"),k(c==='"'?"double-string":"single-string");break;case"before-value":d("value"),k(c==='"'?"double-string":"single-string");break;case"comment":break;default:S(-1)!=="\\"&&k(c==='"'?"double-string":"single-string")}m+=c;break;case"/":switch(A()){case"comment":case"double-string":case"single-string":m+=c;break;case"before-value":case"selector":case"name":case"value":if(U("*")){var ve=function(ne){var H=s.slice(E).indexOf(ne);return H>0&&H}("*/");ve&&j(ve+1)}else A()=="before-value"&&d("value"),m+=c;break;default:U("*")?(f("comment"),k("comment"),j()):m+=c}break;case"*":switch(A()){case"comment":U("/")?(X.text=m,j(),_(),p()):m+=c;break;case"before-selector":m+=c,f("selector"),k("selector");break;case"before-value":d("value"),m+=c;break;default:m+=c}break;case"@":switch(A()){case"comment":case"double-string":case"single-string":m+=c;break;case"before-value":d("value"),m+=c;break;default:for(var ue,M,L=!1,F=0,re=se.length;!L&&F<re;++F)M=se[F],ue=M.name||M,function(ne){var H=E+1;return ne===s.slice(H,H+ne.length)}(ue)&&(L=!0,f(ue),k(M.state||"at-group"),j(ue.length),M.prefix&&(X.prefix=M.prefix),M.type&&(X.type=M.type));L||(m+=c)}break;case"(":switch(A()){case"value":k("value-paren");break;case"before-value":d("value")}m+=c;break;case")":switch(A()){case"value-paren":p();break;case"before-value":d("value")}m+=c;break;default:switch(A()){case"before-selector":f("selector"),k("selector");break;case"before-name":f("property"),d("name");break;case"before-value":d("value");break;case"before-at-value":d("at-value")}m+=c}return V}var ie=!1;je(28)("lex"),Ye.exports=ge},function(Ye,Te,je){Object.defineProperty(Te,"__esModule",{value:!0});var ge=je(47),ie=function(s){return s&&s.__esModule?s:{default:s}}(ge);Te.default=ie.default.plugins.add("gjs-preset-newsletter",function(s,A){var U=A||{},S=s.getConfig(),p=S.stylePrefix,k={editor:s,pfx:p||"",cmdOpenImport:"gjs-open-import-template",cmdTglImages:"gjs-toggle-images",cmdInlineHtml:"gjs-get-inlined-html",cmtTglImagesLabel:"Toggle Images",cmdBtnMoveLabel:"Move",cmdBtnUndoLabel:"Undo",cmdBtnRedoLabel:"Redo",cmdBtnDesktopLabel:"Desktop",cmdBtnTabletLabel:"Tablet",cmdBtnMobileLabel:"Mobile",modalTitleImport:"Import template",modalTitleExport:"Export template",modalLabelImport:"",modalLabelExport:"",modalBtnImport:"Import",codeViewerTheme:"hopscotch",openBlocksBtnTitle:U.openBlocksBtnTitle||"",openLayersBtnTitle:U.openLayersBtnTitle||"",openSmBtnTitle:U.openSmBtnTitle||"",openTmBtnTitle:U.openTmBtnTitle||"",expTplBtnTitle:U.expTplBtnTitle||"View Code",fullScrBtnTitle:U.fullScrBtnTitle||"FullScreen",swichtVwBtnTitle:U.swichtVwBtnTitle||"View Components",categoryLabel:U.categoryLabel||"",importPlaceholder:"",defaultTemplate:"",inlineCss:1,cellStyle:{padding:0,margin:0,"vertical-align":"top"},tableStyle:{height:"150px",margin:"0 auto 10px auto",padding:"5px 5px 5px 5px",width:"100%"},sect100BlkLabel:"1 Section",sect50BlkLabel:"1/2 Section",sect30BlkLabel:"1/3 Section",sect37BlkLabel:"3/7 Section",buttonBlkLabel:"Button",dividerBlkLabel:"Divider",textBlkLabel:"Text",textSectionBlkLabel:"Text Section",imageBlkLabel:"Image",quoteBlkLabel:"Quote",linkBlkLabel:"Link",linkBlockBlkLabel:"Link Block",gridItemsBlkLabel:"Grid Items",listItemsBlkLabel:"List Items",assetsModalTitle:U.assetsModalTitle||"Select image",styleManagerSectors:[{name:"Dimension",open:!1,buildProps:["width","height","max-width","min-height","margin","padding"],properties:[{property:"margin",properties:[{name:"Top",property:"margin-top"},{name:"Left",property:"margin-left"},{name:"Right",property:"margin-right"},{name:"Bottom",property:"margin-bottom"}]},{property:"padding",properties:[{name:"Top",property:"padding-top"},{name:"Right",property:"padding-right"},{name:"Bottom",property:"padding-bottom"},{name:"Left",property:"padding-left"}]}]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-decoration","font-style","vertical-align","text-shadow"],properties:[{name:"Font",property:"font-family"},{name:"Weight",property:"font-weight"},{name:"Font color",property:"color"},{property:"text-align",type:"radio",defaults:"left",list:[{value:"left",name:"Left",className:"fa fa-align-left"},{value:"center",name:"Center",className:"fa fa-align-center"},{value:"right",name:"Right",className:"fa fa-align-right"},{value:"justify",name:"Justify",className:"fa fa-align-justify"}]},{property:"text-decoration",type:"radio",defaults:"none",list:[{value:"none",name:"None",className:"fa fa-times"},{value:"underline",name:"underline",className:"fa fa-underline"},{value:"line-through",name:"Line-through",className:"fa fa-strikethrough"}]},{property:"font-style",type:"radio",defaults:"normal",list:[{value:"normal",name:"Normal",className:"fa fa-font"},{value:"italic",name:"Italic",className:"fa fa-italic"}]},{property:"vertical-align",type:"select",defaults:"baseline",list:[{value:"baseline"},{value:"top"},{value:"middle"},{value:"bottom"}]},{property:"text-shadow",properties:[{name:"X position",property:"text-shadow-h"},{name:"Y position",property:"text-shadow-v"},{name:"Blur",property:"text-shadow-blur"},{name:"Color",property:"text-shadow-color"}]}]},{name:"Decorations",open:!1,buildProps:["background-color","border-collapse","border-radius","border","background"],properties:[{property:"background-color",name:"Background"},{property:"border-radius",properties:[{name:"Top",property:"border-top-left-radius"},{name:"Right",property:"border-top-right-radius"},{name:"Bottom",property:"border-bottom-left-radius"},{name:"Left",property:"border-bottom-right-radius"}]},{property:"border-collapse",type:"radio",defaults:"separate",list:[{value:"separate",name:"No"},{value:"collapse",name:"Yes"}]},{property:"border",properties:[{name:"Width",property:"border-width",defaults:"0"},{name:"Style",property:"border-style"},{name:"Color",property:"border-color"}]},{property:"background",properties:[{name:"Image",property:"background-image"},{name:"Repeat",property:"background-repeat"},{name:"Position",property:"background-position"},{name:"Attachment",property:"background-attachment"},{name:"Size",property:"background-size"}]}]}]};S.devicePreviewMode=1;for(var d in k)d in U||(U[d]=k[d]);je(48)(U),je(115)(U),je(116)(U),je(117)(U),s.on("change:selectedComponent",function(){var j=s.Panels.getButton("views","open-layers");if((!j||!j.get("active"))&&s.editor.get("selectedComponent")){var _=s.Panels.getButton("views","open-sm");_.set("attributes",{title:k.openSmBtnTitle}),_&&_.set("active",1)}}),s.on("run:open-assets",function(){s.Modal.setTitle(k.assetsModalTitle)}),s.on("load",function(){s.Panels.getButton("options","export-template").set("attributes",{title:k.expTplBtnTitle}),s.Panels.getButton("options","fullscreen").set("attributes",{title:k.fullScrBtnTitle}),s.Panels.getButton("options","sw-visibility").set("attributes",{title:k.swichtVwBtnTitle}),s.Panels.getButton("views","open-sm").set("attributes",{title:k.openSmBtnTitle}),s.Panels.getButton("views","open-tm").set("attributes",{title:k.openTmBtnTitle}),s.Panels.getButton("views","open-layers").set("attributes",{title:k.openLayersBtnTitle});var j=s.Panels.getButton("views","open-blocks");j.set("attributes",{title:k.openBlocksBtnTitle}),j&&j.set("active",1)})})},function(Ye,Te){Ye.exports=Ir},function(Ye,Te,je){var ge,ie=je(49),s=function(A){return A&&A.__esModule?A:{default:A}}(ie);(ge=function(){return function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=A.editor,S=U.Commands,p=je(50),k=je(51);S.add(A.cmdOpenImport,p(A)),S.add(A.cmdTglImages,(0,s.default)(A)),U.on("load",function(){S.add("export-template",k(A))}),S.add("undo",{run:function(d,j){j.set("active",0),d.UndoManager.undo(1)}}),S.add("redo",{run:function(d,j){j.set("active",0),d.UndoManager.redo(1)}}),S.add("set-device-desktop",{run:function(d){d.setDevice("Desktop")}}),S.add("set-device-tablet",{run:function(d){d.setDevice("Tablet")}}),S.add("set-device-mobile",{run:function(d){d.setDevice("Mobile portrait")}})}}.call(Te,je,Te,Ye))!==void 0&&(Ye.exports=ge)},function(Ye,Te,je){Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=function(){var ge=function ie(s,A){s.each(function(U){if(U.get("type")==="image"){var S=U.get("src");A?S==="##"&&U.set("src",U.get("src_bkp")):S!=="##"&&(U.set("src_bkp",U.get("src")),U.set("src","##"))}ie(U.get("components"),A)})};return{run:function(ie){var s=ie.getComponents();ge(s)},stop:function(ie){var s=ie.getComponents();ge(s,1)}}}},function(Ye,Te,je){var ge;(ge=function(){return function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=ie.editor,A=s&&s.CodeManager.getViewer("CodeMirror").clone(),U=document.createElement("button"),S=document.createElement("div"),p=ie.pfx||"";return U.innerHTML=ie.modalBtnImport,U.className=p+"btn-prim "+p+"btn-import",U.onclick=function(){var k=A.editor.getValue();s.DomComponents.getWrapper().set("content",""),s.setComponents(k),s.Modal.close()},A.set({codeName:"htmlmixed",theme:ie.codeViewerTheme,readOnly:0}),{run:function(k,d){var j=k.Modal,_=(j.getContentEl(),A.editor);if(j.setTitle(ie.modalTitleImport),!_){var f=document.createElement("textarea");if(ie.modalLabelImport){var c=document.createElement("div");c.className=p+"import-label",c.innerHTML=ie.modalLabelImport,S.appendChild(c)}S.appendChild(f),S.appendChild(U),A.init(f),_=A.editor}j.setContent(""),j.setContent(S),A.setContent(ie.importPlaceholder||""),j.open(),_.refresh(),d&&d.set("active",0)}}}}.call(Te,je,Te,Ye))!==void 0&&(Ye.exports=ge)},function(Ye,Te,je){var ge;(ge=function(){var ie=je(52);return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=s.editor,U=A&&A.CodeManager.getViewer("CodeMirror").clone(),S=document.createElement("div"),p=s.pfx||"",k=A.Commands,d=s.juiceOpts||{};return U.set({codeName:"htmlmixed",theme:s.codeViewerTheme}),k.add(s.cmdInlineHtml,{run:function(j,_){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=j.getHtml()+"<style>"+j.getCss()+"</style>";return ie(c,f)}}),{run:function(j,_){var f=j.Modal,c=(f.getContentEl(),U.editor);if(f.setTitle(s.modalTitleExport),!c){var m=document.createElement("textarea");if(s.modalLabelExport){var w=document.createElement("div");w.className=p+"export-label",w.innerHTML=s.modalLabelExport,S.appendChild(w)}S.appendChild(m),U.init(m),c=U.editor,c.setOption("lineWrapping",1)}f.setContent(S);var E=j.getHtml()+"<style>"+j.getCss()+"</style>";U.setContent(s.inlineCss?ie(E,d):E),f.open(),c.refresh(),_&&_.set&&_.set("active",0)}}}}.call(Te,je,Te,Ye))!==void 0&&(Ye.exports=ge)},function(Ye,Te,je){var ge=je(53),ie=je(114),s=ie(function(U,S){return ge(U,{xmlMode:S&&S.xmlMode},A,[S])}),A=function(U,S){return s.juiceDocument(U,S)};s.inlineContent=function(U,S,p){return ge(U,{xmlMode:p&&p.xmlMode},s.inlineDocument,[S,p])},Ye.exports=s},function(Ye,Te,je){var ge=je(54),ie=je(27),s=function(U,S,p){return S=ie.extend({decodeEntities:!1},S||{}),U=p(U),ge.load(U,S)},A=function(){var U=[];return{encodeEntities:function(S){var p=Ye.exports.codeBlocks;return Object.keys(p).forEach(function(k){var d=new RegExp(p[k].start+"([\\S\\s]*?)"+p[k].end,"g");S=S.replace(d,function(j,_){return U.push(j),"JUICE_CODE_BLOCK_"+(U.length-1)+"_"})}),S},decodeEntities:function(S){for(var p=0;p<U.length;p++){var k=new RegExp("JUICE_CODE_BLOCK_"+p+'_(="")?',"gi");S=S.replace(k,function(){return U[p]})}return S}}};Ye.exports=function(U,S,p,k){var d=A(),j=s(U,S,d.encodeEntities),_=[j];_.push.apply(_,k);var f=p.apply(void 0,_)||j;return S&&S.xmlMode?f.xml():d.decodeEntities(f.html())},Ye.exports.codeBlocks={EJS:{start:"<%",end:"%>"},HBS:{start:"{{",end:"}}"}}},function(Ye,Te,je){Te=Ye.exports=je(17),Te.version=je(107).version},function(Ye,Te,je){function ge(m){var w=m.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=m.indexOf("=");return E===-1&&(E=w),[E,E===w?0:4-E%4]}function ie(m){var w=ge(m),E=w[0],Z=w[1];return 3*(E+Z)/4-Z}function s(m,w,E){return 3*(w+E)/4-E}function A(m){for(var w,E=ge(m),Z=E[0],Q=E[1],J=new j(s(m,Z,Q)),te=0,X=Q>0?Z-4:Z,V=0;V<X;V+=4)w=d[m.charCodeAt(V)]<<18|d[m.charCodeAt(V+1)]<<12|d[m.charCodeAt(V+2)]<<6|d[m.charCodeAt(V+3)],J[te++]=w>>16&255,J[te++]=w>>8&255,J[te++]=255&w;return Q===2&&(w=d[m.charCodeAt(V)]<<2|d[m.charCodeAt(V+1)]>>4,J[te++]=255&w),Q===1&&(w=d[m.charCodeAt(V)]<<10|d[m.charCodeAt(V+1)]<<4|d[m.charCodeAt(V+2)]>>2,J[te++]=w>>8&255,J[te++]=255&w),J}function U(m){return k[m>>18&63]+k[m>>12&63]+k[m>>6&63]+k[63&m]}function S(m,w,E){for(var Z,Q=[],J=w;J<E;J+=3)Z=(m[J]<<16&16711680)+(m[J+1]<<8&65280)+(255&m[J+2]),Q.push(U(Z));return Q.join("")}function p(m){for(var w,E=m.length,Z=E%3,Q=[],J=0,te=E-Z;J<te;J+=16383)Q.push(S(m,J,J+16383>te?te:J+16383));return Z===1?(w=m[E-1],Q.push(k[w>>2]+k[w<<4&63]+"==")):Z===2&&(w=(m[E-2]<<8)+m[E-1],Q.push(k[w>>10]+k[w>>4&63]+k[w<<2&63]+"=")),Q.join("")}Te.byteLength=ie,Te.toByteArray=A,Te.fromByteArray=p;for(var k=[],d=[],j=typeof Uint8Array!="undefined"?Uint8Array:Array,_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,c=_.length;f<c;++f)k[f]=_[f],d[_.charCodeAt(f)]=f;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63},function(Ye,Te){Te.read=function(je,ge,ie,s,A){var U,S,p=8*A-s-1,k=(1<<p)-1,d=k>>1,j=-7,_=ie?A-1:0,f=ie?-1:1,c=je[ge+_];for(_+=f,U=c&(1<<-j)-1,c>>=-j,j+=p;j>0;U=256*U+je[ge+_],_+=f,j-=8);for(S=U&(1<<-j)-1,U>>=-j,j+=s;j>0;S=256*S+je[ge+_],_+=f,j-=8);if(U===0)U=1-d;else{if(U===k)return S?NaN:1/0*(c?-1:1);S+=Math.pow(2,s),U-=d}return(c?-1:1)*S*Math.pow(2,U-s)},Te.write=function(je,ge,ie,s,A,U){var S,p,k,d=8*U-A-1,j=(1<<d)-1,_=j>>1,f=A===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=s?0:U-1,m=s?1:-1,w=ge<0||ge===0&&1/ge<0?1:0;for(ge=Math.abs(ge),isNaN(ge)||ge===1/0?(p=isNaN(ge)?1:0,S=j):(S=Math.floor(Math.log(ge)/Math.LN2),ge*(k=Math.pow(2,-S))<1&&(S--,k*=2),ge+=S+_>=1?f/k:f*Math.pow(2,1-_),ge*k>=2&&(S++,k/=2),S+_>=j?(p=0,S=j):S+_>=1?(p=(ge*k-1)*Math.pow(2,A),S+=_):(p=ge*Math.pow(2,_-1)*Math.pow(2,A),S=0));A>=8;je[ie+c]=255&p,c+=m,p/=256,A-=8);for(S=S<<A|p,d+=A;d>0;je[ie+c]=255&S,c+=m,S/=256,d-=8);je[ie+c-m]|=128*w}},function(Ye,Te){Ye.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(Ye,Te,je){function ge(p,k,d){typeof p=="object"?(d=k,k=p,p=null):typeof k=="function"&&(d=k,k=S),this._callback=p,this._options=k||S,this._elementCB=d,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var ie=je(6),s=/\s+/g,A=je(34),U=je(59),S={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};ge.prototype.onparserinit=function(p){this._parser=p},ge.prototype.onreset=function(){ge.call(this,this._callback,this._options,this._elementCB)},ge.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},ge.prototype._handleCallback=ge.prototype.onerror=function(p){if(typeof this._callback=="function")this._callback(p,this.dom);else if(p)throw p},ge.prototype.onclosetag=function(){var p=this._tagStack.pop();this._options.withEndIndices&&p&&(p.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(p)},ge.prototype._createDomElement=function(p){if(!this._options.withDomLvl1)return p;var k;k=p.type==="tag"?Object.create(U):Object.create(A);for(var d in p)p.hasOwnProperty(d)&&(k[d]=p[d]);return k},ge.prototype._addDomElement=function(p){var k=this._tagStack[this._tagStack.length-1],d=k?k.children:this.dom,j=d[d.length-1];p.next=null,this._options.withStartIndices&&(p.startIndex=this._parser.startIndex),this._options.withEndIndices&&(p.endIndex=this._parser.endIndex),j?(p.prev=j,j.next=p):p.prev=null,d.push(p),p.parent=k||null},ge.prototype.onopentag=function(p,k){var d={type:p==="script"?ie.Script:p==="style"?ie.Style:ie.Tag,name:p,attribs:k,children:[]},j=this._createDomElement(d);this._addDomElement(j),this._tagStack.push(j)},ge.prototype.ontext=function(p){var k,d=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(k=this.dom[this.dom.length-1]).type===ie.Text)d?k.data=(k.data+p).replace(s," "):k.data+=p;else if(this._tagStack.length&&(k=this._tagStack[this._tagStack.length-1])&&(k=k.children[k.children.length-1])&&k.type===ie.Text)d?k.data=(k.data+p).replace(s," "):k.data+=p;else{d&&(p=p.replace(s," "));var j=this._createDomElement({data:p,type:ie.Text});this._addDomElement(j)}},ge.prototype.oncomment=function(p){var k=this._tagStack[this._tagStack.length-1];if(k&&k.type===ie.Comment)return void(k.data+=p);var d={data:p,type:ie.Comment},j=this._createDomElement(d);this._addDomElement(j),this._tagStack.push(j)},ge.prototype.oncdatastart=function(){var p={children:[{data:"",type:ie.Text}],type:ie.CDATA},k=this._createDomElement(p);this._addDomElement(k),this._tagStack.push(k)},ge.prototype.oncommentend=ge.prototype.oncdataend=function(){this._tagStack.pop()},ge.prototype.onprocessinginstruction=function(p,k){var d=this._createDomElement({name:p,data:k,type:ie.Directive});this._addDomElement(d)},Ye.exports=ge},function(Ye,Te,je){var ge=je(34),ie=Ye.exports=Object.create(ge),s={tagName:"name"};Object.keys(s).forEach(function(A){var U=s[A];Object.defineProperty(ie,A,{get:function(){return this[U]||null},set:function(S){return this[U]=S,S}})})},function(Ye,Te,je){function ge(j,_){this.init(j,_)}function ie(j,_){return k.getElementsByTagName(j,_,!0)}function s(j,_){return k.getElementsByTagName(j,_,!0,1)[0]}function A(j,_,f){return k.getText(k.getElementsByTagName(j,_,f,1)).trim()}function U(j,_,f,c,m){var w=A(f,c,m);w&&(j[_]=w)}var S=je(3),p=S.DomHandler,k=S.DomUtils;je(1)(ge,p),ge.prototype.init=p;var d=function(j){return j==="rss"||j==="feed"||j==="rdf:RDF"};ge.prototype.onend=function(){var j,_,f={},c=s(d,this.dom);c&&(c.name==="feed"?(_=c.children,f.type="atom",U(f,"id","id",_),U(f,"title","title",_),(j=s("link",_))&&(j=j.attribs)&&(j=j.href)&&(f.link=j),U(f,"description","subtitle",_),(j=A("updated",_))&&(f.updated=new Date(j)),U(f,"author","email",_,!0),f.items=ie("entry",_).map(function(m){var w,E={};return m=m.children,U(E,"id","id",m),U(E,"title","title",m),(w=s("link",m))&&(w=w.attribs)&&(w=w.href)&&(E.link=w),(w=A("summary",m)||A("content",m))&&(E.description=w),(w=A("updated",m))&&(E.pubDate=new Date(w)),E})):(_=s("channel",c.children).children,f.type=c.name.substr(0,3),f.id="",U(f,"title","title",_),U(f,"link","link",_),U(f,"description","description",_),(j=A("lastBuildDate",_))&&(f.updated=new Date(j)),U(f,"author","managingEditor",_,!0),f.items=ie("item",c.children).map(function(m){var w,E={};return m=m.children,U(E,"id","guid",m),U(E,"title","title",m),U(E,"link","link",m),U(E,"description","description",m),(w=A("pubDate",m))&&(E.pubDate=new Date(w)),E}))),this.dom=f,p.prototype._handleCallback.call(this,c?null:Error("couldn't find root of feed"))},Ye.exports=ge},function(Ye,Te,je){function ge(U){s.call(this,new ie(this),U)}function ie(U){this.scope=U}Ye.exports=ge;var s=je(35);je(1)(ge,s),ge.prototype.readable=!0;var A=je(3).EVENTS;Object.keys(A).forEach(function(U){if(A[U]===0)ie.prototype["on"+U]=function(){this.scope.emit(U)};else if(A[U]===1)ie.prototype["on"+U]=function(S){this.scope.emit(U,S)};else{if(A[U]!==2)throw Error("wrong number of arguments!");ie.prototype["on"+U]=function(S,p){this.scope.emit(U,S,p)}}})},function(Ye,Te,je){function ge(){ie.call(this)}Ye.exports=ge;var ie=je(13).EventEmitter;je(1)(ge,ie),ge.Readable=je(20),ge.Writable=je(70),ge.Duplex=je(71),ge.Transform=je(72),ge.PassThrough=je(73),ge.Stream=ge,ge.prototype.pipe=function(s,A){function U(c){s.writable&&s.write(c)===!1&&_.pause&&_.pause()}function S(){_.readable&&_.resume&&_.resume()}function p(){f||(f=!0,s.end())}function k(){f||(f=!0,typeof s.destroy=="function"&&s.destroy())}function d(c){if(j(),ie.listenerCount(this,"error")===0)throw c}function j(){_.removeListener("data",U),s.removeListener("drain",S),_.removeListener("end",p),_.removeListener("close",k),_.removeListener("error",d),s.removeListener("error",d),_.removeListener("end",j),_.removeListener("close",j),s.removeListener("close",j)}var _=this;_.on("data",U),s.on("drain",S),s._isStdio||A&&A.end===!1||(_.on("end",p),_.on("close",k));var f=!1;return _.on("error",d),s.on("error",d),_.on("end",j),_.on("close",j),s.on("close",j),s.emit("pipe",_),s}},function(Ye,Te){},function(Ye,Te,je){function ge(U,S){if(!(U instanceof S))throw new TypeError("Cannot call a class as a function")}function ie(U,S,p){U.copy(S,p)}var s=je(15).Buffer,A=je(65);Ye.exports=function(){function U(){ge(this,U),this.head=null,this.tail=null,this.length=0}return U.prototype.push=function(S){var p={data:S,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length},U.prototype.unshift=function(S){var p={data:S,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length},U.prototype.shift=function(){if(this.length!==0){var S=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,S}},U.prototype.clear=function(){this.head=this.tail=null,this.length=0},U.prototype.join=function(S){if(this.length===0)return"";for(var p=this.head,k=""+p.data;p=p.next;)k+=S+p.data;return k},U.prototype.concat=function(S){if(this.length===0)return s.alloc(0);if(this.length===1)return this.head.data;for(var p=s.allocUnsafe(S>>>0),k=this.head,d=0;k;)ie(k.data,p,d),d+=k.data.length,k=k.next;return p},U}(),A&&A.inspect&&A.inspect.custom&&(Ye.exports.prototype[A.inspect.custom]=function(){var U=A.inspect({length:this.length});return this.constructor.name+" "+U})},function(Ye,Te){},function(Ye,Te,je){(function(ge){function ie(U,S){this._id=U,this._clearFn=S}var s=ge!==void 0&&ge||typeof self!="undefined"&&self||window,A=Function.prototype.apply;Te.setTimeout=function(){return new ie(A.call(setTimeout,s,arguments),clearTimeout)},Te.setInterval=function(){return new ie(A.call(setInterval,s,arguments),clearInterval)},Te.clearTimeout=Te.clearInterval=function(U){U&&U.close()},ie.prototype.unref=ie.prototype.ref=function(){},ie.prototype.close=function(){this._clearFn.call(s,this._id)},Te.enroll=function(U,S){clearTimeout(U._idleTimeoutId),U._idleTimeout=S},Te.unenroll=function(U){clearTimeout(U._idleTimeoutId),U._idleTimeout=-1},Te._unrefActive=Te.active=function(U){clearTimeout(U._idleTimeoutId);var S=U._idleTimeout;S>=0&&(U._idleTimeoutId=setTimeout(function(){U._onTimeout&&U._onTimeout()},S))},je(67),Te.setImmediate=typeof self!="undefined"&&self.setImmediate||ge!==void 0&&ge.setImmediate||this&&this.setImmediate,Te.clearImmediate=typeof self!="undefined"&&self.clearImmediate||ge!==void 0&&ge.clearImmediate||this&&this.clearImmediate}).call(Te,je(0))},function(Ye,Te,je){(function(ge,ie){(function(s,A){function U(w){typeof w!="function"&&(w=new Function(""+w));for(var E=new Array(arguments.length-1),Z=0;Z<E.length;Z++)E[Z]=arguments[Z+1];var Q={callback:w,args:E};return _[j]=Q,d(j),j++}function S(w){delete _[w]}function p(w){var E=w.callback,Z=w.args;switch(Z.length){case 0:E();break;case 1:E(Z[0]);break;case 2:E(Z[0],Z[1]);break;case 3:E(Z[0],Z[1],Z[2]);break;default:E.apply(A,Z)}}function k(w){if(f)setTimeout(k,0,w);else{var E=_[w];if(E){f=!0;try{p(E)}finally{S(w),f=!1}}}}if(!s.setImmediate){var d,j=1,_={},f=!1,c=s.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(s);m=m&&m.setTimeout?m:s,{}.toString.call(s.process)==="[object process]"?function(){d=function(w){ie.nextTick(function(){k(w)})}}():function(){if(s.postMessage&&!s.importScripts){var w=!0,E=s.onmessage;return s.onmessage=function(){w=!1},s.postMessage("","*"),s.onmessage=E,w}}()?function(){var w="setImmediate$"+Math.random()+"$",E=function(Z){Z.source===s&&typeof Z.data=="string"&&Z.data.indexOf(w)===0&&k(+Z.data.slice(w.length))};s.addEventListener?s.addEventListener("message",E,!1):s.attachEvent("onmessage",E),d=function(Z){s.postMessage(w+Z,"*")}}():s.MessageChannel?function(){var w=new MessageChannel;w.port1.onmessage=function(E){k(E.data)},d=function(E){w.port2.postMessage(E)}}():c&&"onreadystatechange"in c.createElement("script")?function(){var w=c.documentElement;d=function(E){var Z=c.createElement("script");Z.onreadystatechange=function(){k(E),Z.onreadystatechange=null,w.removeChild(Z),Z=null},w.appendChild(Z)}}():function(){d=function(w){setTimeout(k,0,w)}}(),m.setImmediate=U,m.clearImmediate=S}})(typeof self=="undefined"?ge===void 0?this:ge:self)}).call(Te,je(0),je(7))},function(Ye,Te,je){(function(ge){function ie(A,U){function S(){if(!p){if(s("throwDeprecation"))throw new Error(U);s("traceDeprecation")?console.trace(U):console.warn(U),p=!0}return A.apply(this,arguments)}if(s("noDeprecation"))return A;var p=!1;return S}function s(A){try{if(!ge.localStorage)return!1}catch{return!1}var U=ge.localStorage[A];return U!=null&&String(U).toLowerCase()==="true"}Ye.exports=ie}).call(Te,je(0))},function(Ye,Te,je){function ge(A){if(!(this instanceof ge))return new ge(A);ie.call(this,A)}Ye.exports=ge;var ie=je(39),s=je(8);s.inherits=je(1),s.inherits(ge,ie),ge.prototype._transform=function(A,U,S){S(null,A)}},function(Ye,Te,je){Ye.exports=je(21)},function(Ye,Te,je){Ye.exports=je(2)},function(Ye,Te,je){Ye.exports=je(20).Transform},function(Ye,Te,je){Ye.exports=je(20).PassThrough},function(Ye,Te){},function(Ye,Te,je){function ge(s){this._cbs=s||{}}Ye.exports=ge;var ie=je(3).EVENTS;Object.keys(ie).forEach(function(s){if(ie[s]===0)s="on"+s,ge.prototype[s]=function(){this._cbs[s]&&this._cbs[s]()};else if(ie[s]===1)s="on"+s,ge.prototype[s]=function(A){this._cbs[s]&&this._cbs[s](A)};else{if(ie[s]!==2)throw Error("wrong number of arguments");s="on"+s,ge.prototype[s]=function(A,U){this._cbs[s]&&this._cbs[s](A,U)}}})},function(Ye,Te,je){function ge(S,p){return S.children?S.children.map(function(k){return A(k,p)}).join(""):""}function ie(S){return Array.isArray(S)?S.map(ie).join(""):U(S)||S.type===s.CDATA?ie(S.children):S.type===s.Text?S.data:""}var s=je(6),A=je(23),U=s.isTag;Ye.exports={getInnerHTML:ge,getOuterHTML:A,getText:ie}},function(Ye,Te){Ye.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",isTag:function(je){return je.type==="tag"||je.type==="script"||je.type==="style"}}},function(Ye,Te,je){var ge=je(79),ie=je(80);Te.decode=function(s,A){return(!A||A<=0?ie.XML:ie.HTML)(s)},Te.decodeStrict=function(s,A){return(!A||A<=0?ie.XML:ie.HTMLStrict)(s)},Te.encode=function(s,A){return(!A||A<=0?ge.XML:ge.HTML)(s)},Te.encodeXML=ge.XML,Te.encodeHTML4=Te.encodeHTML5=Te.encodeHTML=ge.HTML,Te.decodeXML=Te.decodeXMLStrict=ie.XML,Te.decodeHTML4=Te.decodeHTML5=Te.decodeHTML=ie.HTML,Te.decodeHTML4Strict=Te.decodeHTML5Strict=Te.decodeHTMLStrict=ie.HTMLStrict,Te.escape=ge.escape},function(Ye,Te,je){function ge(m){return Object.keys(m).sort().reduce(function(w,E){return w[m[E]]="&"+E+";",w},{})}function ie(m){var w=[],E=[];return Object.keys(m).forEach(function(Z){Z.length===1?w.push("\\"+Z):E.push(Z)}),E.unshift("["+w.join("")+"]"),new RegExp(E.join("|"),"g")}function s(m){return"&#x"+m.charCodeAt(0).toString(16).toUpperCase()+";"}function A(m){return"&#x"+(1024*(m.charCodeAt(0)-55296)+m.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function U(m,w){function E(Z){return m[Z]}return function(Z){return Z.replace(w,E).replace(f,A).replace(_,s)}}function S(m){return m.replace(c,s).replace(f,A).replace(_,s)}var p=ge(je(19)),k=ie(p);Te.XML=U(p,k);var d=ge(je(18)),j=ie(d);Te.HTML=U(d,j);var _=/[^\0-\x7F]/g,f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=ie(p);Te.escape=S},function(Ye,Te,je){function ge(_){var f=Object.keys(_).join("|"),c=s(_);f+="|#[xX][\\da-fA-F]+|#\\d+";var m=new RegExp("&(?:"+f+");","g");return function(w){return String(w).replace(m,c)}}function ie(_,f){return _<f?1:-1}function s(_){return function(f){return f.charAt(1)==="#"?p(f.charAt(2)==="X"||f.charAt(2)==="x"?parseInt(f.substr(3),16):parseInt(f.substr(2),10)):_[f.slice(1,-1)]}}var A=je(18),U=je(33),S=je(19),p=je(32),k=ge(S),d=ge(A),j=function(){function _(Q){return Q.substr(-1)!==";"&&(Q+=";"),Z(Q)}for(var f=Object.keys(U).sort(ie),c=Object.keys(A).sort(ie),m=0,w=0;m<c.length;m++)f[w]===c[m]?(c[m]+=";?",w++):c[m]+=";";var E=new RegExp("&(?:"+c.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),Z=s(A);return function(Q){return String(Q).replace(E,_)}}();Ye.exports={XML:k,HTML:j,HTMLStrict:d}},function(Ye,Te){var je=Te.getChildren=function(ie){return ie.children},ge=Te.getParent=function(ie){return ie.parent};Te.getSiblings=function(ie){var s=ge(ie);return s?je(s):[ie]},Te.getAttributeValue=function(ie,s){return ie.attribs&&ie.attribs[s]},Te.hasAttrib=function(ie,s){return!!ie.attribs&&hasOwnProperty.call(ie.attribs,s)},Te.getName=function(ie){return ie.name}},function(Ye,Te){Te.removeElement=function(je){if(je.prev&&(je.prev.next=je.next),je.next&&(je.next.prev=je.prev),je.parent){var ge=je.parent.children;ge.splice(ge.lastIndexOf(je),1)}},Te.replaceElement=function(je,ge){var ie=ge.prev=je.prev;ie&&(ie.next=ge);var s=ge.next=je.next;s&&(s.prev=ge);var A=ge.parent=je.parent;if(A){var U=A.children;U[U.lastIndexOf(je)]=ge}},Te.appendChild=function(je,ge){if(ge.parent=je,je.children.push(ge)!==1){var ie=je.children[je.children.length-2];ie.next=ge,ge.prev=ie,ge.next=null}},Te.append=function(je,ge){var ie=je.parent,s=je.next;if(ge.next=s,ge.prev=je,je.next=ge,ge.parent=ie,s){if(s.prev=ge,ie){var A=ie.children;A.splice(A.lastIndexOf(s),0,ge)}}else ie&&ie.children.push(ge)},Te.prepend=function(je,ge){var ie=je.parent;if(ie){var s=ie.children;s.splice(s.lastIndexOf(je),0,ge)}je.prev&&(je.prev.next=ge),ge.parent=ie,ge.prev=je.prev,ge.next=je,je.prev=ge}},function(Ye,Te,je){function ge(k,d,j,_){return Array.isArray(d)||(d=[d]),typeof _=="number"&&isFinite(_)||(_=1/0),ie(k,d,j!==!1,_)}function ie(k,d,j,_){for(var f,c=[],m=0,w=d.length;m<w&&!(k(d[m])&&(c.push(d[m]),--_<=0))&&(f=d[m].children,!(j&&f&&f.length>0&&(f=ie(k,f,j,_),c=c.concat(f),(_-=f.length)<=0)));m++);return c}function s(k,d){for(var j=0,_=d.length;j<_;j++)if(k(d[j]))return d[j];return null}function A(k,d){for(var j=null,_=0,f=d.length;_<f&&!j;_++)p(d[_])&&(k(d[_])?j=d[_]:d[_].children.length>0&&(j=A(k,d[_].children)));return j}function U(k,d){for(var j=0,_=d.length;j<_;j++)if(p(d[j])&&(k(d[j])||d[j].children.length>0&&U(k,d[j].children)))return!0;return!1}function S(k,d){for(var j=[],_=0,f=d.length;_<f;_++)p(d[_])&&(k(d[_])&&j.push(d[_]),d[_].children.length>0&&(j=j.concat(S(k,d[_].children))));return j}var p=je(6).isTag;Ye.exports={filter:ge,find:ie,findOneChild:s,findOne:A,existsOne:U,findAll:S}},function(Ye,Te,je){function ge(S,p){return typeof p=="function"?function(k){return k.attribs&&p(k.attribs[S])}:function(k){return k.attribs&&k.attribs[S]===p}}function ie(S,p){return function(k){return S(k)||p(k)}}var s=je(6),A=Te.isTag=s.isTag;Te.testElement=function(S,p){for(var k in S)if(S.hasOwnProperty(k)){if(k==="tag_name"){if(!A(p)||!S.tag_name(p.name))return!1}else if(k==="tag_type"){if(!S.tag_type(p.type))return!1}else if(k==="tag_contains"){if(A(p)||!S.tag_contains(p.data))return!1}else if(!p.attribs||!S[k](p.attribs[k]))return!1}return!0};var U={tag_name:function(S){return typeof S=="function"?function(p){return A(p)&&S(p.name)}:S==="*"?A:function(p){return A(p)&&p.name===S}},tag_type:function(S){return typeof S=="function"?function(p){return S(p.type)}:function(p){return p.type===S}},tag_contains:function(S){return typeof S=="function"?function(p){return!A(p)&&S(p.data)}:function(p){return!A(p)&&p.data===S}}};Te.getElements=function(S,p,k,d){var j=Object.keys(S).map(function(_){var f=S[_];return _ in U?U[_](f):ge(_,f)});return j.length===0?[]:this.filter(j.reduce(ie),p,k,d)},Te.getElementById=function(S,p,k){return Array.isArray(p)||(p=[p]),this.findOne(ge("id",S),p,k!==!1)},Te.getElementsByTagName=function(S,p,k,d){return this.filter(U.tag_name(S),p,k,d)},Te.getElementsByTagType=function(S,p,k,d){return this.filter(U.tag_type(S),p,k,d)}},function(Ye,Te){Te.removeSubsets=function(ie){for(var s,A,U,S=ie.length;--S>-1;){for(s=A=ie[S],ie[S]=null,U=!0;A;){if(ie.indexOf(A)>-1){U=!1,ie.splice(S,1);break}A=A.parent}U&&(ie[S]=s)}return ie};var je={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16},ge=Te.compareDocumentPosition=function(ie,s){var A,U,S,p,k,d,j=[],_=[];if(ie===s)return 0;for(A=ie;A;)j.unshift(A),A=A.parent;for(A=s;A;)_.unshift(A),A=A.parent;for(d=0;j[d]===_[d];)d++;return d===0?je.DISCONNECTED:(U=j[d-1],S=U.children,p=j[d],k=_[d],S.indexOf(p)>S.indexOf(k)?U===s?je.FOLLOWING|je.CONTAINED_BY:je.FOLLOWING:U===ie?je.PRECEDING|je.CONTAINS:je.PRECEDING)};Te.uniqueSort=function(ie){var s,A,U=ie.length;for(ie=ie.slice();--U>-1;)s=ie[U],(A=ie.indexOf(s))>-1&&A<U&&ie.splice(U,1);return ie.sort(function(S,p){var k=ge(S,p);return k&je.PRECEDING?-1:k&je.FOLLOWING?1:0}),ie}},function(Ye,Te,je){function ge(s){this._cbs=s||{},this.events=[]}Ye.exports=ge;var ie=je(3).EVENTS;Object.keys(ie).forEach(function(s){if(ie[s]===0)s="on"+s,ge.prototype[s]=function(){this.events.push([s]),this._cbs[s]&&this._cbs[s]()};else if(ie[s]===1)s="on"+s,ge.prototype[s]=function(A){this.events.push([s,A]),this._cbs[s]&&this._cbs[s](A)};else{if(ie[s]!==2)throw Error("wrong number of arguments");s="on"+s,ge.prototype[s]=function(A,U){this.events.push([s,A,U]),this._cbs[s]&&this._cbs[s](A,U)}}}),ge.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},ge.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var s=0,A=this.events.length;s<A;s++)if(this._cbs[this.events[s][0]]){var U=this.events[s].length;U===1?this._cbs[this.events[s][0]]():U===2?this._cbs[this.events[s][0]](this.events[s][1]):this._cbs[this.events[s][0]](this.events[s][1],this.events[s][2])}}},function(Ye,Te,je){var ge=je(25),ie=je(9),s=ie.isTag,A=ie.domEach,U=Object.prototype.hasOwnProperty,S=ie.camelCase,p=ie.cssCase,k=/\s+/,d={forEach:je(16),extend:je(40),some:je(96)},j={null:null,true:!0,false:!1},_=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,c=function(X,V){if(X&&s(X))return X.attribs||(X.attribs={}),V?U.call(X.attribs,V)?_.test(V)?V:X.attribs[V]:X.name==="option"&&V==="value"?ge.text(X.children):X.name!=="input"||X.attribs.type!=="radio"&&X.attribs.type!=="checkbox"||V!=="value"?void 0:"on":X.attribs},m=function(X,V,se){se===null?J(X,V):X.attribs[V]=se+""};Te.attr=function(X,V){return typeof X=="object"||V!==void 0?typeof V=="function"?A(this,function(se,ve){m(ve,X,V.call(ve,se,ve.attribs[X]))}):A(this,function(se,ve){s(ve)&&(typeof X=="object"?d.forEach(X,function(ue,M){m(ve,M,ue)}):m(ve,X,V))}):c(this[0],X)};var w=function(X,V){if(X&&s(X))return X.hasOwnProperty(V)?X[V]:_.test(V)?c(X,V)!==void 0:c(X,V)},E=function(X,V,se){X[V]=_.test(V)?!!se:se};Te.prop=function(X,V){var se,ve=0;if(typeof X=="string"&&V===void 0){switch(X){case"style":se=this.css(),d.forEach(se,function(ue,M){se[ve++]=M}),se.length=ve;break;case"tagName":case"nodeName":se=this[0].name.toUpperCase();break;default:se=w(this[0],X)}return se}if(typeof X=="object"||V!==void 0)return typeof V=="function"?A(this,function(ue,M){E(M,X,V.call(M,ue,w(M,X)))}):A(this,function(ue,M){s(M)&&(typeof X=="object"?d.forEach(X,function(L,F){E(M,F,L)}):E(M,X,V))})};var Z=function(X,V,se){if(X.data||(X.data={}),typeof V=="object")return d.extend(X.data,V);typeof V=="string"&&se!==void 0?X.data[V]=se:typeof V=="object"&&d.extend(X.data,V)},Q=function(X,V){var se,ve,ue,M,L,F,re,ne=arguments.length===1;for(ne?(se=Object.keys(X.attribs).filter(function(H){return H.slice(0,5)==="data-"}),ue=se.map(function(H){return S(H.slice(5))})):(se=["data-"+p(V)],ue=[V]),F=0,re=se.length;F<re;++F)if(ve=se[F],M=ue[F],U.call(X.attribs,ve)){if(L=X.attribs[ve],U.call(j,L))L=j[L];else if(L===String(Number(L)))L=Number(L);else if(f.test(L))try{L=JSON.parse(L)}catch{}X.data[M]=L}return ne?X.data:L};Te.data=function(X,V){var se=this[0];if(se&&s(se))return se.data||(se.data={}),X?typeof X=="object"||V!==void 0?(A(this,function(ve,ue){Z(ue,X,V)}),this):U.call(se.data,X)?se.data[X]:Q(se,X):Q(se)},Te.val=function(X){var V=arguments.length===0,se=this[0];if(se)switch(se.name){case"textarea":return this.text(X);case"input":switch(this.attr("type")){case"radio":return V?this.attr("value"):(this.attr("value",X),this);default:return this.attr("value",X)}case"select":var ve,ue=this.find("option:selected");if(ue===void 0)return;if(!V){if(!this.attr().hasOwnProperty("multiple")&&typeof X=="object")return this;typeof X!="object"&&(X=[X]),this.find("option").removeAttr("selected");for(var M=0;M<X.length;M++)this.find('option[value="'+X[M]+'"]').attr("selected","");return this}return ve=ue.attr("value"),this.attr().hasOwnProperty("multiple")&&(ve=[],A(ue,function(L,F){ve.push(c(F,"value"))})),ve;case"option":return V?this.attr("value"):(this.attr("value",X),this)}};var J=function(X,V){X.attribs&&U.call(X.attribs,V)&&delete X.attribs[V]};Te.removeAttr=function(X){return A(this,function(V,se){J(se,X)}),this},Te.hasClass=function(X){return d.some(this,function(V){var se,ve=V.attribs,ue=ve&&ve.class,M=-1;if(ue){for(;(M=ue.indexOf(X,M+1))>-1;)if(se=M+X.length,(M===0||k.test(ue[M-1]))&&(se===ue.length||k.test(ue[se])))return!0}})},Te.addClass=function(X){if(typeof X=="function")return A(this,function(ne,H){var Y=H.attribs.class||"";Te.addClass.call([H],X.call(H,ne,Y))});if(!X||typeof X!="string")return this;for(var V=X.split(k),se=this.length,ve=0;ve<se;ve++)if(s(this[ve])){var ue,M,L=c(this[ve],"class");if(L){M=" "+L+" ",ue=V.length;for(var F=0;F<ue;F++){var re=V[F]+" ";M.indexOf(" "+re)<0&&(M+=re)}m(this[ve],"class",M.trim())}else m(this[ve],"class",V.join(" ").trim())}return this};var te=function(X){return X?X.trim().split(k):[]};Te.removeClass=function(X){var V,se,ve;return typeof X=="function"?A(this,function(ue,M){Te.removeClass.call([M],X.call(M,ue,M.attribs.class||""))}):(V=te(X),se=V.length,ve=arguments.length===0,A(this,function(ue,M){if(s(M))if(ve)M.attribs.class="";else{for(var L,F,re=te(M.attribs.class),ne=0;ne<se;ne++)(L=re.indexOf(V[ne]))>=0&&(re.splice(L,1),F=!0,ne--);F&&(M.attribs.class=re.join(" "))}}))},Te.toggleClass=function(X,V){if(typeof X=="function")return A(this,function(H,Y){Te.toggleClass.call([Y],X.call(Y,H,Y.attribs.class||"",V),V)});if(!X||typeof X!="string")return this;for(var se,ve,ue=X.split(k),M=ue.length,L=typeof V=="boolean"?V?1:-1:0,F=this.length,re=0;re<F;re++)if(s(this[re])){se=te(this[re].attribs.class);for(var ne=0;ne<M;ne++)ve=se.indexOf(ue[ne]),L>=0&&ve<0?se.push(ue[ne]):L<=0&&ve>=0&&se.splice(ve,1);this[re].attribs.class=se.join(" ")}return this},Te.is=function(X){return!!X&&this.filter(X).length>0}},function(Ye,Te,je){var ge=je(89),ie=je(90);Ye.exports=function(s){return ie(ge(s))},Ye.exports.parse=ge,Ye.exports.compile=ie},function(Ye,Te){function je(ie){if((ie=ie.trim().toLowerCase())==="even")return[2,0];if(ie==="odd")return[2,1];var s=ie.match(ge);if(!s)throw new SyntaxError("n-th rule couldn't be parsed ('"+ie+"')");var A;return s[1]?(A=parseInt(s[1],10),isNaN(A)&&(A=s[1].charAt(0)==="-"?-1:1)):A=0,[A,s[3]?parseInt((s[2]||"")+s[3],10):0]}Ye.exports=je;var ge=/^([+\-]?\d*n)?\s*(?:([+\-]?)\s*(\d+))?$/},function(Ye,Te,je){function ge(U){var S=U[0],p=U[1]-1;if(p<0&&S<=0)return A;if(S===-1)return function(d){return d<=p};if(S===0)return function(d){return d===p};if(S===1)return p<0?s:function(d){return d>=p};var k=p%S;return k<0&&(k+=S),S>1?function(d){return d>=p&&d%S===k}:(S*=-1,function(d){return d<=p&&d%S===k})}Ye.exports=ge;var ie=je(10),s=ie.trueFunc,A=ie.falseFunc},function(Ye,Te,je){function ge(F,re,ne){return ie(s(F,re,ne))}function ie(F){return function(re){return M(re)&&F(re)}}function s(F,re,ne){return S(_(F,re),re,ne)}function A(F){return F.type==="pseudo"&&(F.name==="scope"||Array.isArray(F.data)&&F.data.some(function(re){return re.some(A)}))}function U(F,re){var ne=!!re&&!!re.length&&re.every(function(H){return H===X||!!V(H)});F.forEach(function(H){if(!(H.length>0&&p(H[0])&&H[0].type!=="descendant")){if(!ne||A(H))return;H.unshift(J)}H.unshift(te)})}function S(F,re,ne){F=F.filter(function(Y){return Y.length>0}),F.forEach(m);var H=Array.isArray(ne);return ne=re&&re.context||ne,ne&&!H&&(ne=[ne]),U(F,ne),F.map(function(Y){return k(Y,re,ne,H)}).reduce(d,Z)}function p(F){return Q[F.type]<0}function k(F,re,ne,H){var Y=H&&F[0].name==="scope"&&F[1].type==="descendant";return F.reduce(function(l,y,g){return l===Z?l:c[y.type](l,y,re,ne,Y&&g===1)},re&&re.rootFunc||E)}function d(F,re){return re===Z||F===E?F:F===Z||re===E?re:function(ne){return F(ne)||re(ne)}}function j(F){return F.some(p)}Ye.exports=ge,Ye.exports.compileUnsafe=s,Ye.exports.compileToken=S;var _=je(92),f=je(4),M=f.isTag,c=je(93),m=je(94),w=je(10),E=w.trueFunc,Z=w.falseFunc,Q=je(44),J={type:"descendant"},te={type:"pseudo",name:"scope"},X={},V=f.getParent,se=je(26),ve=se.filters,ue=f.existsOne,M=f.isTag,L=f.getChildren;ve.not=function(F,re,ne,H){var Y={xmlMode:!(!ne||!ne.xmlMode),strict:!(!ne||!ne.strict)};if(Y.strict&&(re.length>1||re.some(j)))throw new SyntaxError("complex selectors in :not aren't allowed in strict mode");var l=S(re,Y,H);return l===Z?F:l===E?Z:function(y){return!l(y)&&F(y)}},ve.has=function(F,re,ne){var H={xmlMode:!(!ne||!ne.xmlMode),strict:!(!ne||!ne.strict)},Y=re.some(j)?[X]:null,l=S(re,H,Y);return l===Z?Z:l===E?function(y){return L(y).some(M)&&F(y)}:(l=ie(l),Y?function(y){return F(y)&&(Y[0]=y,ue(l,L(y)))}:function(y){return F(y)&&ue(l,L(y))})},ve.matches=function(F,re,ne,H){return S(re,{xmlMode:!(!ne||!ne.xmlMode),strict:!(!ne||!ne.strict),rootFunc:F},H)}},function(Ye,Te,je){function ge(E,Z,Q){var J="0x"+Z-65536;return J!==J||Q?Z:J<0?String.fromCharCode(J+65536):String.fromCharCode(J>>10|55296,1023&J|56320)}function ie(E){return E.replace(k,ge)}function s(E){return E===" "||E===`
`||E==="	"||E==="\f"||E==="\r"}function A(E,Z){var Q=[];if((E=U(Q,E+"",Z))!=="")throw new SyntaxError("Unmatched selector: "+E);return Q}function U(E,Z,Q){function J(){var ne=Z.match(p)[0];return Z=Z.substr(ne.length),ie(ne)}function te(ne){for(;s(Z.charAt(ne));)ne++;Z=Z.substr(ne)}var X,V,se,ve,ue=[],M=!1;for(te(0);Z!=="";)if(V=Z.charAt(0),s(V))M=!0,te(1);else if(V in _)ue.push({type:_[V]}),M=!1,te(1);else if(V===","){if(ue.length===0)throw new SyntaxError("empty sub-selector");E.push(ue),ue=[],M=!1,te(1)}else if(M&&(ue.length>0&&ue.push({type:"descendant"}),M=!1),V==="*")Z=Z.substr(1),ue.push({type:"universal"});else if(V in f)Z=Z.substr(1),ue.push({type:"attribute",name:f[V][0],action:f[V][1],value:J(),ignoreCase:!1});else if(V==="["){if(Z=Z.substr(1),!(X=Z.match(d)))throw new SyntaxError("Malformed attribute selector: "+Z);Z=Z.substr(X[0].length),se=ie(X[1]),Q&&("lowerCaseAttributeNames"in Q?!Q.lowerCaseAttributeNames:Q.xmlMode)||(se=se.toLowerCase()),ue.push({type:"attribute",name:se,action:j[X[2]],value:ie(X[4]||X[5]||""),ignoreCase:!!X[6]})}else if(V===":"){if(Z.charAt(1)===":"){Z=Z.substr(2),ue.push({type:"pseudo-element",name:J().toLowerCase()});continue}if(Z=Z.substr(1),se=J().toLowerCase(),X=null,Z.charAt(0)==="(")if(se in c){ve=Z.charAt(1);var L=ve in w;if(Z=Z.substr(L+1),X=[],Z=U(X,Z,Q),L){if(Z.charAt(0)!==ve)throw new SyntaxError("unmatched quotes in :"+se);Z=Z.substr(1)}if(Z.charAt(0)!==")")throw new SyntaxError("missing closing parenthesis in :"+se+" "+Z);Z=Z.substr(1)}else{for(var F=1,re=1;re>0&&F<Z.length;F++)Z.charAt(F)==="("?re++:Z.charAt(F)===")"&&re--;if(re)throw new SyntaxError("parenthesis not matched");X=Z.substr(1,F-2),Z=Z.substr(F),se in m&&(ve=X.charAt(0),ve===X.slice(-1)&&ve in w&&(X=X.slice(1,-1)),X=ie(X))}ue.push({type:"pseudo",name:se,data:X})}else{if(!p.test(Z))return ue.length&&ue[ue.length-1].type==="descendant"&&ue.pop(),S(E,ue),Z;se=J(),Q&&("lowerCaseTags"in Q?!Q.lowerCaseTags:Q.xmlMode)||(se=se.toLowerCase()),ue.push({type:"tag",name:se})}return S(E,ue),Z}function S(E,Z){if(E.length>0&&Z.length===0)throw new SyntaxError("empty sub-selector");E.push(Z)}Ye.exports=A;var p=/^(?:\\.|[\w\-\u00c0-\uFFFF])+/,k=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,d=/^\s*((?:\\.|[\w\u00c0-\uFFFF\-])+)\s*(?:(\S?)=\s*(?:(['"])(.*?)\3|(#?(?:\\.|[\w\u00c0-\uFFFF\-])*)|)|)\s*(i)?\]/,j={__proto__:null,undefined:"exists","":"equals","~":"element","^":"start",$:"end","*":"any","!":"not","|":"hyphen"},_={__proto__:null,">":"child","<":"parent","~":"sibling","+":"adjacent"},f={__proto__:null,"#":["id","equals"],".":["class","element"]},c={__proto__:null,has:!0,not:!0,matches:!0},m={__proto__:null,contains:!0,icontains:!0},w={__proto__:null,'"':!0,"'":!0}},function(Ye,Te,je){var ge=je(4),ie=ge.isTag,s=ge.getParent,A=ge.getChildren,U=ge.getSiblings,S=ge.getName;Ye.exports={__proto__:null,attribute:je(43).compile,pseudo:je(26).compile,tag:function(p,k){var d=k.name;return function(j){return S(j)===d&&p(j)}},descendant:function(p,k,d,j,_){return function(f){if(_&&p(f))return!0;for(var c=!1;!c&&(f=s(f));)c=p(f);return c}},parent:function(p,k,d){function j(_){return ie(_)&&p(_)}if(d&&d.strict)throw SyntaxError("Parent selector isn't part of CSS3");return function(_){return A(_).some(j)}},child:function(p){return function(k){var d=s(k);return!!d&&p(d)}},sibling:function(p){return function(k){for(var d=U(k),j=0;j<d.length;j++)if(ie(d[j])){if(d[j]===k)break;if(p(d[j]))return!0}return!1}},adjacent:function(p){return function(k){for(var d,j=U(k),_=0;_<j.length;_++)if(ie(j[_])){if(j[_]===k)break;d=j[_]}return!!d&&p(d)}},universal:function(p){return p}}},function(Ye,Te,je){function ge(U){for(var S=U.map(ie),p=1;p<U.length;p++){var k=S[p];if(!(k<0))for(var d=p-1;d>=0&&k<S[d];d--){var j=U[d+1];U[d+1]=U[d],U[d]=j,S[d+1]=S[d],S[d]=k}}}function ie(U){var S=s[U.type];if(S===s.attribute)S=A[U.action],S===A.equals&&U.name==="id"&&(S=9),U.ignoreCase&&(S>>=1);else if(S===s.pseudo)if(U.data)if(U.name==="has"||U.name==="contains")S=0;else if(U.name==="matches"||U.name==="not"){S=0;for(var p=0;p<U.data.length;p++)if(U.data[p].length===1){var k=ie(U.data[p][0]);if(k===0){S=0;break}k>S&&(S=k)}U.data.length>1&&S>0&&(S-=1)}else S=1;else S=3;return S}Ye.exports=ge;var s=je(44),A={__proto__:null,exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4}},function(Ye,Te,je){(function(ge,ie){function s(he,ye,O){switch(O.length){case 0:return he.call(ye);case 1:return he.call(ye,O[0]);case 2:return he.call(ye,O[0],O[1]);case 3:return he.call(ye,O[0],O[1],O[2])}return he.apply(ye,O)}function A(he,ye){for(var O=-1,W=Array(he);++O<he;)W[O]=ye(O);return W}function U(he,ye){return he==null?void 0:he[ye]}function S(he,ye){return ye=="__proto__"?void 0:he[ye]}function p(he){var ye=-1,O=he==null?0:he.length;for(this.clear();++ye<O;){var W=he[ye];this.set(W[0],W[1])}}function k(){this.__data__=En?En(null):{},this.size=0}function d(he){var ye=this.has(he)&&delete this.__data__[he];return this.size-=ye?1:0,ye}function j(he){var ye=this.__data__;if(En){var O=ye[he];return O===tn?void 0:O}return Nt.call(ye,he)?ye[he]:void 0}function _(he){var ye=this.__data__;return En?ye[he]!==void 0:Nt.call(ye,he)}function f(he,ye){var O=this.__data__;return this.size+=this.has(he)?0:1,O[he]=En&&ye===void 0?tn:ye,this}function c(he){var ye=-1,O=he==null?0:he.length;for(this.clear();++ye<O;){var W=he[ye];this.set(W[0],W[1])}}function m(){this.__data__=[],this.size=0}function w(he){var ye=this.__data__,O=y(ye,he);return!(O<0)&&(O==ye.length-1?ye.pop():Fe.call(ye,O,1),--this.size,!0)}function E(he){var ye=this.__data__,O=y(ye,he);return O<0?void 0:ye[O][1]}function Z(he){return y(this.__data__,he)>-1}function Q(he,ye){var O=this.__data__,W=y(O,he);return W<0?(++this.size,O.push([he,ye])):O[W][1]=ye,this}function J(he){var ye=-1,O=he==null?0:he.length;for(this.clear();++ye<O;){var W=he[ye];this.set(W[0],W[1])}}function te(){this.size=0,this.__data__={hash:new p,map:new(fn||c),string:new p}}function X(he){var ye=q(this,he).delete(he);return this.size-=ye?1:0,ye}function V(he){return q(this,he).get(he)}function se(he){return q(this,he).has(he)}function ve(he,ye){var O=q(this,he),W=O.size;return O.set(he,ye),this.size+=O.size==W?0:1,this}function ue(he){var ye=this.__data__=new c(he);this.size=ye.size}function M(){this.__data__=new c,this.size=0}function L(he){var ye=this.__data__,O=ye.delete(he);return this.size=ye.size,O}function F(he){return this.__data__.get(he)}function re(he){return this.__data__.has(he)}function ne(he,ye){var O=this.__data__;if(O instanceof c){var W=O.__data__;if(!fn||W.length<jt-1)return W.push([he,ye]),this.size=++O.size,this;O=this.__data__=new J(W)}return O.set(he,ye),this.size=O.size,this}function H(he,ye){var O=Wn(he),W=!O&&Xn(he),ce=!O&&!W&&zn(he),x=!O&&!W&&!ce&&In(he),fe=O||W||ce||x,ke=fe?A(he.length,String):[],De=ke.length;for(var Be in he)!ye&&!Nt.call(he,Be)||fe&&(Be=="length"||ce&&(Be=="offset"||Be=="parent")||x&&(Be=="buffer"||Be=="byteLength"||Be=="byteOffset")||be(Be,De))||ke.push(Be);return ke}function Y(he,ye,O){(O===void 0||Xe(he[ye],O))&&(O!==void 0||ye in he)||g(he,ye,O)}function l(he,ye,O){var W=he[ye];Nt.call(he,ye)&&Xe(W,O)&&(O!==void 0||ye in he)||g(he,ye,O)}function y(he,ye){for(var O=he.length;O--;)if(Xe(he[O][0],ye))return O;return-1}function g(he,ye,O){ye=="__proto__"&&It?It(he,ye,{configurable:!0,enumerable:!0,value:O,writable:!0}):he[ye]=O}function v(he){return he==null?he===void 0?en:$t:mt&&mt in Object(he)?D(he):Se(he)}function $(he){return Ft(he)&&v(he)==At}function ae(he){return!(!Lt(he)||de(he))&&(ct(he)?Nn:qe).test(Ie(he))}function K(he){return Ft(he)&&Bt(he.length)&&!!ft[v(he)]}function N(he){if(!Lt(he))return we(he);var ye=Oe(he),O=[];for(var W in he)(W!="constructor"||!ye&&Nt.call(he,W))&&O.push(W);return O}function b(he,ye,O,W,ce){he!==ye&&nr(ye,function(x,fe){if(Lt(x))ce||(ce=new ue),h(he,ye,fe,O,b,W,ce);else{var ke=W?W(S(he,fe),x,fe+"",he,ye,ce):void 0;ke===void 0&&(ke=x),Y(he,fe,ke)}},Ne)}function h(he,ye,O,W,ce,x,fe){var ke=S(he,O),De=S(ye,O),Be=fe.get(De);if(Be)return void Y(he,O,Be);var Ke=x?x(ke,De,O+"",he,ye,fe):void 0,at=Ke===void 0;if(at){var ot=Wn(De),bt=!ot&&zn(De),xt=!ot&&!bt&&In(De);Ke=De,ot||bt||xt?Wn(ke)?Ke=ke:gt(ke)?Ke=u(ke):bt?(at=!1,Ke=R(De,!0)):xt?(at=!1,Ke=P(De,!0)):Ke=[]:ze(De)||Xn(De)?(Ke=ke,Xn(ke)?Ke=Ee(ke):(!Lt(ke)||W&&ct(ke))&&(Ke=le(De))):at=!1}at&&(fe.set(De,Ke),ce(Ke,De,W,x,fe),fe.delete(De)),Y(he,O,Ke)}function z(he,ye){return Kn(xe(he,ye,it),he+"")}function R(he,ye){if(ye)return he.slice();var O=he.length,W=sr?sr(O):new he.constructor(O);return he.copy(W),W}function T(he){var ye=new he.constructor(he.byteLength);return new on(ye).set(new on(he)),ye}function P(he,ye){var O=ye?T(he.buffer):he.buffer;return new he.constructor(O,he.byteOffset,he.length)}function u(he,ye){var O=-1,W=he.length;for(ye||(ye=Array(W));++O<W;)ye[O]=he[O];return ye}function ee(he,ye,O,W){var ce=!O;O||(O={});for(var x=-1,fe=ye.length;++x<fe;){var ke=ye[x],De=W?W(O[ke],he[ke],ke,O,he):void 0;De===void 0&&(De=he[ke]),ce?g(O,ke,De):l(O,ke,De)}return O}function q(he,ye){var O=he.__data__;return oe(ye)?O[typeof ye=="string"?"string":"hash"]:O.map}function C(he,ye){var O=U(he,ye);return ae(O)?O:void 0}function D(he){var ye=Nt.call(he,mt),O=he[mt];try{he[mt]=void 0;var W=!0}catch{}var ce=Dn.call(he);return W&&(ye?he[mt]=O:delete he[mt]),ce}function le(he){return typeof he.constructor!="function"||Oe(he)?{}:$n(Ot(he))}function be(he,ye){var O=typeof he;return!!(ye=ye==null?ut:ye)&&(O=="number"||O!="symbol"&&$e.test(he))&&he>-1&&he%1==0&&he<ye}function I(he,ye,O){if(!Lt(O))return!1;var W=typeof ye;return!!(W=="number"?tt(O)&&be(ye,O.length):W=="string"&&ye in O)&&Xe(O[ye],he)}function oe(he){var ye=typeof he;return ye=="string"||ye=="number"||ye=="symbol"||ye=="boolean"?he!=="__proto__":he===null}function de(he){return!!Rt&&Rt in he}function Oe(he){var ye=he&&he.constructor;return he===(typeof ye=="function"&&ye.prototype||Sn)}function we(he){var ye=[];if(he!=null)for(var O in Object(he))ye.push(O);return ye}function Se(he){return Dn.call(he)}function xe(he,ye,O){return ye=_t(ye===void 0?he.length-1:ye,0),function(){for(var W=arguments,ce=-1,x=_t(W.length-ye,0),fe=Array(x);++ce<x;)fe[ce]=W[ye+ce];ce=-1;for(var ke=Array(ye+1);++ce<ye;)ke[ce]=W[ce];return ke[ye]=O(fe),s(he,this,ke)}}function Ie(he){if(he!=null){try{return qn.call(he)}catch{}try{return he+""}catch{}}return""}function Xe(he,ye){return he===ye||he!==he&&ye!==ye}function tt(he){return he!=null&&Bt(he.length)&&!ct(he)}function gt(he){return Ft(he)&&tt(he)}function ct(he){if(!Lt(he))return!1;var ye=v(he);return ye==ht||ye==Ut||ye==yt||ye==kn}function Bt(he){return typeof he=="number"&&he>-1&&he%1==0&&he<=ut}function Lt(he){var ye=typeof he;return he!=null&&(ye=="object"||ye=="function")}function Ft(he){return he!=null&&typeof he=="object"}function ze(he){if(!Ft(he)||v(he)!=un)return!1;var ye=Ot(he);if(ye===null)return!0;var O=Nt.call(ye,"constructor")&&ye.constructor;return typeof O=="function"&&O instanceof O&&qn.call(O)==Bn}function Ee(he){return ee(he,Ne(he))}function Ne(he){return tt(he)?H(he,!0):N(he)}function We(he){return function(){return he}}function it(he){return he}function vt(){return!1}var jt=200,tn="__lodash_hash_undefined__",Ve=800,et=16,ut=9007199254740991,At="[object Arguments]",yt="[object AsyncFunction]",ht="[object Function]",Ut="[object GeneratorFunction]",$t="[object Null]",un="[object Object]",kn="[object Proxy]",en="[object Undefined]",Zn=/[\\^$.*+?()[\]{}|]/g,qe=/^\[object .+?Constructor\]$/,$e=/^(?:0|[1-9]\d*)$/,ft={};ft["[object Float32Array]"]=ft["[object Float64Array]"]=ft["[object Int8Array]"]=ft["[object Int16Array]"]=ft["[object Int32Array]"]=ft["[object Uint8Array]"]=ft["[object Uint8ClampedArray]"]=ft["[object Uint16Array]"]=ft["[object Uint32Array]"]=!0,ft[At]=ft["[object Array]"]=ft["[object ArrayBuffer]"]=ft["[object Boolean]"]=ft["[object DataView]"]=ft["[object Date]"]=ft["[object Error]"]=ft[ht]=ft["[object Map]"]=ft["[object Number]"]=ft[un]=ft["[object RegExp]"]=ft["[object Set]"]=ft["[object String]"]=ft["[object WeakMap]"]=!1;var Ct=typeof ge=="object"&&ge&&ge.Object===Object&&ge,Zt=typeof self=="object"&&self&&self.Object===Object&&self,Mt=Ct||Zt||Function("return this")(),Ht=typeof Te=="object"&&Te&&!Te.nodeType&&Te,Gt=Ht&&typeof ie=="object"&&ie&&!ie.nodeType&&ie,nn=Gt&&Gt.exports===Ht,dn=nn&&Ct.process,ln=function(){try{return dn&&dn.binding&&dn.binding("util")}catch{}}(),bn=ln&&ln.isTypedArray,wn=Array.prototype,Cn=Function.prototype,Sn=Object.prototype,Tn=Mt["__core-js_shared__"],qn=Cn.toString,Nt=Sn.hasOwnProperty,Rt=function(){var he=/[^.]+$/.exec(Tn&&Tn.keys&&Tn.keys.IE_PROTO||"");return he?"Symbol(src)_1."+he:""}(),Dn=Sn.toString,Bn=qn.call(Object),Nn=RegExp("^"+qn.call(Nt).replace(Zn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=nn?Mt.Buffer:void 0,hn=Mt.Symbol,on=Mt.Uint8Array,sr=Wt?Wt.allocUnsafe:void 0,Ot=function(he,ye){return function(O){return he(ye(O))}}(Object.getPrototypeOf,Object),cn=Object.create,Me=Sn.propertyIsEnumerable,Fe=wn.splice,mt=hn?hn.toStringTag:void 0,It=function(){try{var he=C(Object,"defineProperty");return he({},"",{}),he}catch{}}(),rt=Wt?Wt.isBuffer:void 0,_t=Math.max,jn=Date.now,fn=C(Mt,"Map"),En=C(Object,"create"),$n=function(){function he(){}return function(ye){if(!Lt(ye))return{};if(cn)return cn(ye);he.prototype=ye;var O=new he;return he.prototype=void 0,O}}();p.prototype.clear=k,p.prototype.delete=d,p.prototype.get=j,p.prototype.has=_,p.prototype.set=f,c.prototype.clear=m,c.prototype.delete=w,c.prototype.get=E,c.prototype.has=Z,c.prototype.set=Q,J.prototype.clear=te,J.prototype.delete=X,J.prototype.get=V,J.prototype.has=se,J.prototype.set=ve,ue.prototype.clear=M,ue.prototype.delete=L,ue.prototype.get=F,ue.prototype.has=re,ue.prototype.set=ne;var nr=function(he){return function(ye,O,W){for(var ce=-1,x=Object(ye),fe=W(ye),ke=fe.length;ke--;){var De=fe[he?ke:++ce];if(O(x[De],De,x)===!1)break}return ye}}(),er=It?function(he,ye){return It(he,"toString",{configurable:!0,enumerable:!1,value:We(ye),writable:!0})}:it,Kn=function(he){var ye=0,O=0;return function(){var W=jn(),ce=et-(W-O);if(O=W,ce>0){if(++ye>=Ve)return arguments[0]}else ye=0;return he.apply(void 0,arguments)}}(er),Xn=$(function(){return arguments}())?$:function(he){return Ft(he)&&Nt.call(he,"callee")&&!Me.call(he,"callee")},Wn=Array.isArray,zn=rt||vt,In=bn?function(he){return function(ye){return he(ye)}}(bn):K,Gn=function(he){return z(function(ye,O){var W=-1,ce=O.length,x=ce>1?O[ce-1]:void 0,fe=ce>2?O[2]:void 0;for(x=he.length>3&&typeof x=="function"?(ce--,x):void 0,fe&&I(O[0],O[1],fe)&&(x=ce<3?void 0:x,ce=1),ye=Object(ye);++W<ce;){var ke=O[W];ke&&he(ye,ke,W,x)}return ye})}(function(he,ye,O){b(he,ye,O)});ie.exports=Gn}).call(Te,je(0),je(5)(Ye))},function(Ye,Te,je){(function(ge,ie){function s(i,o){for(var G=-1,_e=i?i.length:0;++G<_e;)if(o(i[G],G,i))return!0;return!1}function A(i){return function(o){return o==null?void 0:o[i]}}function U(i,o){for(var G=-1,_e=Array(i);++G<i;)_e[G]=o(G);return _e}function S(i,o){return i==null?void 0:i[o]}function p(i){var o=!1;if(i!=null&&typeof i.toString!="function")try{o=!!(i+"")}catch{}return o}function k(i){var o=-1,G=Array(i.size);return i.forEach(function(_e,Ze){G[++o]=[Ze,_e]}),G}function d(i){var o=-1,G=Array(i.size);return i.forEach(function(_e){G[++o]=_e}),G}function j(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var _e=i[o];this.set(_e[0],_e[1])}}function _(){this.__data__=Dt?Dt(null):{}}function f(i){return this.has(i)&&delete this.__data__[i]}function c(i){var o=this.__data__;if(Dt){var G=o[i];return G===Ct?void 0:G}return O.call(o,i)?o[i]:void 0}function m(i){var o=this.__data__;return Dt?o[i]!==void 0:O.call(o,i)}function w(i,o){return this.__data__[i]=Dt&&o===void 0?Ct:o,this}function E(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var _e=i[o];this.set(_e[0],_e[1])}}function Z(){this.__data__=[]}function Q(i){var o=this.__data__,G=ae(o,i);return!(G<0)&&(G==o.length-1?o.pop():De.call(o,G,1),!0)}function J(i){var o=this.__data__,G=ae(o,i);return G<0?void 0:o[G][1]}function te(i){return ae(this.__data__,i)>-1}function X(i,o){var G=this.__data__,_e=ae(G,i);return _e<0?G.push([i,o]):G[_e][1]=o,this}function V(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var _e=i[o];this.set(_e[0],_e[1])}}function se(){this.__data__={hash:new j,map:new(at||E),string:new j}}function ve(i){return Se(this,i).delete(i)}function ue(i){return Se(this,i).get(i)}function M(i){return Se(this,i).has(i)}function L(i,o){return Se(this,i).set(i,o),this}function F(i){var o=-1,G=i?i.length:0;for(this.__data__=new V;++o<G;)this.add(i[o])}function re(i){return this.__data__.set(i,Ct),this}function ne(i){return this.__data__.has(i)}function H(i){this.__data__=new E(i)}function Y(){this.__data__=new E}function l(i){return this.__data__.delete(i)}function y(i){return this.__data__.get(i)}function g(i){return this.__data__.has(i)}function v(i,o){var G=this.__data__;if(G instanceof E){var _e=G.__data__;if(!at||_e.length<$e-1)return _e.push([i,o]),this;G=this.__data__=new V(_e)}return G.set(i,o),this}function $(i,o){var G=xn(i)||tn(i)?U(i.length,String):[],_e=G.length,Ze=!!_e;for(var Le in i)!o&&!O.call(i,Le)||Ze&&(Le=="length"||tt(Le,_e))||G.push(Le);return G}function ae(i,o){for(var G=i.length;G--;)if(jt(i[G][0],o))return G;return-1}function K(i,o){return i&&lr(i,o,en)}function N(i,o){o=ct(o,i)?[o]:oe(o);for(var G=0,_e=o.length;i!=null&&G<_e;)i=i[Ne(o[G++])];return G&&G==_e?i:void 0}function b(i){return W.call(i)}function h(i,o){return i!=null&&o in Object(i)}function z(i,o,G,_e,Ze){return i===o||(i==null||o==null||!yt(i)&&!ht(o)?i!==i&&o!==o:R(i,o,z,G,_e,Ze))}function R(i,o,G,_e,Ze,Le){var Qe=xn(i),dt=xn(o),kt=dn,Pt=dn;Qe||(kt=An(i),kt=kt==nn?Nt:kt),dt||(Pt=An(o),Pt=Pt==nn?Nt:Pt);var Tt=kt==Nt&&!p(i),Jt=Pt==Nt&&!p(o),Xt=kt==Pt;if(Xt&&!Tt)return Le||(Le=new H),Qe||Yt(i)?de(i,o,G,_e,Ze,Le):Oe(i,o,kt,G,_e,Ze,Le);if(!(Ze&Mt)){var Kt=Tt&&O.call(i,"__wrapped__"),mn=Jt&&O.call(o,"__wrapped__");if(Kt||mn){var Pn=Kt?i.value():i,Fn=mn?o.value():o;return Le||(Le=new H),G(Pn,Fn,_e,Ze,Le)}}return!!Xt&&(Le||(Le=new H),we(i,o,G,_e,Ze,Le))}function T(i,o,G,_e){var Ze=G.length,Le=Ze,Qe=!_e;if(i==null)return!Le;for(i=Object(i);Ze--;){var dt=G[Ze];if(Qe&&dt[2]?dt[1]!==i[dt[0]]:!(dt[0]in i))return!1}for(;++Ze<Le;){dt=G[Ze];var kt=dt[0],Pt=i[kt],Tt=dt[1];if(Qe&&dt[2]){if(Pt===void 0&&!(kt in i))return!1}else{var Jt=new H;if(_e)var Xt=_e(Pt,Tt,kt,i,o,Jt);if(!(Xt===void 0?z(Tt,Pt,_e,Zt|Mt,Jt):Xt))return!1}}return!0}function P(i){return!(!yt(i)||Lt(i))&&(ut(i)||p(i)?ce:mt).test(We(i))}function u(i){return ht(i)&&At(i.length)&&!!rt[W.call(i)]}function ee(i){return typeof i=="function"?i:i==null?Zn:typeof i=="object"?xn(i)?D(i[0],i[1]):C(i):qe(i)}function q(i){if(!Ft(i))return Be(i);var o=[];for(var G in Object(i))O.call(i,G)&&G!="constructor"&&o.push(G);return o}function C(i){var o=xe(i);return o.length==1&&o[0][2]?Ee(o[0][0],o[0][1]):function(G){return G===i||T(G,i,o)}}function D(i,o){return ct(i)&&ze(o)?Ee(Ne(i),o):function(G){var _e=un(G,i);return _e===void 0&&_e===o?kn(G,i):z(o,_e,void 0,Zt|Mt)}}function le(i){return function(o){return N(o,i)}}function be(i,o){var G;return Jn(i,function(_e,Ze,Le){return!(G=o(_e,Ze,Le))}),!!G}function I(i){if(typeof i=="string")return i;if(Ut(i))return Un?Un.call(i):"";var o=i+"";return o=="0"&&1/i==-Ht?"-0":o}function oe(i){return xn(i)?i:Yn(i)}function de(i,o,G,_e,Ze,Le){var Qe=Ze&Mt,dt=i.length,kt=o.length;if(dt!=kt&&!(Qe&&kt>dt))return!1;var Pt=Le.get(i);if(Pt&&Le.get(o))return Pt==o;var Tt=-1,Jt=!0,Xt=Ze&Zt?new F:void 0;for(Le.set(i,o),Le.set(o,i);++Tt<dt;){var Kt=i[Tt],mn=o[Tt];if(_e)var Pn=Qe?_e(mn,Kt,Tt,o,i,Le):_e(Kt,mn,Tt,i,o,Le);if(Pn!==void 0){if(Pn)continue;Jt=!1;break}if(Xt){if(!s(o,function(Fn,Hn){if(!Xt.has(Hn)&&(Kt===Fn||G(Kt,Fn,_e,Ze,Le)))return Xt.add(Hn)})){Jt=!1;break}}else if(Kt!==mn&&!G(Kt,mn,_e,Ze,Le)){Jt=!1;break}}return Le.delete(i),Le.delete(o),Jt}function Oe(i,o,G,_e,Ze,Le,Qe){switch(G){case hn:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case Wt:return!(i.byteLength!=o.byteLength||!_e(new fe(i),new fe(o)));case ln:case bn:case qn:return jt(+i,+o);case wn:return i.name==o.name&&i.message==o.message;case Rt:case Bn:return i==o+"";case Tn:var dt=k;case Dn:var kt=Le&Mt;if(dt||(dt=d),i.size!=o.size&&!kt)return!1;var Pt=Qe.get(i);if(Pt)return Pt==o;Le|=Zt,Qe.set(i,o);var Tt=de(dt(i),dt(o),_e,Ze,Le,Qe);return Qe.delete(i),Tt;case Nn:if(On)return On.call(i)==On.call(o)}return!1}function we(i,o,G,_e,Ze,Le){var Qe=Ze&Mt,dt=en(i),kt=dt.length;if(kt!=en(o).length&&!Qe)return!1;for(var Pt=kt;Pt--;){var Tt=dt[Pt];if(!(Qe?Tt in o:O.call(o,Tt)))return!1}var Jt=Le.get(i);if(Jt&&Le.get(o))return Jt==o;var Xt=!0;Le.set(i,o),Le.set(o,i);for(var Kt=Qe;++Pt<kt;){Tt=dt[Pt];var mn=i[Tt],Pn=o[Tt];if(_e)var Fn=Qe?_e(Pn,mn,Tt,o,i,Le):_e(mn,Pn,Tt,i,o,Le);if(!(Fn===void 0?mn===Pn||G(mn,Pn,_e,Ze,Le):Fn)){Xt=!1;break}Kt||(Kt=Tt=="constructor")}if(Xt&&!Kt){var Hn=i.constructor,Qn=o.constructor;Hn!=Qn&&"constructor"in i&&"constructor"in o&&!(typeof Hn=="function"&&Hn instanceof Hn&&typeof Qn=="function"&&Qn instanceof Qn)&&(Xt=!1)}return Le.delete(i),Le.delete(o),Xt}function Se(i,o){var G=i.__data__;return Bt(o)?G[typeof o=="string"?"string":"hash"]:G.map}function xe(i){for(var o=en(i),G=o.length;G--;){var _e=o[G],Ze=i[_e];o[G]=[_e,Ze,ze(Ze)]}return o}function Ie(i,o){var G=S(i,o);return P(G)?G:void 0}function Xe(i,o,G){o=ct(o,i)?[o]:oe(o);for(var _e,Ze=-1,Qe=o.length;++Ze<Qe;){var Le=Ne(o[Ze]);if(!(_e=i!=null&&G(i,Le)))break;i=i[Le]}if(_e)return _e;var Qe=i?i.length:0;return!!Qe&&At(Qe)&&tt(Le,Qe)&&(xn(i)||tn(i))}function tt(i,o){return!!(o=o==null?Gt:o)&&(typeof i=="number"||It.test(i))&&i>-1&&i%1==0&&i<o}function gt(i,o,G){if(!yt(G))return!1;var _e=typeof o;return!!(_e=="number"?Ve(G)&&tt(o,G.length):_e=="string"&&o in G)&&jt(G[o],i)}function ct(i,o){if(xn(i))return!1;var G=typeof i;return!(G!="number"&&G!="symbol"&&G!="boolean"&&i!=null&&!Ut(i))||sr.test(i)||!on.test(i)||o!=null&&i in Object(o)}function Bt(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function Lt(i){return!!he&&he in i}function Ft(i){var o=i&&i.constructor;return i===(typeof o=="function"&&o.prototype||In)}function ze(i){return i===i&&!yt(i)}function Ee(i,o){return function(G){return G!=null&&G[i]===o&&(o!==void 0||i in Object(G))}}function Ne(i){if(typeof i=="string"||Ut(i))return i;var o=i+"";return o=="0"&&1/i==-Ht?"-0":o}function We(i){if(i!=null){try{return ye.call(i)}catch{}try{return i+""}catch{}}return""}function it(i,o,G){var _e=xn(i)?s:be;return G&&gt(i,o,G)&&(o=void 0),_e(i,ee(o))}function vt(i,o){if(typeof i!="function"||o&&typeof o!="function")throw new TypeError(ft);var G=function(){var _e=arguments,Ze=o?o.apply(this,_e):_e[0],Le=G.cache;if(Le.has(Ze))return Le.get(Ze);var Qe=i.apply(this,_e);return G.cache=Le.set(Ze,Qe),Qe};return G.cache=new(vt.Cache||V),G}function jt(i,o){return i===o||i!==i&&o!==o}function tn(i){return et(i)&&O.call(i,"callee")&&(!ke.call(i,"callee")||W.call(i)==nn)}function Ve(i){return i!=null&&At(i.length)&&!ut(i)}function et(i){return ht(i)&&Ve(i)}function ut(i){var o=yt(i)?W.call(i):"";return o==Cn||o==Sn}function At(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Gt}function yt(i){var o=typeof i;return!!i&&(o=="object"||o=="function")}function ht(i){return!!i&&typeof i=="object"}function Ut(i){return typeof i=="symbol"||ht(i)&&W.call(i)==Nn}function $t(i){return i==null?"":I(i)}function un(i,o,G){var _e=i==null?void 0:N(i,o);return _e===void 0?G:_e}function kn(i,o){return i!=null&&Xe(i,o,h)}function en(i){return Ve(i)?$(i):q(i)}function Zn(i){return i}function qe(i){return ct(i)?A(Ne(i)):le(i)}var $e=200,ft="Expected a function",Ct="__lodash_hash_undefined__",Zt=1,Mt=2,Ht=1/0,Gt=9007199254740991,nn="[object Arguments]",dn="[object Array]",ln="[object Boolean]",bn="[object Date]",wn="[object Error]",Cn="[object Function]",Sn="[object GeneratorFunction]",Tn="[object Map]",qn="[object Number]",Nt="[object Object]",Rt="[object RegExp]",Dn="[object Set]",Bn="[object String]",Nn="[object Symbol]",Wt="[object ArrayBuffer]",hn="[object DataView]",on=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sr=/^\w*$/,Ot=/^\./,cn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Me=/[\\^$.*+?()[\]{}|]/g,Fe=/\\(\\)?/g,mt=/^\[object .+?Constructor\]$/,It=/^(?:0|[1-9]\d*)$/,rt={};rt["[object Float32Array]"]=rt["[object Float64Array]"]=rt["[object Int8Array]"]=rt["[object Int16Array]"]=rt["[object Int32Array]"]=rt["[object Uint8Array]"]=rt["[object Uint8ClampedArray]"]=rt["[object Uint16Array]"]=rt["[object Uint32Array]"]=!0,rt[nn]=rt[dn]=rt[Wt]=rt[ln]=rt[hn]=rt[bn]=rt[wn]=rt[Cn]=rt[Tn]=rt[qn]=rt[Nt]=rt[Rt]=rt[Dn]=rt[Bn]=rt["[object WeakMap]"]=!1;var _t=typeof ge=="object"&&ge&&ge.Object===Object&&ge,jn=typeof self=="object"&&self&&self.Object===Object&&self,fn=_t||jn||Function("return this")(),En=typeof Te=="object"&&Te&&!Te.nodeType&&Te,$n=En&&typeof ie=="object"&&ie&&!ie.nodeType&&ie,nr=$n&&$n.exports===En,er=nr&&_t.process,Kn=function(){try{return er&&er.binding("util")}catch{}}(),Xn=Kn&&Kn.isTypedArray,Wn=Array.prototype,zn=Function.prototype,In=Object.prototype,Gn=fn["__core-js_shared__"],he=function(){var i=/[^.]+$/.exec(Gn&&Gn.keys&&Gn.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),ye=zn.toString,O=In.hasOwnProperty,W=In.toString,ce=RegExp("^"+ye.call(O).replace(Me,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=fn.Symbol,fe=fn.Uint8Array,ke=In.propertyIsEnumerable,De=Wn.splice,Be=function(i,o){return function(G){return i(o(G))}}(Object.keys,Object),Ke=Ie(fn,"DataView"),at=Ie(fn,"Map"),ot=Ie(fn,"Promise"),bt=Ie(fn,"Set"),xt=Ie(fn,"WeakMap"),Dt=Ie(Object,"create"),Qt=We(Ke),an=We(at),gn=We(ot),Mn=We(bt),Rn=We(xt),sn=x?x.prototype:void 0,On=sn?sn.valueOf:void 0,Un=sn?sn.toString:void 0;j.prototype.clear=_,j.prototype.delete=f,j.prototype.get=c,j.prototype.has=m,j.prototype.set=w,E.prototype.clear=Z,E.prototype.delete=Q,E.prototype.get=J,E.prototype.has=te,E.prototype.set=X,V.prototype.clear=se,V.prototype.delete=ve,V.prototype.get=ue,V.prototype.has=M,V.prototype.set=L,F.prototype.add=F.prototype.push=re,F.prototype.has=ne,H.prototype.clear=Y,H.prototype.delete=l,H.prototype.get=y,H.prototype.has=g,H.prototype.set=v;var Jn=function(i,o){return function(G,_e){if(G==null)return G;if(!Ve(G))return i(G,_e);for(var Ze=G.length,Le=o?Ze:-1,Qe=Object(G);(o?Le--:++Le<Ze)&&_e(Qe[Le],Le,Qe)!==!1;);return G}}(K),lr=function(i){return function(o,G,_e){for(var Ze=-1,Le=Object(o),Qe=_e(o),dt=Qe.length;dt--;){var kt=Qe[i?dt:++Ze];if(G(Le[kt],kt,Le)===!1)break}return o}}(),An=b;(Ke&&An(new Ke(new ArrayBuffer(1)))!=hn||at&&An(new at)!=Tn||ot&&An(ot.resolve())!="[object Promise]"||bt&&An(new bt)!=Dn||xt&&An(new xt)!="[object WeakMap]")&&(An=function(i){var o=W.call(i),G=o==Nt?i.constructor:void 0,_e=G?We(G):void 0;if(_e)switch(_e){case Qt:return hn;case an:return Tn;case gn:return"[object Promise]";case Mn:return Dn;case Rn:return"[object WeakMap]"}return o});var Yn=vt(function(i){i=$t(i);var o=[];return Ot.test(i)&&o.push(""),i.replace(cn,function(G,_e,Ze,Le){o.push(Ze?Le.replace(Fe,"$1"):_e||G)}),o});vt.Cache=V;var xn=Array.isArray,Yt=Xn?function(i){return function(o){return i(o)}}(Xn):u;ie.exports=it}).call(Te,je(0),je(5)(Ye))},function(Ye,Te,je){function ge(d,j,_,f){for(var c=[];j&&c.length<f;)_&&!Te.filter.call([j],_,d).length||c.push(j),j=j.parent;return c}var ie=je(42),s=je(9),A=s.domEach,U=je(3).DomUtils.uniqueSort,S=s.isTag,p={bind:je(24),forEach:je(16),reject:je(98),filter:je(99),reduce:je(100)};Te.find=function(d){var j,_=p.reduce(this,function(m,w){return m.concat(p.filter(w.children,S))},[]),f=this.constructor.contains;if(d&&typeof d!="string")return j=d.cheerio?d.get():[d],this._make(j.filter(function(m){var w,E;for(w=0,E=this.length;w<E;++w)if(f(this[w],m))return!0},this));var c={__proto__:this.options,context:this.toArray()};return this._make(ie(d,_,c))},Te.parent=function(d){var j=[];return A(this,function(_,f){var c=f.parent;c&&j.indexOf(c)<0&&j.push(c)}),arguments.length&&(j=Te.filter.call(j,d,this)),this._make(j)},Te.parents=function(d){var j=[];return this.get().reverse().forEach(function(_){ge(this,_.parent,d,1/0).forEach(function(f){j.indexOf(f)===-1&&j.push(f)})},this),this._make(j)},Te.parentsUntil=function(d,j){var _,f,c=[];return typeof d=="string"?_=ie(d,this.parents().toArray(),this.options)[0]:d&&d.cheerio?f=d.toArray():d&&(_=d),this.toArray().reverse().forEach(function(m){for(;(m=m.parent)&&(_&&m!==_||f&&f.indexOf(m)===-1||!_&&!f);)S(m)&&c.indexOf(m)===-1&&c.push(m)},this),this._make(j?ie(j,c,this.options):c)},Te.closest=function(d){var j=[];return d?(A(this,function(_,f){var c=ge(this,f,d,1)[0];c&&j.indexOf(c)<0&&j.push(c)}.bind(this)),this._make(j)):this._make(j)},Te.next=function(d){if(!this[0])return this;var j=[];return p.forEach(this,function(_){for(;_=_.next;)if(S(_))return void j.push(_)}),d?Te.filter.call(j,d,this):this._make(j)},Te.nextAll=function(d){if(!this[0])return this;var j=[];return p.forEach(this,function(_){for(;_=_.next;)S(_)&&j.indexOf(_)===-1&&j.push(_)}),d?Te.filter.call(j,d,this):this._make(j)},Te.nextUntil=function(d,j){if(!this[0])return this;var _,f,c=[];return typeof d=="string"?_=ie(d,this.nextAll().get(),this.options)[0]:d&&d.cheerio?f=d.get():d&&(_=d),p.forEach(this,function(m){for(;(m=m.next)&&(_&&m!==_||f&&f.indexOf(m)===-1||!_&&!f);)S(m)&&c.indexOf(m)===-1&&c.push(m)}),j?Te.filter.call(c,j,this):this._make(c)},Te.prev=function(d){if(!this[0])return this;var j=[];return p.forEach(this,function(_){for(;_=_.prev;)if(S(_))return void j.push(_)}),d?Te.filter.call(j,d,this):this._make(j)},Te.prevAll=function(d){if(!this[0])return this;var j=[];return p.forEach(this,function(_){for(;_=_.prev;)S(_)&&j.indexOf(_)===-1&&j.push(_)}),d?Te.filter.call(j,d,this):this._make(j)},Te.prevUntil=function(d,j){if(!this[0])return this;var _,f,c=[];return typeof d=="string"?_=ie(d,this.prevAll().get(),this.options)[0]:d&&d.cheerio?f=d.get():d&&(_=d),p.forEach(this,function(m){for(;(m=m.prev)&&(_&&m!==_||f&&f.indexOf(m)===-1||!_&&!f);)S(m)&&c.indexOf(m)===-1&&c.push(m)}),j?Te.filter.call(c,j,this):this._make(c)},Te.siblings=function(d){var j=this.parent(),_=p.filter(j?j.children():this.siblingsAndMe(),p.bind(function(f){return S(f)&&!this.is(f)},this));return d!==void 0?Te.filter.call(_,d,this):this._make(_)},Te.children=function(d){var j=p.reduce(this,function(_,f){return _.concat(p.filter(f.children,S))},[]);return d===void 0?this._make(j):Te.filter.call(j,d,this)},Te.contents=function(){return this._make(p.reduce(this,function(d,j){return d.push.apply(d,j.children),d},[]))},Te.each=function(d){for(var j=0,_=this.length;j<_&&d.call(this[j],j,this[j])!==!1;)++j;return this},Te.map=function(d){return this._make(p.reduce(this,function(j,_,f){var c=d.call(_,f,_);return c==null?j:j.concat(c)},[]))};var k=function(d){return function(j,_){var f;return _=_||this,f=typeof j=="string"?ie.compile(j,_.options):typeof j=="function"?function(c,m){return j.call(c,m,c)}:j.cheerio?j.is.bind(j):function(c){return j===c},_._make(d(this,f))}};Te.filter=k(p.filter),Te.not=k(p.reject),Te.has=function(d){var j=this;return Te.filter.call(this,function(){return j._make(this).find(d).length>0})},Te.first=function(){return this.length>1?this._make(this[0]):this},Te.last=function(){return this.length>1?this._make(this[this.length-1]):this},Te.eq=function(d){return(d=+d)==0&&this.length<=1?this:(d<0&&(d=this.length+d),this[d]?this._make(this[d]):this._make([]))},Te.get=function(d){return d==null?Array.prototype.slice.call(this):this[d<0?this.length+d:d]},Te.index=function(d){var j,_;return arguments.length===0?(j=this.parent().children(),_=this[0]):typeof d=="string"?(j=this._make(d),_=this[0]):(j=this,_=d.cheerio?d[0]:d),j.get().indexOf(_)},Te.slice=function(){return this._make([].slice.apply(this,arguments))},Te.end=function(){return this.prevObject||this._make([])},Te.add=function(d,j){for(var _=this._make(d,j),f=U(_.get().concat(this.get())),c=0;c<f.length;++c)_[c]=f[c];return _.length=f.length,_},Te.addBack=function(d){return this.add(arguments.length?this.prevObject.filter(d):this.prevObject)}},function(Ye,Te,je){(function(ge,ie){function s(o,G){for(var _e=-1,Ze=o?o.length:0,Le=0,Qe=[];++_e<Ze;){var dt=o[_e];G(dt,_e,o)&&(Qe[Le++]=dt)}return Qe}function A(o,G){for(var _e=-1,Ze=o?o.length:0;++_e<Ze;)if(G(o[_e],_e,o))return!0;return!1}function U(o){return function(G){return G==null?void 0:G[o]}}function S(o,G){for(var _e=-1,Ze=Array(o);++_e<o;)Ze[_e]=G(_e);return Ze}function p(o,G){return o==null?void 0:o[G]}function k(o){var G=!1;if(o!=null&&typeof o.toString!="function")try{G=!!(o+"")}catch{}return G}function d(o){var G=-1,_e=Array(o.size);return o.forEach(function(Ze,Le){_e[++G]=[Le,Ze]}),_e}function j(o){var G=-1,_e=Array(o.size);return o.forEach(function(Ze){_e[++G]=Ze}),_e}function _(o){var G=-1,_e=o?o.length:0;for(this.clear();++G<_e;){var Ze=o[G];this.set(Ze[0],Ze[1])}}function f(){this.__data__=Qt?Qt(null):{}}function c(o){return this.has(o)&&delete this.__data__[o]}function m(o){var G=this.__data__;if(Qt){var _e=G[o];return _e===Zt?void 0:_e}return W.call(G,o)?G[o]:void 0}function w(o){var G=this.__data__;return Qt?G[o]!==void 0:W.call(G,o)}function E(o,G){return this.__data__[o]=Qt&&G===void 0?Zt:G,this}function Z(o){var G=-1,_e=o?o.length:0;for(this.clear();++G<_e;){var Ze=o[G];this.set(Ze[0],Ze[1])}}function Q(){this.__data__=[]}function J(o){var G=this.__data__,_e=K(G,o);return!(_e<0)&&(_e==G.length-1?G.pop():Be.call(G,_e,1),!0)}function te(o){var G=this.__data__,_e=K(G,o);return _e<0?void 0:G[_e][1]}function X(o){return K(this.__data__,o)>-1}function V(o,G){var _e=this.__data__,Ze=K(_e,o);return Ze<0?_e.push([o,G]):_e[Ze][1]=G,this}function se(o){var G=-1,_e=o?o.length:0;for(this.clear();++G<_e;){var Ze=o[G];this.set(Ze[0],Ze[1])}}function ve(){this.__data__={hash:new _,map:new(ot||Z),string:new _}}function ue(o){return xe(this,o).delete(o)}function M(o){return xe(this,o).get(o)}function L(o){return xe(this,o).has(o)}function F(o,G){return xe(this,o).set(o,G),this}function re(o){var G=-1,_e=o?o.length:0;for(this.__data__=new se;++G<_e;)this.add(o[G])}function ne(o){return this.__data__.set(o,Zt),this}function H(o){return this.__data__.has(o)}function Y(o){this.__data__=new Z(o)}function l(){this.__data__=new Z}function y(o){return this.__data__.delete(o)}function g(o){return this.__data__.get(o)}function v(o){return this.__data__.has(o)}function $(o,G){var _e=this.__data__;if(_e instanceof Z){var Ze=_e.__data__;if(!ot||Ze.length<ft-1)return Ze.push([o,G]),this;_e=this.__data__=new se(Ze)}return _e.set(o,G),this}function ae(o,G){var _e=Yt(o)||Ve(o)?S(o.length,String):[],Ze=_e.length,Le=!!Ze;for(var Qe in o)!G&&!W.call(o,Qe)||Le&&(Qe=="length"||gt(Qe,Ze))||_e.push(Qe);return _e}function K(o,G){for(var _e=o.length;_e--;)if(tn(o[_e][0],G))return _e;return-1}function N(o,G){var _e=[];return lr(o,function(Ze,Le,Qe){G(Ze,Le,Qe)&&_e.push(Ze)}),_e}function b(o,G){return o&&An(o,G,Zn)}function h(o,G){G=ct(G,o)?[G]:de(G);for(var _e=0,Ze=G.length;o!=null&&_e<Ze;)o=o[Ne(G[_e++])];return _e&&_e==Ze?o:void 0}function z(o){return ce.call(o)}function R(o,G){return o!=null&&G in Object(o)}function T(o,G,_e,Ze,Le){return o===G||(o==null||G==null||!ht(o)&&!Ut(G)?o!==o&&G!==G:P(o,G,T,_e,Ze,Le))}function P(o,G,_e,Ze,Le,Qe){var dt=Yt(o),kt=Yt(G),Pt=ln,Tt=ln;dt||(Pt=Yn(o),Pt=Pt==dn?Rt:Pt),kt||(Tt=Yn(G),Tt=Tt==dn?Rt:Tt);var Jt=Pt==Rt&&!k(o),Xt=Tt==Rt&&!k(G),Kt=Pt==Tt;if(Kt&&!Jt)return Qe||(Qe=new Y),dt||i(o)?Oe(o,G,_e,Ze,Le,Qe):we(o,G,Pt,_e,Ze,Le,Qe);if(!(Le&Ht)){var mn=Jt&&W.call(o,"__wrapped__"),Pn=Xt&&W.call(G,"__wrapped__");if(mn||Pn){var Fn=mn?o.value():o,Hn=Pn?G.value():G;return Qe||(Qe=new Y),_e(Fn,Hn,Ze,Le,Qe)}}return!!Kt&&(Qe||(Qe=new Y),Se(o,G,_e,Ze,Le,Qe))}function u(o,G,_e,Ze){var Le=_e.length,Qe=Le,dt=!Ze;if(o==null)return!Qe;for(o=Object(o);Le--;){var kt=_e[Le];if(dt&&kt[2]?kt[1]!==o[kt[0]]:!(kt[0]in o))return!1}for(;++Le<Qe;){kt=_e[Le];var Pt=kt[0],Tt=o[Pt],Jt=kt[1];if(dt&&kt[2]){if(Tt===void 0&&!(Pt in o))return!1}else{var Xt=new Y;if(Ze)var Kt=Ze(Tt,Jt,Pt,o,G,Xt);if(!(Kt===void 0?T(Jt,Tt,Ze,Mt|Ht,Xt):Kt))return!1}}return!0}function ee(o){return!(!ht(o)||Lt(o))&&(At(o)||k(o)?x:It).test(We(o))}function q(o){return Ut(o)&&yt(o.length)&&!!_t[ce.call(o)]}function C(o){return typeof o=="function"?o:o==null?qe:typeof o=="object"?Yt(o)?be(o[0],o[1]):le(o):$e(o)}function D(o){if(!Ft(o))return Ke(o);var G=[];for(var _e in Object(o))W.call(o,_e)&&_e!="constructor"&&G.push(_e);return G}function le(o){var G=Ie(o);return G.length==1&&G[0][2]?Ee(G[0][0],G[0][1]):function(_e){return _e===o||u(_e,o,G)}}function be(o,G){return ct(o)&&ze(G)?Ee(Ne(o),G):function(_e){var Ze=kn(_e,o);return Ze===void 0&&Ze===G?en(_e,o):T(G,Ze,void 0,Mt|Ht)}}function I(o){return function(G){return h(G,o)}}function oe(o){if(typeof o=="string")return o;if($t(o))return Jn?Jn.call(o):"";var G=o+"";return G=="0"&&1/o==-Gt?"-0":G}function de(o){return Yt(o)?o:xn(o)}function Oe(o,G,_e,Ze,Le,Qe){var dt=Le&Ht,kt=o.length,Pt=G.length;if(kt!=Pt&&!(dt&&Pt>kt))return!1;var Tt=Qe.get(o);if(Tt&&Qe.get(G))return Tt==G;var Jt=-1,Xt=!0,Kt=Le&Mt?new re:void 0;for(Qe.set(o,G),Qe.set(G,o);++Jt<kt;){var mn=o[Jt],Pn=G[Jt];if(Ze)var Fn=dt?Ze(Pn,mn,Jt,G,o,Qe):Ze(mn,Pn,Jt,o,G,Qe);if(Fn!==void 0){if(Fn)continue;Xt=!1;break}if(Kt){if(!A(G,function(Hn,Qn){if(!Kt.has(Qn)&&(mn===Hn||_e(mn,Hn,Ze,Le,Qe)))return Kt.add(Qn)})){Xt=!1;break}}else if(mn!==Pn&&!_e(mn,Pn,Ze,Le,Qe)){Xt=!1;break}}return Qe.delete(o),Qe.delete(G),Xt}function we(o,G,_e,Ze,Le,Qe,dt){switch(_e){case on:if(o.byteLength!=G.byteLength||o.byteOffset!=G.byteOffset)return!1;o=o.buffer,G=G.buffer;case hn:return!(o.byteLength!=G.byteLength||!Ze(new ke(o),new ke(G)));case bn:case wn:case Nt:return tn(+o,+G);case Cn:return o.name==G.name&&o.message==G.message;case Dn:case Nn:return o==G+"";case qn:var kt=d;case Bn:var Pt=Qe&Ht;if(kt||(kt=j),o.size!=G.size&&!Pt)return!1;var Tt=dt.get(o);if(Tt)return Tt==G;Qe|=Mt,dt.set(o,G);var Jt=Oe(kt(o),kt(G),Ze,Le,Qe,dt);return dt.delete(o),Jt;case Wt:if(Un)return Un.call(o)==Un.call(G)}return!1}function Se(o,G,_e,Ze,Le,Qe){var dt=Le&Ht,kt=Zn(o),Pt=kt.length;if(Pt!=Zn(G).length&&!dt)return!1;for(var Tt=Pt;Tt--;){var Jt=kt[Tt];if(!(dt?Jt in G:W.call(G,Jt)))return!1}var Xt=Qe.get(o);if(Xt&&Qe.get(G))return Xt==G;var Kt=!0;Qe.set(o,G),Qe.set(G,o);for(var mn=dt;++Tt<Pt;){Jt=kt[Tt];var Pn=o[Jt],Fn=G[Jt];if(Ze)var Hn=dt?Ze(Fn,Pn,Jt,G,o,Qe):Ze(Pn,Fn,Jt,o,G,Qe);if(!(Hn===void 0?Pn===Fn||_e(Pn,Fn,Ze,Le,Qe):Hn)){Kt=!1;break}mn||(mn=Jt=="constructor")}if(Kt&&!mn){var Qn=o.constructor,$r=G.constructor;Qn!=$r&&"constructor"in o&&"constructor"in G&&!(typeof Qn=="function"&&Qn instanceof Qn&&typeof $r=="function"&&$r instanceof $r)&&(Kt=!1)}return Qe.delete(o),Qe.delete(G),Kt}function xe(o,G){var _e=o.__data__;return Bt(G)?_e[typeof G=="string"?"string":"hash"]:_e.map}function Ie(o){for(var G=Zn(o),_e=G.length;_e--;){var Ze=G[_e],Le=o[Ze];G[_e]=[Ze,Le,ze(Le)]}return G}function Xe(o,G){var _e=p(o,G);return ee(_e)?_e:void 0}function tt(o,G,_e){G=ct(G,o)?[G]:de(G);for(var Ze,Le=-1,dt=G.length;++Le<dt;){var Qe=Ne(G[Le]);if(!(Ze=o!=null&&_e(o,Qe)))break;o=o[Qe]}if(Ze)return Ze;var dt=o?o.length:0;return!!dt&&yt(dt)&&gt(Qe,dt)&&(Yt(o)||Ve(o))}function gt(o,G){return!!(G=G==null?nn:G)&&(typeof o=="number"||rt.test(o))&&o>-1&&o%1==0&&o<G}function ct(o,G){if(Yt(o))return!1;var _e=typeof o;return!(_e!="number"&&_e!="symbol"&&_e!="boolean"&&o!=null&&!$t(o))||Ot.test(o)||!sr.test(o)||G!=null&&o in Object(G)}function Bt(o){var G=typeof o;return G=="string"||G=="number"||G=="symbol"||G=="boolean"?o!=="__proto__":o===null}function Lt(o){return!!ye&&ye in o}function Ft(o){var G=o&&o.constructor;return o===(typeof G=="function"&&G.prototype||Gn)}function ze(o){return o===o&&!ht(o)}function Ee(o,G){return function(_e){return _e!=null&&_e[o]===G&&(G!==void 0||o in Object(_e))}}function Ne(o){if(typeof o=="string"||$t(o))return o;var G=o+"";return G=="0"&&1/o==-Gt?"-0":G}function We(o){if(o!=null){try{return O.call(o)}catch{}try{return o+""}catch{}}return""}function it(o,G){return(Yt(o)?s:N)(o,jt(C(G)))}function vt(o,G){if(typeof o!="function"||G&&typeof G!="function")throw new TypeError(Ct);var _e=function(){var Ze=arguments,Le=G?G.apply(this,Ze):Ze[0],Qe=_e.cache;if(Qe.has(Le))return Qe.get(Le);var dt=o.apply(this,Ze);return _e.cache=Qe.set(Le,dt),dt};return _e.cache=new(vt.Cache||se),_e}function jt(o){if(typeof o!="function")throw new TypeError(Ct);return function(){var G=arguments;switch(G.length){case 0:return!o.call(this);case 1:return!o.call(this,G[0]);case 2:return!o.call(this,G[0],G[1]);case 3:return!o.call(this,G[0],G[1],G[2])}return!o.apply(this,G)}}function tn(o,G){return o===G||o!==o&&G!==G}function Ve(o){return ut(o)&&W.call(o,"callee")&&(!De.call(o,"callee")||ce.call(o)==dn)}function et(o){return o!=null&&yt(o.length)&&!At(o)}function ut(o){return Ut(o)&&et(o)}function At(o){var G=ht(o)?ce.call(o):"";return G==Sn||G==Tn}function yt(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=nn}function ht(o){var G=typeof o;return!!o&&(G=="object"||G=="function")}function Ut(o){return!!o&&typeof o=="object"}function $t(o){return typeof o=="symbol"||Ut(o)&&ce.call(o)==Wt}function un(o){return o==null?"":oe(o)}function kn(o,G,_e){var Ze=o==null?void 0:h(o,G);return Ze===void 0?_e:Ze}function en(o,G){return o!=null&&tt(o,G,R)}function Zn(o){return et(o)?ae(o):D(o)}function qe(o){return o}function $e(o){return ct(o)?U(Ne(o)):I(o)}var ft=200,Ct="Expected a function",Zt="__lodash_hash_undefined__",Mt=1,Ht=2,Gt=1/0,nn=9007199254740991,dn="[object Arguments]",ln="[object Array]",bn="[object Boolean]",wn="[object Date]",Cn="[object Error]",Sn="[object Function]",Tn="[object GeneratorFunction]",qn="[object Map]",Nt="[object Number]",Rt="[object Object]",Dn="[object RegExp]",Bn="[object Set]",Nn="[object String]",Wt="[object Symbol]",hn="[object ArrayBuffer]",on="[object DataView]",sr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ot=/^\w*$/,cn=/^\./,Me=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fe=/[\\^$.*+?()[\]{}|]/g,mt=/\\(\\)?/g,It=/^\[object .+?Constructor\]$/,rt=/^(?:0|[1-9]\d*)$/,_t={};_t["[object Float32Array]"]=_t["[object Float64Array]"]=_t["[object Int8Array]"]=_t["[object Int16Array]"]=_t["[object Int32Array]"]=_t["[object Uint8Array]"]=_t["[object Uint8ClampedArray]"]=_t["[object Uint16Array]"]=_t["[object Uint32Array]"]=!0,_t[dn]=_t[ln]=_t[hn]=_t[bn]=_t[on]=_t[wn]=_t[Cn]=_t[Sn]=_t[qn]=_t[Nt]=_t[Rt]=_t[Dn]=_t[Bn]=_t[Nn]=_t["[object WeakMap]"]=!1;var jn=typeof ge=="object"&&ge&&ge.Object===Object&&ge,fn=typeof self=="object"&&self&&self.Object===Object&&self,En=jn||fn||Function("return this")(),$n=typeof Te=="object"&&Te&&!Te.nodeType&&Te,nr=$n&&typeof ie=="object"&&ie&&!ie.nodeType&&ie,er=nr&&nr.exports===$n,Kn=er&&jn.process,Xn=function(){try{return Kn&&Kn.binding("util")}catch{}}(),Wn=Xn&&Xn.isTypedArray,zn=Array.prototype,In=Function.prototype,Gn=Object.prototype,he=En["__core-js_shared__"],ye=function(){var o=/[^.]+$/.exec(he&&he.keys&&he.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),O=In.toString,W=Gn.hasOwnProperty,ce=Gn.toString,x=RegExp("^"+O.call(W).replace(Fe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fe=En.Symbol,ke=En.Uint8Array,De=Gn.propertyIsEnumerable,Be=zn.splice,Ke=function(o,G){return function(_e){return o(G(_e))}}(Object.keys,Object),at=Xe(En,"DataView"),ot=Xe(En,"Map"),bt=Xe(En,"Promise"),xt=Xe(En,"Set"),Dt=Xe(En,"WeakMap"),Qt=Xe(Object,"create"),an=We(at),gn=We(ot),Mn=We(bt),Rn=We(xt),sn=We(Dt),On=fe?fe.prototype:void 0,Un=On?On.valueOf:void 0,Jn=On?On.toString:void 0;_.prototype.clear=f,_.prototype.delete=c,_.prototype.get=m,_.prototype.has=w,_.prototype.set=E,Z.prototype.clear=Q,Z.prototype.delete=J,Z.prototype.get=te,Z.prototype.has=X,Z.prototype.set=V,se.prototype.clear=ve,se.prototype.delete=ue,se.prototype.get=M,se.prototype.has=L,se.prototype.set=F,re.prototype.add=re.prototype.push=ne,re.prototype.has=H,Y.prototype.clear=l,Y.prototype.delete=y,Y.prototype.get=g,Y.prototype.has=v,Y.prototype.set=$;var lr=function(o,G){return function(_e,Ze){if(_e==null)return _e;if(!et(_e))return o(_e,Ze);for(var Le=_e.length,Qe=G?Le:-1,dt=Object(_e);(G?Qe--:++Qe<Le)&&Ze(dt[Qe],Qe,dt)!==!1;);return _e}}(b),An=function(o){return function(G,_e,Ze){for(var Le=-1,Qe=Object(G),dt=Ze(G),kt=dt.length;kt--;){var Pt=dt[o?kt:++Le];if(_e(Qe[Pt],Pt,Qe)===!1)break}return G}}(),Yn=z;(at&&Yn(new at(new ArrayBuffer(1)))!=on||ot&&Yn(new ot)!=qn||bt&&Yn(bt.resolve())!="[object Promise]"||xt&&Yn(new xt)!=Bn||Dt&&Yn(new Dt)!="[object WeakMap]")&&(Yn=function(o){var G=ce.call(o),_e=G==Rt?o.constructor:void 0,Ze=_e?We(_e):void 0;if(Ze)switch(Ze){case an:return on;case gn:return qn;case Mn:return"[object Promise]";case Rn:return Bn;case sn:return"[object WeakMap]"}return G});var xn=vt(function(o){o=un(o);var G=[];return cn.test(o)&&G.push(""),o.replace(Me,function(_e,Ze,Le,Qe){G.push(Le?Qe.replace(mt,"$1"):Ze||_e)}),G});vt.Cache=se;var Yt=Array.isArray,i=Wn?function(o){return function(G){return o(G)}}(Wn):q;ie.exports=it}).call(Te,je(0),je(5)(Ye))},function(Ye,Te,je){(function(ge,ie){function s(i,o){for(var G=-1,_e=i?i.length:0,Ze=0,Le=[];++G<_e;){var Qe=i[G];o(Qe,G,i)&&(Le[Ze++]=Qe)}return Le}function A(i,o){for(var G=-1,_e=i?i.length:0;++G<_e;)if(o(i[G],G,i))return!0;return!1}function U(i){return function(o){return o==null?void 0:o[i]}}function S(i,o){for(var G=-1,_e=Array(i);++G<i;)_e[G]=o(G);return _e}function p(i,o){return i==null?void 0:i[o]}function k(i){var o=!1;if(i!=null&&typeof i.toString!="function")try{o=!!(i+"")}catch{}return o}function d(i){var o=-1,G=Array(i.size);return i.forEach(function(_e,Ze){G[++o]=[Ze,_e]}),G}function j(i){var o=-1,G=Array(i.size);return i.forEach(function(_e){G[++o]=_e}),G}function _(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var _e=i[o];this.set(_e[0],_e[1])}}function f(){this.__data__=Dt?Dt(null):{}}function c(i){return this.has(i)&&delete this.__data__[i]}function m(i){var o=this.__data__;if(Dt){var G=o[i];return G===Ct?void 0:G}return O.call(o,i)?o[i]:void 0}function w(i){var o=this.__data__;return Dt?o[i]!==void 0:O.call(o,i)}function E(i,o){return this.__data__[i]=Dt&&o===void 0?Ct:o,this}function Z(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var _e=i[o];this.set(_e[0],_e[1])}}function Q(){this.__data__=[]}function J(i){var o=this.__data__,G=K(o,i);return!(G<0)&&(G==o.length-1?o.pop():De.call(o,G,1),!0)}function te(i){var o=this.__data__,G=K(o,i);return G<0?void 0:o[G][1]}function X(i){return K(this.__data__,i)>-1}function V(i,o){var G=this.__data__,_e=K(G,i);return _e<0?G.push([i,o]):G[_e][1]=o,this}function se(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var _e=i[o];this.set(_e[0],_e[1])}}function ve(){this.__data__={hash:new _,map:new(at||Z),string:new _}}function ue(i){return xe(this,i).delete(i)}function M(i){return xe(this,i).get(i)}function L(i){return xe(this,i).has(i)}function F(i,o){return xe(this,i).set(i,o),this}function re(i){var o=-1,G=i?i.length:0;for(this.__data__=new se;++o<G;)this.add(i[o])}function ne(i){return this.__data__.set(i,Ct),this}function H(i){return this.__data__.has(i)}function Y(i){this.__data__=new Z(i)}function l(){this.__data__=new Z}function y(i){return this.__data__.delete(i)}function g(i){return this.__data__.get(i)}function v(i){return this.__data__.has(i)}function $(i,o){var G=this.__data__;if(G instanceof Z){var _e=G.__data__;if(!at||_e.length<$e-1)return _e.push([i,o]),this;G=this.__data__=new se(_e)}return G.set(i,o),this}function ae(i,o){var G=xn(i)||tn(i)?S(i.length,String):[],_e=G.length,Ze=!!_e;for(var Le in i)!o&&!O.call(i,Le)||Ze&&(Le=="length"||gt(Le,_e))||G.push(Le);return G}function K(i,o){for(var G=i.length;G--;)if(jt(i[G][0],o))return G;return-1}function N(i,o){var G=[];return Jn(i,function(_e,Ze,Le){o(_e,Ze,Le)&&G.push(_e)}),G}function b(i,o){return i&&lr(i,o,en)}function h(i,o){o=ct(o,i)?[o]:de(o);for(var G=0,_e=o.length;i!=null&&G<_e;)i=i[Ne(o[G++])];return G&&G==_e?i:void 0}function z(i){return W.call(i)}function R(i,o){return i!=null&&o in Object(i)}function T(i,o,G,_e,Ze){return i===o||(i==null||o==null||!yt(i)&&!ht(o)?i!==i&&o!==o:P(i,o,T,G,_e,Ze))}function P(i,o,G,_e,Ze,Le){var Qe=xn(i),dt=xn(o),kt=dn,Pt=dn;Qe||(kt=An(i),kt=kt==nn?Nt:kt),dt||(Pt=An(o),Pt=Pt==nn?Nt:Pt);var Tt=kt==Nt&&!k(i),Jt=Pt==Nt&&!k(o),Xt=kt==Pt;if(Xt&&!Tt)return Le||(Le=new Y),Qe||Yt(i)?Oe(i,o,G,_e,Ze,Le):we(i,o,kt,G,_e,Ze,Le);if(!(Ze&Mt)){var Kt=Tt&&O.call(i,"__wrapped__"),mn=Jt&&O.call(o,"__wrapped__");if(Kt||mn){var Pn=Kt?i.value():i,Fn=mn?o.value():o;return Le||(Le=new Y),G(Pn,Fn,_e,Ze,Le)}}return!!Xt&&(Le||(Le=new Y),Se(i,o,G,_e,Ze,Le))}function u(i,o,G,_e){var Ze=G.length,Le=Ze,Qe=!_e;if(i==null)return!Le;for(i=Object(i);Ze--;){var dt=G[Ze];if(Qe&&dt[2]?dt[1]!==i[dt[0]]:!(dt[0]in i))return!1}for(;++Ze<Le;){dt=G[Ze];var kt=dt[0],Pt=i[kt],Tt=dt[1];if(Qe&&dt[2]){if(Pt===void 0&&!(kt in i))return!1}else{var Jt=new Y;if(_e)var Xt=_e(Pt,Tt,kt,i,o,Jt);if(!(Xt===void 0?T(Tt,Pt,_e,Zt|Mt,Jt):Xt))return!1}}return!0}function ee(i){return!(!yt(i)||Lt(i))&&(ut(i)||k(i)?ce:mt).test(We(i))}function q(i){return ht(i)&&At(i.length)&&!!rt[W.call(i)]}function C(i){return typeof i=="function"?i:i==null?Zn:typeof i=="object"?xn(i)?be(i[0],i[1]):le(i):qe(i)}function D(i){if(!Ft(i))return Be(i);var o=[];for(var G in Object(i))O.call(i,G)&&G!="constructor"&&o.push(G);return o}function le(i){var o=Ie(i);return o.length==1&&o[0][2]?Ee(o[0][0],o[0][1]):function(G){return G===i||u(G,i,o)}}function be(i,o){return ct(i)&&ze(o)?Ee(Ne(i),o):function(G){var _e=un(G,i);return _e===void 0&&_e===o?kn(G,i):T(o,_e,void 0,Zt|Mt)}}function I(i){return function(o){return h(o,i)}}function oe(i){if(typeof i=="string")return i;if(Ut(i))return Un?Un.call(i):"";var o=i+"";return o=="0"&&1/i==-Ht?"-0":o}function de(i){return xn(i)?i:Yn(i)}function Oe(i,o,G,_e,Ze,Le){var Qe=Ze&Mt,dt=i.length,kt=o.length;if(dt!=kt&&!(Qe&&kt>dt))return!1;var Pt=Le.get(i);if(Pt&&Le.get(o))return Pt==o;var Tt=-1,Jt=!0,Xt=Ze&Zt?new re:void 0;for(Le.set(i,o),Le.set(o,i);++Tt<dt;){var Kt=i[Tt],mn=o[Tt];if(_e)var Pn=Qe?_e(mn,Kt,Tt,o,i,Le):_e(Kt,mn,Tt,i,o,Le);if(Pn!==void 0){if(Pn)continue;Jt=!1;break}if(Xt){if(!A(o,function(Fn,Hn){if(!Xt.has(Hn)&&(Kt===Fn||G(Kt,Fn,_e,Ze,Le)))return Xt.add(Hn)})){Jt=!1;break}}else if(Kt!==mn&&!G(Kt,mn,_e,Ze,Le)){Jt=!1;break}}return Le.delete(i),Le.delete(o),Jt}function we(i,o,G,_e,Ze,Le,Qe){switch(G){case hn:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case Wt:return!(i.byteLength!=o.byteLength||!_e(new fe(i),new fe(o)));case ln:case bn:case qn:return jt(+i,+o);case wn:return i.name==o.name&&i.message==o.message;case Rt:case Bn:return i==o+"";case Tn:var dt=d;case Dn:var kt=Le&Mt;if(dt||(dt=j),i.size!=o.size&&!kt)return!1;var Pt=Qe.get(i);if(Pt)return Pt==o;Le|=Zt,Qe.set(i,o);var Tt=Oe(dt(i),dt(o),_e,Ze,Le,Qe);return Qe.delete(i),Tt;case Nn:if(On)return On.call(i)==On.call(o)}return!1}function Se(i,o,G,_e,Ze,Le){var Qe=Ze&Mt,dt=en(i),kt=dt.length;if(kt!=en(o).length&&!Qe)return!1;for(var Pt=kt;Pt--;){var Tt=dt[Pt];if(!(Qe?Tt in o:O.call(o,Tt)))return!1}var Jt=Le.get(i);if(Jt&&Le.get(o))return Jt==o;var Xt=!0;Le.set(i,o),Le.set(o,i);for(var Kt=Qe;++Pt<kt;){Tt=dt[Pt];var mn=i[Tt],Pn=o[Tt];if(_e)var Fn=Qe?_e(Pn,mn,Tt,o,i,Le):_e(mn,Pn,Tt,i,o,Le);if(!(Fn===void 0?mn===Pn||G(mn,Pn,_e,Ze,Le):Fn)){Xt=!1;break}Kt||(Kt=Tt=="constructor")}if(Xt&&!Kt){var Hn=i.constructor,Qn=o.constructor;Hn!=Qn&&"constructor"in i&&"constructor"in o&&!(typeof Hn=="function"&&Hn instanceof Hn&&typeof Qn=="function"&&Qn instanceof Qn)&&(Xt=!1)}return Le.delete(i),Le.delete(o),Xt}function xe(i,o){var G=i.__data__;return Bt(o)?G[typeof o=="string"?"string":"hash"]:G.map}function Ie(i){for(var o=en(i),G=o.length;G--;){var _e=o[G],Ze=i[_e];o[G]=[_e,Ze,ze(Ze)]}return o}function Xe(i,o){var G=p(i,o);return ee(G)?G:void 0}function tt(i,o,G){o=ct(o,i)?[o]:de(o);for(var _e,Ze=-1,Qe=o.length;++Ze<Qe;){var Le=Ne(o[Ze]);if(!(_e=i!=null&&G(i,Le)))break;i=i[Le]}if(_e)return _e;var Qe=i?i.length:0;return!!Qe&&At(Qe)&&gt(Le,Qe)&&(xn(i)||tn(i))}function gt(i,o){return!!(o=o==null?Gt:o)&&(typeof i=="number"||It.test(i))&&i>-1&&i%1==0&&i<o}function ct(i,o){if(xn(i))return!1;var G=typeof i;return!(G!="number"&&G!="symbol"&&G!="boolean"&&i!=null&&!Ut(i))||sr.test(i)||!on.test(i)||o!=null&&i in Object(o)}function Bt(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function Lt(i){return!!he&&he in i}function Ft(i){var o=i&&i.constructor;return i===(typeof o=="function"&&o.prototype||In)}function ze(i){return i===i&&!yt(i)}function Ee(i,o){return function(G){return G!=null&&G[i]===o&&(o!==void 0||i in Object(G))}}function Ne(i){if(typeof i=="string"||Ut(i))return i;var o=i+"";return o=="0"&&1/i==-Ht?"-0":o}function We(i){if(i!=null){try{return ye.call(i)}catch{}try{return i+""}catch{}}return""}function it(i,o){return(xn(i)?s:N)(i,C(o))}function vt(i,o){if(typeof i!="function"||o&&typeof o!="function")throw new TypeError(ft);var G=function(){var _e=arguments,Ze=o?o.apply(this,_e):_e[0],Le=G.cache;if(Le.has(Ze))return Le.get(Ze);var Qe=i.apply(this,_e);return G.cache=Le.set(Ze,Qe),Qe};return G.cache=new(vt.Cache||se),G}function jt(i,o){return i===o||i!==i&&o!==o}function tn(i){return et(i)&&O.call(i,"callee")&&(!ke.call(i,"callee")||W.call(i)==nn)}function Ve(i){return i!=null&&At(i.length)&&!ut(i)}function et(i){return ht(i)&&Ve(i)}function ut(i){var o=yt(i)?W.call(i):"";return o==Cn||o==Sn}function At(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Gt}function yt(i){var o=typeof i;return!!i&&(o=="object"||o=="function")}function ht(i){return!!i&&typeof i=="object"}function Ut(i){return typeof i=="symbol"||ht(i)&&W.call(i)==Nn}function $t(i){return i==null?"":oe(i)}function un(i,o,G){var _e=i==null?void 0:h(i,o);return _e===void 0?G:_e}function kn(i,o){return i!=null&&tt(i,o,R)}function en(i){return Ve(i)?ae(i):D(i)}function Zn(i){return i}function qe(i){return ct(i)?U(Ne(i)):I(i)}var $e=200,ft="Expected a function",Ct="__lodash_hash_undefined__",Zt=1,Mt=2,Ht=1/0,Gt=9007199254740991,nn="[object Arguments]",dn="[object Array]",ln="[object Boolean]",bn="[object Date]",wn="[object Error]",Cn="[object Function]",Sn="[object GeneratorFunction]",Tn="[object Map]",qn="[object Number]",Nt="[object Object]",Rt="[object RegExp]",Dn="[object Set]",Bn="[object String]",Nn="[object Symbol]",Wt="[object ArrayBuffer]",hn="[object DataView]",on=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sr=/^\w*$/,Ot=/^\./,cn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Me=/[\\^$.*+?()[\]{}|]/g,Fe=/\\(\\)?/g,mt=/^\[object .+?Constructor\]$/,It=/^(?:0|[1-9]\d*)$/,rt={};rt["[object Float32Array]"]=rt["[object Float64Array]"]=rt["[object Int8Array]"]=rt["[object Int16Array]"]=rt["[object Int32Array]"]=rt["[object Uint8Array]"]=rt["[object Uint8ClampedArray]"]=rt["[object Uint16Array]"]=rt["[object Uint32Array]"]=!0,rt[nn]=rt[dn]=rt[Wt]=rt[ln]=rt[hn]=rt[bn]=rt[wn]=rt[Cn]=rt[Tn]=rt[qn]=rt[Nt]=rt[Rt]=rt[Dn]=rt[Bn]=rt["[object WeakMap]"]=!1;var _t=typeof ge=="object"&&ge&&ge.Object===Object&&ge,jn=typeof self=="object"&&self&&self.Object===Object&&self,fn=_t||jn||Function("return this")(),En=typeof Te=="object"&&Te&&!Te.nodeType&&Te,$n=En&&typeof ie=="object"&&ie&&!ie.nodeType&&ie,nr=$n&&$n.exports===En,er=nr&&_t.process,Kn=function(){try{return er&&er.binding("util")}catch{}}(),Xn=Kn&&Kn.isTypedArray,Wn=Array.prototype,zn=Function.prototype,In=Object.prototype,Gn=fn["__core-js_shared__"],he=function(){var i=/[^.]+$/.exec(Gn&&Gn.keys&&Gn.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),ye=zn.toString,O=In.hasOwnProperty,W=In.toString,ce=RegExp("^"+ye.call(O).replace(Me,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=fn.Symbol,fe=fn.Uint8Array,ke=In.propertyIsEnumerable,De=Wn.splice,Be=function(i,o){return function(G){return i(o(G))}}(Object.keys,Object),Ke=Xe(fn,"DataView"),at=Xe(fn,"Map"),ot=Xe(fn,"Promise"),bt=Xe(fn,"Set"),xt=Xe(fn,"WeakMap"),Dt=Xe(Object,"create"),Qt=We(Ke),an=We(at),gn=We(ot),Mn=We(bt),Rn=We(xt),sn=x?x.prototype:void 0,On=sn?sn.valueOf:void 0,Un=sn?sn.toString:void 0;_.prototype.clear=f,_.prototype.delete=c,_.prototype.get=m,_.prototype.has=w,_.prototype.set=E,Z.prototype.clear=Q,Z.prototype.delete=J,Z.prototype.get=te,Z.prototype.has=X,Z.prototype.set=V,se.prototype.clear=ve,se.prototype.delete=ue,se.prototype.get=M,se.prototype.has=L,se.prototype.set=F,re.prototype.add=re.prototype.push=ne,re.prototype.has=H,Y.prototype.clear=l,Y.prototype.delete=y,Y.prototype.get=g,Y.prototype.has=v,Y.prototype.set=$;var Jn=function(i,o){return function(G,_e){if(G==null)return G;if(!Ve(G))return i(G,_e);for(var Ze=G.length,Le=o?Ze:-1,Qe=Object(G);(o?Le--:++Le<Ze)&&_e(Qe[Le],Le,Qe)!==!1;);return G}}(b),lr=function(i){return function(o,G,_e){for(var Ze=-1,Le=Object(o),Qe=_e(o),dt=Qe.length;dt--;){var kt=Qe[i?dt:++Ze];if(G(Le[kt],kt,Le)===!1)break}return o}}(),An=z;(Ke&&An(new Ke(new ArrayBuffer(1)))!=hn||at&&An(new at)!=Tn||ot&&An(ot.resolve())!="[object Promise]"||bt&&An(new bt)!=Dn||xt&&An(new xt)!="[object WeakMap]")&&(An=function(i){var o=W.call(i),G=o==Nt?i.constructor:void 0,_e=G?We(G):void 0;if(_e)switch(_e){case Qt:return hn;case an:return Tn;case gn:return"[object Promise]";case Mn:return Dn;case Rn:return"[object WeakMap]"}return o});var Yn=vt(function(i){i=$t(i);var o=[];return Ot.test(i)&&o.push(""),i.replace(cn,function(G,_e,Ze,Le){o.push(Ze?Le.replace(Fe,"$1"):_e||G)}),o});vt.Cache=se;var xn=Array.isArray,Yt=Xn?function(i){return function(o){return i(o)}}(Xn):q;ie.exports=it}).call(Te,je(0),je(5)(Ye))},function(Ye,Te,je){(function(ge,ie){function s(i,o,G,_e){var Ze=-1,Le=i?i.length:0;for(_e&&Le&&(G=i[++Ze]);++Ze<Le;)G=o(G,i[Ze],Ze,i);return G}function A(i,o){for(var G=-1,_e=i?i.length:0;++G<_e;)if(o(i[G],G,i))return!0;return!1}function U(i){return function(o){return o==null?void 0:o[i]}}function S(i,o,G,_e,Ze){return Ze(i,function(Le,Qe,dt){G=_e?(_e=!1,Le):o(G,Le,Qe,dt)}),G}function p(i,o){for(var G=-1,_e=Array(i);++G<i;)_e[G]=o(G);return _e}function k(i,o){return i==null?void 0:i[o]}function d(i){var o=!1;if(i!=null&&typeof i.toString!="function")try{o=!!(i+"")}catch{}return o}function j(i){var o=-1,G=Array(i.size);return i.forEach(function(_e,Ze){G[++o]=[Ze,_e]}),G}function _(i){var o=-1,G=Array(i.size);return i.forEach(function(_e){G[++o]=_e}),G}function f(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var _e=i[o];this.set(_e[0],_e[1])}}function c(){this.__data__=Dt?Dt(null):{}}function m(i){return this.has(i)&&delete this.__data__[i]}function w(i){var o=this.__data__;if(Dt){var G=o[i];return G===Ct?void 0:G}return O.call(o,i)?o[i]:void 0}function E(i){var o=this.__data__;return Dt?o[i]!==void 0:O.call(o,i)}function Z(i,o){return this.__data__[i]=Dt&&o===void 0?Ct:o,this}function Q(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var _e=i[o];this.set(_e[0],_e[1])}}function J(){this.__data__=[]}function te(i){var o=this.__data__,G=N(o,i);return!(G<0)&&(G==o.length-1?o.pop():De.call(o,G,1),!0)}function X(i){var o=this.__data__,G=N(o,i);return G<0?void 0:o[G][1]}function V(i){return N(this.__data__,i)>-1}function se(i,o){var G=this.__data__,_e=N(G,i);return _e<0?G.push([i,o]):G[_e][1]=o,this}function ve(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var _e=i[o];this.set(_e[0],_e[1])}}function ue(){this.__data__={hash:new f,map:new(at||Q),string:new f}}function M(i){return xe(this,i).delete(i)}function L(i){return xe(this,i).get(i)}function F(i){return xe(this,i).has(i)}function re(i,o){return xe(this,i).set(i,o),this}function ne(i){var o=-1,G=i?i.length:0;for(this.__data__=new ve;++o<G;)this.add(i[o])}function H(i){return this.__data__.set(i,Ct),this}function Y(i){return this.__data__.has(i)}function l(i){this.__data__=new Q(i)}function y(){this.__data__=new Q}function g(i){return this.__data__.delete(i)}function v(i){return this.__data__.get(i)}function $(i){return this.__data__.has(i)}function ae(i,o){var G=this.__data__;if(G instanceof Q){var _e=G.__data__;if(!at||_e.length<$e-1)return _e.push([i,o]),this;G=this.__data__=new ve(_e)}return G.set(i,o),this}function K(i,o){var G=xn(i)||tn(i)?p(i.length,String):[],_e=G.length,Ze=!!_e;for(var Le in i)!o&&!O.call(i,Le)||Ze&&(Le=="length"||gt(Le,_e))||G.push(Le);return G}function N(i,o){for(var G=i.length;G--;)if(jt(i[G][0],o))return G;return-1}function b(i,o){return i&&lr(i,o,en)}function h(i,o){o=ct(o,i)?[o]:de(o);for(var G=0,_e=o.length;i!=null&&G<_e;)i=i[Ne(o[G++])];return G&&G==_e?i:void 0}function z(i){return W.call(i)}function R(i,o){return i!=null&&o in Object(i)}function T(i,o,G,_e,Ze){return i===o||(i==null||o==null||!yt(i)&&!ht(o)?i!==i&&o!==o:P(i,o,T,G,_e,Ze))}function P(i,o,G,_e,Ze,Le){var Qe=xn(i),dt=xn(o),kt=dn,Pt=dn;Qe||(kt=An(i),kt=kt==nn?Nt:kt),dt||(Pt=An(o),Pt=Pt==nn?Nt:Pt);var Tt=kt==Nt&&!d(i),Jt=Pt==Nt&&!d(o),Xt=kt==Pt;if(Xt&&!Tt)return Le||(Le=new l),Qe||Yt(i)?Oe(i,o,G,_e,Ze,Le):we(i,o,kt,G,_e,Ze,Le);if(!(Ze&Mt)){var Kt=Tt&&O.call(i,"__wrapped__"),mn=Jt&&O.call(o,"__wrapped__");if(Kt||mn){var Pn=Kt?i.value():i,Fn=mn?o.value():o;return Le||(Le=new l),G(Pn,Fn,_e,Ze,Le)}}return!!Xt&&(Le||(Le=new l),Se(i,o,G,_e,Ze,Le))}function u(i,o,G,_e){var Ze=G.length,Le=Ze,Qe=!_e;if(i==null)return!Le;for(i=Object(i);Ze--;){var dt=G[Ze];if(Qe&&dt[2]?dt[1]!==i[dt[0]]:!(dt[0]in i))return!1}for(;++Ze<Le;){dt=G[Ze];var kt=dt[0],Pt=i[kt],Tt=dt[1];if(Qe&&dt[2]){if(Pt===void 0&&!(kt in i))return!1}else{var Jt=new l;if(_e)var Xt=_e(Pt,Tt,kt,i,o,Jt);if(!(Xt===void 0?T(Tt,Pt,_e,Zt|Mt,Jt):Xt))return!1}}return!0}function ee(i){return!(!yt(i)||Lt(i))&&(ut(i)||d(i)?ce:mt).test(We(i))}function q(i){return ht(i)&&At(i.length)&&!!rt[W.call(i)]}function C(i){return typeof i=="function"?i:i==null?Zn:typeof i=="object"?xn(i)?be(i[0],i[1]):le(i):qe(i)}function D(i){if(!Ft(i))return Be(i);var o=[];for(var G in Object(i))O.call(i,G)&&G!="constructor"&&o.push(G);return o}function le(i){var o=Ie(i);return o.length==1&&o[0][2]?Ee(o[0][0],o[0][1]):function(G){return G===i||u(G,i,o)}}function be(i,o){return ct(i)&&ze(o)?Ee(Ne(i),o):function(G){var _e=un(G,i);return _e===void 0&&_e===o?kn(G,i):T(o,_e,void 0,Zt|Mt)}}function I(i){return function(o){return h(o,i)}}function oe(i){if(typeof i=="string")return i;if(Ut(i))return Un?Un.call(i):"";var o=i+"";return o=="0"&&1/i==-Ht?"-0":o}function de(i){return xn(i)?i:Yn(i)}function Oe(i,o,G,_e,Ze,Le){var Qe=Ze&Mt,dt=i.length,kt=o.length;if(dt!=kt&&!(Qe&&kt>dt))return!1;var Pt=Le.get(i);if(Pt&&Le.get(o))return Pt==o;var Tt=-1,Jt=!0,Xt=Ze&Zt?new ne:void 0;for(Le.set(i,o),Le.set(o,i);++Tt<dt;){var Kt=i[Tt],mn=o[Tt];if(_e)var Pn=Qe?_e(mn,Kt,Tt,o,i,Le):_e(Kt,mn,Tt,i,o,Le);if(Pn!==void 0){if(Pn)continue;Jt=!1;break}if(Xt){if(!A(o,function(Fn,Hn){if(!Xt.has(Hn)&&(Kt===Fn||G(Kt,Fn,_e,Ze,Le)))return Xt.add(Hn)})){Jt=!1;break}}else if(Kt!==mn&&!G(Kt,mn,_e,Ze,Le)){Jt=!1;break}}return Le.delete(i),Le.delete(o),Jt}function we(i,o,G,_e,Ze,Le,Qe){switch(G){case hn:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case Wt:return!(i.byteLength!=o.byteLength||!_e(new fe(i),new fe(o)));case ln:case bn:case qn:return jt(+i,+o);case wn:return i.name==o.name&&i.message==o.message;case Rt:case Bn:return i==o+"";case Tn:var dt=j;case Dn:var kt=Le&Mt;if(dt||(dt=_),i.size!=o.size&&!kt)return!1;var Pt=Qe.get(i);if(Pt)return Pt==o;Le|=Zt,Qe.set(i,o);var Tt=Oe(dt(i),dt(o),_e,Ze,Le,Qe);return Qe.delete(i),Tt;case Nn:if(On)return On.call(i)==On.call(o)}return!1}function Se(i,o,G,_e,Ze,Le){var Qe=Ze&Mt,dt=en(i),kt=dt.length;if(kt!=en(o).length&&!Qe)return!1;for(var Pt=kt;Pt--;){var Tt=dt[Pt];if(!(Qe?Tt in o:O.call(o,Tt)))return!1}var Jt=Le.get(i);if(Jt&&Le.get(o))return Jt==o;var Xt=!0;Le.set(i,o),Le.set(o,i);for(var Kt=Qe;++Pt<kt;){Tt=dt[Pt];var mn=i[Tt],Pn=o[Tt];if(_e)var Fn=Qe?_e(Pn,mn,Tt,o,i,Le):_e(mn,Pn,Tt,i,o,Le);if(!(Fn===void 0?mn===Pn||G(mn,Pn,_e,Ze,Le):Fn)){Xt=!1;break}Kt||(Kt=Tt=="constructor")}if(Xt&&!Kt){var Hn=i.constructor,Qn=o.constructor;Hn!=Qn&&"constructor"in i&&"constructor"in o&&!(typeof Hn=="function"&&Hn instanceof Hn&&typeof Qn=="function"&&Qn instanceof Qn)&&(Xt=!1)}return Le.delete(i),Le.delete(o),Xt}function xe(i,o){var G=i.__data__;return Bt(o)?G[typeof o=="string"?"string":"hash"]:G.map}function Ie(i){for(var o=en(i),G=o.length;G--;){var _e=o[G],Ze=i[_e];o[G]=[_e,Ze,ze(Ze)]}return o}function Xe(i,o){var G=k(i,o);return ee(G)?G:void 0}function tt(i,o,G){o=ct(o,i)?[o]:de(o);for(var _e,Ze=-1,Qe=o.length;++Ze<Qe;){var Le=Ne(o[Ze]);if(!(_e=i!=null&&G(i,Le)))break;i=i[Le]}if(_e)return _e;var Qe=i?i.length:0;return!!Qe&&At(Qe)&&gt(Le,Qe)&&(xn(i)||tn(i))}function gt(i,o){return!!(o=o==null?Gt:o)&&(typeof i=="number"||It.test(i))&&i>-1&&i%1==0&&i<o}function ct(i,o){if(xn(i))return!1;var G=typeof i;return!(G!="number"&&G!="symbol"&&G!="boolean"&&i!=null&&!Ut(i))||sr.test(i)||!on.test(i)||o!=null&&i in Object(o)}function Bt(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function Lt(i){return!!he&&he in i}function Ft(i){var o=i&&i.constructor;return i===(typeof o=="function"&&o.prototype||In)}function ze(i){return i===i&&!yt(i)}function Ee(i,o){return function(G){return G!=null&&G[i]===o&&(o!==void 0||i in Object(G))}}function Ne(i){if(typeof i=="string"||Ut(i))return i;var o=i+"";return o=="0"&&1/i==-Ht?"-0":o}function We(i){if(i!=null){try{return ye.call(i)}catch{}try{return i+""}catch{}}return""}function it(i,o,G){var _e=xn(i)?s:S,Ze=arguments.length<3;return _e(i,C(o),G,Ze,Jn)}function vt(i,o){if(typeof i!="function"||o&&typeof o!="function")throw new TypeError(ft);var G=function(){var _e=arguments,Ze=o?o.apply(this,_e):_e[0],Le=G.cache;if(Le.has(Ze))return Le.get(Ze);var Qe=i.apply(this,_e);return G.cache=Le.set(Ze,Qe),Qe};return G.cache=new(vt.Cache||ve),G}function jt(i,o){return i===o||i!==i&&o!==o}function tn(i){return et(i)&&O.call(i,"callee")&&(!ke.call(i,"callee")||W.call(i)==nn)}function Ve(i){return i!=null&&At(i.length)&&!ut(i)}function et(i){return ht(i)&&Ve(i)}function ut(i){var o=yt(i)?W.call(i):"";return o==Cn||o==Sn}function At(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Gt}function yt(i){var o=typeof i;return!!i&&(o=="object"||o=="function")}function ht(i){return!!i&&typeof i=="object"}function Ut(i){return typeof i=="symbol"||ht(i)&&W.call(i)==Nn}function $t(i){return i==null?"":oe(i)}function un(i,o,G){var _e=i==null?void 0:h(i,o);return _e===void 0?G:_e}function kn(i,o){return i!=null&&tt(i,o,R)}function en(i){return Ve(i)?K(i):D(i)}function Zn(i){return i}function qe(i){return ct(i)?U(Ne(i)):I(i)}var $e=200,ft="Expected a function",Ct="__lodash_hash_undefined__",Zt=1,Mt=2,Ht=1/0,Gt=9007199254740991,nn="[object Arguments]",dn="[object Array]",ln="[object Boolean]",bn="[object Date]",wn="[object Error]",Cn="[object Function]",Sn="[object GeneratorFunction]",Tn="[object Map]",qn="[object Number]",Nt="[object Object]",Rt="[object RegExp]",Dn="[object Set]",Bn="[object String]",Nn="[object Symbol]",Wt="[object ArrayBuffer]",hn="[object DataView]",on=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sr=/^\w*$/,Ot=/^\./,cn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Me=/[\\^$.*+?()[\]{}|]/g,Fe=/\\(\\)?/g,mt=/^\[object .+?Constructor\]$/,It=/^(?:0|[1-9]\d*)$/,rt={};rt["[object Float32Array]"]=rt["[object Float64Array]"]=rt["[object Int8Array]"]=rt["[object Int16Array]"]=rt["[object Int32Array]"]=rt["[object Uint8Array]"]=rt["[object Uint8ClampedArray]"]=rt["[object Uint16Array]"]=rt["[object Uint32Array]"]=!0,rt[nn]=rt[dn]=rt[Wt]=rt[ln]=rt[hn]=rt[bn]=rt[wn]=rt[Cn]=rt[Tn]=rt[qn]=rt[Nt]=rt[Rt]=rt[Dn]=rt[Bn]=rt["[object WeakMap]"]=!1;var _t=typeof ge=="object"&&ge&&ge.Object===Object&&ge,jn=typeof self=="object"&&self&&self.Object===Object&&self,fn=_t||jn||Function("return this")(),En=typeof Te=="object"&&Te&&!Te.nodeType&&Te,$n=En&&typeof ie=="object"&&ie&&!ie.nodeType&&ie,nr=$n&&$n.exports===En,er=nr&&_t.process,Kn=function(){try{return er&&er.binding("util")}catch{}}(),Xn=Kn&&Kn.isTypedArray,Wn=Array.prototype,zn=Function.prototype,In=Object.prototype,Gn=fn["__core-js_shared__"],he=function(){var i=/[^.]+$/.exec(Gn&&Gn.keys&&Gn.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),ye=zn.toString,O=In.hasOwnProperty,W=In.toString,ce=RegExp("^"+ye.call(O).replace(Me,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=fn.Symbol,fe=fn.Uint8Array,ke=In.propertyIsEnumerable,De=Wn.splice,Be=function(i,o){return function(G){return i(o(G))}}(Object.keys,Object),Ke=Xe(fn,"DataView"),at=Xe(fn,"Map"),ot=Xe(fn,"Promise"),bt=Xe(fn,"Set"),xt=Xe(fn,"WeakMap"),Dt=Xe(Object,"create"),Qt=We(Ke),an=We(at),gn=We(ot),Mn=We(bt),Rn=We(xt),sn=x?x.prototype:void 0,On=sn?sn.valueOf:void 0,Un=sn?sn.toString:void 0;f.prototype.clear=c,f.prototype.delete=m,f.prototype.get=w,f.prototype.has=E,f.prototype.set=Z,Q.prototype.clear=J,Q.prototype.delete=te,Q.prototype.get=X,Q.prototype.has=V,Q.prototype.set=se,ve.prototype.clear=ue,ve.prototype.delete=M,ve.prototype.get=L,ve.prototype.has=F,ve.prototype.set=re,ne.prototype.add=ne.prototype.push=H,ne.prototype.has=Y,l.prototype.clear=y,l.prototype.delete=g,l.prototype.get=v,l.prototype.has=$,l.prototype.set=ae;var Jn=function(i,o){return function(G,_e){if(G==null)return G;if(!Ve(G))return i(G,_e);for(var Ze=G.length,Le=o?Ze:-1,Qe=Object(G);(o?Le--:++Le<Ze)&&_e(Qe[Le],Le,Qe)!==!1;);return G}}(b),lr=function(i){return function(o,G,_e){for(var Ze=-1,Le=Object(o),Qe=_e(o),dt=Qe.length;dt--;){var kt=Qe[i?dt:++Ze];if(G(Le[kt],kt,Le)===!1)break}return o}}(),An=z;(Ke&&An(new Ke(new ArrayBuffer(1)))!=hn||at&&An(new at)!=Tn||ot&&An(ot.resolve())!="[object Promise]"||bt&&An(new bt)!=Dn||xt&&An(new xt)!="[object WeakMap]")&&(An=function(i){var o=W.call(i),G=o==Nt?i.constructor:void 0,_e=G?We(G):void 0;if(_e)switch(_e){case Qt:return hn;case an:return Tn;case gn:return"[object Promise]";case Mn:return Dn;case Rn:return"[object WeakMap]"}return o});var Yn=vt(function(i){i=$t(i);var o=[];return Ot.test(i)&&o.push(""),i.replace(cn,function(G,_e,Ze,Le){o.push(Ze?Le.replace(Fe,"$1"):_e||G)}),o});vt.Cache=ve;var xn=Array.isArray,Yt=Xn?function(i){return function(o){return i(o)}}(Xn):q;ie.exports=it}).call(Te,je(0),je(5)(Ye))},function(Ye,Te,je){var ge=je(11),ie=je(25),s=ge.update,A=ge.evaluate,U=je(9),S=U.domEach,p=U.cloneDom,k=U.isHtml,d=Array.prototype.slice,j={flatten:je(102),bind:je(24),forEach:je(16)};Te._makeDomArray=function(c,m){return c==null?[]:c.cheerio?m?p(c.get(),c.options):c.get():Array.isArray(c)?j.flatten(c.map(function(w){return this._makeDomArray(w,m)},this)):typeof c=="string"?A(c,this.options):m?p([c]):[c]};var _=function(c){return function(){var m=d.call(arguments),w=this.length-1;return S(this,function(E,Z){var Q,J;J=typeof m[0]=="function"?m[0].call(Z,E,ie.html(Z.children)):m,Q=this._makeDomArray(J,E<w),c(Q,Z.children,Z)})}},f=function(c,m,w,E,Z){var Q,J,te,X,V,se=[m,w].concat(E),ve=c[m-1]||null,ue=c[m]||null;for(Q=0,J=E.length;Q<J;++Q)X=E[Q],V=X.parent||X.root,te=V&&V.children.indexOf(E[Q]),V&&te>-1&&(V.children.splice(te,1),Z===V&&m>te&&se[0]--),X.root=null,X.parent=Z,X.prev&&(X.prev.next=X.next||null),X.next&&(X.next.prev=X.prev||null),X.prev=E[Q-1]||ve,X.next=E[Q+1]||ue;return ve&&(ve.next=E[0]),ue&&(ue.prev=E[E.length-1]),c.splice.apply(c,se)};Te.appendTo=function(c){return c.cheerio||(c=this.constructor.call(this.constructor,c,null,this._originalRoot)),c.append(this),this},Te.prependTo=function(c){return c.cheerio||(c=this.constructor.call(this.constructor,c,null,this._originalRoot)),c.prepend(this),this},Te.append=_(function(c,m,w){f(m,m.length,0,c,w)}),Te.prepend=_(function(c,m,w){f(m,0,0,c,w)}),Te.wrap=function(c){var m=typeof c=="function"&&c,w=this.length-1;return j.forEach(this,j.bind(function(E,Z){var Q,J,te=E.parent||E.root,X=te.children;te&&(m&&(c=m.call(E,Z)),typeof c!="string"||k(c)||(c=this.parents().last().find(c).clone()),Q=this._makeDomArray(c,Z<w).slice(0,1),J=X.indexOf(E),s([E],Q[0]),f(X,J,0,Q,te))},this)),this},Te.after=function(){var c=d.call(arguments),m=this.length-1;return S(this,function(w,E){var Z=E.parent||E.root;if(Z){var Q,J,te=Z.children,X=te.indexOf(E);X<0||(Q=typeof c[0]=="function"?c[0].call(E,w,ie.html(E.children)):c,J=this._makeDomArray(Q,w<m),f(te,X+1,0,J,Z))}}),this},Te.insertAfter=function(c){var m=[],w=this;return typeof c=="string"&&(c=this.constructor.call(this.constructor,c,null,this._originalRoot)),c=this._makeDomArray(c),w.remove(),S(c,function(E,Z){var Q=w._makeDomArray(w.clone()),J=Z.parent||Z.root;if(J){var te=J.children,X=te.indexOf(Z);X<0||(f(te,X+1,0,Q,J),m.push(Q))}}),this.constructor.call(this.constructor,this._makeDomArray(m))},Te.before=function(){var c=d.call(arguments),m=this.length-1;return S(this,function(w,E){var Z=E.parent||E.root;if(Z){var Q,J,te=Z.children,X=te.indexOf(E);X<0||(Q=typeof c[0]=="function"?c[0].call(E,w,ie.html(E.children)):c,J=this._makeDomArray(Q,w<m),f(te,X,0,J,Z))}}),this},Te.insertBefore=function(c){var m=[],w=this;return typeof c=="string"&&(c=this.constructor.call(this.constructor,c,null,this._originalRoot)),c=this._makeDomArray(c),w.remove(),S(c,function(E,Z){var Q=w._makeDomArray(w.clone()),J=Z.parent||Z.root;if(J){var te=J.children,X=te.indexOf(Z);X<0||(f(te,X,0,Q,J),m.push(Q))}}),this.constructor.call(this.constructor,this._makeDomArray(m))},Te.remove=function(c){var m=this;return c&&(m=m.filter(c)),S(m,function(w,E){var Z=E.parent||E.root;if(Z){var Q=Z.children,J=Q.indexOf(E);J<0||(Q.splice(J,1),E.prev&&(E.prev.next=E.next),E.next&&(E.next.prev=E.prev),E.prev=E.next=E.parent=E.root=null)}}),this},Te.replaceWith=function(c){var m=this;return S(this,function(w,E){var Z=E.parent||E.root;if(Z){var Q,J=Z.children,te=m._makeDomArray(typeof c=="function"?c.call(E,w,E):c);s(te,null),Q=J.indexOf(E),f(J,Q,1,te,Z),E.parent=E.prev=E.next=E.root=null}}),this},Te.empty=function(){return S(this,function(c,m){j.forEach(m.children,function(w){w.next=w.prev=w.parent=null}),m.children.length=0}),this},Te.html=function(c){if(c===void 0)return this[0]&&this[0].children?ie.html(this[0].children,this.options):null;var m=this.options;return S(this,function(w,E){j.forEach(E.children,function(Q){Q.next=Q.prev=Q.parent=null});var Z=c.cheerio?c.clone().get():A(""+c,m);s(Z,E)}),this},Te.toString=function(){return ie.html(this,this.options)},Te.text=function(c){return c===void 0?ie.text(this):typeof c=="function"?S(this,function(m,w){var E=[w];return Te.text.call(E,c.call(w,m,ie.text(E)))}):(S(this,function(m,w){j.forEach(w.children,function(E){E.next=E.prev=E.parent=null}),s({data:""+c,type:"text",parent:w,prev:null,next:null,children:[]},w)}),this)},Te.clone=function(){return this._make(p(this.get(),this.options))}},function(Ye,Te,je){(function(ge){function ie(L,F){for(var re=-1,ne=F.length,H=L.length;++re<ne;)L[H+re]=F[re];return L}function s(L,F,re,ne,H){var Y=-1,l=L.length;for(re||(re=A),H||(H=[]);++Y<l;){var y=L[Y];F>0&&re(y)?F>1?s(y,F-1,re,ne,H):ie(H,y):ne||(H[H.length]=y)}return H}function A(L){return M(L)||S(L)||!!(ue&&L&&L[ue])}function U(L){return L&&L.length?s(L,1):[]}function S(L){return k(L)&&X.call(L,"callee")&&(!ve.call(L,"callee")||V.call(L)==m)}function p(L){return L!=null&&j(L.length)&&!d(L)}function k(L){return f(L)&&p(L)}function d(L){var F=_(L)?V.call(L):"";return F==w||F==E}function j(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=c}function _(L){var F=typeof L;return!!L&&(F=="object"||F=="function")}function f(L){return!!L&&typeof L=="object"}var c=9007199254740991,m="[object Arguments]",w="[object Function]",E="[object GeneratorFunction]",Z=typeof ge=="object"&&ge&&ge.Object===Object&&ge,Q=typeof self=="object"&&self&&self.Object===Object&&self,J=Z||Q||Function("return this")(),te=Object.prototype,X=te.hasOwnProperty,V=te.toString,se=J.Symbol,ve=te.propertyIsEnumerable,ue=se?se.isConcatSpreadable:void 0,M=Array.isArray;Ye.exports=U}).call(Te,je(0))},function(Ye,Te,je){function ge(k,d,j,_){if(typeof d=="string"){var f=ie(k);typeof j=="function"&&(j=j.call(k,_,f[d])),j===""?delete f[d]:j!=null&&(f[d]=j),k.attribs.style=s(f)}else typeof d=="object"&&Object.keys(d).forEach(function(c){ge(k,c,d[c])})}function ie(k,d){var j=A(k.attribs.style);return typeof d=="string"?j[d]:Array.isArray(d)?S.pick(j,d):j}function s(k){return Object.keys(k||{}).reduce(function(d,j){return d+=(d?" ":"")+j+": "+k[j]+";"},"")}function A(k){return k=(k||"").trim(),k?k.split(";").reduce(function(d,j){var _=j.indexOf(":");return _<1||_===j.length-1||(d[j.slice(0,_).trim()]=j.slice(_+1).trim()),d},{}):{}}var U=je(9).domEach,S={pick:je(104)},p=Object.prototype.toString;Te.css=function(k,d){return arguments.length===2||p.call(k)==="[object Object]"?U(this,function(j,_){ge(_,k,d,j)}):ie(this[0],k)}},function(Ye,Te,je){(function(ge){function ie(v,$,ae){switch(ae.length){case 0:return v.call($);case 1:return v.call($,ae[0]);case 2:return v.call($,ae[0],ae[1]);case 3:return v.call($,ae[0],ae[1],ae[2])}return v.apply($,ae)}function s(v,$){for(var ae=-1,K=v?v.length:0,N=Array(K);++ae<K;)N[ae]=$(v[ae],ae,v);return N}function A(v,$){for(var ae=-1,K=$.length,N=v.length;++ae<K;)v[N+ae]=$[ae];return v}function U(v,$,ae,K,N){var b=-1,h=v.length;for(ae||(ae=k),N||(N=[]);++b<h;){var z=v[b];$>0&&ae(z)?$>1?U(z,$-1,ae,K,N):A(N,z):K||(N[N.length]=z)}return N}function S(v,$){return v=Object(v),p(v,$,function(ae,K){return K in v})}function p(v,$,ae){for(var K=-1,N=$.length,b={};++K<N;){var h=$[K],z=v[h];ae(z,h)&&(b[h]=z)}return b}function k(v){return y(v)||j(v)||!!(Y&&v&&v[Y])}function d(v){if(typeof v=="string"||Z(v))return v;var $=v+"";return $=="0"&&1/v==-Q?"-0":$}function j(v){return f(v)&&F.call(v,"callee")&&(!H.call(v,"callee")||re.call(v)==te)}function _(v){return v!=null&&m(v.length)&&!c(v)}function f(v){return E(v)&&_(v)}function c(v){var $=w(v)?re.call(v):"";return $==X||$==V}function m(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=J}function w(v){var $=typeof v;return!!v&&($=="object"||$=="function")}function E(v){return!!v&&typeof v=="object"}function Z(v){return typeof v=="symbol"||E(v)&&re.call(v)==se}var Q=1/0,J=9007199254740991,te="[object Arguments]",X="[object Function]",V="[object GeneratorFunction]",se="[object Symbol]",ve=typeof ge=="object"&&ge&&ge.Object===Object&&ge,ue=typeof self=="object"&&self&&self.Object===Object&&self,M=ve||ue||Function("return this")(),L=Object.prototype,F=L.hasOwnProperty,re=L.toString,ne=M.Symbol,H=L.propertyIsEnumerable,Y=ne?ne.isConcatSpreadable:void 0,l=Math.max,y=Array.isArray,g=function(v,$){return $=l($===void 0?v.length-1:$,0),function(){for(var ae=arguments,K=-1,N=l(ae.length-$,0),b=Array(N);++K<N;)b[K]=ae[$+K];K=-1;for(var h=Array($+1);++K<$;)h[K]=ae[K];return h[$]=b,ie(v,this,h)}}(function(v,$){return v==null?{}:S(v,s(U($,1),d))});Ye.exports=g}).call(Te,je(0))},function(Ye,Te,je){var ge=/%20/g,ie=/\r?\n/g,s={map:je(106)};Te.serialize=function(){var A=this.serializeArray();return s.map(A,function(U){return encodeURIComponent(U.name)+"="+encodeURIComponent(U.value)}).join("&").replace(ge,"+")},Te.serializeArray=function(){var A=this.constructor;return this.map(function(){var U=this,S=A(U);return U.name==="form"?S.find("input,select,textarea,keygen").toArray():S.filter("input,select,textarea,keygen").toArray()}).filter('[name!=""]:not(:disabled):not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(function(U,S){var p=A(S),k=p.attr("name"),d=p.val();return d==null?null:Array.isArray(d)?s.map(d,function(j){return{name:k,value:j.replace(ie,`\r
`)}}):{name:k,value:d.replace(ie,`\r
`)}}).get()}},function(Ye,Te,je){(function(ge,ie){function s(i,o){for(var G=-1,_e=i?i.length:0,Ze=Array(_e);++G<_e;)Ze[G]=o(i[G],G,i);return Ze}function A(i,o){for(var G=-1,_e=i?i.length:0;++G<_e;)if(o(i[G],G,i))return!0;return!1}function U(i){return function(o){return o==null?void 0:o[i]}}function S(i,o){for(var G=-1,_e=Array(i);++G<i;)_e[G]=o(G);return _e}function p(i,o){return i==null?void 0:i[o]}function k(i){var o=!1;if(i!=null&&typeof i.toString!="function")try{o=!!(i+"")}catch{}return o}function d(i){var o=-1,G=Array(i.size);return i.forEach(function(_e,Ze){G[++o]=[Ze,_e]}),G}function j(i){var o=-1,G=Array(i.size);return i.forEach(function(_e){G[++o]=_e}),G}function _(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var _e=i[o];this.set(_e[0],_e[1])}}function f(){this.__data__=Dt?Dt(null):{}}function c(i){return this.has(i)&&delete this.__data__[i]}function m(i){var o=this.__data__;if(Dt){var G=o[i];return G===Ct?void 0:G}return O.call(o,i)?o[i]:void 0}function w(i){var o=this.__data__;return Dt?o[i]!==void 0:O.call(o,i)}function E(i,o){return this.__data__[i]=Dt&&o===void 0?Ct:o,this}function Z(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var _e=i[o];this.set(_e[0],_e[1])}}function Q(){this.__data__=[]}function J(i){var o=this.__data__,G=K(o,i);return!(G<0)&&(G==o.length-1?o.pop():De.call(o,G,1),!0)}function te(i){var o=this.__data__,G=K(o,i);return G<0?void 0:o[G][1]}function X(i){return K(this.__data__,i)>-1}function V(i,o){var G=this.__data__,_e=K(G,i);return _e<0?G.push([i,o]):G[_e][1]=o,this}function se(i){var o=-1,G=i?i.length:0;for(this.clear();++o<G;){var _e=i[o];this.set(_e[0],_e[1])}}function ve(){this.__data__={hash:new _,map:new(at||Z),string:new _}}function ue(i){return xe(this,i).delete(i)}function M(i){return xe(this,i).get(i)}function L(i){return xe(this,i).has(i)}function F(i,o){return xe(this,i).set(i,o),this}function re(i){var o=-1,G=i?i.length:0;for(this.__data__=new se;++o<G;)this.add(i[o])}function ne(i){return this.__data__.set(i,Ct),this}function H(i){return this.__data__.has(i)}function Y(i){this.__data__=new Z(i)}function l(){this.__data__=new Z}function y(i){return this.__data__.delete(i)}function g(i){return this.__data__.get(i)}function v(i){return this.__data__.has(i)}function $(i,o){var G=this.__data__;if(G instanceof Z){var _e=G.__data__;if(!at||_e.length<$e-1)return _e.push([i,o]),this;G=this.__data__=new se(_e)}return G.set(i,o),this}function ae(i,o){var G=xn(i)||tn(i)?S(i.length,String):[],_e=G.length,Ze=!!_e;for(var Le in i)!o&&!O.call(i,Le)||Ze&&(Le=="length"||gt(Le,_e))||G.push(Le);return G}function K(i,o){for(var G=i.length;G--;)if(jt(i[G][0],o))return G;return-1}function N(i,o){return i&&lr(i,o,en)}function b(i,o){o=ct(o,i)?[o]:de(o);for(var G=0,_e=o.length;i!=null&&G<_e;)i=i[Ne(o[G++])];return G&&G==_e?i:void 0}function h(i){return W.call(i)}function z(i,o){return i!=null&&o in Object(i)}function R(i,o,G,_e,Ze){return i===o||(i==null||o==null||!yt(i)&&!ht(o)?i!==i&&o!==o:T(i,o,R,G,_e,Ze))}function T(i,o,G,_e,Ze,Le){var Qe=xn(i),dt=xn(o),kt=dn,Pt=dn;Qe||(kt=An(i),kt=kt==nn?Nt:kt),dt||(Pt=An(o),Pt=Pt==nn?Nt:Pt);var Tt=kt==Nt&&!k(i),Jt=Pt==Nt&&!k(o),Xt=kt==Pt;if(Xt&&!Tt)return Le||(Le=new Y),Qe||Yt(i)?Oe(i,o,G,_e,Ze,Le):we(i,o,kt,G,_e,Ze,Le);if(!(Ze&Mt)){var Kt=Tt&&O.call(i,"__wrapped__"),mn=Jt&&O.call(o,"__wrapped__");if(Kt||mn){var Pn=Kt?i.value():i,Fn=mn?o.value():o;return Le||(Le=new Y),G(Pn,Fn,_e,Ze,Le)}}return!!Xt&&(Le||(Le=new Y),Se(i,o,G,_e,Ze,Le))}function P(i,o,G,_e){var Ze=G.length,Le=Ze,Qe=!_e;if(i==null)return!Le;for(i=Object(i);Ze--;){var dt=G[Ze];if(Qe&&dt[2]?dt[1]!==i[dt[0]]:!(dt[0]in i))return!1}for(;++Ze<Le;){dt=G[Ze];var kt=dt[0],Pt=i[kt],Tt=dt[1];if(Qe&&dt[2]){if(Pt===void 0&&!(kt in i))return!1}else{var Jt=new Y;if(_e)var Xt=_e(Pt,Tt,kt,i,o,Jt);if(!(Xt===void 0?R(Tt,Pt,_e,Zt|Mt,Jt):Xt))return!1}}return!0}function u(i){return!(!yt(i)||Lt(i))&&(ut(i)||k(i)?ce:mt).test(We(i))}function ee(i){return ht(i)&&At(i.length)&&!!rt[W.call(i)]}function q(i){return typeof i=="function"?i:i==null?Zn:typeof i=="object"?xn(i)?be(i[0],i[1]):le(i):qe(i)}function C(i){if(!Ft(i))return Be(i);var o=[];for(var G in Object(i))O.call(i,G)&&G!="constructor"&&o.push(G);return o}function D(i,o){var G=-1,_e=Ve(i)?Array(i.length):[];return Jn(i,function(Ze,Le,Qe){_e[++G]=o(Ze,Le,Qe)}),_e}function le(i){var o=Ie(i);return o.length==1&&o[0][2]?Ee(o[0][0],o[0][1]):function(G){return G===i||P(G,i,o)}}function be(i,o){return ct(i)&&ze(o)?Ee(Ne(i),o):function(G){var _e=un(G,i);return _e===void 0&&_e===o?kn(G,i):R(o,_e,void 0,Zt|Mt)}}function I(i){return function(o){return b(o,i)}}function oe(i){if(typeof i=="string")return i;if(Ut(i))return Un?Un.call(i):"";var o=i+"";return o=="0"&&1/i==-Ht?"-0":o}function de(i){return xn(i)?i:Yn(i)}function Oe(i,o,G,_e,Ze,Le){var Qe=Ze&Mt,dt=i.length,kt=o.length;if(dt!=kt&&!(Qe&&kt>dt))return!1;var Pt=Le.get(i);if(Pt&&Le.get(o))return Pt==o;var Tt=-1,Jt=!0,Xt=Ze&Zt?new re:void 0;for(Le.set(i,o),Le.set(o,i);++Tt<dt;){var Kt=i[Tt],mn=o[Tt];if(_e)var Pn=Qe?_e(mn,Kt,Tt,o,i,Le):_e(Kt,mn,Tt,i,o,Le);if(Pn!==void 0){if(Pn)continue;Jt=!1;break}if(Xt){if(!A(o,function(Fn,Hn){if(!Xt.has(Hn)&&(Kt===Fn||G(Kt,Fn,_e,Ze,Le)))return Xt.add(Hn)})){Jt=!1;break}}else if(Kt!==mn&&!G(Kt,mn,_e,Ze,Le)){Jt=!1;break}}return Le.delete(i),Le.delete(o),Jt}function we(i,o,G,_e,Ze,Le,Qe){switch(G){case hn:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case Wt:return!(i.byteLength!=o.byteLength||!_e(new fe(i),new fe(o)));case ln:case bn:case qn:return jt(+i,+o);case wn:return i.name==o.name&&i.message==o.message;case Rt:case Bn:return i==o+"";case Tn:var dt=d;case Dn:var kt=Le&Mt;if(dt||(dt=j),i.size!=o.size&&!kt)return!1;var Pt=Qe.get(i);if(Pt)return Pt==o;Le|=Zt,Qe.set(i,o);var Tt=Oe(dt(i),dt(o),_e,Ze,Le,Qe);return Qe.delete(i),Tt;case Nn:if(On)return On.call(i)==On.call(o)}return!1}function Se(i,o,G,_e,Ze,Le){var Qe=Ze&Mt,dt=en(i),kt=dt.length;if(kt!=en(o).length&&!Qe)return!1;for(var Pt=kt;Pt--;){var Tt=dt[Pt];if(!(Qe?Tt in o:O.call(o,Tt)))return!1}var Jt=Le.get(i);if(Jt&&Le.get(o))return Jt==o;var Xt=!0;Le.set(i,o),Le.set(o,i);for(var Kt=Qe;++Pt<kt;){Tt=dt[Pt];var mn=i[Tt],Pn=o[Tt];if(_e)var Fn=Qe?_e(Pn,mn,Tt,o,i,Le):_e(mn,Pn,Tt,i,o,Le);if(!(Fn===void 0?mn===Pn||G(mn,Pn,_e,Ze,Le):Fn)){Xt=!1;break}Kt||(Kt=Tt=="constructor")}if(Xt&&!Kt){var Hn=i.constructor,Qn=o.constructor;Hn!=Qn&&"constructor"in i&&"constructor"in o&&!(typeof Hn=="function"&&Hn instanceof Hn&&typeof Qn=="function"&&Qn instanceof Qn)&&(Xt=!1)}return Le.delete(i),Le.delete(o),Xt}function xe(i,o){var G=i.__data__;return Bt(o)?G[typeof o=="string"?"string":"hash"]:G.map}function Ie(i){for(var o=en(i),G=o.length;G--;){var _e=o[G],Ze=i[_e];o[G]=[_e,Ze,ze(Ze)]}return o}function Xe(i,o){var G=p(i,o);return u(G)?G:void 0}function tt(i,o,G){o=ct(o,i)?[o]:de(o);for(var _e,Ze=-1,Qe=o.length;++Ze<Qe;){var Le=Ne(o[Ze]);if(!(_e=i!=null&&G(i,Le)))break;i=i[Le]}if(_e)return _e;var Qe=i?i.length:0;return!!Qe&&At(Qe)&&gt(Le,Qe)&&(xn(i)||tn(i))}function gt(i,o){return!!(o=o==null?Gt:o)&&(typeof i=="number"||It.test(i))&&i>-1&&i%1==0&&i<o}function ct(i,o){if(xn(i))return!1;var G=typeof i;return!(G!="number"&&G!="symbol"&&G!="boolean"&&i!=null&&!Ut(i))||sr.test(i)||!on.test(i)||o!=null&&i in Object(o)}function Bt(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function Lt(i){return!!he&&he in i}function Ft(i){var o=i&&i.constructor;return i===(typeof o=="function"&&o.prototype||In)}function ze(i){return i===i&&!yt(i)}function Ee(i,o){return function(G){return G!=null&&G[i]===o&&(o!==void 0||i in Object(G))}}function Ne(i){if(typeof i=="string"||Ut(i))return i;var o=i+"";return o=="0"&&1/i==-Ht?"-0":o}function We(i){if(i!=null){try{return ye.call(i)}catch{}try{return i+""}catch{}}return""}function it(i,o){return(xn(i)?s:D)(i,q(o))}function vt(i,o){if(typeof i!="function"||o&&typeof o!="function")throw new TypeError(ft);var G=function(){var _e=arguments,Ze=o?o.apply(this,_e):_e[0],Le=G.cache;if(Le.has(Ze))return Le.get(Ze);var Qe=i.apply(this,_e);return G.cache=Le.set(Ze,Qe),Qe};return G.cache=new(vt.Cache||se),G}function jt(i,o){return i===o||i!==i&&o!==o}function tn(i){return et(i)&&O.call(i,"callee")&&(!ke.call(i,"callee")||W.call(i)==nn)}function Ve(i){return i!=null&&At(i.length)&&!ut(i)}function et(i){return ht(i)&&Ve(i)}function ut(i){var o=yt(i)?W.call(i):"";return o==Cn||o==Sn}function At(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Gt}function yt(i){var o=typeof i;return!!i&&(o=="object"||o=="function")}function ht(i){return!!i&&typeof i=="object"}function Ut(i){return typeof i=="symbol"||ht(i)&&W.call(i)==Nn}function $t(i){return i==null?"":oe(i)}function un(i,o,G){var _e=i==null?void 0:b(i,o);return _e===void 0?G:_e}function kn(i,o){return i!=null&&tt(i,o,z)}function en(i){return Ve(i)?ae(i):C(i)}function Zn(i){return i}function qe(i){return ct(i)?U(Ne(i)):I(i)}var $e=200,ft="Expected a function",Ct="__lodash_hash_undefined__",Zt=1,Mt=2,Ht=1/0,Gt=9007199254740991,nn="[object Arguments]",dn="[object Array]",ln="[object Boolean]",bn="[object Date]",wn="[object Error]",Cn="[object Function]",Sn="[object GeneratorFunction]",Tn="[object Map]",qn="[object Number]",Nt="[object Object]",Rt="[object RegExp]",Dn="[object Set]",Bn="[object String]",Nn="[object Symbol]",Wt="[object ArrayBuffer]",hn="[object DataView]",on=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sr=/^\w*$/,Ot=/^\./,cn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Me=/[\\^$.*+?()[\]{}|]/g,Fe=/\\(\\)?/g,mt=/^\[object .+?Constructor\]$/,It=/^(?:0|[1-9]\d*)$/,rt={};rt["[object Float32Array]"]=rt["[object Float64Array]"]=rt["[object Int8Array]"]=rt["[object Int16Array]"]=rt["[object Int32Array]"]=rt["[object Uint8Array]"]=rt["[object Uint8ClampedArray]"]=rt["[object Uint16Array]"]=rt["[object Uint32Array]"]=!0,rt[nn]=rt[dn]=rt[Wt]=rt[ln]=rt[hn]=rt[bn]=rt[wn]=rt[Cn]=rt[Tn]=rt[qn]=rt[Nt]=rt[Rt]=rt[Dn]=rt[Bn]=rt["[object WeakMap]"]=!1;var _t=typeof ge=="object"&&ge&&ge.Object===Object&&ge,jn=typeof self=="object"&&self&&self.Object===Object&&self,fn=_t||jn||Function("return this")(),En=typeof Te=="object"&&Te&&!Te.nodeType&&Te,$n=En&&typeof ie=="object"&&ie&&!ie.nodeType&&ie,nr=$n&&$n.exports===En,er=nr&&_t.process,Kn=function(){try{return er&&er.binding("util")}catch{}}(),Xn=Kn&&Kn.isTypedArray,Wn=Array.prototype,zn=Function.prototype,In=Object.prototype,Gn=fn["__core-js_shared__"],he=function(){var i=/[^.]+$/.exec(Gn&&Gn.keys&&Gn.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),ye=zn.toString,O=In.hasOwnProperty,W=In.toString,ce=RegExp("^"+ye.call(O).replace(Me,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=fn.Symbol,fe=fn.Uint8Array,ke=In.propertyIsEnumerable,De=Wn.splice,Be=function(i,o){return function(G){return i(o(G))}}(Object.keys,Object),Ke=Xe(fn,"DataView"),at=Xe(fn,"Map"),ot=Xe(fn,"Promise"),bt=Xe(fn,"Set"),xt=Xe(fn,"WeakMap"),Dt=Xe(Object,"create"),Qt=We(Ke),an=We(at),gn=We(ot),Mn=We(bt),Rn=We(xt),sn=x?x.prototype:void 0,On=sn?sn.valueOf:void 0,Un=sn?sn.toString:void 0;_.prototype.clear=f,_.prototype.delete=c,_.prototype.get=m,_.prototype.has=w,_.prototype.set=E,Z.prototype.clear=Q,Z.prototype.delete=J,Z.prototype.get=te,Z.prototype.has=X,Z.prototype.set=V,se.prototype.clear=ve,se.prototype.delete=ue,se.prototype.get=M,se.prototype.has=L,se.prototype.set=F,re.prototype.add=re.prototype.push=ne,re.prototype.has=H,Y.prototype.clear=l,Y.prototype.delete=y,Y.prototype.get=g,Y.prototype.has=v,Y.prototype.set=$;var Jn=function(i,o){return function(G,_e){if(G==null)return G;if(!Ve(G))return i(G,_e);for(var Ze=G.length,Le=o?Ze:-1,Qe=Object(G);(o?Le--:++Le<Ze)&&_e(Qe[Le],Le,Qe)!==!1;);return G}}(N),lr=function(i){return function(o,G,_e){for(var Ze=-1,Le=Object(o),Qe=_e(o),dt=Qe.length;dt--;){var kt=Qe[i?dt:++Ze];if(G(Le[kt],kt,Le)===!1)break}return o}}(),An=h;(Ke&&An(new Ke(new ArrayBuffer(1)))!=hn||at&&An(new at)!=Tn||ot&&An(ot.resolve())!="[object Promise]"||bt&&An(new bt)!=Dn||xt&&An(new xt)!="[object WeakMap]")&&(An=function(i){var o=W.call(i),G=o==Nt?i.constructor:void 0,_e=G?We(G):void 0;if(_e)switch(_e){case Qt:return hn;case an:return Tn;case gn:return"[object Promise]";case Mn:return Dn;case Rn:return"[object WeakMap]"}return o});var Yn=vt(function(i){i=$t(i);var o=[];return Ot.test(i)&&o.push(""),i.replace(cn,function(G,_e,Ze,Le){o.push(Ze?Le.replace(Fe,"$1"):_e||G)}),o});vt.Cache=se;var xn=Array.isArray,Yt=Xn?function(i){return function(o){return i(o)}}(Xn):ee;ie.exports=it}).call(Te,je(0),je(5)(Ye))},function(Ye,Te){Ye.exports={_args:[["cheerio@0.22.0","/Users/arturarseniev/Sites/grapesjs-preset-newsletter"]],_from:"cheerio@0.22.0",_id:"cheerio@0.22.0",_inBundle:!1,_integrity:"sha1-qbqoYKP5tZWmuBsahocxIe06Jp4=",_location:"/cheerio",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"cheerio@0.22.0",name:"cheerio",escapedName:"cheerio",rawSpec:"0.22.0",saveSpec:null,fetchSpec:"0.22.0"},_requiredBy:["/juice"],_resolved:"https://registry.npmjs.org/cheerio/-/cheerio-0.22.0.tgz",_spec:"0.22.0",_where:"/Users/arturarseniev/Sites/grapesjs-preset-newsletter",author:{name:"Matt Mueller",email:"mattmuelle@gmail.com",url:"mat.io"},bugs:{url:"https://github.com/cheeriojs/cheerio/issues"},dependencies:{"css-select":"~1.2.0","dom-serializer":"~0.1.0",entities:"~1.1.1",htmlparser2:"^3.9.1","lodash.assignin":"^4.0.9","lodash.bind":"^4.1.4","lodash.defaults":"^4.0.1","lodash.filter":"^4.4.0","lodash.flatten":"^4.2.0","lodash.foreach":"^4.3.0","lodash.map":"^4.4.0","lodash.merge":"^4.4.0","lodash.pick":"^4.2.1","lodash.reduce":"^4.4.0","lodash.reject":"^4.4.0","lodash.some":"^4.4.0"},description:"Tiny, fast, and elegant implementation of core jQuery designed specifically for the server",devDependencies:{benchmark:"^2.1.0",coveralls:"^2.11.9","expect.js":"~0.3.1",istanbul:"^0.4.3",jquery:"^3.0.0",jsdom:"^9.2.1",jshint:"^2.9.2",mocha:"^2.5.3",xyz:"~0.5.0"},engines:{node:">= 0.6"},files:["index.js","lib"],homepage:"https://github.com/cheeriojs/cheerio#readme",keywords:["htmlparser","jquery","selector","scraper","parser","html"],license:"MIT",main:"./index.js",name:"cheerio",repository:{type:"git",url:"git://github.com/cheeriojs/cheerio.git"},scripts:{test:"make test"},version:"0.22.0"}},function(Ye,Te,je){Ye.exports={lex:je(45),parse:je(109),stringify:je(110)}},function(Ye,Te,je){function ge(X,V){V||(V={}),Z=!!V.comments,J=!!V.position,Q=0,te=Array.isArray(X)?X.slice():E(X);var se,ve,ue=[];for(w;ve=s();)(se=_(ve))&&ue.push(se);return{type:"stylesheet",stylesheet:{rules:ue}}}function ie(X,V){V||(V={});for(var se,ve=["type","name","value"],ue={},M=0;M<ve.length;++M)se=ve[M],X[se]&&(ue[se]=V[se]||X[se]);for(ve=Object.keys(V),M=0;M<ve.length;++M)se=ve[M],ue[se]||(ue[se]=V[se]);return J&&(ue.position={start:X.start,end:X.end}),ue}function s(){var X=te.shift();return X}function A(X){Q+=1;var V={};switch(X.type){case"font-face":case"viewport":V.declarations=c();break;case"page":V.prefix=X.prefix,V.declarations=c();break;default:V.prefix=X.prefix,V.rules=m()}return ie(X,V)}function U(X){return ie(X)}function S(X){return ie(X)}function p(X){return ie(X,{text:X.text})}function k(X){return ie(X)}function d(X){return ie(X)}function j(X){function V(se){return se.trim()}return ie(X,{type:"rule",selectors:X.text.split(",").map(V),declarations:c()})}function _(X){switch(X.type){case"property":return d(X);case"selector":return j(X);case"at-group-end":return void(Q-=1);case"media":case"keyframes":return A(X);case"comment":if(Z)return p(X);break;case"charset":return S(X);case"import":return U(X);case"namespace":return k(X);case"font-face":case"supports":case"viewport":case"document":case"page":return A(X)}}function f(X){for(var V,se,ve=[];(se=s())&&X&&X(se);)(V=_(se))&&ve.push(V);return se&&se.type!=="end"&&te.unshift(se),ve}function c(){return f(function(X){return X.type==="property"||X.type==="comment"})}function m(){return f(function(){return Q})}var w=!1;je(28)("parse");var E=je(45);Ye.exports=ge;var Z,Q,J,te},function(Ye,Te,je){function ge(Q,J){J||(J={}),w=J.indentation||"",m=!!J.compress,c=!!J.comments,m?E=Z="":(E=`
`,Z=" ");var te=p(Q.stylesheet.rules,_).join(`
`).trim();return te}function ie(Q){return this.level||(this.level=1),Q?void(this.level+=Q):m?"":Array(this.level).join(w||"")}function s(Q){return"@"+Q.type+" "+Q.value+";"+E}function A(Q){var J="",te=Q.prefix||"";Q.name&&(J=" "+Q.name);var X=Q.type!=="page";return"@"+te+Q.type+J+Z+k(Q,X)+E}function U(Q){return c?"/*"+(Q.text||"")+"*/"+E:""}function S(Q){var J;return Q.selectors?J=Q.selectors.join(","+E):(J="@"+Q.type,J+=Q.name?" "+Q.name:""),ie()+J+Z+k(Q)+E}function p(Q,J){return Q.reduce(function(te,X){var V=X.type==="comment"?U(X):J(X);return V&&te.push(V),te},[])}function k(Q,J){var te=Q.declarations,X=j;return Q.rules&&(te=Q.rules,X=S),te=d(te,X),te&&(te=E+te+(J?"":E)),"{"+te+ie()+"}"}function d(Q,J){if(!Q)return"";ie(1);var te=p(Q,J);return ie(-1),te.length?te.join(E):""}function j(Q){if(Q.type==="property")return f(Q)}function _(Q){switch(Q.type){case"rule":return S(Q);case"media":case"keyframes":return A(Q);case"comment":return U(Q);case"import":case"charset":case"namespace":return s(Q);case"font-face":case"supports":case"viewport":case"document":case"page":return A(Q)}}function f(Q){var J=Q.name?Q.name+":"+Z:"";return ie()+J+Q.value+";"}var c,m,w,E,Z;je(28)("stringify"),Ye.exports=ge},function(Ye,Te,je){function ge(A,U){this.text=A,this.spec=void 0,this.styleAttribute=U||!1}function ie(A){try{return s(A)[0]}catch{return[]}}var s=je(112);Ye.exports=ge,ge.prototype.parsed=function(){return this.tokens||(this.tokens=ie(this.text)),this.tokens},ge.prototype.specificity=function(){function A(S,p){for(var k=p||ie(S),d=[U?1:0,0,0,0],j=[],_=0;_<k.length;_++){var f=k[_],c=f.pseudos;if(f.id&&d[1]++,f.attributes&&(d[2]+=f.attributes.length),f.classList&&(d[2]+=f.classList.length),f.tag&&f.tag!=="*"&&d[3]++,c){d[3]+=c.length;for(var m=0;m<c.length;m++)c[m].name==="not"&&(j.push(c[m].value),d[3]--)}}for(var w=j.length;w--;)for(var E=A(j[w]),Z=4;Z--;)d[Z]+=E[Z];return d}var U=this.styleAttribute;return this.spec||(this.spec=A(this.text,this.parsed())),this.spec}},function(Ye,Te,je){var ge=/([-.*+?^${}()|[\]\/\\])/g,ie=/\\/g,s=function(f){return(f+"").replace(ge,"\\$1")},A=function(f){return(f+"").replace(ie,"")},U=RegExp(`^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:(["']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:(["'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)`.replace(/<combinator>/,"["+s(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")),S=function(f){this.combinator=f||" ",this.tag="*"};S.prototype.toString=function(){if(!this.raw){var f,c,m="";if(m+=this.tag||"*",this.id&&(m+="#"+this.id),this.classes&&(m+="."+this.classList.join(".")),this.attributes)for(f=0;c=this.attributes[f++];)m+="["+c.name+(c.operator?c.operator+'"'+c.value+'"':"")+"]";if(this.pseudos)for(f=0;c=this.pseudos[f++];)m+=":"+c.name,c.value&&(m+="("+c.value+")");this.raw=m}return this.raw};var p=function(){this.length=0};p.prototype.toString=function(){if(!this.raw){for(var f,c="",m=0;f=this[m++];)m!==1&&(c+=" "),f.combinator!==" "&&(c+=f.combinator+" "),c+=f;this.raw=c}return this.raw};var k=function(f,c,m,w,E,Z,Q,J,te,X,V,se,ve,ue,M,L){var F,re;if((c||!this.length)&&(F=this[this.length++]=new p,c))return"";if(F||(F=this[this.length-1]),(m||w||!F.length)&&(re=F[F.length++]=new S(m)),re||(re=F[F.length-1]),E)re.tag=A(E);else if(Z)re.id=A(Z);else if(Q){var ne=A(Q),H=re.classes||(re.classes={});if(!H[ne]){H[ne]=s(Q);var Y=re.classList||(re.classList=[]);Y.push(ne),Y.sort()}}else ve?(L=L||M,(re.pseudos||(re.pseudos=[])).push({type:se.length==1?"class":"element",name:A(ve),escapedName:s(ve),value:L?A(L):null,escapedValue:L?s(L):null})):J&&(V=V?s(V):null,(re.attributes||(re.attributes=[])).push({operator:te,name:A(J),escapedName:s(J),value:V?A(V):null,escapedValue:V?s(V):null}));return""},d=function(f){this.length=0;for(var c,m=this,w=f;f;){if((c=f.replace(U,function(){return k.apply(m,arguments)}))===f)throw new Error(w+" is an invalid expression");f=c}};d.prototype.toString=function(){if(!this.raw){for(var f,c=[],m=0;f=this[m++];)c.push(f);this.raw=c.join(", ")}return this.raw};var j={},_=function(f){return f==null?null:(f=(""+f).replace(/^\s+|\s+$/g,""),j[f]||(j[f]=new d(f)))};Ye.exports=_},function(Ye,Te,je){function ge(s,A,U,S,p){this.prop=s,this.value=A,this.selector=U,this.priority=S||0,this.additionalPriority=p||[]}Ye.exports=ge;var ie=je(27);ge.prototype.compareFunc=function(s){var A=[];A.push.apply(A,this.selector.specificity()),A.push.apply(A,this.additionalPriority),A[0]+=this.priority;var U=[];return U.push.apply(U,s.selector.specificity()),U.push.apply(U,s.additionalPriority),U[0]+=s.priority,ie.compareFunc(A,U)},ge.prototype.compare=function(s){return this.compareFunc(s)===1?this:s},ge.prototype.toString=function(){return this.prop+": "+this.value.replace(/['"]+/g,"")+";"}},function(Ye,Te,je){var ge=je(27);Ye.exports=function(ie){function s(_,f,c){function m(ue){for(var M=ue[0],L=ue[1],F=new ge.Selector(M),re=F.parsed(),ne=U(re),H=0;H<re.length;++H){var Y=re[H];if(Y.pseudos)for(var l=0;l<Y.pseudos.length;++l){var y=Y.pseudos[l];if(ie.ignoredPseudos.indexOf(y.name)>=0)return}}if(ne){var g=re[re.length-1],v=g.pseudos;g.pseudos=p(g.pseudos),M=re.toString(),g.pseudos=v}var $;try{$=_(M)}catch{return}$.each(function(){function ae(z,R){for(var T=0,P=z.length;T<P;T++)if(z[T].type=="property"){var u=z[T].name,ee=z[T].value,q=z[T].value.match(/!important$/)!==null;q&&!c.preserveImportant&&(ee=ee.replace(/\s*!important$/,""));var C=[z[T].position.start.line,z[T].position.start.col],D=new ge.Property(u,ee,R,q?2:0,C),le=K.styleProps[u];ie.excludedProperties.indexOf(u)<0&&(le&&le.compare(D)===D||!le)&&(le&&le.selector!==R?delete K.styleProps[u]:le&&(D.nextProp=le),K.styleProps[u]=D)}}var K=this;if(!(K.name&&ie.nonVisualElements.indexOf(K.name.toUpperCase())>=0)){if(ne){var N="pseudo"+ne,b=K[N];b||(b=K[N]=_("<span />").get(0),b.pseudoElementType=ne,b.pseudoElementParent=K,K[N]=b),K=b}if(!K.styleProps){if(K.styleProps={},_(K).attr(V)){var h="* { "+_(K).attr(V)+" } ";ae(ge.parseCSS(h)[0][1],new ge.Selector("<style>",!0))}X.push(K)}ae(L,F)}})}function w(ue){var M=(Object.keys(ue.styleProps).length,[]);Object.keys(ue.styleProps).forEach(function(F){for(var re=ue.styleProps[F];re!==void 0;)M.push(re),re=re.nextProp}),M.sort(function(F,re){return F.compareFunc(re)});var L=M.filter(function(F){return F.prop!=="content"}).map(function(F){return F.prop+": "+F.value.replace(/["]/g,"'")+";"}).join(" ");L&&_(ue).attr(V,L)}function E(ue){if(ue.pseudoElementType&&ue.styleProps.content){var M=A(ue.styleProps.content.value);M.img?(ue.name="img",_(ue).attr("src",M.img)):_(ue).text(M);var L=ue.pseudoElementParent;ue.pseudoElementType==="before"?_(L).prepend(ue):_(L).append(ue)}}function Z(ue,M){if(ue.name){var L=ue.name.toUpperCase();if(ie[M+"Elements"].indexOf(L)>-1){for(var F in ue.styleProps)if(ue.styleProps[F].prop===M){if(ue.styleProps[F].value.match(/px/)){var re=ue.styleProps[F].value.replace("px","");return void _(ue).attr(M,re)}if(ie.tableElements.indexOf(L)>-1&&ue.styleProps[F].value.match(/\%/))return void _(ue).attr(M,ue.styleProps[F].value)}}}}function Q(ue){return ue.indexOf("url(")!==0?ue:ue.replace(/^url\((["'])?([^"']+)\1\)$/,"$2")}function J(ue){if(ue.name){var M=ue.name.toUpperCase(),L=Object.keys(ie.styleToAttribute);if(ie.tableElements.indexOf(M)>-1){for(var F in ue.styleProps)if(L.indexOf(ue.styleProps[F].prop)>-1){var re=ie.styleToAttribute[ue.styleProps[F].prop],ne=ue.styleProps[F].value;re==="background"&&(ne=Q(ne)),_(ue).attr(re,ne)}}}}c=c||{};var te=ge.parseCSS(f),X=[],V="style";if(c.styleAttributeName&&(V=c.styleAttributeName),te.forEach(m),X.forEach(w),c.inlinePseudoElements&&X.forEach(E),c.applyWidthAttributes&&X.forEach(function(ue){Z(ue,"width")}),c.applyHeightAttributes&&X.forEach(function(ue){Z(ue,"height")}),c.applyAttributesTableElements&&X.forEach(J),c.insertPreservedExtraCss&&c.extraCss){var se=ge.getPreservedText(c.extraCss,{mediaQueries:c.preserveMediaQueries,fontFaces:c.preserveFontFaces});if(se){var ve=null;c.insertPreservedExtraCss!==!0?ve=_(c.insertPreservedExtraCss):(ve=_("head"),ve.length||(ve=_("body")),ve.length||(ve=_.root())),ve.first().append("<style>"+se+"</style>")}}}function A(_){if(_==="none"||_==="normal")return"";var f=_.match(/^\s*url\s*\(\s*(.*?)\s*\)\s*$/i);return f?{img:f[1].replace(/^['"]|['"]$/g,"")}:(_=_.slice(1,_.length-1),_=_.replace(/\\/g,""))}function U(_){if(_.length!==0){var f=_[_.length-1].pseudos;if(f){for(var c=0;c<f.length;c++)if(S(f[c]))return f[c].name}}}function S(_){return _.name==="before"||_.name==="after"}function p(_){return _.filter(function(f){return!S(f)})}function k(_,f){f=ge.getDefaultOptions(f);var c=j(_,f);return c+=`
`+f.extraCss,s(_,c,f),_}function d(_,f){var c,m,w,E=[],Z=_("style");return Z.each(function(){if(w=this,c=w.childNodes,c.length===1){if(m=c[0].data,f.applyStyleTags&&_(w).attr("data-embed")===void 0&&E.push(m),f.removeStyleTags&&_(w).attr("data-embed")===void 0){var Q=ge.getPreservedText(w.childNodes[0].nodeValue,{mediaQueries:f.preserveMediaQueries,fontFaces:f.preserveFontFaces});Q?w.childNodes[0].nodeValue=Q:_(w).remove()}_(w).removeAttr("data-embed")}}),E}function j(_,f){return d(_,f).join(`
`)}return ie.ignoredPseudos=["hover","active","focus","visited","link"],ie.widthElements=["TABLE","TD","IMG"],ie.heightElements=["TABLE","TD","IMG"],ie.tableElements=["TABLE","TD","TH","TR","TD","CAPTION","COLGROUP","COL","THEAD","TBODY","TFOOT"],ie.nonVisualElements=["HEAD","TITLE","BASE","LINK","STYLE","META","SCRIPT","NOSCRIPT"],ie.styleToAttribute={"background-color":"bgcolor","background-image":"background","text-align":"align","vertical-align":"valign"},ie.excludedProperties=[],ie.juiceDocument=k,ie.inlineDocument=s,ie}},function(Ye,Te,je){var ge;(ge=function(){return function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s="",A="",U=ie.editor,S=ie.tableStyle||{},p=ie.cellStyle||{},k=U.BlockManager;for(var d in S)s+=d+": "+S[d]+"; ";for(var j in p)A+=j+": "+p[j]+"; ";k.getAll().reset(),k.add("sect100",{label:ie.sect100BlkLabel,category:ie.categoryLabel,attributes:{class:"gjs-fonts gjs-f-b1"},content:'<table style="'+s+`">
        <tr>
          <td style="`+A+`"></td>
        </tr>
        </table>`}),k.add("sect50",{label:ie.sect50BlkLabel,category:ie.categoryLabel,attributes:{class:"gjs-fonts gjs-f-b2"},content:'<table style="'+s+`">
        <tr>
          <td style="`+A+` width: 50%"></td>
          <td style="`+A+` width: 50%"></td>
        </tr>
        </table>`}),k.add("sect30",{label:ie.sect30BlkLabel,category:ie.categoryLabel,attributes:{class:"gjs-fonts gjs-f-b3"},content:'<table style="'+s+`">
        <tr>
          <td style="`+A+` width: 33.3333%"></td>
          <td style="`+A+` width: 33.3333%"></td>
          <td style="`+A+` width: 33.3333%"></td>
        </tr>
        </table>`}),k.add("sect37",{label:ie.sect37BlkLabel,category:ie.categoryLabel,attributes:{class:"gjs-fonts gjs-f-b37"},content:'<table style="'+s+`">
        <tr>
          <td style="`+A+` width:30%"></td>
          <td style="`+A+` width:70%"></td>
        </tr>
        </table>`}),k.add("button",{label:ie.buttonBlkLabel,category:ie.categoryLabel,content:'<a class="button">Button</a>',attributes:{class:"gjs-fonts gjs-f-button"}}),k.add("divider",{label:ie.dividerBlkLabel,category:ie.categoryLabel,content:`<table style="width: 100%; margin-top: 10px; margin-bottom: 10px;">
        <tr>
          <td class="divider"></td>
        </tr>
      </table>
      <style>
      .divider {
        background-color: rgba(0, 0, 0, 0.1);
        height: 1px;
      }
      </style>`,attributes:{class:"gjs-fonts gjs-f-divider"}}),k.add("text",{label:ie.textBlkLabel,category:ie.categoryLabel,attributes:{class:"gjs-fonts gjs-f-text"},content:{type:"text",content:"Insert your text here",style:{padding:"10px"},activeOnRender:1}}),k.add("text-sect",{label:ie.textSectionBlkLabel,category:ie.categoryLabel,content:'<h1 class="heading">Insert title here</h1><p class="paragraph">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>',attributes:{class:"gjs-fonts gjs-f-h1p"}}),k.add("image",{label:ie.imageBlkLabel,category:ie.categoryLabel,attributes:{class:"gjs-fonts gjs-f-image"},content:{type:"image",style:{color:"black"},activeOnRender:1}}),k.add("quote",{label:ie.quoteBlkLabel,category:ie.categoryLabel,content:'<blockquote class="quote">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit</blockquote>',attributes:{class:"fa fa-quote-right"}}),k.add("link",{label:ie.linkBlkLabel,category:ie.categoryLabel,attributes:{class:"fa fa-link"},content:{type:"link",content:"Link",style:{color:"#3b97e3"}}}),k.add("link-block",{label:ie.linkBlockBlkLabel,category:ie.categoryLabel,attributes:{class:"fa fa-link"},content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}});var _=`<table class="grid-item-card">
        <tr>
          <td class="grid-item-card-cell">
            <img class="grid-item-image" src="http://placehold.it/250x150/78c5d6/fff/" alt="Image"/>
            <table class="grid-item-card-body">
              <tr>
                <td class="grid-item-card-content">
                  <h1 class="card-title">Title here</h1>
                  <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>`;k.add("grid-items",{label:ie.gridItemsBlkLabel,category:ie.categoryLabel,content:`<table class="grid-item-row">
        <tr>
          <td class="grid-item-cell2-l">`+_+`</td>
          <td class="grid-item-cell2-r">`+_+`</td>
        </tr>
      </table>`,attributes:{class:"fa fa-th"}});var f=`<table class="list-item">
        <tr>
          <td class="list-item-cell">
            <table class="list-item-content">
              <tr class="list-item-row">
                <td class="list-cell-left">
                  <img class="list-item-image" src="http://placehold.it/150x150/78c5d6/fff/" alt="Image"/>
                </td>
                <td class="list-cell-right">
                  <h1 class="card-title">Title here</h1>
                  <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>`;k.add("list-items",{label:ie.listItemsBlkLabel,category:ie.categoryLabel,content:f+f,attributes:{class:"fa fa-th-list"}})}}.call(Te,je,Te,Ye))!==void 0&&(Ye.exports=ge)},function(Ye,Te,je){function ge(s,A,U){return A in s?Object.defineProperty(s,A,{value:U,enumerable:!0,configurable:!0,writable:!0}):s[A]=U,s}var ie;(ie=function(){var s=function(A){A.each(function(U){var S=U.get("attributes");S["data-tooltip-pos"]="bottom",U.set("attributes",S)})};return function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=A.editor,S=U.Panels,p=S.getPanel("options");if(S.addButton("options",{id:A.cmdOpenImport,className:"fa fa-download",command:A.cmdOpenImport,attributes:ge({},"title",A.modalTitleImport)}),S.addButton("options",{id:A.cmdTglImages,className:"fa fa-warning",command:A.cmdTglImages,attributes:ge({},"title",A.cmtTglImagesLabel)}),p){var k=p.get("buttons");k.each(function(m){var w=m.get("attributes");w["data-tooltip-pos"]="bottom",m.set("attributes",w)});var d=S.addButton("options","preview");d&&k.remove(d)}var j=S.getPanel("commands");if(j){var _=j.get("buttons");_.reset(),_.add([{id:"undo",className:"fa fa-undo",command:"undo",attributes:ge({},"title",A.cmdBtnUndoLabel)},{id:"redo",className:"fa fa-repeat",command:"redo",attributes:ge({},"title",A.cmdBtnRedoLabel)}]),s(_)}U.getConfig().showDevices=0;var f=S.addPanel({id:"devices-c"}),c=f.get("buttons");f.get("buttons").add([{id:"deviceDesktop",command:"set-device-desktop",className:"fa fa-desktop",attributes:ge({},"title",A.cmdBtnDesktopLabel),active:1},{id:"deviceTablet",command:"set-device-tablet",className:"fa fa-tablet",attributes:ge({},"title",A.cmdBtnTabletLabel)},{id:"deviceMobile",command:"set-device-mobile",className:"fa fa-mobile",attributes:ge({},"title",A.cmdBtnMobileLabel)}]),s(c)}}.call(Te,je,Te,Ye))!==void 0&&(Ye.exports=ie)},function(Ye,Te,je){var ge;(ge=function(){return function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=ie.editor,A=s.StyleManager.getSectors();s.on("load",function(){A.reset(),A.add(ie.styleManagerSectors)})}}.call(Te,je,Te,Ye))!==void 0&&(Ye.exports=ge)}])})})(Bc);let Oa;const Qs=(ir,Rr)=>{let Ir=Rr.docId;const Ye=el(ka,"newsletters");let Te=Bo(Ye,Ir);Oa=async je=>{Ir=je,Te=Bo(Ye,Ir),await ir.load({})},ir.StorageManager.add("firestore",{changeDocId:Oa,async load(){const je=await xc(Te);return je.exists()?je.data():{}},async store(je){await _c(Te,je)}})},Fc=Oc({name:"NewsletterBuilder",components:{PublishInfoModal:Ac(()=>Dc(()=>import("./PublishInfoModal.f8bb3fa8.js"),["assets/PublishInfoModal.f8bb3fa8.js","assets/index.1e5e7c14.js","assets/index.6dcb645d.css"]))},setup(){let ir,Rr=jc(!1);const Ir=()=>Rr.value=!1;let Ye=()=>{ir.store(),Xs.displaySuccess("Successfully saved progress")};const Te={id:"latestUnfinished"},je={set:(s,A,U)=>{ir.StorageManager.isAutosave()!==(ge.id==="latestUnfinished")&&ir.StorageManager.setAutosave(ge.id==="latestUnfinished"),Oa(U).then(()=>(Xs.displaySuccess(`Changes will${ir.StorageManager.isAutosave()?" NOT":""} save automatically`),s[A]=U,!0))}},ge=new Proxy(Te,je);Cc(()=>{ir=Ic.init({container:"#gjs",plugins:["gjs-preset-newsletter",Qs],storageManager:{type:"firestore"},pluginsOpts:{[Qs]:{docId:ge.id}}})});function ie(s){Rc(ka,A=>{s.week=new Date(s.week),s.week.setDate(s.week.getDate()-s.week.getDay);const U=el(ka,"newsletters");Zc(U,{html:ir.Commands.run("gjs-get-inlined-html"),...s}),A.get(Bo(U,"template")).then(S=>{A.set(Bo(U,"latestUnfinished"),S.data())})})}return{selectedNewsletterProxy:ge,saveNewsletter:Ye,publishNewsletter:ie,isModalActive:Rr,closeModal:Ir}}}),zc={class:"container"},Vc={class:"buttons"},Uc={class:"select"},Hc=qr("option",{value:"template"},"Newsletter Template",-1),qc=qr("option",{value:"latestUnfinished"},"Latest Unpublished",-1),Wc=qr("option",{value:"anotherOption"},"option 2",-1),$c=[Hc,qc,Wc],Gc={class:"field"},Yc=qr("div",{class:"label"},null,-1),Kc={class:"control"},Jc=qr("div",{id:"gjs"},null,-1);function Xc(ir,Rr,Ir,Ye,Te,je){const ge=Lc("PublishInfoModal");return _a(),xa(Mc,null,[Sc(ge,{"publish-newsletter":ir.publishNewsletter,"close-modal":ir.closeModal,class:Pc({"is-active":ir.isModalActive})},null,8,["publish-newsletter","close-modal","class"]),qr("div",zc,[qr("div",Vc,[qr("div",Uc,[Tc(qr("select",{"onUpdate:modelValue":Rr[0]||(Rr[0]=ie=>ir.selectedNewsletterProxy.id=ie)},$c,512),[[Ec,ir.selectedNewsletterProxy.id]])]),qr("div",Gc,[Yc,qr("div",Kc,[ir.selectedNewsletterProxy.id==="latestUnfinished"?(_a(),xa("button",{key:0,class:"button",onClick:Rr[1]||(Rr[1]=ie=>ir.isModalActive=!0)}," Publish as... ")):(_a(),xa("button",{key:1,class:"button",onClick:Rr[2]||(Rr[2]=(...ie)=>ir.saveNewsletter&&ir.saveNewsletter(...ie))},"Save changes"))])])]),Jc])],64)}var eu=kc(Fc,[["render",Xc]]);export{eu as default};
